import{_ as u,u as d,o as m,c as p,a as e,w as i,v as o,p as _,d as f}from"./main-30b69a0d.js";const c={setup(){return{usersStore:d()}},data(){return{userId:this.$route.params.id,user:{}}},created(){this.getUser()},methods:{getUser(){fetch("/api/users/"+this.userId).then(function(r){return r.json()}).then(r=>this.user=r)},ValidateForm(){this.user.first_name==""||this.user.first_name==null?alert("Please add a first name."):this.user.last_name==""||this.user.last_name==null?alert("Please add a last name."):this.user.username==""||this.user.username==null?alert("Please add a username."):this.user.email==""||this.user.email==null?alert("Please add an email address."):this.Submit()},ValidateEmail(){/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(this.user.email)||alert("Please enter a valid email address")},Submit(){const r={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstname:this.user.first_name,lastname:this.user.last_name,username:this.user.username,email:this.user.email,password:this.user.password})};var s="/users/"+this.userId+"/edit";fetch(s,r).then(()=>{this.usersStore.getUsers(),this.$router.push("/")})}}},l=r=>(_("data-v-a18b70fd"),r=r(),f(),r),h={class:"container user-form mt-3"},b=l(()=>e("h1",null,"Edit User",-1)),v={class:"mb-3"},w=l(()=>e("label",{for:"firstname",class:"form-label"},"First name",-1)),U={class:"mb-3"},V=l(()=>e("label",{for:"lastname",class:"form-label"},"Last name",-1)),S={class:"mb-3"},y=l(()=>e("label",{class:"form-label"},"Username",-1)),x={class:"mb-3"},E=l(()=>e("label",{class:"form-label"},"Email address",-1)),I={class:"mb-3"},P=l(()=>e("label",{class:"form-label"},"Password",-1));function g(r,s,k,B,a,n){return m(),p("div",h,[b,e("div",v,[w,i(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>a.user.first_name=t),type:"text",class:"form-control"},null,512),[[o,a.user.first_name]])]),e("div",U,[V,i(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>a.user.last_name=t),type:"text",class:"form-control"},null,512),[[o,a.user.last_name]])]),e("div",S,[y,i(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>a.user.username=t),type:"text",class:"form-control"},null,512),[[o,a.user.username]])]),e("div",x,[E,i(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>a.user.email=t),type:"email",class:"form-control",onBlur:s[4]||(s[4]=(...t)=>n.ValidateEmail&&n.ValidateEmail(...t))},null,544),[[o,a.user.email]])]),e("div",I,[P,i(e("input",{"onUpdate:modelValue":s[5]||(s[5]=t=>a.user.password=t),type:"text",class:"form-control"},null,512),[[o,a.user.password]])]),e("button",{class:"btn btn-dark",onClick:s[6]||(s[6]=t=>n.ValidateForm())},"Submit")])}const T=u(c,[["render",g],["__scopeId","data-v-a18b70fd"]]);export{T as default};
