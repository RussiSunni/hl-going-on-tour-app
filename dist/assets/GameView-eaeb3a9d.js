import{_ as zt,g as Vt,o as bt,c as Dt,h as Ut,i as Yt,j as Gt,S as Wt,F as Ht,b as Kt,k as Zt,p as Jt,d as Qt,a as jt}from"./main-eaf72974.js";var $t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xt={exports:{}};(function(j,b){(function(V,K){j.exports=K()})($t,()=>(()=>{var z={6659:p=>{var S=Object.prototype.hasOwnProperty,t="~";function d(){}Object.create&&(d.prototype=Object.create(null),new d().__proto__||(t=!1));function v(e,s,h){this.fn=e,this.context=s,this.once=h||!1}function o(e,s,h,i,a){if(typeof h!="function")throw new TypeError("The listener must be a function");var u=new v(h,i||e,a),l=t?t+s:s;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],u]:e._events[l].push(u):(e._events[l]=u,e._eventsCount++),e}function r(e,s){--e._eventsCount===0?e._events=new d:delete e._events[s]}function n(){this._events=new d,this._eventsCount=0}n.prototype.eventNames=function(){var s=[],h,i;if(this._eventsCount===0)return s;for(i in h=this._events)S.call(h,i)&&s.push(t?i.slice(1):i);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(h)):s},n.prototype.listeners=function(s){var h=t?t+s:s,i=this._events[h];if(!i)return[];if(i.fn)return[i.fn];for(var a=0,u=i.length,l=new Array(u);a<u;a++)l[a]=i[a].fn;return l},n.prototype.listenerCount=function(s){var h=t?t+s:s,i=this._events[h];return i?i.fn?1:i.length:0},n.prototype.emit=function(s,h,i,a,u,l){var f=t?t+s:s;if(!this._events[f])return!1;var c=this._events[f],m=arguments.length,x,g;if(c.fn){switch(c.once&&this.removeListener(s,c.fn,void 0,!0),m){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,h),!0;case 3:return c.fn.call(c.context,h,i),!0;case 4:return c.fn.call(c.context,h,i,a),!0;case 5:return c.fn.call(c.context,h,i,a,u),!0;case 6:return c.fn.call(c.context,h,i,a,u,l),!0}for(g=1,x=new Array(m-1);g<m;g++)x[g-1]=arguments[g];c.fn.apply(c.context,x)}else{var y=c.length,T;for(g=0;g<y;g++)switch(c[g].once&&this.removeListener(s,c[g].fn,void 0,!0),m){case 1:c[g].fn.call(c[g].context);break;case 2:c[g].fn.call(c[g].context,h);break;case 3:c[g].fn.call(c[g].context,h,i);break;case 4:c[g].fn.call(c[g].context,h,i,a);break;default:if(!x)for(T=1,x=new Array(m-1);T<m;T++)x[T-1]=arguments[T];c[g].fn.apply(c[g].context,x)}}return!0},n.prototype.on=function(s,h,i){return o(this,s,h,i,!1)},n.prototype.once=function(s,h,i){return o(this,s,h,i,!0)},n.prototype.removeListener=function(s,h,i,a){var u=t?t+s:s;if(!this._events[u])return this;if(!h)return r(this,u),this;var l=this._events[u];if(l.fn)l.fn===h&&(!a||l.once)&&(!i||l.context===i)&&r(this,u);else{for(var f=0,c=[],m=l.length;f<m;f++)(l[f].fn!==h||a&&!l[f].once||i&&l[f].context!==i)&&c.push(l[f]);c.length?this._events[u]=c.length===1?c[0]:c:r(this,u)}return this},n.prototype.removeAllListeners=function(s){var h;return s?(h=t?t+s:s,this._events[h]&&r(this,h)):(this._events=new d,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prefixed=t,n.EventEmitter=n,p.exports=n},62270:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(82590),v=function(o,r,n,e){for(var s=o[0],h=1;h<o.length;h++){var i=o[h];d(i,s,r,n,e),s=i}return o};p.exports=v},61148:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(6124),v=function(o,r,n,e,s){return d(o,"angle",r,n,e,s)};p.exports=v},22015:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){for(var o=0;o<t.length;o++){var r=t[o];d.call(v,r)}return t};p.exports=S},31060:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){v===void 0&&(v=0);for(var o=v;o<t.length;o++){var r=t[o],n=!0;for(var e in d)r[e]!==d[e]&&(n=!1);if(n)return r}return null};p.exports=S},52367:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){v===void 0&&(v=0);for(var o=v;o<t.length;o++){var r=t[o],n=!0;for(var e in d)r[e]!==d[e]&&(n=!1);if(n)return r}return null};p.exports=S},12673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(40327),v=t(84093),o=t(72632),r=t(72283),n=t(71030),e=new n({sys:{queueDepthSort:r,events:{once:r}}},0,0,1,1).setOrigin(0,0),s=function(h,i){i===void 0&&(i={});var a=i.hasOwnProperty("width"),u=i.hasOwnProperty("height"),l=o(i,"width",-1),f=o(i,"height",-1),c=o(i,"cellWidth",1),m=o(i,"cellHeight",c),x=o(i,"position",v.TOP_LEFT),g=o(i,"x",0),y=o(i,"y",0),T=0,C=0,A=l*c,w=f*m;e.setPosition(g,y),e.setSize(c,m);for(var E=0;E<h.length;E++)if(d(h[E],e,x),a&&l===-1)e.x+=c;else if(u&&f===-1)e.y+=m;else if(u&&!a){if(C+=m,e.y+=m,C===w&&(C=0,T+=c,e.y=y,e.x+=c,T===A))break}else if(T+=c,e.x+=c,T===A&&(T=0,C+=m,e.x=g,e.y+=m,C===w))break;return h};p.exports=s},691:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(6124),v=function(o,r,n,e,s){return d(o,"alpha",r,n,e,s)};p.exports=v},3877:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(6124),v=function(o,r,n,e,s){return d(o,"x",r,n,e,s)};p.exports=v},71020:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(6124),v=function(o,r,n,e,s,h,i){return n==null&&(n=r),d(o,"x",r,e,h,i),d(o,"y",n,s,h,i)};p.exports=v},28970:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(6124),v=function(o,r,n,e,s){return d(o,"y",r,n,e,s)};p.exports=v},82249:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){v===void 0&&(v=0),o===void 0&&(o=6.28);for(var r=v,n=(o-v)/t.length,e=d.x,s=d.y,h=d.radius,i=0;i<t.length;i++)t[i].x=e+h*Math.cos(r),t[i].y=s+h*Math.sin(r),r+=n;return t};p.exports=S},30285:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){v===void 0&&(v=0),o===void 0&&(o=6.28);for(var r=v,n=(o-v)/t.length,e=d.width/2,s=d.height/2,h=0;h<t.length;h++)t[h].x=d.x+e*Math.cos(r),t[h].y=d.y+s*Math.sin(r),r+=n;return t};p.exports=S},61557:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(8570),v=function(o,r){for(var n=d(r,o.length),e=0;e<o.length;e++){var s=o[e],h=n[e];s.x=h.x,s.y=h.y}return o};p.exports=v},63549:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(40053),v=t(77640),o=t(38487),r=function(n,e,s){s===void 0&&(s=0);var h=d(e,!1,n.length);s>0?v(h,s):s<0&&o(h,Math.abs(s));for(var i=0;i<n.length;i++)n[i].x=h[i].x,n[i].y=h[i].y;return n};p.exports=r},51629:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(58813),v=function(o,r,n){var e=d({x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},n),s=d({x1:r.x2,y1:r.y2,x2:r.x3,y2:r.y3},n),h=d({x1:r.x3,y1:r.y3,x2:r.x1,y2:r.y1},n);e.pop(),s.pop(),h.pop(),e=e.concat(s,h);for(var i=e.length/o.length,a=0,u=0;u<o.length;u++){var l=o[u],f=e[Math.floor(a)];l.x=f.x,l.y=f.y,a+=i}return o};p.exports=v},1045:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){for(var o=0;o<t.length;o++){var r=t[o];r.anims&&r.anims.play(d,v)}return t};p.exports=S},6124:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o,r,n){o===void 0&&(o=0),r===void 0&&(r=0),n===void 0&&(n=1);var e,s=0,h=t.length;if(n===1)for(e=r;e<h;e++)t[e][d]+=v+s*o,s++;else for(e=r;e>=0;e--)t[e][d]+=v+s*o,s++;return t};p.exports=S},23646:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o,r,n){o===void 0&&(o=0),r===void 0&&(r=0),n===void 0&&(n=1);var e,s=0,h=t.length;if(n===1)for(e=r;e<h;e++)t[e][d]=v+s*o,s++;else for(e=r;e>=0;e--)t[e][d]=v+s*o,s++;return t};p.exports=S},4392:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(30977),v=function(o,r){for(var n=0;n<o.length;n++)d(r,o[n]);return o};p.exports=v},94985:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72006),v=function(o,r){for(var n=0;n<o.length;n++)d(r,o[n]);return o};p.exports=v},63305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(74077),v=function(o,r){for(var n=0;n<o.length;n++)d(r,o[n]);return o};p.exports=v},90739:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(30001),v=function(o,r){for(var n=0;n<o.length;n++)d(r,o[n]);return o};p.exports=v},91417:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(99761),v=function(o,r){for(var n=0;n<o.length;n++)d(r,o[n]);return o};p.exports=v},26182:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(6124),v=function(o,r,n,e,s){return d(o,"rotation",r,n,e,s)};p.exports=v},87299:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72395),v=t(53996),o=function(r,n,e){for(var s=n.x,h=n.y,i=0;i<r.length;i++){var a=r[i];d(a,s,h,e,Math.max(1,v(a.x,a.y,s,h)))}return r};p.exports=o},92194:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72395),v=function(o,r,n,e){var s=r.x,h=r.y;if(e===0)return o;for(var i=0;i<o.length;i++)d(o[i],s,h,n,e);return o};p.exports=v},30363:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(6124),v=function(o,r,n,e,s){return d(o,"scaleX",r,n,e,s)};p.exports=v},51449:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(6124),v=function(o,r,n,e,s,h,i){return n==null&&(n=r),d(o,"scaleX",r,e,h,i),d(o,"scaleY",n,s,h,i)};p.exports=v},64895:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(6124),v=function(o,r,n,e,s){return d(o,"scaleY",r,n,e,s)};p.exports=v},30329:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(23646),v=function(o,r,n,e,s){return d(o,"alpha",r,n,e,s)};p.exports=v},43954:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(23646),v=function(o,r,n,e){return d(o,"blendMode",r,0,n,e)};p.exports=v},70688:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(23646),v=function(o,r,n,e,s){return d(o,"depth",r,n,e,s)};p.exports=v},8314:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){for(var o=0;o<t.length;o++)t[o].setInteractive(d,v);return t};p.exports=S},12894:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(23646),v=function(o,r,n,e,s,h,i){return n==null&&(n=r),d(o,"originX",r,e,h,i),d(o,"originY",n,s,h,i),o.forEach(function(a){a.updateDisplayOrigin()}),o};p.exports=v},38767:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(23646),v=function(o,r,n,e,s){return d(o,"rotation",r,n,e,s)};p.exports=v},18584:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(23646),v=function(o,r,n,e,s,h,i){return n==null&&(n=r),d(o,"scaleX",r,e,h,i),d(o,"scaleY",n,s,h,i)};p.exports=v},17381:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(23646),v=function(o,r,n,e,s){return d(o,"scaleX",r,n,e,s)};p.exports=v},74370:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(23646),v=function(o,r,n,e,s){return d(o,"scaleY",r,n,e,s)};p.exports=v},27773:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(23646),v=function(o,r,n,e,s,h,i){return n==null&&(n=r),d(o,"scrollFactorX",r,e,h,i),d(o,"scrollFactorY",n,s,h,i)};p.exports=v},75257:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(23646),v=function(o,r,n,e,s){return d(o,"scrollFactorX",r,n,e,s)};p.exports=v},54512:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(23646),v=function(o,r,n,e,s){return d(o,"scrollFactorY",r,n,e,s)};p.exports=v},69423:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o,r){for(var n=0;n<t.length;n++)t[n].setTint(d,v,o,r);return t};p.exports=S},58291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(23646),v=function(o,r,n,e){return d(o,"visible",r,0,n,e)};p.exports=v},94833:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(23646),v=function(o,r,n,e,s){return d(o,"x",r,n,e,s)};p.exports=v},14284:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(23646),v=function(o,r,n,e,s,h,i){return n==null&&(n=r),d(o,"x",r,e,h,i),d(o,"y",n,s,h,i)};p.exports=v},96574:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(23646),v=function(o,r,n,e,s){return d(o,"y",r,n,e,s)};p.exports=v},74086:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(93736),v=function(o,r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=new d);var h,i,a=o.length;if(a===1)h=o[0].x,i=o[0].y,o[0].x=r,o[0].y=n;else{var u=1,l=0;e===0&&(l=a-1,u=a-2),h=o[l].x,i=o[l].y,o[l].x=r,o[l].y=n;for(var f=0;f<a;f++)if(!(u>=a||u===-1)){var c=o[u],m=c.x,x=c.y;c.x=h,c.y=i,h=m,i=x,e===0?u--:u++}}return s.x=h,s.y=i,s};p.exports=v},86347:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(18592),v=function(o){return d(o)};p.exports=v},1558:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(5514),v=function(o,r,n,e,s){s===void 0&&(s=!1);var h=Math.abs(e-n)/o.length,i;if(s)for(i=0;i<o.length;i++)o[i][r]+=d(i*h,n,e);else for(i=0;i<o.length;i++)o[i][r]=d(i*h,n,e);return o};p.exports=v},9938:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(87736),v=function(o,r,n,e,s){s===void 0&&(s=!1);var h=Math.abs(e-n)/o.length,i;if(s)for(i=0;i<o.length;i++)o[i][r]+=d(i*h,n,e);else for(i=0;i<o.length;i++)o[i][r]=d(i*h,n,e);return o};p.exports=v},71060:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o,r){if(r===void 0&&(r=!1),t.length===0)return t;if(t.length===1)return r?t[0][d]+=(o+v)/2:t[0][d]=(o+v)/2,t;var n=Math.abs(o-v)/(t.length-1),e;if(r)for(e=0;e<t.length;e++)t[e][d]+=e*n+v;else for(e=0;e<t.length;e++)t[e][d]=e*n+v;return t};p.exports=S},11207:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var d=0;d<t.length;d++)t[d].visible=!t[d].visible;return t};p.exports=S},24404:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(1071),v=function(o,r,n){n===void 0&&(n=0);for(var e=0;e<o.length;e++){var s=o[e];s.x=d(s.x,r.left-n,r.right+n),s.y=d(s.y,r.top-n,r.bottom+n)}return o};p.exports=v},83979:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AlignTo:t(62270),Angle:t(61148),Call:t(22015),GetFirst:t(31060),GetLast:t(52367),GridAlign:t(12673),IncAlpha:t(691),IncX:t(3877),IncXY:t(71020),IncY:t(28970),PlaceOnCircle:t(82249),PlaceOnEllipse:t(30285),PlaceOnLine:t(61557),PlaceOnRectangle:t(63549),PlaceOnTriangle:t(51629),PlayAnimation:t(1045),PropertyValueInc:t(6124),PropertyValueSet:t(23646),RandomCircle:t(4392),RandomEllipse:t(94985),RandomLine:t(63305),RandomRectangle:t(90739),RandomTriangle:t(91417),Rotate:t(26182),RotateAround:t(87299),RotateAroundDistance:t(92194),ScaleX:t(30363),ScaleXY:t(51449),ScaleY:t(64895),SetAlpha:t(30329),SetBlendMode:t(43954),SetDepth:t(70688),SetHitArea:t(8314),SetOrigin:t(12894),SetRotation:t(38767),SetScale:t(18584),SetScaleX:t(17381),SetScaleY:t(74370),SetScrollFactor:t(27773),SetScrollFactorX:t(75257),SetScrollFactorY:t(54512),SetTint:t(69423),SetVisible:t(58291),SetX:t(94833),SetXY:t(14284),SetY:t(96574),ShiftPosition:t(74086),Shuffle:t(86347),SmootherStep:t(9938),SmoothStep:t(1558),Spread:t(71060),ToggleVisible:t(11207),WrapInRectangle:t(24404)}},85463:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(82897),v=t(56694),o=t(16938),r=t(2406),n=t(71519),e=t(10850),s=t(28834),h=new v({initialize:function(a,u,l){this.manager=a,this.key=u,this.type="frame",this.frames=this.getFrames(a.textureManager,e(l,"frames",[]),e(l,"defaultTextureKey",null),e(l,"sortFrames",!0)),this.frameRate=e(l,"frameRate",null),this.duration=e(l,"duration",null),this.msPerFrame,this.skipMissedFrames=e(l,"skipMissedFrames",!0),this.delay=e(l,"delay",0),this.repeat=e(l,"repeat",0),this.repeatDelay=e(l,"repeatDelay",0),this.yoyo=e(l,"yoyo",!1),this.showBeforeDelay=e(l,"showBeforeDelay",!1),this.showOnStart=e(l,"showOnStart",!1),this.hideOnComplete=e(l,"hideOnComplete",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(o.PAUSE_ALL,this.pause,this),this.manager.on(o.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(i,a,u,l){u===null&&l===null?(i.frameRate=24,i.duration=24/a*1e3):u&&l===null?(i.duration=u,i.frameRate=a/(u/1e3)):(i.frameRate=l,i.duration=a/l*1e3),i.msPerFrame=1e3/i.frameRate},addFrame:function(i){return this.addFrameAt(this.frames.length,i)},addFrameAt:function(i,a){var u=this.getFrames(this.manager.textureManager,a);if(u.length>0){if(i===0)this.frames=u.concat(this.frames);else if(i===this.frames.length)this.frames=this.frames.concat(u);else{var l=this.frames.slice(0,i),f=this.frames.slice(i);this.frames=l.concat(u,f)}this.updateFrameSequence()}return this},checkFrame:function(i){return i>=0&&i<this.frames.length},getFirstTick:function(i){i.accumulator=0,i.nextTick=i.msPerFrame+i.currentFrame.duration},getFrameAt:function(i){return this.frames[i]},getFrames:function(i,a,u,l){l===void 0&&(l=!0);var f=[],c,m,x=1,g,y;if(typeof a=="string"){if(y=a,!i.exists(y))return console.warn('Texture "%s" not found',y),f;var T=i.get(y),C=T.getFrameNames();l&&s(C),a=[],C.forEach(function(R){a.push({key:y,frame:R})})}if(!Array.isArray(a)||a.length===0)return f;for(g=0;g<a.length;g++){var A=a[g],w=e(A,"key",u);if(w){var E=e(A,"frame",0),P=i.getFrame(w,E);if(!P){console.warn('Texture "%s" not found',w);continue}m=new n(w,E,x,P),m.duration=e(A,"duration",0),m.isFirst=!c,c&&(c.nextFrame=m,m.prevFrame=c),f.push(m),c=m,x++}}if(f.length>0){m.isLast=!0,m.nextFrame=f[0],f[0].prevFrame=m;var B=1/(f.length-1);for(g=0;g<f.length;g++)f[g].progress=g*B}return f},getNextTick:function(i){i.accumulator-=i.nextTick,i.nextTick=i.msPerFrame+i.currentFrame.duration},getFrameByProgress:function(i){return i=d(i,0,1),r(i,this.frames,"progress")},nextFrame:function(i){var a=i.currentFrame;a.isLast?i.yoyo?this.handleYoyoFrame(i,!1):i.repeatCounter>0?i.inReverse&&i.forward?i.forward=!1:this.repeatAnimation(i):i.complete():this.updateAndGetNextTick(i,a.nextFrame)},handleYoyoFrame:function(i,a){if(a||(a=!1),i.inReverse===!a&&i.repeatCounter>0){(i.repeatDelay===0||i.pendingRepeat)&&(i.forward=a),this.repeatAnimation(i);return}if(i.inReverse!==a&&i.repeatCounter===0){i.complete();return}i.forward=a;var u=a?i.currentFrame.nextFrame:i.currentFrame.prevFrame;this.updateAndGetNextTick(i,u)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(i){var a=i.currentFrame;a.isFirst?i.yoyo?this.handleYoyoFrame(i,!0):i.repeatCounter>0?i.inReverse&&!i.forward?this.repeatAnimation(i):(i.forward=!0,this.repeatAnimation(i)):i.complete():this.updateAndGetNextTick(i,a.prevFrame)},updateAndGetNextTick:function(i,a){i.setCurrentFrame(a),this.getNextTick(i)},removeFrame:function(i){var a=this.frames.indexOf(i);return a!==-1&&this.removeFrameAt(a),this},removeFrameAt:function(i){return this.frames.splice(i,1),this.updateFrameSequence(),this},repeatAnimation:function(i){if(i._pendingStop===2){if(i._pendingStopValue===0)return i.stop();i._pendingStopValue--}i.repeatDelay>0&&!i.pendingRepeat?(i.pendingRepeat=!0,i.accumulator-=i.nextTick,i.nextTick+=i.repeatDelay):(i.repeatCounter--,i.forward?i.setCurrentFrame(i.currentFrame.nextFrame):i.setCurrentFrame(i.currentFrame.prevFrame),i.isPlaying&&(this.getNextTick(i),i.handleRepeat()))},toJSON:function(){var i={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(a){i.frames.push(a.toJSON())}),i},updateFrameSequence:function(){for(var i=this.frames.length,a=1/(i-1),u,l=0;l<i;l++)u=this.frames[l],u.index=l+1,u.isFirst=!1,u.isLast=!1,u.progress=l*a,l===0?(u.isFirst=!0,i===1?(u.isLast=!0,u.nextFrame=u,u.prevFrame=u):(u.isLast=!1,u.prevFrame=this.frames[i-1],u.nextFrame=this.frames[l+1])):l===i-1&&i>1?(u.isLast=!0,u.prevFrame=this.frames[i-2],u.nextFrame=this.frames[0]):i>1&&(u.prevFrame=this.frames[l-1],u.nextFrame=this.frames[l+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(o.PAUSE_ALL,this.pause,this),this.manager.off(o.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var i=0;i<this.frames.length;i++)this.frames[i].destroy();this.frames=[],this.manager=null}});p.exports=h},71519:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=new d({initialize:function(r,n,e,s,h){h===void 0&&(h=!1),this.textureKey=r,this.textureFrame=n,this.index=e,this.frame=s,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=h},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});p.exports=v},90249:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(85463),v=t(56694),o=t(33885),r=t(6659),n=t(16938),e=t(97081),s=t(72632),h=t(10850),i=t(83392),a=t(13401),u=t(76400),l=new v({Extends:r,initialize:function(c){r.call(this),this.game=c,this.textureManager=null,this.globalTimeScale=1,this.anims=new o,this.mixes=new o,this.paused=!1,this.name="AnimationManager",c.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(f,c,m){var x=this.anims,g=this.mixes,y=typeof f=="string"?f:f.key,T=typeof c=="string"?c:c.key;if(x.has(y)&&x.has(T)){var C=g.get(y);C||(C={}),C[T]=m,g.set(y,C)}return this},removeMix:function(f,c){var m=this.mixes,x=typeof f=="string"?f:f.key,g=m.get(x);if(g)if(c){var y=typeof c=="string"?c:c.key;g.hasOwnProperty(y)&&delete g[y]}else c||m.delete(x);return this},getMix:function(f,c){var m=this.mixes,x=typeof f=="string"?f:f.key,g=typeof c=="string"?c:c.key,y=m.get(x);return y&&y.hasOwnProperty(g)?y[g]:0},add:function(f,c){return this.anims.has(f)?(console.warn("Animation key exists: "+f),this):(c.key=f,this.anims.set(f,c),this.emit(n.ADD_ANIMATION,f,c),this)},exists:function(f){return this.anims.has(f)},createFromAseprite:function(f,c,m){var x=[],g=this.game.cache.json.get(f);if(!g)return console.warn("No Aseprite data found for: "+f),x;var y=this,T=h(g,"meta",null),C=h(g,"frames",null);if(T&&C){var A=h(T,"frameTags",[]);A.forEach(function(w){var E=[],P=s(w,"name",null),B=s(w,"from",0),R=s(w,"to",0),I=s(w,"direction","forward");if(P&&(!c||c&&c.indexOf(P)>-1)){for(var N=0,X=B;X<=R;X++){var Y=X.toString(),O=C[Y];if(O){var D=s(O,"duration",i.MAX_SAFE_INTEGER);E.push({key:f,frame:Y,duration:D}),N+=D}}var F=N/E.length;E.forEach(function(G){G.duration-=F}),I==="reverse"&&(E=E.reverse());var M={key:P,frames:E,duration:N,yoyo:I==="pingpong"},L;m?m.anims&&(L=m.anims.create(M)):L=y.create(M),L&&x.push(L)}})}return x},create:function(f){var c=f.key,m=!1;return c&&(m=this.get(c),m?console.warn("AnimationManager key already exists: "+c):(m=new d(this,c,f),this.anims.set(c,m),this.emit(n.ADD_ANIMATION,c,m))),m},fromJSON:function(f,c){c===void 0&&(c=!1),c&&this.anims.clear(),typeof f=="string"&&(f=JSON.parse(f));var m=[];if(f.hasOwnProperty("anims")&&Array.isArray(f.anims)){for(var x=0;x<f.anims.length;x++)m.push(this.create(f.anims[x]));f.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=f.globalTimeScale)}else f.hasOwnProperty("key")&&f.type==="frame"&&m.push(this.create(f));return m},generateFrameNames:function(f,c){var m=h(c,"prefix",""),x=h(c,"start",0),g=h(c,"end",0),y=h(c,"suffix",""),T=h(c,"zeroPad",0),C=h(c,"outputArray",[]),A=h(c,"frames",!1);if(!this.textureManager.exists(f))return console.warn('Texture "%s" not found',f),C;var w=this.textureManager.get(f);if(!w)return C;var E;if(c)for(A||(A=a(x,g)),E=0;E<A.length;E++){var P=m+u(A[E],T,"0",1)+y;w.has(P)?C.push({key:f,frame:P}):console.warn('Frame "%s" not found in texture "%s"',P,f)}else for(A=w.getFrameNames(),E=0;E<A.length;E++)C.push({key:f,frame:A[E]});return C},generateFrameNumbers:function(f,c){var m=h(c,"start",0),x=h(c,"end",-1),g=h(c,"first",!1),y=h(c,"outputArray",[]),T=h(c,"frames",!1);if(!this.textureManager.exists(f))return console.warn('Texture "%s" not found',f),y;var C=this.textureManager.get(f);if(!C)return y;g&&C.has(g)&&y.push({key:f,frame:g}),T||(x===-1&&(x=C.frameTotal-2),T=a(m,x));for(var A=0;A<T.length;A++){var w=T[A];C.has(w)?y.push({key:f,frame:w}):console.warn('Frame "%s" not found in texture "%s"',w,f)}return y},get:function(f){return this.anims.get(f)},getAnimsFromTexture:function(f){for(var c=this.textureManager.get(f),m=c.key,x=this.anims.getArray(),g=[],y=0;y<x.length;y++)for(var T=x[y],C=T.frames,A=0;A<C.length;A++)if(C[A].textureKey===m){g.push(T.key);break}return g},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(n.PAUSE_ALL)),this},play:function(f,c){Array.isArray(c)||(c=[c]);for(var m=0;m<c.length;m++)c[m].anims.play(f);return this},staggerPlay:function(f,c,m,x){m===void 0&&(m=0),x===void 0&&(x=!0),Array.isArray(c)||(c=[c]);var g=c.length;x||g--;for(var y=0;y<c.length;y++){var T=m<0?Math.abs(m)*(g-y):m*y;c[y].anims.playAfterDelay(f,T)}return this},remove:function(f){var c=this.get(f);return c&&(this.emit(n.REMOVE_ANIMATION,f,c),this.anims.delete(f),this.removeMix(f)),c},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(n.RESUME_ALL)),this},toJSON:function(f){var c={anims:[],globalTimeScale:this.globalTimeScale};return f!==void 0&&f!==""?c.anims.push(this.anims.get(f).toJSON()):this.anims.each(function(m,x){c.anims.push(x.toJSON())}),c},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});p.exports=l},16569:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(33885),o=t(72632),r=t(16938),n=t(85463),e=new d({initialize:function(h){this.parent=h,this.animationManager=h.scene.sys.anims,this.animationManager.on(r.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(s){var h=this.parent;if(s===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,h;Array.isArray(s)||(s=[s]);for(var i=0;i<s.length;i++){var a=s[i];this.nextAnim?this.nextAnimsQueue.push(a):this.nextAnim=a}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(s){this.isPlaying&&this.stop();var h=this.animationManager,i=typeof s=="string"?s:o(s,"key",null),a=this.exists(i)?this.get(i):h.get(i);if(!a)console.warn("Missing animation: "+i);else{this.currentAnim=a;var u=a.getTotalFrames(),l=o(s,"frameRate",a.frameRate),f=o(s,"duration",a.duration);a.calculateDuration(this,u,f,l),this.delay=o(s,"delay",a.delay),this.repeat=o(s,"repeat",a.repeat),this.repeatDelay=o(s,"repeatDelay",a.repeatDelay),this.yoyo=o(s,"yoyo",a.yoyo),this.showBeforeDelay=o(s,"showBeforeDelay",a.showBeforeDelay),this.showOnStart=o(s,"showOnStart",a.showOnStart),this.hideOnComplete=o(s,"hideOnComplete",a.hideOnComplete),this.skipMissedFrames=o(s,"skipMissedFrames",a.skipMissedFrames),this.timeScale=o(s,"timeScale",this.timeScale);var c=o(s,"startFrame",0);c>a.getTotalFrames()&&(c=0);var m=a.frames[c];c===0&&!this.forward&&(m=a.getLastFrame()),this.currentFrame=m}return this.parent},pause:function(s){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),s!==void 0&&this.setCurrentFrame(s),this.parent},resume:function(s){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),s!==void 0&&this.setCurrentFrame(s),this.parent},playAfterDelay:function(s,h){if(!this.isPlaying)this.delayCounter=h,this.play(s,!0);else{var i=this.nextAnim,a=this.nextAnimsQueue;i&&a.unshift(i),this.nextAnim=s,this._pendingStop=1,this._pendingStopValue=h}return this.parent},playAfterRepeat:function(s,h){if(h===void 0&&(h=1),!this.isPlaying)this.play(s);else{var i=this.nextAnim,a=this.nextAnimsQueue;i&&a.unshift(i),this.repeatCounter!==-1&&h>this.repeatCounter&&(h=this.repeatCounter),this.nextAnim=s,this._pendingStop=2,this._pendingStopValue=h}return this.parent},play:function(s,h){h===void 0&&(h=!1);var i=this.currentAnim,a=this.parent,u=typeof s=="string"?s:s.key;if(h&&this.isPlaying&&i.key===u)return a;if(i&&this.isPlaying){var l=this.animationManager.getMix(i.key,s);if(l>0)return this.playAfterDelay(s,l)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(s)},playReverse:function(s,h){h===void 0&&(h=!1);var i=typeof s=="string"?s:s.key;return h&&this.isPlaying&&this.currentAnim.key===i?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(s))},startAnimation:function(s){this.load(s);var h=this.currentAnim,i=this.parent;return h&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,h.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),i},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(r.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(r.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(r.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(r.ANIMATION_COMPLETE,r.ANIMATION_COMPLETE_KEY)},emitEvents:function(s,h){var i=this.currentAnim;if(i){var a=this.currentFrame,u=this.parent,l=a.textureFrame;u.emit(s,i,a,u,l),h&&u.emit(h+i.key,i,a,u,l)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var s=this.currentFrame;if(!s)return 0;var h=s.progress;return this.inReverse&&(h*=-1),h},setProgress:function(s){return this.forward||(s=1-s),this.setCurrentFrame(this.currentAnim.getFrameByProgress(s)),this.parent},setRepeat:function(s){return this.repeatCounter=s===-1?Number.MAX_VALUE:s,this.parent},globalRemove:function(s,h){h===void 0&&(h=this.currentAnim),this.isPlaying&&h.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(s,h){s===void 0&&(s=!1),h===void 0&&(h=!1);var i=this.currentAnim,a=this.parent;return i?(h&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),i.getFirstTick(this),this.emitEvents(r.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!s,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(i.frames[0]),this.parent):a},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var s=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(s)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var s=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(s)}return this.parent},stopAfterDelay:function(s){return this._pendingStop=1,this._pendingStopValue=s,this.parent},stopAfterRepeat:function(s){return s===void 0&&(s=1),this.repeatCounter!==-1&&s>this.repeatCounter&&(s=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=s,this.parent},stopOnFrame:function(s){return this._pendingStop=3,this._pendingStopValue=s,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(s,h){var i=this.currentAnim;if(!(!this.isPlaying||!i||i.paused)){if(this.accumulator+=h*this.timeScale,this._pendingStop===1&&(this._pendingStopValue-=h,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?i.nextFrame(this):i.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var a=0;do this.forward?i.nextFrame(this):i.previousFrame(this),a++;while(this.isPlaying&&this.accumulator>this.nextTick&&a<60)}}},setCurrentFrame:function(s){var h=this.parent;return this.currentFrame=s,h.texture=s.frame.texture,h.frame=s.frame,h.isCropped&&h.frame.updateCropUVs(h._crop,h.flipX,h.flipY),s.setAlpha&&(h.alpha=s.alpha),h.setSizeToFrame(),h._originComponent&&(s.frame.customPivot?h.setOrigin(s.frame.pivotX,s.frame.pivotY):h.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(r.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===s&&this.stop()),h},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(s){return this.anims?this.anims.get(s):null},exists:function(s){return this.anims?this.anims.has(s):!1},create:function(s){var h=s.key,i=!1;return h&&(i=this.get(h),i?console.warn("Animation key already exists: "+h):(i=new n(this,h,s),this.anims||(this.anims=new v),this.anims.set(h,i))),i},createFromAseprite:function(s,h){return this.animationManager.createFromAseprite(s,h,this.parent)},generateFrameNames:function(s,h){return this.animationManager.generateFrameNames(s,h)},generateFrameNumbers:function(s,h){return this.animationManager.generateFrameNumbers(s,h)},remove:function(s){var h=this.get(s);return h&&(this.currentAnim===h&&this.stop(),this.anims.delete(s)),h},destroy:function(){this.animationManager.off(r.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});p.exports=e},44509:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},84563:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationcomplete"},61586:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationcomplete-"},72175:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationrepeat"},568:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationrestart"},37690:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationstart"},58525:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationstop"},5243:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationupdate"},10598:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pauseall"},4860:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},31865:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resumeall"},16938:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD_ANIMATION:t(44509),ANIMATION_COMPLETE:t(84563),ANIMATION_COMPLETE_KEY:t(61586),ANIMATION_REPEAT:t(72175),ANIMATION_RESTART:t(568),ANIMATION_START:t(37690),ANIMATION_STOP:t(58525),ANIMATION_UPDATE:t(5243),PAUSE_ALL:t(10598),REMOVE_ANIMATION:t(4860),RESUME_ALL:t(31865)}},13517:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Animation:t(85463),AnimationFrame:t(71519),AnimationManager:t(90249),AnimationState:t(16569),Events:t(16938)}},23740:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(33885),o=t(6659),r=t(69773),n=new d({initialize:function(){this.entries=new v,this.events=new o},add:function(e,s){return this.entries.set(e,s),this.events.emit(r.ADD,this,e,s),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var s=this.get(e);return s&&(this.entries.delete(e),this.events.emit(r.REMOVE,this,e,s.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});p.exports=n},43474:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(23740),v=t(56694),o=t(97081),r=new v({initialize:function(e){this.game=e,this.binary=new d,this.bitmapFont=new d,this.json=new d,this.physics=new d,this.shader=new d,this.audio=new d,this.video=new d,this.text=new d,this.html=new d,this.obj=new d,this.tilemap=new d,this.xml=new d,this.custom={},this.game.events.once(o.DESTROY,this.destroy,this)},addCustom:function(n){return this.custom.hasOwnProperty(n)||(this.custom[n]=new d),this.custom[n]},destroy:function(){for(var n=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<n.length;e++)this[n[e]].destroy(),this[n[e]]=null;for(var s in this.custom)this.custom[s].destroy();this.custom=null,this.game=null}});p.exports=r},94762:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},75968:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},69773:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(94762),REMOVE:t(75968)}},45820:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BaseCache:t(23740),CacheManager:t(43474),Events:t(69773)}},51052:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(64937),o=t(75606),r=t(6659),n=t(89787),e=t(74118),s=t(69360),h=t(93222),i=t(93736),a=new d({Extends:r,Mixins:[v.AlphaSingle,v.Visible],initialize:function(l,f,c,m){l===void 0&&(l=0),f===void 0&&(f=0),c===void 0&&(c=0),m===void 0&&(m=0),r.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=l,this._y=f,this._width=c,this._height=m,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new s,this.transparent=!0,this.backgroundColor=h("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new i(c/2,m/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(u){this.renderList.push(u)},setOrigin:function(u,l){return u===void 0&&(u=.5),l===void 0&&(l=u),this.originX=u,this.originY=l,this},getScroll:function(u,l,f){f===void 0&&(f=new i);var c=this.width*.5,m=this.height*.5;return f.x=u-c,f.y=l-m,this.useBounds&&(f.x=this.clampX(f.x),f.y=this.clampY(f.y)),f},centerOnX:function(u){var l=this.width*.5;return this.midPoint.x=u,this.scrollX=u-l,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(u){var l=this.height*.5;return this.midPoint.y=u,this.scrollY=u-l,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(u,l){return this.centerOnX(u),this.centerOnY(l),this},centerToBounds:function(){if(this.useBounds){var u=this._bounds,l=this.width*.5,f=this.height*.5;this.midPoint.set(u.centerX,u.centerY),this.scrollX=u.centerX-l,this.scrollY=u.centerY-f}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(u){if(this.disableCull)return u;var l=this.matrix.matrix,f=l[0],c=l[1],m=l[2],x=l[3],g=f*x-c*m;if(!g)return u;var y=l[4],T=l[5],C=this.scrollX,A=this.scrollY,w=this.width,E=this.height,P=this.y,B=P+E,R=this.x,I=R+w,N=this.culledObjects,X=u.length;g=1/g,N.length=0;for(var Y=0;Y<X;++Y){var O=u[Y];if(!O.hasOwnProperty("width")||O.parentContainer){N.push(O);continue}var D=O.width,F=O.height,M=O.x-C*O.scrollFactorX-D*O.originX,L=O.y-A*O.scrollFactorY-F*O.originY,G=M*f+L*m+y,U=M*c+L*x+T,W=(M+D)*f+(L+F)*m+y,H=(M+D)*c+(L+F)*x+T;W>R&&G<I&&H>P&&U<B&&N.push(O)}return N},getWorldPoint:function(u,l,f){f===void 0&&(f=new i);var c=this.matrix.matrix,m=c[0],x=c[1],g=c[2],y=c[3],T=c[4],C=c[5],A=m*y-x*g;if(!A)return f.x=u,f.y=l,f;A=1/A;var w=y*A,E=-x*A,P=-g*A,B=m*A,R=(g*C-y*T)*A,I=(x*T-m*C)*A,N=Math.cos(this.rotation),X=Math.sin(this.rotation),Y=this.zoomX,O=this.zoomY,D=this.scrollX,F=this.scrollY,M=u+(D*N-F*X)*Y,L=l+(D*X+F*N)*O;return f.x=M*w+L*P+R,f.y=M*E+L*B+I,f},ignore:function(u){var l=this.id;Array.isArray(u)||(u=[u]);for(var f=0;f<u.length;f++){var c=u[f];Array.isArray(c)?this.ignore(c):c.isParent?this.ignore(c.getChildren()):c.cameraFilter|=l}return this},preRender:function(){this.renderList.length=0;var u=this.width,l=this.height,f=u*.5,c=l*.5,m=this.zoomX,x=this.zoomY,g=this.matrix,y=u*this.originX,T=l*this.originY,C=this.scrollX,A=this.scrollY;this.useBounds&&(C=this.clampX(C),A=this.clampY(A)),this.roundPixels&&(y=Math.round(y),T=Math.round(T)),this.scrollX=C,this.scrollY=A;var w=C+f,E=A+c;this.midPoint.set(w,E);var P=u/m,B=l/x;this.worldView.setTo(w-P/2,E-B/2,P,B),g.applyITRS(this.x+y,this.y+T,this.rotation,m,x),g.translate(-y,-T)},clampX:function(u){var l=this._bounds,f=this.displayWidth,c=l.x+(f-this.width)/2,m=Math.max(c,c+l.width-f);return u<c?u=c:u>m&&(u=m),u},clampY:function(u){var l=this._bounds,f=this.displayHeight,c=l.y+(f-this.height)/2,m=Math.max(c,c+l.height-f);return u<c?u=c:u>m&&(u=m),u},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(u){return u===void 0&&(u=0),this.rotation=o(u),this},setBackgroundColor:function(u){return u===void 0&&(u="rgba(0,0,0,0)"),this.backgroundColor=h(u),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(u,l,f,c,m){return m===void 0&&(m=!1),this._bounds.setTo(u,l,f,c),this.dirty=!0,this.useBounds=!0,m?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(u){u===void 0&&(u=new e);var l=this._bounds;return u.setTo(l.x,l.y,l.width,l.height),u},setName:function(u){return u===void 0&&(u=""),this.name=u,this},setPosition:function(u,l){return l===void 0&&(l=u),this.x=u,this.y=l,this},setRotation:function(u){return u===void 0&&(u=0),this.rotation=u,this},setRoundPixels:function(u){return this.roundPixels=u,this},setScene:function(u,l){l===void 0&&(l=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=u,this.isSceneCamera=l;var f=u.sys;return this.sceneManager=f.game.scene,this.scaleManager=f.scale,this.cameraManager=f.cameras,this.updateSystem(),this},setScroll:function(u,l){return l===void 0&&(l=u),this.scrollX=u,this.scrollY=l,this},setSize:function(u,l){return l===void 0&&(l=u),this.width=u,this.height=l,this},setViewport:function(u,l,f,c){return this.x=u,this.y=l,this.width=f,this.height=c,this},setZoom:function(u,l){return u===void 0&&(u=1),l===void 0&&(l=u),u===0&&(u=.001),l===0&&(l=.001),this.zoomX=u,this.zoomY=l,this},setMask:function(u,l){return l===void 0&&(l=!0),this.mask=u,this._maskCamera=l?this.cameraManager.default:this,this},clearMask:function(u){return u===void 0&&(u=!1),u&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var u={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(u.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),u},update:function(){},setIsSceneCamera:function(u){return this.isSceneCamera=u,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var u=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,l=this.sceneManager;u&&!this._customViewport?l.customViewports++:!u&&this._customViewport&&l.customViewports--,this.dirty=!0,this._customViewport=u}},destroy:function(){this.emit(n.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(u){this._x=u,this.updateSystem()}},y:{get:function(){return this._y},set:function(u){this._y=u,this.updateSystem()}},width:{get:function(){return this._width},set:function(u){this._width=u,this.updateSystem()}},height:{get:function(){return this._height},set:function(u){this._height=u,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(u){u!==this._scrollX&&(this._scrollX=u,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(u){u!==this._scrollY&&(this._scrollY=u,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(u){this._zoomX=u,this._zoomY=u,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(u){this._zoomX=u,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(u){this._zoomY=u,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=u,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});p.exports=a},47751:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(51052),v=t(79993),o=t(82897),r=t(56694),n=t(64937),e=t(53030),s=t(89787),h=t(42798),i=t(74118),a=t(93736),u=new r({Extends:d,Mixins:[n.PostPipeline],initialize:function(f,c,m,x){d.call(this,f,c,m,x),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new a(1,1),this.followOffset=new a,this.deadzone=null,this._follow=null},setDeadzone:function(l,f){if(l===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=l,this.deadzone.height=f):this.deadzone=new i(0,0,l,f),this._follow){var c=this.width/2,m=this.height/2,x=this._follow.x-this.followOffset.x,g=this._follow.y-this.followOffset.y;this.midPoint.set(x,g),this.scrollX=x-c,this.scrollY=g-m}v(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(l,f,c,m,x,g){return this.fadeEffect.start(!1,l,f,c,m,!0,x,g)},fadeOut:function(l,f,c,m,x,g){return this.fadeEffect.start(!0,l,f,c,m,!0,x,g)},fadeFrom:function(l,f,c,m,x,g,y){return this.fadeEffect.start(!1,l,f,c,m,x,g,y)},fade:function(l,f,c,m,x,g,y){return this.fadeEffect.start(!0,l,f,c,m,x,g,y)},flash:function(l,f,c,m,x,g,y){return this.flashEffect.start(l,f,c,m,x,g,y)},shake:function(l,f,c,m,x){return this.shakeEffect.start(l,f,c,m,x)},pan:function(l,f,c,m,x,g,y){return this.panEffect.start(l,f,c,m,x,g,y)},rotateTo:function(l,f,c,m,x,g,y){return this.rotateToEffect.start(l,f,c,m,x,g,y)},zoomTo:function(l,f,c,m,x,g){return this.zoomEffect.start(l,f,c,m,x,g)},preRender:function(){this.renderList.length=0;var l=this.width,f=this.height,c=l*.5,m=f*.5,x=this.zoom,g=this.matrix,y=l*this.originX,T=f*this.originY,C=this._follow,A=this.deadzone,w=this.scrollX,E=this.scrollY;A&&v(A,this.midPoint.x,this.midPoint.y);var P=!1;if(this.roundPixels&&(y=Math.floor(y),T=Math.floor(T)),C&&!this.panEffect.isRunning){var B=this.lerp,R=C.x-this.followOffset.x,I=C.y-this.followOffset.y;this.roundPixels&&(R=Math.floor(R),I=Math.floor(I)),A?(R<A.x?w=h(w,w-(A.x-R),B.x):R>A.right&&(w=h(w,w+(R-A.right),B.x)),I<A.y?E=h(E,E-(A.y-I),B.y):I>A.bottom&&(E=h(E,E+(I-A.bottom),B.y))):(w=h(w,R-y,B.x),E=h(E,I-T,B.y)),P=!0}this.useBounds&&(w=this.clampX(w),E=this.clampY(E)),this.roundPixels&&(w=Math.floor(w),E=Math.floor(E)),this.scrollX=w,this.scrollY=E;var N=w+c,X=E+m;this.midPoint.set(N,X);var Y=l/x,O=f/x,D=N-Y/2,F=X-O/2;this.roundPixels&&(D=Math.floor(D),F=Math.floor(F)),this.worldView.setTo(D,F,Y,O),g.applyITRS(Math.floor(this.x+y),Math.floor(this.y+T),this.rotation,x,x),g.translate(-y,-T),this.shakeEffect.preRender(),P&&this.emit(s.FOLLOW_UPDATE,this,C)},setLerp:function(l,f){return l===void 0&&(l=1),f===void 0&&(f=l),this.lerp.set(l,f),this},setFollowOffset:function(l,f){return l===void 0&&(l=0),f===void 0&&(f=0),this.followOffset.set(l,f),this},startFollow:function(l,f,c,m,x,g){f===void 0&&(f=!1),c===void 0&&(c=1),m===void 0&&(m=c),x===void 0&&(x=0),g===void 0&&(g=x),this._follow=l,this.roundPixels=f,c=o(c,0,1),m=o(m,0,1),this.lerp.set(c,m),this.followOffset.set(x,g);var y=this.width/2,T=this.height/2,C=l.x-x,A=l.y-g;return this.midPoint.set(C,A),this.scrollX=C-y,this.scrollY=A-T,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(l,f){this.visible&&(this.rotateToEffect.update(l,f),this.panEffect.update(l,f),this.zoomEffect.update(l,f),this.shakeEffect.update(l,f),this.flashEffect.update(l,f),this.fadeEffect.update(l,f))},destroy:function(){this.resetFX(),d.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});p.exports=u},62382:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(47751),v=t(56694),o=t(72632),r=t(91963),n=t(94287),e=t(40444),s=t(7599),h=new v({initialize:function(a){this.scene=a,this.systems=a.sys,this.roundPixels=a.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,a.sys.events.once(s.BOOT,this.boot,this),a.sys.events.on(s.START,this.start,this)},boot:function(){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new d(0,0,i.scale.width,i.scale.height).setScene(this.scene),i.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){if(!this.main){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0]}var a=this.systems.events;a.on(s.UPDATE,this.update,this),a.once(s.SHUTDOWN,this.shutdown,this)},add:function(i,a,u,l,f,c){i===void 0&&(i=0),a===void 0&&(a=0),u===void 0&&(u=this.scene.sys.scale.width),l===void 0&&(l=this.scene.sys.scale.height),f===void 0&&(f=!1),c===void 0&&(c="");var m=new d(i,a,u,l);return m.setName(c),m.setScene(this.scene),m.setRoundPixels(this.roundPixels),m.id=this.getNextID(),this.cameras.push(m),f&&(this.main=m),m},addExisting:function(i,a){a===void 0&&(a=!1);var u=this.cameras.indexOf(i);return u===-1?(i.id=this.getNextID(),i.setRoundPixels(this.roundPixels),this.cameras.push(i),a&&(this.main=i),i):null},getNextID:function(){for(var i=this.cameras,a=1,u=0;u<32;u++){for(var l=!1,f=0;f<i.length;f++){var c=i[f];if(c&&c.id===a){l=!0;continue}}if(l)a=a<<1;else return a}return 0},getTotal:function(i){i===void 0&&(i=!1);for(var a=0,u=this.cameras,l=0;l<u.length;l++){var f=u[l];(!i||i&&f.visible)&&a++}return a},fromJSON:function(i){Array.isArray(i)||(i=[i]);for(var a=this.scene.sys.scale.width,u=this.scene.sys.scale.height,l=0;l<i.length;l++){var f=i[l],c=o(f,"x",0),m=o(f,"y",0),x=o(f,"width",a),g=o(f,"height",u),y=this.add(c,m,x,g);y.name=o(f,"name",""),y.zoom=o(f,"zoom",1),y.rotation=o(f,"rotation",0),y.scrollX=o(f,"scrollX",0),y.scrollY=o(f,"scrollY",0),y.roundPixels=o(f,"roundPixels",!1),y.visible=o(f,"visible",!0);var T=o(f,"backgroundColor",!1);T&&y.setBackgroundColor(T);var C=o(f,"bounds",null);if(C){var A=o(C,"x",0),w=o(C,"y",0),E=o(C,"width",a),P=o(C,"height",u);y.setBounds(A,w,E,P)}}return this},getCamera:function(i){for(var a=this.cameras,u=0;u<a.length;u++)if(a[u].name===i)return a[u];return null},getCamerasBelowPointer:function(i){for(var a=this.cameras,u=i.x,l=i.y,f=[],c=0;c<a.length;c++){var m=a[c];m.visible&&m.inputEnabled&&n(m,u,l)&&f.unshift(m)}return f},remove:function(i,a){a===void 0&&(a=!0),Array.isArray(i)||(i=[i]);for(var u=0,l=this.cameras,f=0;f<i.length;f++){var c=l.indexOf(i[f]);c!==-1&&(a?l[c].destroy():l[c].renderList=[],l.splice(c,1),u++)}return!this.main&&l[0]&&(this.main=l[0]),u},render:function(i,a){for(var u=this.scene,l=this.cameras,f=0;f<l.length;f++){var c=l[f];if(c.visible&&c.alpha>0){c.preRender();var m=this.getVisibleChildren(a.getChildren(),c);i.render(u,m,c)}}},getVisibleChildren:function(i,a){return i.filter(function(u){return u.willRender(a)})},resetAll:function(){for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(i,a){for(var u=0;u<this.cameras.length;u++)this.cameras[u].update(i,a)},onResize:function(i,a,u,l,f){for(var c=0;c<this.cameras.length;c++){var m=this.cameras[c];m._x===0&&m._y===0&&m._width===l&&m._height===f&&m.setSize(a.width,a.height)}},resize:function(i,a){for(var u=0;u<this.cameras.length;u++)this.cameras[u].setSize(i,a)},shutdown:function(){this.main=void 0;for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();this.cameras=[];var a=this.systems.events;a.off(s.UPDATE,this.update,this),a.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(s.START,this.start,this),this.systems.events.off(s.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});r.register("CameraManager",h,"cameras"),p.exports=h},92522:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(82897),v=t(56694),o=t(89787),r=new v({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,e,s,h,i,a,u,l){if(n===void 0&&(n=!0),e===void 0&&(e=1e3),s===void 0&&(s=0),h===void 0&&(h=0),i===void 0&&(i=0),a===void 0&&(a=!1),u===void 0&&(u=null),l===void 0&&(l=this.camera.scene),!a&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=n,this.progress=0,this.red=s,this.green=h,this.blue=i,this.alpha=n?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=u,this._onUpdateScope=l;var f=n?o.FADE_OUT_START:o.FADE_IN_START;return this.camera.emit(f,this.camera,this,e,s,h,i),this.camera},update:function(n,e){this.isRunning&&(this._elapsed+=e,this.progress=d(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(n){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return n.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",n.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(n,e){if(!this.isRunning&&!this.isComplete)return!1;var s=this.camera,h=this.red/255,i=this.green/255,a=this.blue/255;return n.drawFillRect(s.x,s.y,s.width,s.height,e(a,i,h,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var n=this.direction?o.FADE_OUT_COMPLETE:o.FADE_IN_COMPLETE;this.camera.emit(n,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=r},22151:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(82897),v=t(56694),o=t(89787),r=new v({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(n,e,s,h,i,a,u){return n===void 0&&(n=250),e===void 0&&(e=255),s===void 0&&(s=255),h===void 0&&(h=255),i===void 0&&(i=!1),a===void 0&&(a=null),u===void 0&&(u=this.camera.scene),!i&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=n,this.progress=0,this.red=e,this.green=s,this.blue=h,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=a,this._onUpdateScope=u,this.camera.emit(o.FLASH_START,this.camera,this,n,e,s,h),this.camera)},update:function(n,e){this.isRunning&&(this._elapsed+=e,this.progress=d(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(n){if(!this.isRunning)return!1;var e=this.camera;return n.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",n.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(n,e){if(!this.isRunning)return!1;var s=this.camera,h=this.red/255,i=this.green/255,a=this.blue/255;return n.drawFillRect(s.x,s.y,s.width,s.height,e(a,i,h,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=r},37551:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(82897),v=t(56694),o=t(35060),r=t(89787),n=t(93736),e=new v({initialize:function(h){this.camera=h,this.isRunning=!1,this.duration=0,this.source=new n,this.current=new n,this.destination=new n,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,h,i,a,u,l,f){i===void 0&&(i=1e3),a===void 0&&(a=o.Linear),u===void 0&&(u=!1),l===void 0&&(l=null),f===void 0&&(f=this.camera.scene);var c=this.camera;return!u&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(c.scrollX,c.scrollY),this.destination.set(s,h),c.getScroll(s,h,this.current),typeof a=="string"&&o.hasOwnProperty(a)?this.ease=o[a]:typeof a=="function"&&(this.ease=a),this._elapsed=0,this._onUpdate=l,this._onUpdateScope=f,this.camera.emit(r.PAN_START,this.camera,this,i,s,h)),c},update:function(s,h){if(this.isRunning){this._elapsed+=h;var i=d(this._elapsed/this.duration,0,1);this.progress=i;var a=this.camera;if(this._elapsed<this.duration){var u=this.ease(i);a.getScroll(this.destination.x,this.destination.y,this.current);var l=this.source.x+(this.current.x-this.source.x)*u,f=this.source.y+(this.current.y-this.source.y)*u;a.setScroll(l,f),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,i,l,f)}else a.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,i,a.scrollX,a.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});p.exports=e},1771:(p,S,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var d=t(82897),v=t(56694),o=t(89787),r=t(35060),n=new v({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,s,h,i,a,u,l){h===void 0&&(h=1e3),i===void 0&&(i=r.Linear),a===void 0&&(a=!1),u===void 0&&(u=null),l===void 0&&(l=this.camera.scene),s===void 0&&(s=!1),this.shortestPath=s;var f=e;e<0?(f=-1*e,this.clockwise=!1):this.clockwise=!0;var c=360*Math.PI/180;f=f-Math.floor(f/c)*c;var m=this.camera;if(!a&&this.isRunning)return m;if(this.isRunning=!0,this.duration=h,this.progress=0,this.source=m.rotation,this.destination=f,typeof i=="string"&&r.hasOwnProperty(i)?this.ease=r[i]:typeof i=="function"&&(this.ease=i),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=l,this.shortestPath){var x=0,g=0;this.destination>this.source?x=Math.abs(this.destination-this.source):x=Math.abs(this.destination+c)-this.source,this.source>this.destination?g=Math.abs(this.source-this.destination):g=Math.abs(this.source+c)-this.destination,x<g?this.clockwise=!0:x>g&&(this.clockwise=!1)}return this.camera.emit(o.ROTATE_START,this.camera,this,h,f),m},update:function(e,s){if(this.isRunning){this._elapsed+=s;var h=d(this._elapsed/this.duration,0,1);this.progress=h;var i=this.camera;if(this._elapsed<this.duration){var a=this.ease(h);this.current=i.rotation;var u=0,l=360*Math.PI/180,f=this.destination,c=this.current;this.clockwise===!1&&(f=this.current,c=this.destination),f>=c?u=Math.abs(f-c):u=Math.abs(f+l)-c;var m=0;this.clockwise?m=i.rotation+u*a:m=i.rotation-u*a,i.rotation=m,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,h,m)}else i.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,h,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});p.exports=n},3241:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(82897),v=t(56694),o=t(89787),r=t(93736),n=new v({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.intensity=new r,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,s,h,i,a){return e===void 0&&(e=100),s===void 0&&(s=.05),h===void 0&&(h=!1),i===void 0&&(i=null),a===void 0&&(a=this.camera.scene),!h&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof s=="number"?this.intensity.set(s):this.intensity.set(s.x,s.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=i,this._onUpdateScope=a,this.camera.emit(o.SHAKE_START,this.camera,this,e,s),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,s){if(this.isRunning)if(this._elapsed+=s,this.progress=d(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var h=this.intensity,i=this.camera.width,a=this.camera.height,u=this.camera.zoom;this._offsetX=(Math.random()*h.x*i*2-h.x*i)*u,this._offsetY=(Math.random()*h.y*a*2-h.y*a)*u,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});p.exports=n},13383:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(82897),v=t(56694),o=t(35060),r=t(89787),n=new v({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,s,h,i,a,u){s===void 0&&(s=1e3),h===void 0&&(h=o.Linear),i===void 0&&(i=!1),a===void 0&&(a=null),u===void 0&&(u=this.camera.scene);var l=this.camera;return!i&&this.isRunning||(this.isRunning=!0,this.duration=s,this.progress=0,this.source=l.zoom,this.destination=e,typeof h=="string"&&o.hasOwnProperty(h)?this.ease=o[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=a,this._onUpdateScope=u,this.camera.emit(r.ZOOM_START,this.camera,this,s,e)),l},update:function(e,s){this.isRunning&&(this._elapsed+=s,this.progress=d(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=n},53030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Fade:t(92522),Flash:t(22151),Pan:t(37551),Shake:t(3241),RotateTo:t(1771),Zoom:t(13383)}},39577:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameradestroy"},85373:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeincomplete"},92057:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeinstart"},1903:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeoutcomplete"},96131:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeoutstart"},85409:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameraflashcomplete"},25500:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameraflashstart"},44071:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="followupdate"},19818:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerapancomplete"},80002:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerapanstart"},87966:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},74217:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},34805:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerarotatecomplete"},30408:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerarotatestart"},49856:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerashakecomplete"},69189:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerashakestart"},67657:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerazoomcomplete"},14229:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerazoomstart"},89787:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DESTROY:t(39577),FADE_IN_COMPLETE:t(85373),FADE_IN_START:t(92057),FADE_OUT_COMPLETE:t(1903),FADE_OUT_START:t(96131),FLASH_COMPLETE:t(85409),FLASH_START:t(25500),FOLLOW_UPDATE:t(44071),PAN_COMPLETE:t(19818),PAN_START:t(80002),POST_RENDER:t(87966),PRE_RENDER:t(74217),ROTATE_COMPLETE:t(34805),ROTATE_START:t(30408),SHAKE_COMPLETE:t(49856),SHAKE_START:t(69189),ZOOM_COMPLETE:t(67657),ZOOM_START:t(14229)}},32356:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Camera:t(47751),BaseCamera:t(51052),CameraManager:t(62382),Effects:t(53030),Events:t(89787)}},84219:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(10850),o=new d({initialize:function(n){this.camera=v(n,"camera",null),this.left=v(n,"left",null),this.right=v(n,"right",null),this.up=v(n,"up",null),this.down=v(n,"down",null),this.zoomIn=v(n,"zoomIn",null),this.zoomOut=v(n,"zoomOut",null),this.zoomSpeed=v(n,"zoomSpeed",.01),this.minZoom=v(n,"minZoom",.001),this.maxZoom=v(n,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=v(n,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=v(n,"speed.x",0),this.speedY=v(n,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var n=this.camera;this.up&&this.up.isDown?n.scrollY-=this.speedY*r|0:this.down&&this.down.isDown&&(n.scrollY+=this.speedY*r|0),this.left&&this.left.isDown?n.scrollX-=this.speedX*r|0:this.right&&this.right.isDown&&(n.scrollX+=this.speedX*r|0),this.zoomIn&&this.zoomIn.isDown?(n.zoom-=this.zoomSpeed,n.zoom<this.minZoom&&(n.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(n.zoom+=this.zoomSpeed,n.zoom>this.maxZoom&&(n.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});p.exports=o},69370:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(10850),o=new d({initialize:function(n){this.camera=v(n,"camera",null),this.left=v(n,"left",null),this.right=v(n,"right",null),this.up=v(n,"up",null),this.down=v(n,"down",null),this.zoomIn=v(n,"zoomIn",null),this.zoomOut=v(n,"zoomOut",null),this.zoomSpeed=v(n,"zoomSpeed",.01),this.minZoom=v(n,"minZoom",.001),this.maxZoom=v(n,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=v(n,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=v(n,"acceleration.x",0),this.accelY=v(n,"acceleration.y",0)),this.dragX=0,this.dragY=0;var s=v(n,"drag",null);typeof s=="number"?(this.dragX=s,this.dragY=s):(this.dragX=v(n,"drag.x",0),this.dragY=v(n,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var h=v(n,"maxSpeed",null);typeof h=="number"?(this.maxSpeedX=h,this.maxSpeedY=h):(this.maxSpeedX=v(n,"maxSpeed.x",0),this.maxSpeedY=v(n,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var n=this.camera;this._speedX>0?(this._speedX-=this.dragX*r,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*r,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*r,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*r,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(n.scrollX-=this._speedX*r|0),this._speedY!==0&&(n.scrollY-=this._speedY*r|0),this._zoom!==0&&(n.zoom+=this._zoom,n.zoom<this.minZoom?n.zoom=this.minZoom:n.zoom>this.maxZoom&&(n.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});p.exports=o},6524:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={FixedKeyControl:t(84219),SmoothedKeyControl:t(69370)}},44143:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Controls:t(6524),Scene2D:t(32356)}},86459:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={VERSION:"3.60.0",BlendModes:t(95723),ScaleModes:t(27394),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};p.exports=d},14033:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(86459),o=t(18360),r=t(77290),n=t(72632),e=t(10850),s=t(42911),h=t(72283),i=t(5923),a=t(65641),u=t(93222),l=new d({initialize:function(c){c===void 0&&(c={});var m=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],x="#ffffff",g=e(c,"scale",null);this.width=e(g,"width",1024,c),this.height=e(g,"height",768,c),this.zoom=e(g,"zoom",1,c),this.parent=e(g,"parent",void 0,c),this.scaleMode=e(g,g?"mode":"scaleMode",0,c),this.expandParent=e(g,"expandParent",!0,c),this.autoRound=e(g,"autoRound",!1,c),this.autoCenter=e(g,"autoCenter",0,c),this.resizeInterval=e(g,"resizeInterval",500,c),this.fullscreenTarget=e(g,"fullscreenTarget",null,c),this.minWidth=e(g,"minWidth",0,c),this.maxWidth=e(g,"maxWidth",0,c),this.minHeight=e(g,"minHeight",0,c),this.maxHeight=e(g,"maxHeight",0,c),this.renderType=e(c,"type",v.AUTO),this.canvas=e(c,"canvas",null),this.context=e(c,"context",null),this.canvasStyle=e(c,"canvasStyle",null),this.customEnvironment=e(c,"customEnvironment",!1),this.sceneConfig=e(c,"scene",null),this.seed=e(c,"seed",[(Date.now()*Math.random()).toString()]),i.RND=new i.RandomDataGenerator(this.seed),this.gameTitle=e(c,"title",""),this.gameURL=e(c,"url","https://phaser.io"),this.gameVersion=e(c,"version",""),this.autoFocus=e(c,"autoFocus",!0),this.stableSort=e(c,"stableSort",-1),this.stableSort===-1&&(this.stableSort=r.browser.es2019?1:0),r.features.stableSort=this.stableSort,this.domCreateContainer=e(c,"dom.createContainer",!1),this.domPointerEvents=e(c,"dom.pointerEvents","none"),this.inputKeyboard=e(c,"input.keyboard",!0),this.inputKeyboardEventTarget=e(c,"input.keyboard.target",window),this.inputKeyboardCapture=e(c,"input.keyboard.capture",[]),this.inputMouse=e(c,"input.mouse",!0),this.inputMouseEventTarget=e(c,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(c,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(c,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(c,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(c,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(c,"input.touch",r.input.touch),this.inputTouchEventTarget=e(c,"input.touch.target",null),this.inputTouchCapture=e(c,"input.touch.capture",!0),this.inputActivePointers=e(c,"input.activePointers",1),this.inputSmoothFactor=e(c,"input.smoothFactor",0),this.inputWindowEvents=e(c,"input.windowEvents",!0),this.inputGamepad=e(c,"input.gamepad",!1),this.inputGamepadEventTarget=e(c,"input.gamepad.target",window),this.disableContextMenu=e(c,"disableContextMenu",!1),this.audio=e(c,"audio",{}),this.hideBanner=e(c,"banner",null)===!1,this.hidePhaser=e(c,"banner.hidePhaser",!1),this.bannerTextColor=e(c,"banner.text",x),this.bannerBackgroundColor=e(c,"banner.background",m),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(c,"fps",null);var y=e(c,"render",null);this.pipeline=e(y,"pipeline",null,c),this.autoMobilePipeline=e(y,"autoMobilePipeline",!0,c),this.defaultPipeline=e(y,"defaultPipeline",a.MULTI_PIPELINE,c),this.antialias=e(y,"antialias",!0,c),this.antialiasGL=e(y,"antialiasGL",!0,c),this.mipmapFilter=e(y,"mipmapFilter","",c),this.desynchronized=e(y,"desynchronized",!1,c),this.roundPixels=e(y,"roundPixels",!1,c),this.pixelArt=e(y,"pixelArt",this.zoom!==1,c),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(y,"transparent",!1,c),this.clearBeforeRender=e(y,"clearBeforeRender",!0,c),this.preserveDrawingBuffer=e(y,"preserveDrawingBuffer",!1,c),this.premultipliedAlpha=e(y,"premultipliedAlpha",!0,c),this.failIfMajorPerformanceCaveat=e(y,"failIfMajorPerformanceCaveat",!1,c),this.powerPreference=e(y,"powerPreference","default",c),this.batchSize=e(y,"batchSize",4096,c),this.maxTextures=e(y,"maxTextures",-1,c),this.maxLights=e(y,"maxLights",10,c);var T=e(c,"backgroundColor",0);this.backgroundColor=u(T),this.transparent&&(this.backgroundColor=u(0),this.backgroundColor.alpha=0),this.preBoot=e(c,"callbacks.preBoot",h),this.postBoot=e(c,"callbacks.postBoot",h),this.physics=e(c,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(c,"loader.baseURL",""),this.loaderPath=e(c,"loader.path",""),this.loaderMaxParallelDownloads=e(c,"loader.maxParallelDownloads",r.os.android?6:32),this.loaderCrossOrigin=e(c,"loader.crossOrigin",void 0),this.loaderResponseType=e(c,"loader.responseType",""),this.loaderAsync=e(c,"loader.async",!0),this.loaderUser=e(c,"loader.user",""),this.loaderPassword=e(c,"loader.password",""),this.loaderTimeout=e(c,"loader.timeout",0),this.loaderWithCredentials=e(c,"loader.withCredentials",!1),this.loaderImageLoadType=e(c,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(c,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(c,"fx.glow.quality",.1),this.glowFXDistance=e(c,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var C=e(c,"plugins",null),A=o.DefaultScene;C&&(Array.isArray(C)?this.defaultPlugins=C:s(C)&&(this.installGlobalPlugins=n(C,"global",[]),this.installScenePlugins=n(C,"scene",[]),Array.isArray(C.default)?A=C.default:Array.isArray(C.defaultMerge)&&(A=A.concat(C.defaultMerge)))),this.defaultPlugins=A;var w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(c,"images.default",w+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(c,"images.missing",w+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(c,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=v.WEBGL:window.FORCE_CANVAS&&(this.renderType=v.CANVAS))}});p.exports=l},50150:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(70616),v=t(61068),o=t(86459),r=t(90185),n=function(e){var s=e.config;if((s.customEnvironment||s.canvas)&&s.renderType===o.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!s.customEnvironment&&!s.canvas&&s.renderType!==o.HEADLESS)if(s.renderType===o.AUTO&&(s.renderType=r.webGL?o.WEBGL:o.CANVAS),s.renderType===o.WEBGL){if(!r.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(s.renderType===o.CANVAS){if(!r.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+s.renderType);s.antialias||v.disableSmoothing();var h=e.scale.baseSize,i=h.width,a=h.height;if(s.canvas?(e.canvas=s.canvas,e.canvas.width=i,e.canvas.height=a):e.canvas=v.create(e,i,a,s.renderType),s.canvasStyle&&(e.canvas.style=s.canvasStyle),s.antialias||d.setCrisp(e.canvas),s.renderType!==o.HEADLESS){var u,l;u=t(91135),l=t(11857),s.renderType===o.WEBGL?e.renderer=new l(e):(e.renderer=new u(e),e.context=e.renderer.gameContext)}};p.exports=n},77291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(86459),v=function(o){var r=o.config;if(!r.hideBanner){var n="WebGL";r.renderType===d.CANVAS?n="Canvas":r.renderType===d.HEADLESS&&(n="Headless");var e=r.audio,s=o.device.audio,h;if(s.webAudio&&!e.disableWebAudio?h="Web Audio":e.noAudio||!s.webAudio&&!s.audioData?h="No Audio":h="HTML5 Audio",o.device.browser.ie)window.console&&console.log("Phaser v"+d.VERSION+" / https://phaser.io");else{var i="",a=[i];if(Array.isArray(r.bannerBackgroundColor)){var u;r.bannerBackgroundColor.forEach(function(f){i=i.concat("%c "),a.push("background: "+f),u=f}),a[a.length-1]="color: "+r.bannerTextColor+"; background: "+u}else i=i.concat("%c "),a.push("color: "+r.bannerTextColor+"; background: "+r.bannerBackgroundColor);a.push("background: transparent"),r.gameTitle&&(i=i.concat(r.gameTitle),r.gameVersion&&(i=i.concat(" v"+r.gameVersion)),r.hidePhaser||(i=i.concat(" / ")));var l="";r.hidePhaser||(i=i.concat("Phaser v"+d.VERSION+l+" ("+n+" | "+h+")")),i=i.concat(" %c "+r.gameURL),a[0]=i,console.log.apply(console,a)}}};p.exports=v},15213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(99584),v=t(90249),o=t(43474),r=t(61068),n=t(56694),e=t(14033),s=t(85178),h=t(50150),i=t(81078),a=t(77291),u=t(77290),l=t(21546),f=t(6659),c=t(97081),m=t(69898),x=t(91963),g=t(49274),y=t(756),T=t(13553),C=t(38203),A=t(6237),w=t(26617),E=t(26493),P=t(84191),B=new n({initialize:function(I){this.config=new e(I),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new f,this.anims=new v(this),this.textures=new A(this),this.cache=new o(this),this.registry=new i(this,new f),this.input=new m(this,this.config),this.scene=new T(this,this.config.sceneConfig),this.device=u,this.scale=new y(this,this.config),this.sound=null,this.sound=P.create(this),this.loop=new w(this,this.config.fps),this.plugins=new g(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,l(this.boot.bind(this))},boot:function(){if(!x.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),h(this),s(this),a(this),d(this.canvas,this.config.parent),this.textures.once(C.READY,this.texturesReady,this),this.events.emit(c.BOOT)},texturesReady:function(){this.events.emit(c.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),E(this);var R=this.events;R.on(c.HIDDEN,this.onHidden,this),R.on(c.VISIBLE,this.onVisible,this),R.on(c.BLUR,this.onBlur,this),R.on(c.FOCUS,this.onFocus,this)},step:function(R,I){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var N=this.events;N.emit(c.PRE_STEP,R,I),N.emit(c.STEP,R,I),this.scene.update(R,I),N.emit(c.POST_STEP,R,I);var X=this.renderer;X.preRender(),N.emit(c.PRE_RENDER,X,R,I),this.scene.render(X),X.postRender(),N.emit(c.POST_RENDER,X,R,I)}},headlessStep:function(R,I){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var N=this.events;N.emit(c.PRE_STEP,R,I),N.emit(c.STEP,R,I),this.scene.update(R,I),N.emit(c.POST_STEP,R,I),this.scene.isProcessing=!1,N.emit(c.PRE_RENDER,null,R,I),N.emit(c.POST_RENDER,null,R,I)}},onHidden:function(){this.loop.pause(),this.events.emit(c.PAUSE)},pause:function(){var R=this.isPaused;this.isPaused=!0,R||this.events.emit(c.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(c.RESUME)},resume:function(){var R=this.isPaused;this.isPaused=!1,R&&this.events.emit(c.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(R,I){I===void 0&&(I=!1),this.pendingDestroy=!0,this.removeCanvas=R,this.noReturn=I},runDestroy:function(){this.scene.destroy(),this.events.emit(c.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(r.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});p.exports=B},26617:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(10850),o=t(72283),r=t(27385),n=new d({initialize:function(s,h){this.game=s,this.raf=new r,this.started=!1,this.running=!1,this.minFps=v(h,"min",5),this.targetFps=v(h,"target",60),this.fpsLimit=v(h,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=o,this.forceSetTimeOut=v(h,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=v(h,"deltaHistory",10),this.panicMax=v(h,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=v(h,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=Math.min(this._target,this.deltaHistory[s]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var h=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(h,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var s=this.deltaIndex,h=this.deltaHistory,i=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=h[s],e=Math.min(e,this._min)),h[s]=e,this.deltaIndex++,this.deltaIndex>=i&&(this.deltaIndex=0);for(var a=0,u=0;u<i;u++)a+=h[u];return a/=i,a},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var s=Math.max(0,e-this.lastTime);this.rawDelta=s,this.time+=this.rawDelta,this.smoothStep&&(s=this.smoothDelta(s)),this.delta+=s,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var s=Math.max(0,e-this.lastTime);this.rawDelta=s,this.time+=this.rawDelta,this.smoothStep&&(s=this.smoothDelta(s)),this.delta=s,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,s),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var s=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+s));var h=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(h,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=s+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});p.exports=n},26493:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(97081),v=function(o){var r,n=o.events;if(document.hidden!==void 0)r="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(h){document[h+"Hidden"]!==void 0&&(document.hidden=function(){return document[h+"Hidden"]},r=h+"visibilitychange")})}var s=function(h){document.hidden||h.type==="pause"?n.emit(d.HIDDEN):n.emit(d.VISIBLE)};r&&document.addEventListener(r,s,!1),window.onblur=function(){n.emit(d.BLUR)},window.onfocus=function(){n.emit(d.FOCUS)},window.focus&&o.config.autoFocus&&window.focus()};p.exports=v},41651:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="blur"},5520:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},51673:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="contextlost"},25055:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},23767:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="focus"},57564:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="hidden"},38327:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},43807:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},73652:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="poststep"},780:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},13781:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prestep"},38247:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},29129:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},34994:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="step"},98704:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="visible"},97081:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BLUR:t(41651),BOOT:t(5520),CONTEXT_LOST:t(51673),DESTROY:t(25055),FOCUS:t(23767),HIDDEN:t(57564),PAUSE:t(38327),POST_RENDER:t(43807),POST_STEP:t(73652),PRE_RENDER:t(780),PRE_STEP:t(13781),READY:t(38247),RESUME:t(29129),STEP:t(34994),VISIBLE:t(98704)}},80293:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Config:t(14033),CreateRenderer:t(50150),DebugHeader:t(77291),Events:t(97081),TimeStep:t(26617),VisibilityHandler:t(26493)}},52780:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(81543),v=t(61068),o=t(10850),r=function(n){var e=o(n,"data",[]),s=o(n,"canvas",null),h=o(n,"palette",d),i=o(n,"pixelWidth",1),a=o(n,"pixelHeight",i),u=o(n,"resizeCanvas",!0),l=o(n,"clearCanvas",!0),f=o(n,"preRender",null),c=o(n,"postRender",null),m=Math.floor(Math.abs(e[0].length*i)),x=Math.floor(Math.abs(e.length*a));s||(s=v.create2D(this,m,x),u=!1,l=!1),u&&(s.width=m,s.height=x);var g=s.getContext("2d",{willReadFrequently:!0});l&&g.clearRect(0,0,m,x),f&&f(s,g);for(var y=0;y<e.length;y++)for(var T=e[y],C=0;C<T.length;C++){var A=T[C];A!=="."&&A!==" "&&(g.fillStyle=h[A],g.fillRect(C*i,y*a,i,a))}return c&&c(s,g),s};p.exports=r},84106:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GenerateTexture:t(52780),Palettes:t(25235)}},81543:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},75846:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},83206:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},13194:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},50686:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},25235:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ARNE16:t(81543),C64:t(75846),CGA:t(83206),JMP:t(13194),MSX:t(50686)}},63120:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(34631),o=t(38517),r=t(93736),n=new d({Extends:o,initialize:function(s,h,i,a){o.call(this,"CubicBezierCurve"),Array.isArray(s)&&(a=new r(s[6],s[7]),i=new r(s[4],s[5]),h=new r(s[2],s[3]),s=new r(s[0],s[1])),this.p0=s,this.p1=h,this.p2=i,this.p3=a},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,s){s===void 0&&(s=new r);var h=this.p0,i=this.p1,a=this.p2,u=this.p3;return s.set(v(e,h.x,i.x,a.x,u.x),v(e,h.y,i.y,a.y,u.y))},draw:function(e,s){s===void 0&&(s=32);var h=this.getPoints(s);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<h.length;i++)e.lineTo(h[i].x,h[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});n.fromJSON=function(e){var s=e.points,h=new r(s[0],s[1]),i=new r(s[2],s[3]),a=new r(s[4],s[5]),u=new r(s[6],s[7]);return new n(h,i,a,u)},p.exports=n},38517:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(80222),o=t(74118),r=t(93736),n=new d({initialize:function(s){this.type=s,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new r,this._tmpVec2B=new r},draw:function(e,s){return s===void 0&&(s=32),e.strokePoints(this.getPoints(s))},getBounds:function(e,s){e||(e=new o),s===void 0&&(s=16);var h=this.getLength();s>h&&(s=h/2);var i=Math.max(1,Math.round(h/s));return v(this.getSpacedPoints(i),e)},getDistancePoints:function(e){var s=this.getLength(),h=Math.max(1,s/e);return this.getSpacedPoints(h)},getEndPoint:function(e){return e===void 0&&(e=new r),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var s=[],h,i=this.getPoint(0,this._tmpVec2A),a=0;s.push(0);for(var u=1;u<=e;u++)h=this.getPoint(u/e,this._tmpVec2B),a+=h.distance(i),s.push(a),i.copy(h);return this.cacheArcLengths=s,s},getPointAt:function(e,s){var h=this.getUtoTmapping(e);return this.getPoint(h,s)},getPoints:function(e,s,h){h===void 0&&(h=[]),e||(s?e=this.getLength()/s:e=this.defaultDivisions);for(var i=0;i<=e;i++)h.push(this.getPoint(i/e));return h},getRandomPoint:function(e){return e===void 0&&(e=new r),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,s,h){h===void 0&&(h=[]),e||(s?e=this.getLength()/s:e=this.defaultDivisions);for(var i=0;i<=e;i++){var a=this.getUtoTmapping(i/e,null,e);h.push(this.getPoint(a))}return h},getStartPoint:function(e){return e===void 0&&(e=new r),this.getPointAt(0,e)},getTangent:function(e,s){s===void 0&&(s=new r);var h=1e-4,i=e-h,a=e+h;return i<0&&(i=0),a>1&&(a=1),this.getPoint(i,this._tmpVec2A),this.getPoint(a,s),s.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,s){var h=this.getUtoTmapping(e);return this.getTangent(h,s)},getTFromDistance:function(e,s){return e<=0?0:this.getUtoTmapping(0,e,s)},getUtoTmapping:function(e,s,h){var i=this.getLengths(h),a=0,u=i.length,l;s?l=Math.min(s,i[u-1]):l=e*i[u-1];for(var f=0,c=u-1,m;f<=c;)if(a=Math.floor(f+(c-f)/2),m=i[a]-l,m<0)f=a+1;else if(m>0)c=a-1;else{c=a;break}if(a=c,i[a]===l)return a/(u-1);var x=i[a],g=i[a+1],y=g-x,T=(l-x)/y;return(a+T)/(u-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});p.exports=n},48835:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(38517),o=t(75606),r=t(10850),n=t(23701),e=t(93736),s=new d({Extends:v,initialize:function(i,a,u,l,f,c,m,x){if(typeof i=="object"){var g=i;i=r(g,"x",0),a=r(g,"y",0),u=r(g,"xRadius",0),l=r(g,"yRadius",u),f=r(g,"startAngle",0),c=r(g,"endAngle",360),m=r(g,"clockwise",!1),x=r(g,"rotation",0)}else l===void 0&&(l=u),f===void 0&&(f=0),c===void 0&&(c=360),m===void 0&&(m=!1),x===void 0&&(x=0);v.call(this,"EllipseCurve"),this.p0=new e(i,a),this._xRadius=u,this._yRadius=l,this._startAngle=o(f),this._endAngle=o(c),this._clockwise=m,this._rotation=o(x)},getStartPoint:function(h){return h===void 0&&(h=new e),this.getPoint(0,h)},getResolution:function(h){return h*2},getPoint:function(h,i){i===void 0&&(i=new e);for(var a=Math.PI*2,u=this._endAngle-this._startAngle,l=Math.abs(u)<Number.EPSILON;u<0;)u+=a;for(;u>a;)u-=a;u<Number.EPSILON&&(l?u=0:u=a),this._clockwise&&!l&&(u===a?u=-a:u=u-a);var f=this._startAngle+h*u,c=this.p0.x+this._xRadius*Math.cos(f),m=this.p0.y+this._yRadius*Math.sin(f);if(this._rotation!==0){var x=Math.cos(this._rotation),g=Math.sin(this._rotation),y=c-this.p0.x,T=m-this.p0.y;c=y*x-T*g+this.p0.x,m=y*g+T*x+this.p0.y}return i.set(c,m)},setXRadius:function(h){return this.xRadius=h,this},setYRadius:function(h){return this.yRadius=h,this},setWidth:function(h){return this.xRadius=h/2,this},setHeight:function(h){return this.yRadius=h/2,this},setStartAngle:function(h){return this.startAngle=h,this},setEndAngle:function(h){return this.endAngle=h,this},setClockwise:function(h){return this.clockwise=h,this},setRotation:function(h){return this.rotation=h,this},x:{get:function(){return this.p0.x},set:function(h){this.p0.x=h}},y:{get:function(){return this.p0.y},set:function(h){this.p0.y=h}},xRadius:{get:function(){return this._xRadius},set:function(h){this._xRadius=h}},yRadius:{get:function(){return this._yRadius},set:function(h){this._yRadius=h}},startAngle:{get:function(){return n(this._startAngle)},set:function(h){this._startAngle=o(h)}},endAngle:{get:function(){return n(this._endAngle)},set:function(h){this._endAngle=o(h)}},clockwise:{get:function(){return this._clockwise},set:function(h){this._clockwise=h}},angle:{get:function(){return n(this._rotation)},set:function(h){this._rotation=o(h)}},rotation:{get:function(){return this._rotation},set:function(h){this._rotation=h}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:n(this._startAngle),endAngle:n(this._endAngle),clockwise:this._clockwise,rotation:n(this._rotation)}}});s.fromJSON=function(h){return new s(h)},p.exports=s},58084:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(38517),o=t(80222),r=t(74118),n=t(93736),e=new d({Extends:v,initialize:function(h,i){v.call(this,"LineCurve"),Array.isArray(h)&&(i=new n(h[2],h[3]),h=new n(h[0],h[1])),this.p0=h,this.p1=i,this.arcLengthDivisions=1},getBounds:function(s){return s===void 0&&(s=new r),o([this.p0,this.p1],s)},getStartPoint:function(s){return s===void 0&&(s=new n),s.copy(this.p0)},getResolution:function(s){return s===void 0&&(s=1),s},getPoint:function(s,h){return h===void 0&&(h=new n),s===1?h.copy(this.p1):(h.copy(this.p1).subtract(this.p0).scale(s).add(this.p0),h)},getPointAt:function(s,h){return this.getPoint(s,h)},getTangent:function(s,h){return h===void 0&&(h=new n),h.copy(this.p1).subtract(this.p0).normalize(),h},getUtoTmapping:function(s,h,i){var a;if(h){var u=this.getLengths(i),l=u[u.length-1],f=Math.min(h,l);a=f/l}else a=s;return a},draw:function(s){return s.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),s},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(s){var h=s.points,i=new n(h[0],h[1]),a=new n(h[2],h[3]);return new e(i,a)},p.exports=e},64761:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(38517),o=t(16252),r=t(93736),n=new d({Extends:v,initialize:function(s,h,i){v.call(this,"QuadraticBezierCurve"),Array.isArray(s)&&(i=new r(s[4],s[5]),h=new r(s[2],s[3]),s=new r(s[0],s[1])),this.p0=s,this.p1=h,this.p2=i},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,s){s===void 0&&(s=new r);var h=this.p0,i=this.p1,a=this.p2;return s.set(o(e,h.x,i.x,a.x),o(e,h.y,i.y,a.y))},draw:function(e,s){s===void 0&&(s=32);var h=this.getPoints(s);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<h.length;i++)e.lineTo(h[i].x,h[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});n.fromJSON=function(e){var s=e.points,h=new r(s[0],s[1]),i=new r(s[2],s[3]),a=new r(s[4],s[5]);return new n(h,i,a)},p.exports=n},11956:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(14976),v=t(56694),o=t(38517),r=t(93736),n=new v({Extends:o,initialize:function(s){s===void 0&&(s=[]),o.call(this,"SplineCurve"),this.points=[],this.addPoints(s)},addPoints:function(e){for(var s=0;s<e.length;s++){var h=new r;typeof e[s]=="number"?(h.x=e[s],h.y=e[s+1],s++):Array.isArray(e[s])?(h.x=e[s][0],h.y=e[s][1]):(h.x=e[s].x,h.y=e[s].y),this.points.push(h)}return this},addPoint:function(e,s){var h=new r(e,s);return this.points.push(h),h},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,s){s===void 0&&(s=new r);var h=this.points,i=(h.length-1)*e,a=Math.floor(i),u=i-a,l=h[a===0?a:a-1],f=h[a],c=h[a>h.length-2?h.length-1:a+1],m=h[a>h.length-3?h.length-1:a+2];return s.set(d(u,l.x,f.x,c.x,m.x),d(u,l.y,f.y,c.y,m.y))},toJSON:function(){for(var e=[],s=0;s<this.points.length;s++)e.push(this.points[s].x),e.push(this.points[s].y);return{type:this.type,points:e}}});n.fromJSON=function(e){return new n(e.points)},p.exports=n},73962:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Path:t(12822),MoveTo:t(53639),CubicBezier:t(63120),Curve:t(38517),Ellipse:t(48835),Line:t(58084),QuadraticBezier:t(64761),Spline:t(11956)}},53639:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(93736),o=new d({initialize:function(n,e){this.active=!1,this.p0=new v(n,e)},getPoint:function(r,n){return n===void 0&&(n=new v),n.copy(this.p0)},getPointAt:function(r,n){return this.getPoint(r,n)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});p.exports=o},12822:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(63120),o=t(48835),r=t(61286),n=t(58084),e=t(53639),s=t(64761),h=t(74118),i=t(11956),a=t(93736),u=t(83392),l=new d({initialize:function(c,m){c===void 0&&(c=0),m===void 0&&(m=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new a,this._tmpVec2A=new a,this._tmpVec2B=new a,typeof c=="object"?this.fromJSON(c):this.startPoint.set(c,m)},add:function(f){return this.curves.push(f),this},circleTo:function(f,c,m){return c===void 0&&(c=!1),this.ellipseTo(f,f,0,360,c,m)},closePath:function(){var f=this.curves[0].getPoint(0),c=this.curves[this.curves.length-1].getPoint(1);return f.equals(c)||this.curves.push(new n(c,f)),this},cubicBezierTo:function(f,c,m,x,g,y){var T=this.getEndPoint(),C,A,w;return f instanceof a?(C=f,A=c,w=m):(C=new a(m,x),A=new a(g,y),w=new a(f,c)),this.add(new v(T,C,A,w))},quadraticBezierTo:function(f,c,m,x){var g=this.getEndPoint(),y,T;return f instanceof a?(y=f,T=c):(y=new a(m,x),T=new a(f,c)),this.add(new s(g,y,T))},draw:function(f,c){for(var m=0;m<this.curves.length;m++){var x=this.curves[m];x.active&&x.draw(f,c)}return f},ellipseTo:function(f,c,m,x,g,y){var T=new o(0,0,f,c,m,x,g,y),C=this.getEndPoint(this._tmpVec2A),A=T.getStartPoint(this._tmpVec2B);return C.subtract(A),T.x=C.x,T.y=C.y,this.add(T)},fromJSON:function(f){this.curves=[],this.cacheLengths=[],this.startPoint.set(f.x,f.y),this.autoClose=f.autoClose;for(var c=0;c<f.curves.length;c++){var m=f.curves[c];switch(m.type){case"LineCurve":this.add(n.fromJSON(m));break;case"EllipseCurve":this.add(o.fromJSON(m));break;case"SplineCurve":this.add(i.fromJSON(m));break;case"CubicBezierCurve":this.add(v.fromJSON(m));break;case"QuadraticBezierCurve":this.add(s.fromJSON(m));break}}return this},getBounds:function(f,c){f===void 0&&(f=new h),c===void 0&&(c=16),f.x=Number.MAX_VALUE,f.y=Number.MAX_VALUE;for(var m=new h,x=u.MIN_SAFE_INTEGER,g=u.MIN_SAFE_INTEGER,y=0;y<this.curves.length;y++){var T=this.curves[y];T.active&&(T.getBounds(m,c),f.x=Math.min(f.x,m.x),f.y=Math.min(f.y,m.y),x=Math.max(x,m.right),g=Math.max(g,m.bottom))}return f.right=x,f.bottom=g,f},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var f=[],c=0,m=0;m<this.curves.length;m++)c+=this.curves[m].getLength(),f.push(c);return this.cacheLengths=f,f},getCurveAt:function(f){for(var c=f*this.getLength(),m=this.getCurveLengths(),x=0;x<m.length;){if(m[x]>=c)return this.curves[x];x++}return null},getEndPoint:function(f){return f===void 0&&(f=new a),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,f):f.copy(this.startPoint),f},getLength:function(){var f=this.getCurveLengths();return f[f.length-1]},getPoint:function(f,c){c===void 0&&(c=new a);for(var m=f*this.getLength(),x=this.getCurveLengths(),g=0;g<x.length;){if(x[g]>=m){var y=x[g]-m,T=this.curves[g],C=T.getLength(),A=C===0?0:1-y/C;return T.getPointAt(A,c)}g++}return null},getPoints:function(f){f===void 0&&(f=12);for(var c=[],m,x=0;x<this.curves.length;x++){var g=this.curves[x];if(g.active)for(var y=g.getResolution(f),T=g.getPoints(y),C=0;C<T.length;C++){var A=T[C];m&&m.equals(A)||(c.push(A),m=A)}}return this.autoClose&&c.length>1&&!c[c.length-1].equals(c[0])&&c.push(c[0]),c},getRandomPoint:function(f){return f===void 0&&(f=new a),this.getPoint(Math.random(),f)},getSpacedPoints:function(f){f===void 0&&(f=40);for(var c=[],m=0;m<=f;m++)c.push(this.getPoint(m/f));return this.autoClose&&c.push(c[0]),c},getStartPoint:function(f){return f===void 0&&(f=new a),f.copy(this.startPoint)},getTangent:function(f,c){c===void 0&&(c=new a);for(var m=f*this.getLength(),x=this.getCurveLengths(),g=0;g<x.length;){if(x[g]>=m){var y=x[g]-m,T=this.curves[g],C=T.getLength(),A=C===0?0:1-y/C;return T.getTangentAt(A,c)}g++}return null},lineTo:function(f,c){f instanceof a?this._tmpVec2B.copy(f):this._tmpVec2B.set(f,c);var m=this.getEndPoint(this._tmpVec2A);return this.add(new n([m.x,m.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(f){return f.unshift(this.getEndPoint()),this.add(new i(f))},moveTo:function(f,c){return f instanceof a?this.add(new e(f.x,f.y)):this.add(new e(f,c))},toJSON:function(){for(var f=[],c=0;c<this.curves.length;c++)f.push(this.curves[c].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:f}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});r.register("path",function(f,c){return new l(f,c)}),p.exports=l},81078:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(35026),o=new d({initialize:function(n,e){this.parent=n,this.events=e,e||(this.events=n.events?n.events:n),this.list={},this.values={},this._frozen=!1,!n.hasOwnProperty("sys")&&this.events&&this.events.once(v.DESTROY,this.destroy,this)},get:function(r){var n=this.list;if(Array.isArray(r)){for(var e=[],s=0;s<r.length;s++)e.push(n[r[s]]);return e}else return n[r]},getAll:function(){var r={};for(var n in this.list)this.list.hasOwnProperty(n)&&(r[n]=this.list[n]);return r},query:function(r){var n={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(r)&&(n[e]=this.list[e]);return n},set:function(r,n){if(this._frozen)return this;if(typeof r=="string")return this.setValue(r,n);for(var e in r)this.setValue(e,r[e]);return this},inc:function(r,n){if(this._frozen)return this;n===void 0&&(n=1);var e=this.get(r);return e===void 0&&(e=0),this.set(r,e+n),this},toggle:function(r){return this._frozen?this:(this.set(r,!this.get(r)),this)},setValue:function(r,n){if(this._frozen)return this;if(this.has(r))this.values[r]=n;else{var e=this,s=this.list,h=this.events,i=this.parent;Object.defineProperty(this.values,r,{enumerable:!0,configurable:!0,get:function(){return s[r]},set:function(a){if(!e._frozen){var u=s[r];s[r]=a,h.emit(v.CHANGE_DATA,i,r,a,u),h.emit(v.CHANGE_DATA_KEY+r,i,a,u)}}}),s[r]=n,h.emit(v.SET_DATA,i,r,n)}return this},each:function(r,n){for(var e=[this.parent,null,void 0],s=1;s<arguments.length;s++)e.push(arguments[s]);for(var h in this.list)e[1]=h,e[2]=this.list[h],r.apply(n,e);return this},merge:function(r,n){n===void 0&&(n=!0);for(var e in r)r.hasOwnProperty(e)&&(n||!n&&!this.has(e))&&this.setValue(e,r[e]);return this},remove:function(r){if(this._frozen)return this;if(Array.isArray(r))for(var n=0;n<r.length;n++)this.removeValue(r[n]);else return this.removeValue(r);return this},removeValue:function(r){if(this.has(r)){var n=this.list[r];delete this.list[r],delete this.values[r],this.events.emit(v.REMOVE_DATA,this.parent,r,n)}return this},pop:function(r){var n=void 0;return!this._frozen&&this.has(r)&&(n=this.list[r],delete this.list[r],delete this.values[r],this.events.emit(v.REMOVE_DATA,this.parent,r,n)),n},has:function(r){return this.list.hasOwnProperty(r)},setFreeze:function(r){return this._frozen=r,this},reset:function(){for(var r in this.list)delete this.list[r],delete this.values[r];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(v.CHANGE_DATA),this.events.off(v.SET_DATA),this.events.off(v.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(r){this._frozen=!!r}},count:{get:function(){var r=0;for(var n in this.list)this.list[n]!==void 0&&r++;return r}}});p.exports=o},76508:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(81078),o=t(91963),r=t(7599),n=new d({Extends:v,initialize:function(s){v.call(this,s,s.sys.events),this.scene=s,this.systems=s.sys,s.sys.events.once(r.BOOT,this.boot,this),s.sys.events.on(r.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){v.prototype.destroy.call(this),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});o.register("DataManagerPlugin",n,"data"),p.exports=n},73569:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="changedata"},15590:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="changedata-"},37669:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},87090:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedata"},90142:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="setdata"},35026:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CHANGE_DATA:t(73569),CHANGE_DATA_KEY:t(15590),DESTROY:t(37669),REMOVE_DATA:t(87090),SET_DATA:t(90142)}},1999:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DataManager:t(81078),DataManagerPlugin:t(76508),Events:t(35026)}},10720:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(1350),v={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function o(){if(typeof importScripts=="function")return v;v.audioData=!!window.Audio,v.webAudio=!!(window.AudioContext||window.webkitAudioContext);var r=document.createElement("audio"),n=!!r.canPlayType;try{if(n){var e=function(i,a){var u=r.canPlayType("audio/"+i).replace(/^no$/,"");return a?!!(u||r.canPlayType("audio/"+a).replace(/^no$/,"")):!!u};if(v.ogg=e('ogg; codecs="vorbis"'),v.opus=e('ogg; codecs="opus"',"opus"),v.mp3=e("mpeg"),v.wav=e("wav"),v.m4a=e("x-m4a"),v.aac=e("aac"),v.flac=e("flac","x-flac"),v.webm=e('webm; codecs="vorbis"'),r.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(d.edge)v.dolby=!0;else if(d.safari&&d.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var s=parseInt(RegExp.$1,10),h=parseInt(RegExp.$2,10);(s===10&&h>=11||s>10)&&(v.dolby=!0)}}}}catch{}return v}p.exports=o()},1350:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(36580),v={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function o(){var r=navigator.userAgent;return/Edg\/\d+/.test(r)?(v.edge=!0,v.es2019=!0):/OPR/.test(r)?(v.opera=!0,v.es2019=!0):/Chrome\/(\d+)/.test(r)&&!d.windowsPhone?(v.chrome=!0,v.chromeVersion=parseInt(RegExp.$1,10),v.es2019=v.chromeVersion>69):/Firefox\D+(\d+)/.test(r)?(v.firefox=!0,v.firefoxVersion=parseInt(RegExp.$1,10),v.es2019=v.firefoxVersion>10):/AppleWebKit/.test(r)&&d.iOS?v.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(r)?(v.ie=!0,v.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+) Safari/.test(r)&&!d.windowsPhone?(v.safari=!0,v.safariVersion=parseInt(RegExp.$1,10),v.es2019=v.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(r)&&(v.ie=!0,v.trident=!0,v.tridentVersion=parseInt(RegExp.$1,10),v.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(r)&&(v.silk=!0),v}p.exports=o()},98581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(61068),v={supportInverseAlpha:!1,supportNewBlendModes:!1};function o(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",s="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",h=new Image;return h.onload=function(){var i=new Image;i.onload=function(){var a=d.create2D(i,6),u=a.getContext("2d",{willReadFrequently:!0});if(u.globalCompositeOperation="multiply",u.drawImage(h,0,0),u.drawImage(i,2,0),!u.getImageData(2,0,1,1))return!1;var l=u.getImageData(2,0,1,1).data;d.remove(i),v.supportNewBlendModes=l[0]===255&&l[1]===0&&l[2]===0},i.src=e+"/wCKxvRF"+s},h.src=e+"AP804Oa6"+s,!1}function r(){var e=d.create2D(this,2),s=e.getContext("2d",{willReadFrequently:!0});s.fillStyle="rgba(10, 20, 30, 0.5)",s.fillRect(0,0,1,1);var h=s.getImageData(0,0,1,1);if(h===null)return!1;s.putImageData(h,1,0);var i=s.getImageData(1,0,1,1),a=i.data[0]===h.data[0]&&i.data[1]===h.data[1]&&i.data[2]===h.data[2]&&i.data[3]===h.data[3];return d.remove(this),a}function n(){return typeof importScripts!="function"&&document!==void 0&&(v.supportNewBlendModes=o(),v.supportInverseAlpha=r()),v}p.exports=n()},90185:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(36580),v=t(1350),o=t(61068),r={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function n(){var s=new ArrayBuffer(4),h=new Uint8Array(s),i=new Uint32Array(s);return h[0]=161,h[1]=178,h[2]=195,h[3]=212,i[0]===3569595041?!0:i[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return r;r.canvas=!!window.CanvasRenderingContext2D;try{r.localStorage=!!localStorage.getItem}catch{r.localStorage=!1}r.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,r.fileSystem=!!window.requestFileSystem;var s=!1,h=function(){if(window.WebGLRenderingContext)try{var i=o.createWebGL(this),a=i.getContext("webgl")||i.getContext("experimental-webgl"),u=o.create2D(this),l=u.getContext("2d",{willReadFrequently:!0}),f=l.createImageData(1,1);return s=f.data instanceof Uint8ClampedArray,o.remove(i),o.remove(u),!!a}catch{return!1}return!1};return r.webGL=h(),r.worker=!!window.Worker,r.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,r.getUserMedia=r.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,v.firefox&&v.firefoxVersion<21&&(r.getUserMedia=!1),!d.iOS&&(v.ie||v.firefox||v.chrome)&&(r.canvasBitBltShift=!0),(v.safari||v.mobileSafari)&&(r.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(r.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(r.littleEndian=n()),r.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&r.littleEndian!==null&&s,r}p.exports=e()},33553:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return S;var d,v="Fullscreen",o="FullScreen",r=["request"+v,"request"+o,"webkitRequest"+v,"webkitRequest"+o,"msRequest"+v,"msRequest"+o,"mozRequest"+o,"mozRequest"+v];for(d=0;d<r.length;d++)if(document.documentElement[r[d]]){S.available=!0,S.request=r[d];break}var n=["cancel"+o,"exit"+v,"webkitCancel"+o,"webkitExit"+v,"msCancel"+o,"msExit"+v,"mozCancel"+o,"mozExit"+v];if(S.available){for(d=0;d<n.length;d++)if(document[n[d]]){S.cancel=n[d];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(S.keyboard=!0),Object.defineProperty(S,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),S}p.exports=t()},95872:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(1350),v={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function o(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(v.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(v.mspointer=!0),navigator.getGamepads&&(v.gamepads=!0),"onwheel"in window||d.ie&&"WheelEvent"in window?v.wheelEvent="wheel":"onmousewheel"in window?v.wheelEvent="mousewheel":d.firefox&&"MouseScrollEvent"in window&&(v.wheelEvent="DOMMouseScroll")),v}p.exports=o()},36580:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return S;var d=navigator.userAgent;/Windows/.test(d)?S.windows=!0:/Mac OS/.test(d)&&!/like Mac OS/.test(d)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(S.iOS=!0,S.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),S.iOSVersion=parseInt(RegExp.$1,10)):S.macOS=!0:/Android/.test(d)?S.android=!0:/Linux/.test(d)?S.linux=!0:/iP[ao]d|iPhone/i.test(d)?(S.iOS=!0,navigator.appVersion.match(/OS (\d+)/),S.iOSVersion=parseInt(RegExp.$1,10),S.iPhone=d.toLowerCase().indexOf("iphone")!==-1,S.iPad=d.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(d)||/\bKF[A-Z][A-Z]+/.test(d)||/Silk.*Mobile Safari/.test(d)?S.kindle=!0:/CrOS/.test(d)&&(S.chromeOS=!0),(/Windows Phone/i.test(d)||/IEMobile/i.test(d))&&(S.android=!1,S.iOS=!1,S.macOS=!1,S.windows=!0,S.windowsPhone=!0);var v=/Silk/.test(d);return(S.windows||S.macOS||S.linux&&!v||S.chromeOS)&&(S.desktop=!0),(S.windowsPhone||/Windows NT/i.test(d)&&/Touch/i.test(d))&&(S.desktop=!1),navigator.standalone&&(S.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(S.cordova=!0),window.ejecta!==void 0&&(S.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(S.node=!0),S.node&&typeof process.versions=="object"&&(S.nodeWebkit=!!process.versions["node-webkit"],S.electron=!!process.versions.electron),/Crosswalk/.test(d)&&(S.crosswalk=!0),S.pixelRatio=window.devicePixelRatio||1,S}p.exports=t()},53861:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72632),v={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function o(){if(typeof importScripts=="function")return v;var r=document.createElement("video"),n=!!r.canPlayType,e=/^no$/;try{n&&(r.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(v.ogg=!0),r.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(v.h264=!0,v.mp4=!0),r.canPlayType("video/x-m4v").replace(e,"")&&(v.m4v=!0),r.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(v.webm=!0),r.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(v.vp9=!0),r.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(v.hls=!0))}catch{}return r.parentNode&&r.parentNode.removeChild(r),v.getVideoURL=function(s){Array.isArray(s)||(s=[s]);for(var h=0;h<s.length;h++){var i=d(s[h],"url",s[h]);if(i.indexOf("blob:")===0)return{url:i,type:""};var a;if(i.indexOf("data:")===0?a=i.split(",")[0].match(/\/(.*?);/):a=i.match(/\.([a-zA-Z0-9]+)($|\?)/),a=d(s[h],"type",a?a[1]:"").toLowerCase(),v[a])return{url:i,type:a}}return null},v}p.exports=o()},77290:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={os:t(36580),browser:t(1350),features:t(90185),input:t(95872),audio:t(10720),video:t(53861),fullscreen:t(33553),canvasFeatures:t(98581)}},65246:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=new Float32Array(20),o=new d({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(r){return this._matrix.set(r),this._dirty=!0,this},reset:function(){var r=this._matrix;return r.fill(0),r[0]=1,r[6]=1,r[12]=1,r[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var r=this._data;return this._dirty&&(r.set(this._matrix),r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,this._dirty=!1),r},brightness:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var e=r;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],n)},saturate:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var e=r*2/3+1,s=(e-1)*-.5;return this.multiply([e,s,s,0,0,s,e,s,0,0,s,s,e,0,0,0,0,0,1,0],n)},desaturate:function(r){return r===void 0&&(r=!1),this.saturate(-1,r)},hue:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1),r=r/180*Math.PI;var e=Math.cos(r),s=Math.sin(r),h=.213,i=.715,a=.072;return this.multiply([h+e*(1-h)+s*-h,i+e*-i+s*-i,a+e*-a+s*(1-a),0,0,h+e*-h+s*.143,i+e*(1-i)+s*.14,a+e*-a+s*-.283,0,0,h+e*-h+s*-(1-h),i+e*-i+s*i,a+e*(1-a)+s*a,0,0,0,0,0,1,0],n)},grayscale:function(r,n){return r===void 0&&(r=1),n===void 0&&(n=!1),this.saturate(-r,n)},blackWhite:function(r){return r===void 0&&(r=!1),this.multiply(o.BLACK_WHITE,r)},contrast:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var e=r+1,s=-.5*(e-1);return this.multiply([e,0,0,0,s,0,e,0,0,s,0,0,e,0,s,0,0,0,1,0],n)},negative:function(r){return r===void 0&&(r=!1),this.multiply(o.NEGATIVE,r)},desaturateLuminance:function(r){return r===void 0&&(r=!1),this.multiply(o.DESATURATE_LUMINANCE,r)},sepia:function(r){return r===void 0&&(r=!1),this.multiply(o.SEPIA,r)},night:function(r,n){return r===void 0&&(r=.1),n===void 0&&(n=!1),this.multiply([r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0],n)},lsd:function(r){return r===void 0&&(r=!1),this.multiply(o.LSD,r)},brown:function(r){return r===void 0&&(r=!1),this.multiply(o.BROWN,r)},vintagePinhole:function(r){return r===void 0&&(r=!1),this.multiply(o.VINTAGE,r)},kodachrome:function(r){return r===void 0&&(r=!1),this.multiply(o.KODACHROME,r)},technicolor:function(r){return r===void 0&&(r=!1),this.multiply(o.TECHNICOLOR,r)},polaroid:function(r){return r===void 0&&(r=!1),this.multiply(o.POLAROID,r)},shiftToBGR:function(r){return r===void 0&&(r=!1),this.multiply(o.SHIFT_BGR,r)},multiply:function(r,n){n===void 0&&(n=!1),n||this.reset();var e=this._matrix,s=v;return s.set(e),e.set([s[0]*r[0]+s[1]*r[5]+s[2]*r[10]+s[3]*r[15],s[0]*r[1]+s[1]*r[6]+s[2]*r[11]+s[3]*r[16],s[0]*r[2]+s[1]*r[7]+s[2]*r[12]+s[3]*r[17],s[0]*r[3]+s[1]*r[8]+s[2]*r[13]+s[3]*r[18],s[0]*r[4]+s[1]*r[9]+s[2]*r[14]+s[3]*r[19]+s[4],s[5]*r[0]+s[6]*r[5]+s[7]*r[10]+s[8]*r[15],s[5]*r[1]+s[6]*r[6]+s[7]*r[11]+s[8]*r[16],s[5]*r[2]+s[6]*r[7]+s[7]*r[12]+s[8]*r[17],s[5]*r[3]+s[6]*r[8]+s[7]*r[13]+s[8]*r[18],s[5]*r[4]+s[6]*r[9]+s[7]*r[14]+s[8]*r[19]+s[9],s[10]*r[0]+s[11]*r[5]+s[12]*r[10]+s[13]*r[15],s[10]*r[1]+s[11]*r[6]+s[12]*r[11]+s[13]*r[16],s[10]*r[2]+s[11]*r[7]+s[12]*r[12]+s[13]*r[17],s[10]*r[3]+s[11]*r[8]+s[12]*r[13]+s[13]*r[18],s[10]*r[4]+s[11]*r[9]+s[12]*r[14]+s[13]*r[19]+s[14],s[15]*r[0]+s[16]*r[5]+s[17]*r[10]+s[18]*r[15],s[15]*r[1]+s[16]*r[6]+s[17]*r[11]+s[18]*r[16],s[15]*r[2]+s[16]*r[7]+s[17]*r[12]+s[18]*r[17],s[15]*r[3]+s[16]*r[8]+s[17]*r[13]+s[18]*r[18],s[15]*r[4]+s[16]*r[9]+s[17]*r[14]+s[18]*r[19]+s[19]]),this._dirty=!0,this}});o.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],o.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],o.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],o.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],o.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],o.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],o.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],o.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],o.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],o.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],o.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],p.exports=o},39298:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(72283),o=new d({initialize:function(n,e,s){this._rgb=[0,0,0],this.onChangeCallback=v,this.dirty=!1,this.set(n,e,s)},set:function(r,n,e){return r===void 0&&(r=0),n===void 0&&(n=0),e===void 0&&(e=0),this._rgb=[r,n,e],this.onChange(),this},equals:function(r,n,e){var s=this._rgb;return s[0]===r&&s[1]===n&&s[2]===e},onChange:function(){this.dirty=!0;var r=this._rgb;this.onChangeCallback.call(this,r[0],r[1],r[2])},r:{get:function(){return this._rgb[0]},set:function(r){this._rgb[0]=r,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(r){this._rgb[1]=r,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(r){this._rgb[2]=r,this.onChange()}},destroy:function(){this.onChangeCallback=null}});p.exports=o},84093:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};p.exports=S},32058:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(97328),v=t(59994),o=t(73174),r=t(28417),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,v(s)+h),o(e,d(s)+i),e};p.exports=n},85535:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(97328),v=t(40163),o=t(73174),r=t(74465),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,v(s)-h),o(e,d(s)+i),e};p.exports=n},9605:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(97328),v=t(70271),o=t(73174),r=t(19298),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,v(s)+h),o(e,d(s)+i),e};p.exports=n},22529:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(21843),v=t(59994),o=t(29568),r=function(n,e,s,h){return s===void 0&&(s=0),h===void 0&&(h=0),d(n,v(e)+s,o(e)+h),n};p.exports=r},5739:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(29568),v=t(40163),o=t(81711),r=t(74465),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,v(s)-h),o(e,d(s)+i),e};p.exports=n},40327:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(84093),v=[];v[d.BOTTOM_CENTER]=t(32058),v[d.BOTTOM_LEFT]=t(85535),v[d.BOTTOM_RIGHT]=t(9605),v[d.CENTER]=t(22529),v[d.LEFT_CENTER]=t(5739),v[d.RIGHT_CENTER]=t(27683),v[d.TOP_CENTER]=t(96439),v[d.TOP_LEFT]=t(81447),v[d.TOP_RIGHT]=t(47888),v[d.LEFT_BOTTOM]=v[d.BOTTOM_LEFT],v[d.LEFT_TOP]=v[d.TOP_LEFT],v[d.RIGHT_BOTTOM]=v[d.BOTTOM_RIGHT],v[d.RIGHT_TOP]=v[d.TOP_RIGHT];var o=function(r,n,e,s,h){return v[e](r,n,s,h)};p.exports=o},27683:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(29568),v=t(70271),o=t(81711),r=t(19298),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,v(s)+h),o(e,d(s)+i),e};p.exports=n},96439:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(59994),v=t(47196),o=t(28417),r=t(84349),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),o(e,d(s)+h),r(e,v(s)-i),e};p.exports=n},81447:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(40163),v=t(47196),o=t(74465),r=t(84349),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),o(e,d(s)-h),r(e,v(s)-i),e};p.exports=n},47888:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(70271),v=t(47196),o=t(19298),r=t(84349),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),o(e,d(s)+h),r(e,v(s)-i),e};p.exports=n},46997:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BottomCenter:t(32058),BottomLeft:t(85535),BottomRight:t(9605),Center:t(22529),LeftCenter:t(5739),QuickSet:t(40327),RightCenter:t(27683),TopCenter:t(96439),TopLeft:t(81447),TopRight:t(47888)}},93545:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(84093),v=t(98611),o={In:t(46997),To:t(86639)};o=v(!1,o,d),p.exports=o},27118:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(97328),v=t(59994),o=t(28417),r=t(84349),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),o(e,v(s)+h),r(e,d(s)+i),e};p.exports=n},84469:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(97328),v=t(40163),o=t(74465),r=t(84349),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),o(e,v(s)-h),r(e,d(s)+i),e};p.exports=n},51577:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(97328),v=t(70271),o=t(19298),r=t(84349),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),o(e,v(s)+h),r(e,d(s)+i),e};p.exports=n},90271:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(97328),v=t(40163),o=t(73174),r=t(19298),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,v(s)-h),o(e,d(s)+i),e};p.exports=n},30466:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(29568),v=t(40163),o=t(81711),r=t(19298),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,v(s)-h),o(e,d(s)+i),e};p.exports=n},50087:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(40163),v=t(47196),o=t(19298),r=t(84349),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),o(e,d(s)-h),r(e,v(s)-i),e};p.exports=n},82590:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(84093),v=[];v[d.BOTTOM_CENTER]=t(27118),v[d.BOTTOM_LEFT]=t(84469),v[d.BOTTOM_RIGHT]=t(51577),v[d.LEFT_BOTTOM]=t(90271),v[d.LEFT_CENTER]=t(30466),v[d.LEFT_TOP]=t(50087),v[d.RIGHT_BOTTOM]=t(13555),v[d.RIGHT_CENTER]=t(99049),v[d.RIGHT_TOP]=t(67788),v[d.TOP_CENTER]=t(78170),v[d.TOP_LEFT]=t(54145),v[d.TOP_RIGHT]=t(75548);var o=function(r,n,e,s,h){return v[e](r,n,s,h)};p.exports=o},13555:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(97328),v=t(70271),o=t(73174),r=t(74465),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,v(s)+h),o(e,d(s)+i),e};p.exports=n},99049:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(29568),v=t(70271),o=t(81711),r=t(74465),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,v(s)+h),o(e,d(s)+i),e};p.exports=n},67788:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(70271),v=t(47196),o=t(74465),r=t(84349),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),o(e,d(s)+h),r(e,v(s)-i),e};p.exports=n},78170:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(59994),v=t(47196),o=t(73174),r=t(28417),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,d(s)+h),o(e,v(s)-i),e};p.exports=n},54145:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(40163),v=t(47196),o=t(73174),r=t(74465),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,d(s)-h),o(e,v(s)-i),e};p.exports=n},75548:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(70271),v=t(47196),o=t(73174),r=t(19298),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,d(s)+h),o(e,v(s)-i),e};p.exports=n},86639:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BottomCenter:t(27118),BottomLeft:t(84469),BottomRight:t(51577),LeftBottom:t(90271),LeftCenter:t(30466),LeftTop:t(50087),QuickSet:t(82590),RightBottom:t(13555),RightCenter:t(99049),RightTop:t(67788),TopCenter:t(78170),TopLeft:t(54145),TopRight:t(75548)}},21843:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(28417),v=t(81711),o=function(r,n,e){return d(r,n),v(r,e)};p.exports=o},97328:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y+t.height-t.height*t.originY};p.exports=S},7126:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(97328),v=t(40163),o=t(70271),r=t(47196),n=t(74118),e=function(s,h){h===void 0&&(h=new n);var i=v(s),a=r(s);return h.x=i,h.y=a,h.width=o(s)-i,h.height=d(s)-a,h};p.exports=e},59994:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x-t.width*t.originX+t.width*.5};p.exports=S},29568:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y-t.height*t.originY+t.height*.5};p.exports=S},40163:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x-t.width*t.originX};p.exports=S},52088:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.width*t.originX};p.exports=S},23379:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.height*t.originY};p.exports=S},70271:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x+t.width-t.width*t.originX};p.exports=S},47196:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y-t.height*t.originY};p.exports=S},73174:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return t.y=d-t.height+t.height*t.originY,t};p.exports=S},28417:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){var v=t.width*t.originX;return t.x=d+v-t.width*.5,t};p.exports=S},81711:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){var v=t.height*t.originY;return t.y=d+v-t.height*.5,t};p.exports=S},74465:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return t.x=d+t.width*t.originX,t};p.exports=S},19298:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return t.x=d-t.width+t.width*t.originX,t};p.exports=S},84349:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return t.y=d+t.height*t.originY,t};p.exports=S},15252:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CenterOn:t(21843),GetBottom:t(97328),GetBounds:t(7126),GetCenterX:t(59994),GetCenterY:t(29568),GetLeft:t(40163),GetOffsetX:t(52088),GetOffsetY:t(23379),GetRight:t(70271),GetTop:t(47196),SetBottom:t(73174),SetCenterX:t(28417),SetCenterY:t(81711),SetLeft:t(74465),SetRight:t(19298),SetTop:t(84349)}},70616:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCrisp:function(t){var d=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return d.forEach(function(v){t.style["image-rendering"]=v}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};p.exports=S},61068:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(86459),v=t(8213),o=[],r=!1,n=function(){var e=function(m,x,g,y,T){x===void 0&&(x=1),g===void 0&&(g=1),y===void 0&&(y=d.CANVAS),T===void 0&&(T=!1);var C,A=i(y);return A===null?(A={parent:m,canvas:document.createElement("canvas"),type:y},y===d.CANVAS&&o.push(A),C=A.canvas):(A.parent=m,C=A.canvas),T&&(A.parent=C),C.width=x,C.height=g,r&&y===d.CANVAS&&v.disable(C.getContext("2d",{willReadFrequently:!1})),C},s=function(m,x,g){return e(m,x,g,d.CANVAS)},h=function(m,x,g){return e(m,x,g,d.WEBGL)},i=function(m){if(m===void 0&&(m=d.CANVAS),m===d.WEBGL)return null;for(var x=0;x<o.length;x++){var g=o[x];if(!g.parent&&g.type===m)return g}return null},a=function(m){var x=m instanceof HTMLCanvasElement;o.forEach(function(g){(x&&g.canvas===m||!x&&g.parent===m)&&(g.parent=null,g.canvas.width=1,g.canvas.height=1)})},u=function(){var m=0;return o.forEach(function(x){x.parent&&m++}),m},l=function(){return o.length-u()},f=function(){r=!0},c=function(){r=!1};return{create2D:s,create:e,createWebGL:h,disableSmoothing:f,enableSmoothing:c,first:i,free:l,pool:o,remove:a,total:u}};p.exports=n()},8213:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="",t=function(){var d=function(n){for(var e=["i","webkitI","msI","mozI","oI"],s=0;s<e.length;s++){var h=e[s]+"mageSmoothingEnabled";if(h in n)return h}return null},v=function(n){return S===""&&(S=d(n)),S&&(n[S]=!0),n},o=function(n){return S===""&&(S=d(n)),S&&(n[S]=!1),n},r=function(n){return S!==null?n[S]:null};return{disable:o,enable:v,getPrefix:d,isEnabled:r}};p.exports=t()},59271:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return d===void 0&&(d="none"),t.style.msTouchAction=d,t.style["ms-touch-action"]=d,t.style["touch-action"]=d,t};p.exports=S},36505:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){d===void 0&&(d="none");var v=["-webkit-","-khtml-","-moz-","-ms-",""];return v.forEach(function(o){t.style[o+"user-select"]=d}),t.style["-webkit-touch-callout"]=d,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};p.exports=S},23514:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CanvasInterpolation:t(70616),CanvasPool:t(61068),Smoothing:t(8213),TouchAction:t(59271),UserSelect:t(36505)}},27119:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(22946),o=t(5657),r=t(24650),n=t(68033),e=new d({initialize:function(h,i,a,u){h===void 0&&(h=0),i===void 0&&(i=0),a===void 0&&(a=0),u===void 0&&(u=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(h,i,a,u)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(s,h,i,a,u){return a===void 0&&(a=255),u===void 0&&(u=!0),this._locked=!0,this.red=s,this.green=h,this.blue=i,this.alpha=a,this._locked=!1,this.update(u)},setGLTo:function(s,h,i,a){return a===void 0&&(a=1),this._locked=!0,this.redGL=s,this.greenGL=h,this.blueGL=i,this.alphaGL=a,this._locked=!1,this.update(!0)},setFromRGB:function(s){return this._locked=!0,this.red=s.r,this.green=s.g,this.blue=s.b,s.hasOwnProperty("a")&&(this.alpha=s.a),this._locked=!1,this.update(!0)},setFromHSV:function(s,h,i){return r(s,h,i,this)},update:function(s){if(s===void 0&&(s=!1),this._locked)return this;var h=this.r,i=this.g,a=this.b,u=this.a;return this._color=v(h,i,a),this._color32=o(h,i,a,u),this._rgba="rgba("+h+","+i+","+a+","+u/255+")",s&&n(h,i,a,this),this},updateHSV:function(){var s=this.r,h=this.g,i=this.b;return n(s,h,i,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(s){return this.setTo(s,s,s)},random:function(s,h){s===void 0&&(s=0),h===void 0&&(h=255);var i=Math.floor(s+Math.random()*(h-s)),a=Math.floor(s+Math.random()*(h-s)),u=Math.floor(s+Math.random()*(h-s));return this.setTo(i,a,u)},randomGray:function(s,h){s===void 0&&(s=0),h===void 0&&(h=255);var i=Math.floor(s+Math.random()*(h-s));return this.setTo(i,i,i)},saturate:function(s){return this.s+=s/100,this},desaturate:function(s){return this.s-=s/100,this},lighten:function(s){return this.v+=s/100,this},darken:function(s){return this.v-=s/100,this},brighten:function(s){var h=this.r,i=this.g,a=this.b;return h=Math.max(0,Math.min(255,h-Math.round(255*-(s/100)))),i=Math.max(0,Math.min(255,i-Math.round(255*-(s/100)))),a=Math.max(0,Math.min(255,a-Math.round(255*-(s/100)))),this.setTo(h,i,a)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(s){this.gl[0]=Math.min(Math.abs(s),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(s){this.gl[1]=Math.min(Math.abs(s),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(s){this.gl[2]=Math.min(Math.abs(s),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(s){this.gl[3]=Math.min(Math.abs(s),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(s){s=Math.floor(Math.abs(s)),this.r=Math.min(s,255),this.gl[0]=s/255,this.update(!0)}},green:{get:function(){return this.g},set:function(s){s=Math.floor(Math.abs(s)),this.g=Math.min(s,255),this.gl[1]=s/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(s){s=Math.floor(Math.abs(s)),this.b=Math.min(s,255),this.gl[2]=s/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(s){s=Math.floor(Math.abs(s)),this.a=Math.min(s,255),this.gl[3]=s/255,this.update()}},h:{get:function(){return this._h},set:function(s){this._h=s,r(s,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(s){this._s=s,r(this._h,s,this._v,this)}},v:{get:function(){return this._v},set:function(s){this._v=s,r(this._h,this._s,s,this)}}});p.exports=e},30245:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(22946),v=function(o){o===void 0&&(o=1024);var r=[],n=255,e,s=255,h=0,i=0;for(e=0;e<=n;e++)r.push({r:s,g:e,b:i,color:d(s,e,i)});for(h=255,e=n;e>=0;e--)r.push({r:e,g:h,b:i,color:d(e,h,i)});for(s=0,e=0;e<=n;e++,h--)r.push({r:s,g:h,b:e,color:d(s,h,e)});for(h=0,i=255,e=0;e<=n;e++,i--,s++)r.push({r:s,g:h,b:i,color:d(s,h,i)});if(o===1024)return r;var a=[],u=0,l=1024/o;for(e=0;e<o;e++)a.push(r[Math.floor(u)]),u+=l;return a};p.exports=v},86672:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var d={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(d.a=t>>>24),d};p.exports=S},25409:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var d=t.toString(16);return d.length===1?"0"+d:d};p.exports=S},22946:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){return t<<16|d<<8|v};p.exports=S},5657:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){return o<<24|t<<16|d<<8|v};p.exports=S},74777:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(27119),v=t(59998),o=function(r,n,e){var s=e,h=e,i=e;if(n!==0){var a=e<.5?e*(1+n):e+n-e*n,u=2*e-a;s=v(u,a,r+1/3),h=v(u,a,r),i=v(u,a,r-1/3)}var l=new d;return l.setGLTo(s,h,i,1)};p.exports=o},89263:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(24650),v=function(o,r){o===void 0&&(o=1),r===void 0&&(r=1);for(var n=[],e=0;e<=359;e++)n.push(d(e/359,o,r));return n};p.exports=v},24650:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(22946);function v(r,n,e,s){var h=(r+n*6)%6,i=Math.min(h,4-h,1);return Math.round(255*(s-s*e*Math.max(0,i)))}var o=function(r,n,e,s){n===void 0&&(n=1),e===void 0&&(e=1);var h=v(5,r,n,e),i=v(3,r,n,e),a=v(1,r,n,e);return s?s.setTo?s.setTo(h,i,a,s.alpha,!0):(s.r=h,s.g=i,s.b=a,s.color=d(h,i,a),s):{r:h,g:i,b:a,color:d(h,i,a)}};p.exports=o},91487:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(27119),v=function(o){var r=new d;o=o.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(i,a,u,l){return a+a+u+u+l+l});var n=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);if(n){var e=parseInt(n[1],16),s=parseInt(n[2],16),h=parseInt(n[3],16);r.setTo(e,s,h)}return r};p.exports=v},59998:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){return v<0&&(v+=1),v>1&&(v-=1),v<.16666666666666666?t+(d-t)*6*v:v<.5?d:v<.6666666666666666?t+(d-t)*(.6666666666666666-v)*6:t};p.exports=S},74853:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(27119),v=t(15978),o=function(r){var n=v(r);return new d(n.r,n.g,n.b,n.a)};p.exports=o},15978:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};p.exports=S},53756:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(42798),v=function(n,e,s,h,i,a,u,l){u===void 0&&(u=100),l===void 0&&(l=0);var f=l/u;return{r:d(n,h,f),g:d(e,i,f),b:d(s,a,f)}},o=function(n,e,s,h){return s===void 0&&(s=100),h===void 0&&(h=0),v(n.r,n.g,n.b,e.r,e.g,e.b,s,h)},r=function(n,e,s,h,i,a){return i===void 0&&(i=100),a===void 0&&(a=0),v(n.r,n.g,n.b,e,s,h,i,a)};p.exports={RGBWithRGB:v,ColorWithRGB:r,ColorWithColor:o}},73904:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(27119),v=function(o){return new d(o.r,o.g,o.b,o.a)};p.exports=v},26841:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(27119),v=function(o){var r=new d,n=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(o.toLowerCase());if(n){var e=parseInt(n[1],10),s=parseInt(n[2],10),h=parseInt(n[3],10),i=n[4]!==void 0?parseFloat(n[4]):1;r.setTo(e,s,h,i*255)}return r};p.exports=v},68033:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){o===void 0&&(o={h:0,s:0,v:0}),t/=255,d/=255,v/=255;var r=Math.min(t,d,v),n=Math.max(t,d,v),e=n-r,s=0,h=n===0?0:e/n,i=n;return n!==r&&(n===t?s=(d-v)/e+(d<v?6:0):n===d?s=(v-t)/e+2:n===v&&(s=(t-d)/e+4),s/=6),o.hasOwnProperty("_h")?(o._h=s,o._s=h,o._v=i):(o.h=s,o.s=h,o.v=i),o};p.exports=S},4880:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(25409),v=function(o,r,n,e,s){return e===void 0&&(e=255),s===void 0&&(s="#"),s==="#"?"#"+((1<<24)+(o<<16)+(r<<8)+n).toString(16).slice(1,7):"0x"+d(e)+d(o)+d(r)+d(n)};p.exports=v},37243:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(17489),v=t(27119),o=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=255),new v(d(r,n),d(r,n),d(r,n))};p.exports=o},93222:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(91487),v=t(74853),o=t(73904),r=t(26841),n=function(e){var s=typeof e;switch(s){case"string":return e.substr(0,3).toLowerCase()==="rgb"?r(e):d(e);case"number":return v(e);case"object":return o(e)}};p.exports=n},95509:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(27119);d.ColorSpectrum=t(30245),d.ColorToRGBA=t(86672),d.ComponentToHex=t(25409),d.GetColor=t(22946),d.GetColor32=t(5657),d.HexStringToColor=t(91487),d.HSLToColor=t(74777),d.HSVColorWheel=t(89263),d.HSVToRGB=t(24650),d.HueToComponent=t(59998),d.IntegerToColor=t(74853),d.IntegerToRGB=t(15978),d.Interpolate=t(53756),d.ObjectToColor=t(73904),d.RandomRGB=t(37243),d.RGBStringToColor=t(26841),d.RGBToHSV=t(68033),d.RGBToString=t(4880),d.ValueToColor=t(93222),p.exports=d},24816:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Align:t(93545),BaseShader:t(31053),Bounds:t(15252),Canvas:t(23514),Color:t(95509),ColorMatrix:t(65246),Masks:t(93310),RGB:t(39298)}},76756:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(61286),o=new d({initialize:function(n,e,s,h,i,a){e||(e=n.sys.make.image({x:s,y:h,key:i,frame:a,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(r){this.bitmapMask=r},preRenderWebGL:function(r,n,e){r.pipelines.BITMAPMASK_PIPELINE.beginMask(this,n,e)},postRenderWebGL:function(r,n,e){r.pipelines.BITMAPMASK_PIPELINE.endMask(this,n,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});v.register("bitmapMask",function(r,n,e,s,h){return new o(this.scene,r,n,e,s,h)}),p.exports=o},63037:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=new d({initialize:function(r,n){this.geometryMask=n,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(o){return this.geometryMask=o,this},setInvertAlpha:function(o){return o===void 0&&(o=!0),this.invertAlpha=o,this},preRenderWebGL:function(o,r,n){var e=o.gl;o.flush(),o.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),o.maskCount=0),o.currentCameraMask.mask!==this&&(o.currentMask.mask=this),o.maskStack.push({mask:this,camera:n}),this.applyStencil(o,n,!0),o.maskCount++},applyStencil:function(o,r,n){var e=o.gl,s=this.geometryMask,h=o.maskCount,i=255;e.colorMask(!1,!1,!1,!1),n?(e.stencilFunc(e.EQUAL,h,i),e.stencilOp(e.KEEP,e.KEEP,e.INCR),h++):(e.stencilFunc(e.EQUAL,h+1,i),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=h,s.renderWebGL(o,s,r),o.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,h,i):e.stencilFunc(e.EQUAL,h,i)},postRenderWebGL:function(o){var r=o.gl;o.maskStack.pop(),o.maskCount--,o.flush();var n=o.currentMask;if(o.maskStack.length===0)n.mask=null,r.disable(r.STENCIL_TEST);else{var e=o.maskStack[o.maskStack.length-1];e.mask.applyStencil(o,e.camera,!1),o.currentCameraMask.mask!==e.mask?(n.mask=e.mask,n.camera=e.camera):n.mask=null}},preRenderCanvas:function(o,r,n){var e=this.geometryMask;o.currentContext.save(),e.renderCanvas(o,e,n,null,null,!0),o.currentContext.clip()},postRenderCanvas:function(o){o.currentContext.restore()},destroy:function(){this.geometryMask=null}});p.exports=v},93310:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BitmapMask:t(76756),GeometryMask:t(63037)}},31053:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=new d({initialize:function(r,n,e,s){(!n||n==="")&&(n=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),s===void 0&&(s=null),this.key=r,this.fragmentSrc=n,this.vertexSrc=e,this.uniforms=s}});p.exports=v},99584:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){var v;if(d)typeof d=="string"?v=document.getElementById(d):typeof d=="object"&&d.nodeType===1&&(v=d);else if(t.parentElement||d===null)return t;return v||(v=document.body),v.appendChild(t),t};p.exports=S},85178:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(99584),v=function(o){var r=o.config;if(!(!r.parent||!r.domCreateContainer)){var n=document.createElement("div");n.style.cssText=["display: block;","width: "+o.scale.width+"px;","height: "+o.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+r.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),o.domContainer=n,d(n,r.parent)}};p.exports=v},21546:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(36580),v=function(o){if(document.readyState==="complete"||document.readyState==="interactive"){o();return}var r=function(){document.removeEventListener("deviceready",r,!0),document.removeEventListener("DOMContentLoaded",r,!0),window.removeEventListener("load",r,!0),o()};document.body?d.cordova?document.addEventListener("deviceready",r,!1):(document.addEventListener("DOMContentLoaded",r,!0),window.addEventListener("load",r,!0)):window.setTimeout(r,20)};p.exports=v},74181:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!t)return window.innerHeight;var d=Math.abs(window.orientation),v={w:0,h:0},o=document.createElement("div");return o.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(o),v.w=d===90?o.offsetHeight:window.innerWidth,v.h=d===90?window.innerWidth:o.offsetHeight,document.documentElement.removeChild(o),o=null,Math.abs(window.orientation)!==90?v.h:v.w};p.exports=S},9229:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(55301),v=function(o,r){var n=window.screen,e=n?n.orientation||n.mozOrientation||n.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?d.ORIENTATION.PORTRAIT:d.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return d.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return d.ORIENTATION.LANDSCAPE}else return r>o?d.ORIENTATION.PORTRAIT:d.ORIENTATION.LANDSCAPE};p.exports=v},2893:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var d;return t!==""&&(typeof t=="string"?d=document.getElementById(t):t&&t.nodeType===1&&(d=t)),d||(d=document.body),d};p.exports=S},89200:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var d="";try{if(window.DOMParser){var v=new DOMParser;d=v.parseFromString(t,"text/xml")}else d=new ActiveXObject("Microsoft.XMLDOM"),d.loadXML(t)}catch{d=null}return!d||!d.documentElement||d.getElementsByTagName("parsererror").length?null:d};p.exports=S},55638:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){t.parentNode&&t.parentNode.removeChild(t)};p.exports=S},27385:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(72283),o=new d({initialize:function(){this.isRunning=!1,this.callback=v,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var n=this;this.step=function e(s){n.callback(s),n.isRunning&&(n.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){n.isRunning&&(n.timeOutID=window.setTimeout(e,n.delay)),n.callback(window.performance.now())}},start:function(r,n,e){this.isRunning||(this.callback=r,this.isSetTimeOut=n,this.delay=e,this.isRunning=!0,this.timeOutID=n?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=v}});p.exports=o},3590:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={AddToDOM:t(99584),DOMContentLoaded:t(21546),GetInnerHeight:t(74181),GetScreenOrientation:t(9229),GetTarget:t(2893),ParseXML:t(89200),RemoveFromDOM:t(55638),RequestAnimationFrame:t(27385)};p.exports=d},78491:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(6659),o=t(91963),r=new d({Extends:v,initialize:function(){v.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});o.register("EventEmitter",r,"events"),p.exports=r},95146:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={EventEmitter:t(78491)}},20170:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(47551),o=t(47406),r=new d({Extends:v,initialize:function(e,s){s===void 0&&(s=1),v.call(this,o.BARREL,e),this.amount=s}});p.exports=r},51182:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(47551),o=t(47406),r=new d({Extends:v,initialize:function(e,s,h,i,a,u,l){h===void 0&&(h=1),i===void 0&&(i=1),a===void 0&&(a=1),u===void 0&&(u=1),l===void 0&&(l=4),v.call(this,o.BLOOM,e),this.steps=l,this.offsetX=h,this.offsetY=i,this.blurStrength=a,this.strength=u,this.glcolor=[1,1,1],s!=null&&(this.color=s)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});p.exports=r},51498:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(47551),o=t(47406),r=new d({Extends:v,initialize:function(e,s,h,i,a,u,l){h===void 0&&(h=2),i===void 0&&(i=2),a===void 0&&(a=1),l===void 0&&(l=4),v.call(this,o.BLUR,e),this.quality=0,this.x=h,this.y=i,this.steps=l,this.strength=a,this.glcolor=[1,1,1],u!=null&&(this.color=u)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});p.exports=r},12042:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(47551),o=t(47406),r=new d({Extends:v,initialize:function(e,s,h,i,a,u,l,f){s===void 0&&(s=.5),h===void 0&&(h=1),i===void 0&&(i=.2),a===void 0&&(a=!1),u===void 0&&(u=1),l===void 0&&(l=1),f===void 0&&(f=1),v.call(this,o.BOKEH,e),this.radius=s,this.amount=h,this.contrast=i,this.isTiltShift=a,this.strength=f,this.blurX=u,this.blurY=l}});p.exports=r},69900:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(47551),o=t(47406),r=new d({Extends:v,initialize:function(e,s,h,i,a,u){s===void 0&&(s=8),a===void 0&&(a=1),u===void 0&&(u=.005),v.call(this,o.CIRCLE,e),this.scale=a,this.feather=u,this.thickness=s,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],h!=null&&(this.color=h),i!=null&&(this.backgroundColor=i)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}},backgroundColor:{get:function(){var n=this.glcolor2;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor2;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});p.exports=r},48991:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(65246),o=t(47406),r=new d({Extends:v,initialize:function(e){v.call(this),this.type=o.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});p.exports=r},47551:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=new d({initialize:function(r,n){this.type=r,this.gameObject=n,this.active=!0},setActive:function(o){return this.active=o,this},destroy:function(){this.gameObject=null,this.active=!1}});p.exports=v},47909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(47551),o=t(47406),r=new d({Extends:v,initialize:function(e,s,h,i){s===void 0&&(s="__WHITE"),h===void 0&&(h=.005),i===void 0&&(i=.005),v.call(this,o.DISPLACEMENT,e),this.x=h,this.y=i,this.glTexture,this.setTexture(s)},setTexture:function(n){var e=this.gameObject.scene.sys.textures.getFrame(n);return e&&(this.glTexture=e.glTexture),this}});p.exports=r},18919:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(47551),o=t(47406),r=new d({Extends:v,initialize:function(e,s,h,i,a){h===void 0&&(h=4),i===void 0&&(i=0),a===void 0&&(a=!1),v.call(this,o.GLOW,e),this.outerStrength=h,this.innerStrength=i,this.knockout=a,this.glcolor=[1,1,1,1],s!==void 0&&(this.color=s)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});p.exports=r},62494:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(47551),o=t(47406),r=new d({Extends:v,initialize:function(e,s,h,i,a,u,l,f,c){i===void 0&&(i=.2),a===void 0&&(a=0),u===void 0&&(u=0),l===void 0&&(l=0),f===void 0&&(f=1),c===void 0&&(c=0),v.call(this,o.GRADIENT,e),this.alpha=i,this.size=c,this.fromX=a,this.fromY=u,this.toX=l,this.toY=f,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],s!=null&&(this.color1=s),h!=null&&(this.color2=h)},color1:{get:function(){var n=this.glcolor1;return(n[0]<<16)+(n[1]<<8)+(n[2]|0)},set:function(n){var e=this.glcolor1;e[0]=n>>16&255,e[1]=n>>8&255,e[2]=n&255}},color2:{get:function(){var n=this.glcolor2;return(n[0]<<16)+(n[1]<<8)+(n[2]|0)},set:function(n){var e=this.glcolor2;e[0]=n>>16&255,e[1]=n>>8&255,e[2]=n&255}}});p.exports=r},68897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(47551),o=t(47406),r=new d({Extends:v,initialize:function(e,s){s===void 0&&(s=1),v.call(this,o.PIXELATE,e),this.amount=s}});p.exports=r},58575:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(47551),o=t(47406),r=new d({Extends:v,initialize:function(e,s,h,i,a,u,l,f){s===void 0&&(s=0),h===void 0&&(h=0),i===void 0&&(i=.1),a===void 0&&(a=1),l===void 0&&(l=6),f===void 0&&(f=1),v.call(this,o.SHADOW,e),this.x=s,this.y=h,this.decay=i,this.power=a,this.glcolor=[0,0,0,1],this.samples=l,this.intensity=f,u!==void 0&&(this.color=u)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});p.exports=r},33755:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(47551),o=t(47406),r=new d({Extends:v,initialize:function(e,s,h,i,a){s===void 0&&(s=.5),h===void 0&&(h=.5),i===void 0&&(i=3),a===void 0&&(a=!1),v.call(this,o.SHINE,e),this.speed=s,this.lineWidth=h,this.gradient=i,this.reveal=a}});p.exports=r},24949:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(47551),o=t(47406),r=new d({Extends:v,initialize:function(e,s,h,i,a){s===void 0&&(s=.5),h===void 0&&(h=.5),i===void 0&&(i=.5),a===void 0&&(a=.5),v.call(this,o.VIGNETTE,e),this.x=s,this.y=h,this.radius=i,this.strength=a}});p.exports=r},66241:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(47551),o=t(47406),r=new d({Extends:v,initialize:function(e,s,h,i,a){s===void 0&&(s=.1),h===void 0&&(h=0),i===void 0&&(i=0),a===void 0&&(a=!1),v.call(this,o.WIPE,e),this.progress=0,this.wipeWidth=s,this.direction=h,this.axis=i,this.reveal=a}});p.exports=r},47406:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};p.exports=S},96910:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(98611),v=t(47406),o={Barrel:t(20170),Controller:t(47551),Bloom:t(51182),Blur:t(51498),Bokeh:t(12042),Circle:t(69900),ColorMatrix:t(48991),Displacement:t(47909),Glow:t(18919),Gradient:t(62494),Pixelate:t(68897),Shadow:t(58575),Shine:t(33755),Vignette:t(24949),Wipe:t(66241)};o=d(!1,o,v),p.exports=o},88933:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(95723),v=t(20494),o=function(r,n,e){n.x=v(e,"x",0),n.y=v(e,"y",0),n.depth=v(e,"depth",0),n.flipX=v(e,"flipX",!1),n.flipY=v(e,"flipY",!1);var s=v(e,"scale",null);typeof s=="number"?n.setScale(s):s!==null&&(n.scaleX=v(s,"x",1),n.scaleY=v(s,"y",1));var h=v(e,"scrollFactor",null);typeof h=="number"?n.setScrollFactor(h):h!==null&&(n.scrollFactorX=v(h,"x",1),n.scrollFactorY=v(h,"y",1)),n.rotation=v(e,"rotation",0);var i=v(e,"angle",null);i!==null&&(n.angle=i),n.alpha=v(e,"alpha",1);var a=v(e,"origin",null);if(typeof a=="number")n.setOrigin(a);else if(a!==null){var u=v(a,"x",.5),l=v(a,"y",.5);n.setOrigin(u,l)}n.blendMode=v(e,"blendMode",d.NORMAL),n.visible=v(e,"visible",!0);var f=v(e,"add",!0);return f&&r.sys.displayList.add(n),n.preUpdate&&r.sys.updateList.add(n),n};p.exports=o},32291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(20494),v=function(o,r){var n=d(r,"anims",null);if(n===null)return o;if(typeof n=="string")o.anims.play(n);else if(typeof n=="object"){var e=o.anims,s=d(n,"key",void 0);if(s){var h=d(n,"startFrame",void 0),i=d(n,"delay",0),a=d(n,"repeat",0),u=d(n,"repeatDelay",0),l=d(n,"yoyo",!1),f=d(n,"play",!1),c=d(n,"delayedPlay",0),m={key:s,delay:i,repeat:a,repeatDelay:u,yoyo:l,startFrame:h};f?e.play(m):c>0?e.playAfterDelay(m,c):e.load(m)}}return o};p.exports=v},91713:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(71207),o=t(91963),r=t(56631),n=t(7599),e=t(17922),s=new d({Extends:v,initialize:function(i){v.call(this,i),this.sortChildrenFlag=!1,this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(n.BOOT,this.boot,this),this.events.on(n.START,this.start,this)},boot:function(){this.events.once(n.DESTROY,this.destroy,this)},addChildCallback:function(h){h.displayList&&h.displayList!==this&&h.removeFromDisplayList(),h.parentContainer&&h.parentContainer.remove(h),h.displayList||(this.queueDepthSort(),h.displayList=this,h.emit(r.ADDED_TO_SCENE,h,this.scene),this.events.emit(n.ADDED_TO_SCENE,h,this.scene))},removeChildCallback:function(h){this.queueDepthSort(),h.displayList=null,h.emit(r.REMOVED_FROM_SCENE,h,this.scene),this.events.emit(n.REMOVED_FROM_SCENE,h,this.scene)},start:function(){this.events.once(n.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(h,i){return h._depth-i._depth},getChildren:function(){return this.list},shutdown:function(){for(var h=this.list;h.length;)h[0].destroy(!0);this.events.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(n.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});o.register("DisplayList",s,"displayList"),p.exports=s},89980:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(48129),o=t(81078),r=t(6659),n=t(56631),e=t(7599),s=new d({Extends:r,initialize:function(i,a){r.call(this),this.scene=i,this.displayList=null,this.type=a,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(n.ADDED_TO_SCENE,this.addedToScene,this),this.on(n.REMOVED_FROM_SCENE,this.removedFromScene,this),i.sys.queueDepthSort()},setActive:function(h){return this.active=h,this},setName:function(h){return this.name=h,this},setState:function(h){return this.state=h,this},setDataEnabled:function(){return this.data||(this.data=new o(this)),this},setData:function(h,i){return this.data||(this.data=new o(this)),this.data.set(h,i),this},incData:function(h,i){return this.data||(this.data=new o(this)),this.data.inc(h,i),this},toggleData:function(h){return this.data||(this.data=new o(this)),this.data.toggle(h),this},getData:function(h){return this.data||(this.data=new o(this)),this.data.get(h)},setInteractive:function(h,i,a){return this.scene.sys.input.enable(this,h,i,a),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return v(this)},willRender:function(h){var i=this.displayList&&this.displayList.active?this.displayList.willRender(h):!0;return!(!i||s.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&h.id)},getIndexList:function(){for(var h=this,i=this.parentContainer,a=[];i&&(a.unshift(i.getIndex(h)),h=i,i.parentContainer);)i=i.parentContainer;return this.displayList?a.unshift(this.displayList.getIndex(h)):a.unshift(this.scene.sys.displayList.getIndex(h)),a},addToDisplayList:function(h){return h===void 0&&(h=this.scene.sys.displayList),this.displayList&&this.displayList!==h&&this.removeFromDisplayList(),h.exists(this)||(this.displayList=h,h.add(this,!0),h.queueDepthSort(),this.emit(n.ADDED_TO_SCENE,this,this.scene),h.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var h=this.displayList||this.scene.sys.displayList;return h&&h.exists(this)&&(h.remove(this,!0),h.queueDepthSort(),this.displayList=null,this.emit(n.REMOVED_FROM_SCENE,this,this.scene),h.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(h){!this.scene||this.ignoreDestroy||(h===void 0&&(h=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(n.DESTROY,this,h),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});s.RENDER_MASK=15,p.exports=s},99325:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(91963),o=t(7599),r=new d({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(n,e){r.prototype.hasOwnProperty(n)||(r.prototype[n]=e)},r.remove=function(n){r.prototype.hasOwnProperty(n)&&delete r.prototype[n]},v.register("GameObjectCreator",r,"make"),p.exports=r},61286:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(91963),o=t(7599),r=new d({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},existing:function(n){return(n.renderCanvas||n.renderWebGL)&&this.displayList.add(n),n.preUpdate&&this.updateList.add(n),n},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(n,e){r.prototype.hasOwnProperty(n)||(r.prototype[n]=e)},r.remove=function(n){r.prototype.hasOwnProperty(n)&&delete r.prototype[n]},v.register("GameObjectFactory",r,"add"),p.exports=r},73329:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(69360),v=new d,o=new d,r=new d,n={camera:v,sprite:o,calc:r},e=function(s,h,i){var a=v,u=o,l=r;return u.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),a.copyFrom(h.matrix),i?(a.multiplyWithOffset(i,-h.scrollX*s.scrollFactorX,-h.scrollY*s.scrollFactorY),u.e=s.x,u.f=s.y):(u.e-=h.scrollX*s.scrollFactorX,u.f-=h.scrollY*s.scrollFactorY),a.multiply(u,l),n};p.exports=e},92034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(74623),o=t(91963),r=t(7599),n=new d({Extends:v,initialize:function(s){v.call(this),this.checkQueue=!0,this.scene=s,this.systems=s.sys,s.sys.events.once(r.BOOT,this.boot,this),s.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(r.PRE_UPDATE,this.update,this),e.on(r.UPDATE,this.sceneUpdate,this),e.once(r.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,s){for(var h=this._active,i=h.length,a=0;a<i;a++){var u=h[a];u.active&&u.preUpdate.call(u,e,s)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var s=this.systems.events;s.off(r.PRE_UPDATE,this.update,this),s.off(r.UPDATE,this.sceneUpdate,this),s.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});o.register("UpdateList",n,"updateList"),p.exports=n},8810:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o,r,n,e,s,h,i,a,u,l,f,c){var m=v.x-d.displayOriginX+r,x=v.y-d.displayOriginY+n,g=m+v.w,y=x+v.h,T=e.getXRound(m,x,s),C=e.getYRound(m,x,s),A=e.getXRound(m,y,s),w=e.getYRound(m,y,s),E=e.getXRound(g,y,s),P=e.getYRound(g,y,s),B=e.getXRound(g,x,s),R=e.getYRound(g,x,s);t.batchQuad(d,T,C,A,w,E,P,B,R,o.u0,o.v0,o.u1,o.v1,h,i,a,u,l,f,c)};p.exports=S},82173:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){if(v===void 0&&(v=!1),o===void 0)return o={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},o;var r=t.text,n=r.length,e=t.maxWidth,s=t.wordWrapCharCode,h=Number.MAX_VALUE,i=Number.MAX_VALUE,a=0,u=0,l=t.fontData.chars,f=t.fontData.lineHeight,c=t.letterSpacing,m=t.lineSpacing,x=0,g=0,y=0,T=null,C=t._align,A=0,w=0,E=t.fontSize/t.fontData.size,P=E*t.scaleX,B=E*t.scaleY,R=null,I=0,N=[],X=Number.MAX_VALUE,Y=0,O=0,D=0,F,M=[],L=[],G=null;if(e>0){for(F=0;F<n;F++){if(y=r.charCodeAt(F),y===10){G!==null&&(M.push({word:G.word,i:G.i,x:G.x*P,y:G.y*B,w:G.w*P,h:G.h*B,cr:!0}),G=null),x=0,g+=f+m,R=null;continue}if(T=l[y],!!T){if(R!==null)var U=T.kerning[I];y===s?G!==null&&(M.push({word:G.word,i:G.i,x:G.x*P,y:G.y*B,w:G.w*P,h:G.h*B,cr:!1}),G=null):(G===null&&(G={word:"",i:F,x,y:g,w:0,h:f,cr:!1}),G.word=G.word.concat(r[F]),G.w+=T.xOffset+T.xAdvance+(U!==void 0?U:0)),x+=T.xAdvance+c,R=T,I=y}}G!==null&&M.push({word:G.word,i:G.i,x:G.x*P,y:G.y*B,w:G.w*P,h:G.h*B,cr:!1}),x=0,g=0,R=null,I=0;var W,H=0,J=[];for(F=0;F<M.length;F++){var Q=M[F],$=Q.x,k=Q.x+Q.w;if(W){var _=$-(W.x+W.w);H=$-(_+W.w),W=null}var q=$-H,et=k-H;q>e||et>e?(J.push(Q.i-1),Q.cr?(J.push(Q.i+Q.word.length),H=0,W=null):W=Q):Q.cr&&(J.push(Q.i+Q.word.length),H=0,W=null)}var ot=function(yt,Tt,St){return yt.substr(0,Tt)+St+yt.substr(Tt+1)};for(F=J.length-1;F>=0;F--)r=ot(r,J[F],`
`);o.wrappedText=r,n=r.length,M=[],G=null}var lt=0;for(F=0;F<n;F++){if(y=r.charCodeAt(F),y===10){G!==null&&(M.push({word:G.word,i:G.i,x:G.x*P,y:G.y*B,w:G.w*P,h:G.h*B}),G=null),x=0,g+=f+m,R=null,N[O]=D,D>Y&&(Y=D),D<X&&(X=D),O++,D=0;continue}if(T=l[y],!!T){if(A=x,w=g,R!==null){var ht=T.kerning[I];A+=ht!==void 0?ht:0}h>A&&(h=A),i>w&&(i=w);var tt=A+T.xAdvance,at=w+f;a<tt&&(a=tt),u<at&&(u=at);var rt=T.xOffset+T.xAdvance+(ht!==void 0?ht:0);y===s?G!==null&&(M.push({word:G.word,i:G.i,x:G.x*P,y:G.y*B,w:G.w*P,h:G.h*B}),G=null):(G===null&&(G={word:"",i:lt,x,y:g,w:0,h:f}),G.word=G.word.concat(r[F]),G.w+=rt),L.push({i:lt,idx:F,char:r[F],code:y,x:(T.xOffset+A)*E,y:(T.yOffset+g)*E,w:T.width*E,h:T.height*E,t:g*E,r:tt*E,b:f*E,line:O,glyph:T}),x+=T.xAdvance+c+(ht!==void 0?ht:0),R=T,I=y,D=tt*E,lt++}}if(G!==null&&M.push({word:G.word,i:G.i,x:G.x*P,y:G.y*B,w:G.w*P,h:G.h*B}),N[O]=D,D>Y&&(Y=D),D<X&&(X=D),C>0)for(var dt=0;dt<L.length;dt++){var ut=L[dt];if(C===1){var mt=(Y-N[ut.line])/2;ut.x+=mt,ut.r+=mt}else if(C===2){var pt=Y-N[ut.line];ut.x+=pt,ut.r+=pt}}var ct=o.local,ft=o.global,gt=o.lines;return ct.x=h*E,ct.y=i*E,ct.width=a*E,ct.height=u*E,ft.x=t.x-t._displayOriginX+h*P,ft.y=t.y-t._displayOriginY+i*B,ft.width=a*P,ft.height=u*B,gt.shortest=X,gt.longest=Y,gt.lengths=N,d&&(ct.x=Math.ceil(ct.x),ct.y=Math.ceil(ct.y),ct.width=Math.ceil(ct.width),ct.height=Math.ceil(ct.height),ft.x=Math.ceil(ft.x),ft.y=Math.ceil(ft.y),ft.width=Math.ceil(ft.width),ft.height=Math.ceil(ft.height),gt.shortest=Math.ceil(X),gt.longest=Math.ceil(Y)),v&&(t._displayOriginX=t.originX*ct.width,t._displayOriginY=t.originY*ct.height,ft.x=t.x-t._displayOriginX*t.scaleX,ft.y=t.y-t._displayOriginY*t.scaleY,d&&(ft.x=Math.ceil(ft.x),ft.y=Math.ceil(ft.y))),o.words=M,o.characters=L,o.lines.height=f,o.scale=E,o.scaleX=t.scaleX,o.scaleY=t.scaleY,o};p.exports=S},68298:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(31476),v=function(o,r,n,e,s,h,i){var a=o.sys.textures.get(n),u=a.get(e),l=o.sys.cache.xml.get(s);if(u&&l){var f=d(l,u,h,i,a);return o.sys.cache.bitmapFont.add(r,{data:f,texture:n,frame:e,fromAtlas:!0}),!0}else return!1};p.exports=v},39860:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(10850),v=function(o,r){var n=r.width,e=r.height,s=Math.floor(n/2),h=Math.floor(e/2),i=d(r,"chars","");if(i!==""){var a=d(r,"image",""),u=o.sys.textures.getFrame(a),l=u.cutX,f=u.cutY,c=u.source.width,m=u.source.height,x=d(r,"offset.x",0),g=d(r,"offset.y",0),y=d(r,"spacing.x",0),T=d(r,"spacing.y",0),C=d(r,"lineSpacing",0),A=d(r,"charsPerRow",null);A===null&&(A=c/n,A>i.length&&(A=i.length));for(var w=x,E=g,P={retroFont:!0,font:a,size:n,lineHeight:e+C,chars:{}},B=0,R=0;R<i.length;R++){var I=i.charCodeAt(R),N=(l+w)/c,X=(f+E)/m,Y=(l+w+n)/c,O=(f+E+e)/m;P.chars[I]={x:w,y:E,width:n,height:e,centerX:s,centerY:h,xOffset:0,yOffset:0,xAdvance:n,data:{},kerning:{},u0:N,v0:X,u1:Y,v1:O},B++,B===A?(B=0,w=x,E+=e+T):w+=n+y}var D={data:P,frame:null,texture:a};return D}};p.exports=v},31476:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(d,v){return parseInt(d.getAttribute(v),10)}var t=function(d,v,o,r,n){o===void 0&&(o=0),r===void 0&&(r=0);var e=v.cutX,s=v.cutY,h=v.source.width,i=v.source.height,a=v.sourceIndex,u={},l=d.getElementsByTagName("info")[0],f=d.getElementsByTagName("common")[0];u.font=l.getAttribute("face"),u.size=S(l,"size"),u.lineHeight=S(f,"lineHeight")+r,u.chars={};var c=d.getElementsByTagName("char"),m=v!==void 0&&v.trimmed;if(m)var x=v.height,g=v.width;for(var y=0;y<c.length;y++){var T=c[y],C=S(T,"id"),A=String.fromCharCode(C),w=S(T,"x"),E=S(T,"y"),P=S(T,"width"),B=S(T,"height");m&&(w<g&&(g=w),E<x&&(x=E)),m&&x!==0&&g!==0&&(w-=v.x,E-=v.y);var R=(e+w)/h,I=(s+E)/i,N=(e+w+P)/h,X=(s+E+B)/i;if(u.chars[C]={x:w,y:E,width:P,height:B,centerX:Math.floor(P/2),centerY:Math.floor(B/2),xOffset:S(T,"xoffset"),yOffset:S(T,"yoffset"),xAdvance:S(T,"xadvance")+o,data:{},kerning:{},u0:R,v0:I,u1:N,v1:X},n&&P!==0&&B!==0){var Y=n.add(A,a,w,E,P,B);Y&&Y.setUVs(P,B,R,I,N,X)}}var O=d.getElementsByTagName("kerning");for(y=0;y<O.length;y++){var D=O[y],F=S(D,"first"),M=S(D,"second"),L=S(D,"amount");u.chars[M].kerning[F]=L}return u};p.exports=t},55873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(66863),v=t(98611),o={Parse:t(39860)};o=v(!1,o,d),p.exports=o},66863:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};p.exports=S},13468:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(44616),v=t(56694),o=t(88899),r=new v({Extends:d,Mixins:[o],initialize:function(e,s,h,i,a,u,l){d.call(this,e,s,h,i,a,u,l),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(n,e){return this.cropWidth=n,this.cropHeight=e,this},setDisplayCallback:function(n){return this.displayCallback=n,this},setScrollX:function(n){return this.scrollX=n,this},setScrollY:function(n){return this.scrollY=n,this}});p.exports=r},93438:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(49584),v=function(o,r,n,e){var s=r._text,h=s.length,i=o.currentContext;if(!(h===0||!d(o,i,r,n,e))){n.addToRenderList(r);var a=r.fromAtlas?r.frame:r.texture.frames.__BASE,u=r.displayCallback,l=r.callbackData,f=r.fontData.chars,c=r.fontData.lineHeight,m=r._letterSpacing,x=0,g=0,y=0,T=null,C=0,A=0,w=0,E=0,P=0,B=0,R=null,I=0,N=r.frame.source.image,X=a.cutX,Y=a.cutY,O=0,D=0,F=r._fontSize/r.fontData.size,M=r._align,L=0,G=0;r.getTextBounds(!1);var U=r._bounds.lines;M===1?G=(U.longest-U.lengths[0])/2:M===2&&(G=U.longest-U.lengths[0]),i.translate(-r.displayOriginX,-r.displayOriginY);var W=n.roundPixels;r.cropWidth>0&&r.cropHeight>0&&(i.beginPath(),i.rect(0,0,r.cropWidth,r.cropHeight),i.clip());for(var H=0;H<h;H++){if(D=F,O=0,y=s.charCodeAt(H),y===10){L++,M===1?G=(U.longest-U.lengths[L])/2:M===2&&(G=U.longest-U.lengths[L]),x=0,g+=c,R=null;continue}if(T=f[y],!!T){if(C=X+T.x,A=Y+T.y,w=T.width,E=T.height,P=T.xOffset+x-r.scrollX,B=T.yOffset+g-r.scrollY,R!==null){var J=T.kerning[I];P+=J!==void 0?J:0}if(u){l.index=H,l.charCode=y,l.x=P,l.y=B,l.scale=D,l.rotation=O,l.data=T.data;var Q=u(l);P=Q.x,B=Q.y,D=Q.scale,O=Q.rotation}P*=D,B*=D,P+=G,x+=T.xAdvance+m+(J!==void 0?J:0),R=T,I=y,!(w===0||E===0||y===32)&&(W&&(P=Math.round(P),B=Math.round(B)),i.save(),i.translate(P,B),i.rotate(O),i.scale(D,D),i.drawImage(N,C,A,w,E,0,0,w,E),i.restore())}}i.restore()}};p.exports=v},67513:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(13468),v=t(88933),o=t(99325),r=t(20494);o.register("dynamicBitmapText",function(n,e){n===void 0&&(n={});var s=r(n,"font",""),h=r(n,"text",""),i=r(n,"size",!1),a=new d(this.scene,0,0,s,h,i);return e!==void 0&&(n.add=e),v(this.scene,a,n),a})},94145:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(13468),v=t(61286);v.register("dynamicBitmapText",function(o,r,n,e,s){return this.displayList.add(new d(this.scene,o,r,n,e,s))})},88899:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(16873),o=t(93438),p.exports={renderWebGL:v,renderCanvas:o}},16873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(73329),v=t(69360),o=t(75512),r=new v,n=function(e,s,h,i){var a=s.text,u=a.length;if(u!==0){h.addToRenderList(s);var l=e.pipelines.set(s.pipeline,s),f=d(s,h,i);e.pipelines.preBatch(s);var c=f.sprite,m=f.calc,x=r,g=s.cropWidth>0||s.cropHeight>0;g&&(l.flush(),e.pushScissor(m.tx,m.ty,s.cropWidth*m.scaleX,s.cropHeight*m.scaleY));var y=s.frame,T=y.glTexture,C=s.tintFill,A=o.getTintAppendFloatAlpha(s.tintTopLeft,h.alpha*s._alphaTL),w=o.getTintAppendFloatAlpha(s.tintTopRight,h.alpha*s._alphaTR),E=o.getTintAppendFloatAlpha(s.tintBottomLeft,h.alpha*s._alphaBL),P=o.getTintAppendFloatAlpha(s.tintBottomRight,h.alpha*s._alphaBR),B=l.setGameObject(s),R=0,I=0,N=0,X=0,Y=s.letterSpacing,O,D=0,F=0,M,L=s.scrollX,G=s.scrollY,U=s.fontData,W=U.chars,H=U.lineHeight,J=s.fontSize/U.size,Q=0,$=s._align,k=0,_=0,q=s.getTextBounds(!1);s.maxWidth>0&&(a=q.wrappedText,u=a.length);var et=s._bounds.lines;$===1?_=(et.longest-et.lengths[0])/2:$===2&&(_=et.longest-et.lengths[0]);for(var ot=h.roundPixels,lt=s.displayCallback,ht=s.callbackData,tt=0;tt<u;tt++){if(N=a.charCodeAt(tt),N===10){k++,$===1?_=(et.longest-et.lengths[k])/2:$===2&&(_=et.longest-et.lengths[k]),R=0,I+=H,M=null;continue}if(O=W[N],!!O){D=O.width,F=O.height;var at=O.xOffset+R-L,rt=O.yOffset+I-G;if(M!==null){var dt=O.kerning[X];at+=dt!==void 0?dt:0}if(R+=O.xAdvance+Y,M=O,X=N,!(D===0||F===0||N===32)){if(J=s.fontSize/s.fontData.size,Q=0,lt){ht.color=0,ht.tint.topLeft=A,ht.tint.topRight=w,ht.tint.bottomLeft=E,ht.tint.bottomRight=P,ht.index=tt,ht.charCode=N,ht.x=at,ht.y=rt,ht.scale=J,ht.rotation=Q,ht.data=O.data;var ut=lt(ht);at=ut.x,rt=ut.y,J=ut.scale,Q=ut.rotation,ut.color?(A=ut.color,w=ut.color,E=ut.color,P=ut.color):(A=ut.tint.topLeft,w=ut.tint.topRight,E=ut.tint.bottomLeft,P=ut.tint.bottomRight),A=o.getTintAppendFloatAlpha(A,h.alpha*s._alphaTL),w=o.getTintAppendFloatAlpha(w,h.alpha*s._alphaTR),E=o.getTintAppendFloatAlpha(E,h.alpha*s._alphaBL),P=o.getTintAppendFloatAlpha(P,h.alpha*s._alphaBR)}at*=J,rt*=J,at-=s.displayOriginX,rt-=s.displayOriginY,at+=_,x.applyITRS(at,rt,Q,J,J),m.multiply(x,c);var mt=O.u0,pt=O.v0,ct=O.u1,ft=O.v1,gt=D,yt=F,Tt=c.e,St=c.f,Ct=yt*c.c+c.e,Ft=yt*c.d+c.f,Pt=gt*c.a+yt*c.c+c.e,Bt=gt*c.b+yt*c.d+c.f,Rt=gt*c.a+c.e,Mt=gt*c.b+c.f;ot&&(Tt=Math.round(Tt),St=Math.round(St),Ct=Math.round(Ct),Ft=Math.round(Ft),Pt=Math.round(Pt),Bt=Math.round(Bt),Rt=Math.round(Rt),Mt=Math.round(Mt)),l.batchQuad(s,Tt,St,Ct,Ft,Pt,Bt,Rt,Mt,mt,pt,ct,ft,A,w,E,P,C,T,B)}}}g&&(l.flush(),e.popScissor()),e.pipelines.postBatch(s)}};p.exports=n},44616:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(82897),o=t(64937),r=t(89980),n=t(82173),e=t(68298),s=t(31476),h=t(74118),i=t(84557),a=new d({Extends:r,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Texture,o.Tint,o.Transform,o.Visible,i],initialize:function(l,f,c,m,x,g,y){x===void 0&&(x=""),y===void 0&&(y=0),r.call(this,l,"BitmapText"),this.font=m;var T=this.scene.sys.cache.bitmapFont.get(m);T||console.warn("Invalid BitmapText key: "+m),this.fontData=T.data,this._text="",this._fontSize=g||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=y,this._bounds=n(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=T.fromAtlas,this.setTexture(T.texture,T.frame),this.setPosition(f,c),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(x)},setLeftAlign:function(){return this._align=a.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=a.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=a.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(u){return this._fontSize=u,this._dirty=!0,this},setLetterSpacing:function(u){return u===void 0&&(u=0),this._letterSpacing=u,this._dirty=!0,this},setLineSpacing:function(u){return u===void 0&&(u=0),this.lineSpacing=u,this},setText:function(u){return!u&&u!==0&&(u=""),Array.isArray(u)&&(u=u.join(`
`)),u!==this.text&&(this._text=u.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(u,l,f,c){return u===void 0&&(u=0),l===void 0&&(l=0),f===void 0&&(f=0),c===void 0&&(c=.5),this.dropShadowX=u,this.dropShadowY=l,this.dropShadowColor=f,this.dropShadowAlpha=c,this},setCharacterTint:function(u,l,f,c,m,x,g){u===void 0&&(u=0),l===void 0&&(l=1),f===void 0&&(f=!1),c===void 0&&(c=-1),m===void 0&&(m=c,x=c,g=c);var y=this.text.length;l===-1&&(l=y),u<0&&(u=y+u),u=v(u,0,y-1);for(var T=v(u+l,u,y),C=this.charColors,A=u;A<T;A++){var w=C[A];if(c===-1)C[A]=null;else{var E=f?1:0;w?(w.tintEffect=E,w.tintTL=c,w.tintTR=m,w.tintBL=x,w.tintBR=g):C[A]={tintEffect:E,tintTL:c,tintTR:m,tintBL:x,tintBR:g}}}return this},setWordTint:function(u,l,f,c,m,x,g){l===void 0&&(l=1);for(var y=this.getTextBounds(),T=y.words,C=typeof u=="number",A=0,w=0;w<T.length;w++){var E=T[w];if((C&&w===u||!C&&E.word===u)&&(this.setCharacterTint(E.i,E.word.length,f,c,m,x,g),A++,A===l))return this}return this},getTextBounds:function(u){var l=this._bounds;return(this._dirty||u||this.scaleX!==l.scaleX||this.scaleY!==l.scaleY)&&(n(this,u,!0,l),this._dirty=!1),l},getCharacterAt:function(u,l,f){for(var c=this.getLocalPoint(u,l,null,f),m=this.getTextBounds(),x=m.characters,g=new h,y=0;y<x.length;y++){var T=x[y];if(g.setTo(T.x,T.t,T.r-T.x,T.b),g.contains(c.x,c.y))return T}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(u,l,f){if(l===void 0&&(l=this._fontSize),f===void 0&&(f=this._align),u!==this.font){var c=this.scene.sys.cache.bitmapFont.get(u);c&&(this.font=u,this.fontData=c.data,this._fontSize=l,this._align=f,this.fromAtlas=c.fromAtlas===!0,this.setTexture(c.texture,c.frame),n(this,!1,!0,this._bounds))}return this},setMaxWidth:function(u,l){return this._maxWidth=u,this._dirty=!0,l!==void 0&&(this.wordWrapCharCode=l),this},align:{set:function(u){this._align=u,this._dirty=!0},get:function(){return this._align}},text:{set:function(u){this.setText(u)},get:function(){return this._text}},fontSize:{set:function(u){this._fontSize=u,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(u){this._letterSpacing=u,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(u){this._lineSpacing=u,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(u){this._maxWidth=u,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var u=o.ToJSON(this),l={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return u.data=l,u},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});a.ALIGN_LEFT=0,a.ALIGN_CENTER=1,a.ALIGN_RIGHT=2,a.ParseFromAtlas=e,a.ParseXMLBitmapFont=s,p.exports=a},97545:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(49584),v=function(o,r,n,e){var s=r._text,h=s.length,i=o.currentContext;if(!(h===0||!d(o,i,r,n,e))){n.addToRenderList(r);var a=r.fromAtlas?r.frame:r.texture.frames.__BASE,u=r.fontData.chars,l=r.fontData.lineHeight,f=r._letterSpacing,c=r._lineSpacing,m=0,x=0,g=0,y=null,T=0,C=0,A=0,w=0,E=0,P=0,B=null,R=0,I=a.source.image,N=a.cutX,X=a.cutY,Y=r._fontSize/r.fontData.size,O=r._align,D=0,F=0,M=r.getTextBounds(!1);r.maxWidth>0&&(s=M.wrappedText,h=s.length);var L=r._bounds.lines;O===1?F=(L.longest-L.lengths[0])/2:O===2&&(F=L.longest-L.lengths[0]),i.translate(-r.displayOriginX,-r.displayOriginY);for(var G=n.roundPixels,U=0;U<h;U++){if(g=s.charCodeAt(U),g===10){D++,O===1?F=(L.longest-L.lengths[D])/2:O===2&&(F=L.longest-L.lengths[D]),m=0,x+=l+c,B=null;continue}if(y=u[g],!!y){if(T=N+y.x,C=X+y.y,A=y.width,w=y.height,E=y.xOffset+m,P=y.yOffset+x,B!==null){var W=y.kerning[R];E+=W!==void 0?W:0}E*=Y,P*=Y,E+=F,m+=y.xAdvance+f+(W!==void 0?W:0),B=y,R=g,!(A===0||w===0||g===32)&&(G&&(E=Math.round(E),P=Math.round(P)),i.save(),i.translate(E,P),i.scale(Y,Y),i.drawImage(I,T,C,A,w,0,0,A,w),i.restore())}}i.restore()}};p.exports=v},95499:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(44616),v=t(88933),o=t(99325),r=t(20494),n=t(10850);o.register("bitmapText",function(e,s){e===void 0&&(e={});var h=n(e,"font",""),i=r(e,"text",""),a=r(e,"size",!1),u=n(e,"align",0),l=new d(this.scene,0,0,h,i,a,u);return s!==void 0&&(e.add=s),v(this.scene,l,e),l})},21797:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(44616),v=t(61286);v.register("bitmapText",function(o,r,n,e,s,h){return this.displayList.add(new d(this.scene,o,r,n,e,s,h))})},84557:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(26372),o=t(97545),p.exports={renderWebGL:v,renderCanvas:o}},26372:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(8810),v=t(73329),o=t(75512),r=function(n,e,s,h){var i=e._text,a=i.length;if(a!==0){s.addToRenderList(e);var u=n.pipelines.set(e.pipeline,e),l=v(e,s,h).calc;n.pipelines.preBatch(e);var f=s.roundPixels,c=s.alpha,m=e.charColors,x=e.tintFill,g=o.getTintAppendFloatAlpha,y=g(e.tintTopLeft,c*e._alphaTL),T=g(e.tintTopRight,c*e._alphaTR),C=g(e.tintBottomLeft,c*e._alphaBL),A=g(e.tintBottomRight,c*e._alphaBR),w=e.frame.glTexture,E=u.setGameObject(e),P=e.getTextBounds(!1),B,R,I,N=P.characters,X=e.dropShadowX,Y=e.dropShadowY,O=X!==0||Y!==0;if(O){var D=e.dropShadowColor,F=e.dropShadowAlpha,M=g(D,c*F*e._alphaTL),L=g(D,c*F*e._alphaTR),G=g(D,c*F*e._alphaBL),U=g(D,c*F*e._alphaBR);for(B=0;B<N.length;B++)R=N[B],I=R.glyph,!(R.code===32||I.width===0||I.height===0)&&d(u,e,R,I,X,Y,l,f,M,L,G,U,1,w,E)}for(B=0;B<N.length;B++)if(R=N[B],I=R.glyph,!(R.code===32||I.width===0||I.height===0))if(m[R.i]){var W=m[R.i],H=W.tintEffect,J=g(W.tintTL,c*e._alphaTL),Q=g(W.tintTR,c*e._alphaTR),$=g(W.tintBL,c*e._alphaBL),k=g(W.tintBR,c*e._alphaBR);d(u,e,R,I,0,0,l,f,J,Q,$,k,H,w,E)}else d(u,e,R,I,0,0,l,f,y,T,C,A,x,w,E);n.pipelines.postBatch(e)}};p.exports=r},52816:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(92246),v=t(41664),o=t(56694),r=t(64937),n=t(82047),e=t(89980),s=t(71207),h=new o({Extends:e,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Size,r.Texture,r.Transform,r.Visible,d],initialize:function(a,u,l,f,c){e.call(this,a,"Blitter"),this.setTexture(f,c),this.setPosition(u,l),this.initPipeline(),this.initPostPipeline(),this.children=new s,this.renderList=[],this.dirty=!1},create:function(i,a,u,l,f){l===void 0&&(l=!0),f===void 0&&(f=this.children.length),u===void 0?u=this.frame:u instanceof n||(u=this.texture.get(u));var c=new v(this,i,a,u,l);return this.children.addAt(c,f,!1),this.dirty=!0,c},createFromCallback:function(i,a,u,l){for(var f=this.createMultiple(a,u,l),c=0;c<f.length;c++){var m=f[c];i.call(this,m,c)}return f},createMultiple:function(i,a,u){a===void 0&&(a=this.frame.name),u===void 0&&(u=!0),Array.isArray(a)||(a=[a]);var l=[],f=this;return a.forEach(function(c){for(var m=0;m<i;m++)l.push(f.create(0,0,c,u))}),l},childCanRender:function(i){return i.visible&&i.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});p.exports=h},33177:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){var r=d.getRenderList();if(r.length!==0){var n=t.currentContext,e=v.alpha*d.alpha;if(e!==0){v.addToRenderList(d),n.globalCompositeOperation=t.blendModes[d.blendMode],n.imageSmoothingEnabled=!d.frame.source.scaleMode;var s=d.x-v.scrollX*d.scrollFactorX,h=d.y-v.scrollY*d.scrollFactorY;n.save(),o&&o.copyToContext(n);for(var i=v.roundPixels,a=0;a<r.length;a++){var u=r[a],l=u.flipX||u.flipY,f=u.frame,c=f.canvasData,m=f.x,x=f.y,g=1,y=1,T=u.alpha*e;T!==0&&(n.globalAlpha=T,l?(u.flipX&&(g=-1,m-=c.width),u.flipY&&(y=-1,x-=c.height),c.width>0&&c.height>0&&(n.save(),n.translate(u.x+s,u.y+h),n.scale(g,y),n.drawImage(f.source.image,c.x,c.y,c.width,c.height,m,x,c.width,c.height),n.restore())):(i&&(m=Math.round(m),x=Math.round(x)),c.width>0&&c.height>0&&n.drawImage(f.source.image,c.x,c.y,c.width,c.height,m+u.x+s,x+u.y+h,c.width,c.height)))}n.restore()}}};p.exports=S},68452:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(52816),v=t(88933),o=t(99325),r=t(20494);o.register("blitter",function(n,e){n===void 0&&(n={});var s=r(n,"key",null),h=r(n,"frame",null),i=new d(this.scene,0,0,s,h);return e!==void 0&&(n.add=e),v(this.scene,i,n),i})},38906:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(52816),v=t(61286);v.register("blitter",function(o,r,n,e){return this.displayList.add(new d(this.scene,o,r,n,e))})},92246:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(89165),o=t(33177),p.exports={renderWebGL:v,renderCanvas:o}},89165:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(69360),v=t(75512),o=new d,r=function(n,e,s,h){var i=e.getRenderList(),a=s.alpha*e.alpha;if(!(i.length===0||a===0)){s.addToRenderList(e);var u=n.pipelines.set(this.pipeline,e),l=s.scrollX*e.scrollFactorX,f=s.scrollY*e.scrollFactorY,c=o.copyFrom(s.matrix);h&&(c.multiplyWithOffset(h,-l,-f),l=0,f=0);var m=e.x-l,x=e.y-f,g=-1,y=!1,T=s.roundPixels;n.pipelines.preBatch(e);for(var C=0;C<i.length;C++){var A=i[C],w=A.frame,E=A.alpha*a;if(E!==0){var P=w.width,B=w.height,R=m+A.x+w.x,I=x+A.y+w.y;A.flipX&&(P*=-1,R+=w.width),A.flipY&&(B*=-1,I+=w.height);var N=c.setQuad(R,I,R+P,I+B,T),X=v.getTintAppendFloatAlpha(A.tint,E);if(w.sourceIndex!==g){var Y=u.setGameObject(e,w);g=w.sourceIndex}u.batchQuad(e,N[0],N[1],N[2],N[3],N[4],N[5],N[6],N[7],w.u0,w.v0,w.u1,w.v1,X,X,X,X,y,w.glTexture,Y)&&(g=-1)}}n.pipelines.postBatch(e)}};p.exports=r},41664:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(82047),o=new d({initialize:function(n,e,s,h,i){this.parent=n,this.x=e,this.y=s,this.frame=h,this.data={},this.tint=16777215,this._visible=i,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(r){return r===void 0?this.frame=this.parent.frame:r instanceof v&&r.texture===this.parent.texture?this.frame=r:this.frame=this.parent.texture.get(r),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(r,n,e){return this.x=r,this.y=n,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(r,n){return this.x=r,this.y=n,this},setFlipX:function(r){return this.flipX=r,this},setFlipY:function(r){return this.flipY=r,this},setFlip:function(r,n){return this.flipX=r,this.flipY=n,this},setVisible:function(r){return this.visible=r,this},setAlpha:function(r){return this.alpha=r,this},setTint:function(r){return this.tint=r,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(r){this.parent.dirty|=this._visible!==r,this._visible=r}},alpha:{get:function(){return this._alpha},set:function(r){this.parent.dirty|=this._alpha>0!=r>0,this._alpha=r}}});p.exports=o},97123:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(82897),v=2,o={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r,n,e,s){return r===void 0&&(r=1),n===void 0?this.alpha=r:(this._alphaTL=d(r,0,1),this._alphaTR=d(n,0,1),this._alphaBL=d(e,0,1),this._alphaBR=d(s,0,1)),this},alpha:{get:function(){return this._alpha},set:function(r){var n=d(r,0,1);this._alpha=n,this._alphaTL=n,this._alphaTR=n,this._alphaBL=n,this._alphaBR=n,n===0?this.renderFlags&=~v:this.renderFlags|=v}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(r){var n=d(r,0,1);this._alphaTL=n,n!==0&&(this.renderFlags|=v)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(r){var n=d(r,0,1);this._alphaTR=n,n!==0&&(this.renderFlags|=v)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(r){var n=d(r,0,1);this._alphaBL=n,n!==0&&(this.renderFlags|=v)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(r){var n=d(r,0,1);this._alphaBR=n,n!==0&&(this.renderFlags|=v)}}};p.exports=o},15720:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(82897),v=2,o={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r){return r===void 0&&(r=1),this.alpha=r,this},alpha:{get:function(){return this._alpha},set:function(r){var n=d(r,0,1);this._alpha=n,n===0?this.renderFlags&=~v:this.renderFlags|=v}}};p.exports=o},69732:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(95723),v={_blendMode:d.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(o){typeof o=="string"&&(o=d[o]),o|=0,o>=-1&&(this._blendMode=o)}},setBlendMode:function(o){return this.blendMode=o,this}};p.exports=v},28284:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,d){return this.width=t,this.height=d,this},setDisplaySize:function(t,d){return this.displayWidth=t,this.displayHeight=d,this}};p.exports=S},85293:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={texture:null,frame:null,isCropped:!1,setCrop:function(t,d,v,o){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,d,v,o,this.flipX,this.flipY);else{var r=t;this.frame.setCropUVs(this._crop,r.x,r.y,r.width,r.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};p.exports=S},14975:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.displayList&&this.displayList.queueDepthSort(),this._depth=t}},setDepth:function(t){return t===void 0&&(t=0),this.depth=t,this}};p.exports=S},88677:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(96910),o=t(72677),r=new d({initialize:function(e,s){this.gameObject=e,this.isPost=s,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(n){return n===void 0&&(n=0),this.padding=n,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(n){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,n!==void 0&&(this.padding=n),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var n=this.list,e=0;e<n.length;e++)n[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(n){var e;if(this.isPost){var s=this.gameObject.getPostPipeline(String(n.type));for(Array.isArray(s)||(s=[s]),e=0;e<s.length;e++){var h=s[e];if(h.controller===n){this.gameObject.removePostPipeline(h),n.destroy();break}}}else{var i=this.list;for(e=0;e<i.length;e++)i[e]===n&&(o(i,e),n.destroy())}return this.gameObject},disable:function(n){return n===void 0&&(n=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,n&&this.clear(),this.gameObject},add:function(n,e){if(this.isPost){var s=String(n.type);this.gameObject.setPostPipeline(s,e);var h=this.gameObject.getPostPipeline(s);if(h)return Array.isArray(h)&&(h=h.pop()),h.controller=n,n}else return this.enabled||this.enable(),this.list.push(n),n},addGlow:function(n,e,s,h,i,a){return this.add(new v.Glow(this.gameObject,n,e,s,h),{quality:i,distance:a})},addShadow:function(n,e,s,h,i,a,u){return this.add(new v.Shadow(this.gameObject,n,e,s,h,i,a,u))},addPixelate:function(n){return this.add(new v.Pixelate(this.gameObject,n))},addVignette:function(n,e,s,h){return this.add(new v.Vignette(this.gameObject,n,e,s,h))},addShine:function(n,e,s,h){return this.add(new v.Shine(this.gameObject,n,e,s,h))},addBlur:function(n,e,s,h,i,a){return this.add(new v.Blur(this.gameObject,n,e,s,h,i,a))},addGradient:function(n,e,s,h,i,a,u,l){return this.add(new v.Gradient(this.gameObject,n,e,s,h,i,a,u,l))},addBloom:function(n,e,s,h,i,a){return this.add(new v.Bloom(this.gameObject,n,e,s,h,i,a))},addColorMatrix:function(){return this.add(new v.ColorMatrix(this.gameObject))},addCircle:function(n,e,s,h,i){return this.add(new v.Circle(this.gameObject,n,e,s,h,i))},addBarrel:function(n){return this.add(new v.Barrel(this.gameObject,n))},addDisplacement:function(n,e,s){return this.add(new v.Displacement(this.gameObject,n,e,s))},addWipe:function(n,e,s){return this.add(new v.Wipe(this.gameObject,n,e,s))},addReveal:function(n,e,s){return this.add(new v.Wipe(this.gameObject,n,e,s,!0))},addBokeh:function(n,e,s){return this.add(new v.Bokeh(this.gameObject,n,e,s))},addTiltShift:function(n,e,s,h,i,a){return this.add(new v.Bokeh(this.gameObject,n,e,s,!0,h,i,a))},destroy:function(){this.clear(),this.gameObject=null}});p.exports=r},92972:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,d){return this.flipX=t,this.flipY=d,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};p.exports=S},80693:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(74118),v=t(2386),o=t(93736),r={prepareBoundsOutput:function(n,e){if(e===void 0&&(e=!1),this.rotation!==0&&v(n,this.x,this.y,this.rotation),e&&this.parentContainer){var s=this.parentContainer.getBoundsTransformMatrix();s.transformPoint(n.x,n.y,n)}return n},getCenter:function(n,e){return n===void 0&&(n=new o),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getTopLeft:function(n,e){return n||(n=new o),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getTopCenter:function(n,e){return n||(n=new o),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getTopRight:function(n,e){return n||(n=new o),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getLeftCenter:function(n,e){return n||(n=new o),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getRightCenter:function(n,e){return n||(n=new o),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getBottomLeft:function(n,e){return n||(n=new o),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBottomCenter:function(n,e){return n||(n=new o),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBottomRight:function(n,e){return n||(n=new o),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBounds:function(n){n===void 0&&(n=new d);var e,s,h,i,a,u,l,f;if(this.parentContainer){var c=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(n),c.transformPoint(n.x,n.y,n),e=n.x,s=n.y,this.getTopRight(n),c.transformPoint(n.x,n.y,n),h=n.x,i=n.y,this.getBottomLeft(n),c.transformPoint(n.x,n.y,n),a=n.x,u=n.y,this.getBottomRight(n),c.transformPoint(n.x,n.y,n),l=n.x,f=n.y}else this.getTopLeft(n),e=n.x,s=n.y,this.getTopRight(n),h=n.x,i=n.y,this.getBottomLeft(n),a=n.x,u=n.y,this.getBottomRight(n),l=n.x,f=n.y;return n.x=Math.min(e,h,a,l),n.y=Math.min(s,i,u,f),n.width=Math.max(e,h,a,l)-n.x,n.height=Math.max(s,i,u,f)-n.y,n}};p.exports=r},39171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(76756),v=t(63037),o={mask:null,setMask:function(r){return this.mask=r,this},clearMask:function(r){return r===void 0&&(r=!1),r&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(r,n,e,s,h){return r===void 0&&(this.texture||this.shader||this.geom)&&(r=this),new d(this.scene,r,n,e,s,h)},createGeometryMask:function(r){return r===void 0&&(this.type==="Graphics"||this.geom)&&(r=this),new v(this.scene,r)}};p.exports=o},28072:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,d){return t===void 0&&(t=.5),d===void 0&&(d=t),this.originX=t,this.originY=d,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,d){return t===void 0&&(t=0),d===void 0&&(d=t),this.displayOriginX=t,this.displayOriginY=d,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};p.exports=S},54211:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(75606),v=t(63130),o=t(10850),r=t(55303),n=t(93736),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:r.PLAYING_FORWARD,setPath:function(s,h){h===void 0&&(h=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=s,h&&this.startFollow(h),this},setRotateToPath:function(s,h){return h===void 0&&(h=0),this.rotateToPath=s,this.pathRotationOffset=h,this},isFollowing:function(){var s=this.pathTween;return s&&s.isPlaying()},startFollow:function(s,h){s===void 0&&(s={}),h===void 0&&(h=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),typeof s=="number"&&(s={duration:s}),s.from=o(s,"from",0),s.to=o(s,"to",1);var a=v(s,"positionOnPath",!1);this.rotateToPath=v(s,"rotateToPath",!1),this.pathRotationOffset=o(s,"rotationOffset",0);var u=o(s,"startAt",h);if(u&&(s.onStart=function(f){var c=f.data[0];c.progress=u,c.elapsed=c.duration*u;var m=c.ease(c.progress);c.current=c.start+(c.end-c.start)*m,c.setTargetValue()}),this.pathOffset||(this.pathOffset=new n(this.x,this.y)),this.pathVector||(this.pathVector=new n),this.pathDelta||(this.pathDelta=new n),this.pathDelta.reset(),s.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(s),this.path.getStartPoint(this.pathOffset),a&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=r.PLAYING_FORWARD,this.rotateToPath){var l=this.path.getPoint(.1);this.rotation=Math.atan2(l.y-this.y,l.x-this.x)+d(this.pathRotationOffset)}return this.pathConfig=s,this},pauseFollow:function(){var s=this.pathTween;return s&&s.isPlaying()&&s.pause(),this},resumeFollow:function(){var s=this.pathTween;return s&&s.isPaused()&&s.resume(),this},stopFollow:function(){var s=this.pathTween;return s&&s.isPlaying()&&s.stop(),this},pathUpdate:function(){var s=this.pathTween;if(s){var h=s.data[0],i=this.pathDelta,a=this.pathVector;if(i.copy(a).negate(),h.state===r.COMPLETE){this.path.getPoint(h.end,a),i.add(a),a.add(this.pathOffset),this.setPosition(a.x,a.y);return}else if(h.state!==r.PLAYING_FORWARD&&h.state!==r.PLAYING_BACKWARD)return;this.path.getPoint(s.getValue(),a),i.add(a),a.add(this.pathOffset);var u=this.x,l=this.y;this.setPosition(a.x,a.y);var f=this.x-u,c=this.y-l;if(f===0&&c===0)return;if(h.state!==this._prevDirection){this._prevDirection=h.state;return}this.rotateToPath&&(this.rotation=Math.atan2(c,f)+d(this.pathRotationOffset))}}};p.exports=e},58210:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(28699),v={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(o){this.pipelineData={};var r=this.scene.sys.renderer;if(!r)return!1;var n=r.pipelines;if(n){o===void 0&&(o=n.default);var e=n.get(o);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(o,r,n){var e=this.scene.sys.renderer;if(!e)return this;var s=e.pipelines;if(s){var h=s.get(o);h&&(this.pipeline=h),r&&(this.pipelineData=n?d(r):r)}return this},setPipelineData:function(o,r){var n=this.pipelineData;return r===void 0?delete n[o]:n[o]=r,this},resetPipeline:function(o){return o===void 0&&(o=!1),this.pipeline=this.defaultPipeline,o&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};p.exports=v},44086:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(28699),v=t(88677),o=t(72677),r={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(n){this.postPipelines=[],this.postPipelineData={},this.postFX=new v(this,!0),n&&(this.preFX=new v(this,!1))},setPostPipeline:function(n,e,s){var h=this.scene.sys.renderer;if(!h)return this;var i=h.pipelines;if(i){Array.isArray(n)||(n=[n]);for(var a=0;a<n.length;a++){var u=i.getPostPipeline(n[a],this,e);u&&this.postPipelines.push(u)}e&&(this.postPipelineData=s?d(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(n,e){var s=this.postPipelineData;return e===void 0?delete s[n]:s[n]=e,this},getPostPipeline:function(n){for(var e=typeof n=="string",s=this.postPipelines,h=[],i=0;i<s.length;i++){var a=s[i];(e&&a.name===n||!e&&a instanceof n)&&h.push(a)}return h.length===1?h[0]:h},resetPostPipeline:function(n){n===void 0&&(n=!1);for(var e=this.postPipelines,s=0;s<e.length;s++)e[s].destroy();this.postPipelines=[],this.hasPostPipeline=!1,n&&(this.postPipelineData={})},removePostPipeline:function(n){for(var e=typeof n=="string",s=this.postPipelines,h=s.length-1;h>=0;h--){var i=s[h];(e&&i.name===n||!e&&i===n)&&(i.destroy(),o(s,h))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};p.exports=r},45900:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,d){return d===void 0&&(d=t),this.scrollFactorX=t,this.scrollFactorY=d,this}};p.exports=S},31654:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=this.width,d.hitArea.height=this.height),this},setSize:function(t,d){return this.width=t,this.height=d,this},setDisplaySize:function(t,d){return this.displayWidth=t,this.displayHeight=d,this}};p.exports=S},82081:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(82047),v=8,o={texture:null,frame:null,isCropped:!1,setTexture:function(r,n){return this.texture=this.scene.sys.textures.get(r),this.setFrame(n)},setFrame:function(r,n,e){return n===void 0&&(n=!0),e===void 0&&(e=!0),r instanceof d?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~v:this.renderFlags|=v,this._sizeComponent&&n&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};p.exports=o},21850:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(82047),v=8,o={texture:null,frame:null,isCropped:!1,setCrop:function(r,n,e,s){if(r===void 0)this.isCropped=!1;else if(this.frame){if(typeof r=="number")this.frame.setCropUVs(this._crop,r,n,e,s,this.flipX,this.flipY);else{var h=r;this.frame.setCropUVs(this._crop,h.x,h.y,h.width,h.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(r,n){return this.texture=this.scene.sys.textures.get(r),this.setFrame(n)},setFrame:function(r,n,e){return n===void 0&&(n=!0),e===void 0&&(e=!0),r instanceof d?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~v:this.renderFlags|=v,this._sizeComponent&&n&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};p.exports=o},58072:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,d,v,o){return t===void 0&&(t=16777215),d===void 0&&(d=t,v=t,o=t),this.tintTopLeft=t,this.tintTopRight=d,this.tintBottomLeft=v,this.tintBottomRight=o,this.tintFill=!1,this},setTintFill:function(t,d,v,o){return this.setTint(t,d,v,o),this.tintFill=!0,this},tint:{set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};p.exports=S},48129:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var d={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(d.textureKey=t.texture.key,d.frameKey=t.frame.name),d};p.exports=S},56584:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(83392),v=t(69360),o=t(64462),r=t(35786),n=t(62138),e=t(93736),s=4,h={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(i){this._scaleX=i,this._scaleY=i,i===0?this.renderFlags&=~s:this.renderFlags|=s}},scaleX:{get:function(){return this._scaleX},set:function(i){this._scaleX=i,i===0?this.renderFlags&=~s:this._scaleY!==0&&(this.renderFlags|=s)}},scaleY:{get:function(){return this._scaleY},set:function(i){this._scaleY=i,i===0?this.renderFlags&=~s:this._scaleX!==0&&(this.renderFlags|=s)}},angle:{get:function(){return n(this._rotation*d.RAD_TO_DEG)},set:function(i){this.rotation=n(i)*d.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(i){this._rotation=r(i)}},setPosition:function(i,a,u,l){return i===void 0&&(i=0),a===void 0&&(a=i),u===void 0&&(u=0),l===void 0&&(l=0),this.x=i,this.y=a,this.z=u,this.w=l,this},copyPosition:function(i){return i.x!==void 0&&(this.x=i.x),i.y!==void 0&&(this.y=i.y),i.z!==void 0&&(this.z=i.z),i.w!==void 0&&(this.w=i.w),this},setRandomPosition:function(i,a,u,l){return i===void 0&&(i=0),a===void 0&&(a=0),u===void 0&&(u=this.scene.sys.scale.width),l===void 0&&(l=this.scene.sys.scale.height),this.x=i+Math.random()*u,this.y=a+Math.random()*l,this},setRotation:function(i){return i===void 0&&(i=0),this.rotation=i,this},setAngle:function(i){return i===void 0&&(i=0),this.angle=i,this},setScale:function(i,a){return i===void 0&&(i=1),a===void 0&&(a=i),this.scaleX=i,this.scaleY=a,this},setX:function(i){return i===void 0&&(i=0),this.x=i,this},setY:function(i){return i===void 0&&(i=0),this.y=i,this},setZ:function(i){return i===void 0&&(i=0),this.z=i,this},setW:function(i){return i===void 0&&(i=0),this.w=i,this},getLocalTransformMatrix:function(i){return i===void 0&&(i=new v),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(i,a){i===void 0&&(i=new v);var u=this.parentContainer;if(!u)return this.getLocalTransformMatrix(i);for(a||(a=new v),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);u;)a.applyITRS(u.x,u.y,u._rotation,u._scaleX,u._scaleY),a.multiply(i,i),u=u.parentContainer;return i},getLocalPoint:function(i,a,u,l){u||(u=new e),l||(l=this.scene.sys.cameras.main);var f=l.scrollX,c=l.scrollY,m=i+f*this.scrollFactorX-f,x=a+c*this.scrollFactorY-c;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(m,x,u):o(m,x,this.x,this.y,this.rotation,this.scaleX,this.scaleY,u),this._originComponent&&(u.x+=this._displayOriginX,u.y+=this._displayOriginY),u},getParentRotation:function(){for(var i=0,a=this.parentContainer;a;)i+=a.rotation,a=a.parentContainer;return i}};p.exports=h},69360:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(83392),o=t(93736),r=new d({initialize:function(e,s,h,i,a,u){e===void 0&&(e=1),s===void 0&&(s=0),h===void 0&&(h=0),i===void 0&&(i=1),a===void 0&&(a=0),u===void 0&&(u=0),this.matrix=new Float32Array([e,s,h,i,a,u,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(n){this.matrix[0]=n}},b:{get:function(){return this.matrix[1]},set:function(n){this.matrix[1]=n}},c:{get:function(){return this.matrix[2]},set:function(n){this.matrix[2]=n}},d:{get:function(){return this.matrix[3]},set:function(n){this.matrix[3]=n}},e:{get:function(){return this.matrix[4]},set:function(n){this.matrix[4]=n}},f:{get:function(){return this.matrix[5]},set:function(n){this.matrix[5]=n}},tx:{get:function(){return this.matrix[4]},set:function(n){this.matrix[4]=n}},ty:{get:function(){return this.matrix[5]},set:function(n){this.matrix[5]=n}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var n=this.matrix,e=n[0],s=n[1],h=n[2],i=n[3];return e||s?s>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):h||i?v.TAU-(i>0?Math.acos(-h/this.scaleY):-Math.acos(h/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var n=this.matrix;return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,this},translate:function(n,e){var s=this.matrix;return s[4]=s[0]*n+s[2]*e+s[4],s[5]=s[1]*n+s[3]*e+s[5],this},scale:function(n,e){var s=this.matrix;return s[0]*=n,s[1]*=n,s[2]*=e,s[3]*=e,this},rotate:function(n){var e=Math.sin(n),s=Math.cos(n),h=this.matrix,i=h[0],a=h[1],u=h[2],l=h[3];return h[0]=i*s+u*e,h[1]=a*s+l*e,h[2]=i*-e+u*s,h[3]=a*-e+l*s,this},multiply:function(n,e){var s=this.matrix,h=n.matrix,i=s[0],a=s[1],u=s[2],l=s[3],f=s[4],c=s[5],m=h[0],x=h[1],g=h[2],y=h[3],T=h[4],C=h[5],A=e===void 0?s:e.matrix;return A[0]=m*i+x*u,A[1]=m*a+x*l,A[2]=g*i+y*u,A[3]=g*a+y*l,A[4]=T*i+C*u+f,A[5]=T*a+C*l+c,A},multiplyWithOffset:function(n,e,s){var h=this.matrix,i=n.matrix,a=h[0],u=h[1],l=h[2],f=h[3],c=h[4],m=h[5],x=e*a+s*l+c,g=e*u+s*f+m,y=i[0],T=i[1],C=i[2],A=i[3],w=i[4],E=i[5];return h[0]=y*a+T*l,h[1]=y*u+T*f,h[2]=C*a+A*l,h[3]=C*u+A*f,h[4]=w*a+E*l+x,h[5]=w*u+E*f+g,this},transform:function(n,e,s,h,i,a){var u=this.matrix,l=u[0],f=u[1],c=u[2],m=u[3],x=u[4],g=u[5];return u[0]=n*l+e*c,u[1]=n*f+e*m,u[2]=s*l+h*c,u[3]=s*f+h*m,u[4]=i*l+a*c+x,u[5]=i*f+a*m+g,this},transformPoint:function(n,e,s){s===void 0&&(s={x:0,y:0});var h=this.matrix,i=h[0],a=h[1],u=h[2],l=h[3],f=h[4],c=h[5];return s.x=n*i+e*u+f,s.y=n*a+e*l+c,s},invert:function(){var n=this.matrix,e=n[0],s=n[1],h=n[2],i=n[3],a=n[4],u=n[5],l=e*i-s*h;return n[0]=i/l,n[1]=-s/l,n[2]=-h/l,n[3]=e/l,n[4]=(h*u-i*a)/l,n[5]=-(e*u-s*a)/l,this},copyFrom:function(n){var e=this.matrix;return e[0]=n.a,e[1]=n.b,e[2]=n.c,e[3]=n.d,e[4]=n.e,e[5]=n.f,this},copyFromArray:function(n){var e=this.matrix;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],this},copyToContext:function(n){var e=this.matrix;return n.transform(e[0],e[1],e[2],e[3],e[4],e[5]),n},setToContext:function(n){var e=this.matrix;return n.setTransform(e[0],e[1],e[2],e[3],e[4],e[5]),n},copyToArray:function(n){var e=this.matrix;return n===void 0?n=[e[0],e[1],e[2],e[3],e[4],e[5]]:(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5]),n},setTransform:function(n,e,s,h,i,a){var u=this.matrix;return u[0]=n,u[1]=e,u[2]=s,u[3]=h,u[4]=i,u[5]=a,this},decomposeMatrix:function(){var n=this.decomposedMatrix,e=this.matrix,s=e[0],h=e[1],i=e[2],a=e[3],u=s*a-h*i;if(n.translateX=e[4],n.translateY=e[5],s||h){var l=Math.sqrt(s*s+h*h);n.rotation=h>0?Math.acos(s/l):-Math.acos(s/l),n.scaleX=l,n.scaleY=u/l}else if(i||a){var f=Math.sqrt(i*i+a*a);n.rotation=Math.PI*.5-(a>0?Math.acos(-i/f):-Math.acos(i/f)),n.scaleX=u/f,n.scaleY=f}else n.rotation=0,n.scaleX=0,n.scaleY=0;return n},applyITRS:function(n,e,s,h,i){var a=this.matrix,u=Math.sin(s),l=Math.cos(s);return a[4]=n,a[5]=e,a[0]=l*h,a[1]=u*h,a[2]=-u*i,a[3]=l*i,this},applyInverse:function(n,e,s){s===void 0&&(s=new o);var h=this.matrix,i=h[0],a=h[1],u=h[2],l=h[3],f=h[4],c=h[5],m=1/(i*l+u*-a);return s.x=l*m*n+-u*m*e+(c*u-f*l)*m,s.y=i*m*e+-a*m*n+(-c*i+f*a)*m,s},setQuad:function(n,e,s,h,i,a){a===void 0&&(a=this.quad);var u=this.matrix,l=u[0],f=u[1],c=u[2],m=u[3],x=u[4],g=u[5];return a[0]=n*l+e*c+x,a[1]=n*f+e*m+g,a[2]=n*l+h*c+x,a[3]=n*f+h*m+g,a[4]=s*l+h*c+x,a[5]=s*f+h*m+g,a[6]=s*l+e*c+x,a[7]=s*f+e*m+g,i&&a.forEach(function(y,T){a[T]=Math.round(y)}),a},getX:function(n,e){return n*this.a+e*this.c+this.e},getY:function(n,e){return n*this.b+e*this.d+this.f},getXRound:function(n,e,s){var h=this.getX(n,e);return s&&(h=Math.round(h)),h},getYRound:function(n,e,s){var h=this.getY(n,e);return s&&(h=Math.round(h)),h},getCSSMatrix:function(){var n=this.matrix;return"matrix("+n[0]+","+n[1]+","+n[2]+","+n[3]+","+n[4]+","+n[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});p.exports=r},59694:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(d){d?(this._visible=!0,this.renderFlags|=S):(this._visible=!1,this.renderFlags&=~S)}},setVisible:function(d){return this.visible=d,this}};p.exports=t},64937:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Alpha:t(97123),AlphaSingle:t(15720),BlendMode:t(69732),ComputedSize:t(28284),Crop:t(85293),Depth:t(14975),Flip:t(92972),FX:t(88677),GetBounds:t(80693),Mask:t(39171),Origin:t(28072),PathFollower:t(54211),Pipeline:t(58210),PostPipeline:t(44086),ScrollFactor:t(45900),Size:t(31654),Texture:t(82081),TextureCrop:t(21850),Tint:t(58072),ToJSON:t(48129),Transform:t(56584),TransformMatrix:t(69360),Visible:t(59694)}},70339:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(59959),v=t(95723),o=t(56694),r=t(64937),n=t(56631),e=t(89980),s=t(74118),h=t(98524),i=t(58795),a=t(93736),u=new o({Extends:e,Mixins:[r.AlphaSingle,r.BlendMode,r.ComputedSize,r.Depth,r.Mask,r.PostPipeline,r.Transform,r.Visible,h],initialize:function(f,c,m,x){e.call(this,f,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new r.TransformMatrix,this.tempTransformMatrix=new r.TransformMatrix,this._sortKey="",this._sysEvents=f.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(c,m),this.setBlendMode(v.SKIP_CHECK),x&&this.add(x)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(l){return l===void 0&&(l=!0),this.exclusive=l,this},getBounds:function(l){if(l===void 0&&(l=new s),l.setTo(this.x,this.y,0,0),this.parentContainer){var f=this.parentContainer.getBoundsTransformMatrix(),c=f.transformPoint(this.x,this.y);l.setTo(c.x,c.y,0,0)}if(this.list.length>0){var m=this.list,x=new s,g=!1;l.setEmpty();for(var y=0;y<m.length;y++){var T=m[y];T.getBounds&&(T.getBounds(x),g?i(x,l,l):(l.setTo(x.x,x.y,x.width,x.height),g=!0))}}return l},addHandler:function(l){l.once(n.DESTROY,this.remove,this),this.exclusive&&(l.parentContainer&&l.parentContainer.remove(l),l.parentContainer=this,l.removeFromDisplayList(),l.addedToScene())},removeHandler:function(l){l.off(n.DESTROY,this.remove,this),this.exclusive&&(l.parentContainer=null,l.removedFromScene(),l.addToDisplayList())},pointToContainer:function(l,f){f===void 0&&(f=new a),this.parentContainer?this.parentContainer.pointToContainer(l,f):(f.x=l.x,f.y=l.y);var c=this.tempTransformMatrix;return c.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),c.invert(),c.transformPoint(l.x,l.y,f),f},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(l){return d.Add(this.list,l,this.maxSize,this.addHandler,this),this},addAt:function(l,f){return d.AddAt(this.list,l,f,this.maxSize,this.addHandler,this),this},getAt:function(l){return this.list[l]},getIndex:function(l){return this.list.indexOf(l)},sort:function(l,f){return l?(f===void 0&&(f=function(c,m){return c[l]-m[l]}),d.StableSort(this.list,f),this):this},getByName:function(l){return d.GetFirst(this.list,"name",l)},getRandom:function(l,f){return d.GetRandom(this.list,l,f)},getFirst:function(l,f,c,m){return d.GetFirst(this.list,l,f,c,m)},getAll:function(l,f,c,m){return d.GetAll(this.list,l,f,c,m)},count:function(l,f,c,m){return d.CountAllMatching(this.list,l,f,c,m)},swap:function(l,f){return d.Swap(this.list,l,f),this},moveTo:function(l,f){return d.MoveTo(this.list,l,f),this},moveAbove:function(l,f){return d.MoveAbove(this.list,l,f),this},moveBelow:function(l,f){return d.MoveBelow(this.list,l,f),this},remove:function(l,f){var c=d.Remove(this.list,l,this.removeHandler,this);if(f&&c){Array.isArray(c)||(c=[c]);for(var m=0;m<c.length;m++)c[m].destroy()}return this},removeAt:function(l,f){var c=d.RemoveAt(this.list,l,this.removeHandler,this);return f&&c&&c.destroy(),this},removeBetween:function(l,f,c){var m=d.RemoveBetween(this.list,l,f,this.removeHandler,this);if(c)for(var x=0;x<m.length;x++)m[x].destroy();return this},removeAll:function(l){var f=this.list;if(l){for(var c=0;c<f.length;c++)f[c]&&f[c].scene&&(f[c].off(n.DESTROY,this.remove,this),f[c].destroy());this.list=[]}else d.RemoveBetween(f,0,f.length,this.removeHandler,this);return this},bringToTop:function(l){return d.BringToTop(this.list,l),this},sendToBack:function(l){return d.SendToBack(this.list,l),this},moveUp:function(l){return d.MoveUp(this.list,l),this},moveDown:function(l){return d.MoveDown(this.list,l),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return d.Shuffle(this.list),this},replace:function(l,f,c){var m=d.Replace(this.list,l,f);return m&&(this.addHandler(f),this.removeHandler(l),c&&l.destroy()),this},exists:function(l){return this.list.indexOf(l)>-1},setAll:function(l,f,c,m){return d.SetAll(this.list,l,f,c,m),this},each:function(l,f){var c=[null],m,x=this.list.slice(),g=x.length;for(m=2;m<arguments.length;m++)c.push(arguments[m]);for(m=0;m<g;m++)c[0]=x[m],l.apply(f,c);return this},iterate:function(l,f){var c=[null],m;for(m=2;m<arguments.length;m++)c.push(arguments[m]);for(m=0;m<this.list.length;m++)c[0]=this.list[m],l.apply(f,c);return this},setScrollFactor:function(l,f,c){return f===void 0&&(f=l),c===void 0&&(c=!1),this.scrollFactorX=l,this.scrollFactorY=f,c&&(d.SetAll(this.list,"scrollFactorX",l),d.SetAll(this.list,"scrollFactorY",f)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});p.exports=u},13916:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){v.addToRenderList(d);var r=d.list;if(r.length!==0){var n=d.localTransform;o?(n.loadIdentity(),n.multiply(o),n.translate(d.x,d.y),n.rotate(d.rotation),n.scale(d.scaleX,d.scaleY)):n.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY);var e=d.blendMode!==-1;e||t.setBlendMode(0);var s=d._alpha,h=d.scrollFactorX,i=d.scrollFactorY;d.mask&&d.mask.preRenderCanvas(t,null,v);for(var a=0;a<r.length;a++){var u=r[a];if(u.willRender(v)){var l=u.alpha,f=u.scrollFactorX,c=u.scrollFactorY;!e&&u.blendMode!==t.currentBlendMode&&t.setBlendMode(u.blendMode),u.setScrollFactor(f*h,c*i),u.setAlpha(l*s),u.renderCanvas(t,u,v,n),u.setAlpha(l),u.setScrollFactor(f,c)}}d.mask&&d.mask.postRenderCanvas(t)}};p.exports=S},44516:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(88933),v=t(70339),o=t(99325),r=t(20494);o.register("container",function(n,e){n===void 0&&(n={});var s=r(n,"x",0),h=r(n,"y",0),i=r(n,"children",null),a=new v(this.scene,s,h,i);return e!==void 0&&(n.add=e),d(this.scene,a,n),a})},23400:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(70339),v=t(61286);v.register("container",function(o,r,n){return this.displayList.add(new d(this.scene,o,r,n))})},98524:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(36934),o=t(13916),p.exports={renderWebGL:v,renderCanvas:o}},36934:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){v.addToRenderList(d);var r=d.list,n=r.length;if(n!==0){var e=d.localTransform;o?(e.loadIdentity(),e.multiply(o),e.translate(d.x,d.y),e.rotate(d.rotation),e.scale(d.scaleX,d.scaleY)):e.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),t.pipelines.preBatch(d);var s=d.blendMode!==-1;s||t.setBlendMode(0);for(var h=d.alpha,i=d.scrollFactorX,a=d.scrollFactorY,u=0;u<n;u++){var l=r[u];if(l.willRender(v)){var f,c,m,x;if(l.alphaTopLeft!==void 0)f=l.alphaTopLeft,c=l.alphaTopRight,m=l.alphaBottomLeft,x=l.alphaBottomRight;else{var g=l.alpha;f=g,c=g,m=g,x=g}var y=l.scrollFactorX,T=l.scrollFactorY;!s&&l.blendMode!==t.currentBlendMode&&t.setBlendMode(l.blendMode);var C=l.mask;C&&C.preRenderWebGL(t,l,v);var A=l.type;A!==t.currentType&&(t.newType=!0,t.currentType=A),t.nextTypeMatch=u<n-1?r[u+1].type===t.currentType:!1,l.setScrollFactor(y*i,T*a),l.setAlpha(f*h,c*h,m*h,x*h),l.renderWebGL(t,l,v,e,d),l.setAlpha(f,c,m,x),l.setScrollFactor(y,T),C&&C.postRenderWebGL(t,v),t.newType=!1}}t.pipelines.postBatch(d)}};p.exports=S},2452:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},38943:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(64937),o=t(11603),r=t(89980),n=t(42911),e=t(55638),s=t(7599),h=t(51729),i=new d({Extends:r,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Origin,v.ScrollFactor,v.Transform,v.Visible,o],initialize:function(u,l,f,c,m,x){r.call(this,u,"DOMElement"),this.parent=u.sys.game.domContainer,this.cache=u.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new h,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(l,f),typeof c=="string"?c[0]==="#"?this.setElement(c.substr(1),m,x):this.createElement(c,m,x):c&&this.setElement(c,m,x),u.sys.events.on(s.SLEEP,this.handleSceneEvent,this),u.sys.events.on(s.WAKE,this.handleSceneEvent,this),u.sys.events.on(s.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(a){var u=this.node,l=u.style;u&&(l.display=a.settings.visible?"block":"none")},setSkew:function(a,u){return a===void 0&&(a=0),u===void 0&&(u=a),this.skewX=a,this.skewY=u,this},setPerspective:function(a){return this.parent.style.perspective=a+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(a){this.parent.style.perspective=a+"px"}},addListener:function(a){if(this.node){a=a.split(" ");for(var u=0;u<a.length;u++)this.node.addEventListener(a[u],this.handler,!1)}return this},removeListener:function(a){if(this.node){a=a.split(" ");for(var u=0;u<a.length;u++)this.node.removeEventListener(a[u],this.handler)}return this},dispatchNativeEvent:function(a){this.emit(a.type,a)},createElement:function(a,u,l){return this.setElement(document.createElement(a),u,l)},setElement:function(a,u,l){this.removeElement();var f;if(typeof a=="string"?(a[0]==="#"&&(a=a.substr(1)),f=document.getElementById(a)):typeof a=="object"&&a.nodeType===1&&(f=a),!f)return this;if(this.node=f,u&&n(u))for(var c in u)f.style[c]=u[c];else typeof u=="string"&&(f.style=u);return f.style.zIndex="0",f.style.display="inline",f.style.position="absolute",f.phaser=this,this.parent&&this.parent.appendChild(f),l&&(f.innerText=l),this.updateSize()},createFromCache:function(a,u){var l=this.cache.get(a);return l&&this.createFromHTML(l,u),this},createFromHTML:function(a,u){u===void 0&&(u="div"),this.removeElement();var l=document.createElement(u);return this.node=l,l.style.zIndex="0",l.style.display="inline",l.style.position="absolute",l.phaser=this,this.parent&&this.parent.appendChild(l),l.innerHTML=a,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var a=this.node,u=a.getBoundingClientRect();return this.width=a.clientWidth,this.height=a.clientHeight,this.displayWidth=u.width||0,this.displayHeight=u.height||0,this},getChildByProperty:function(a,u){if(this.node){for(var l=this.node.querySelectorAll("*"),f=0;f<l.length;f++)if(l[f][a]===u)return l[f]}return null},getChildByID:function(a){return this.getChildByProperty("id",a)},getChildByName:function(a){return this.getChildByProperty("name",a)},setClassName:function(a){return this.node&&(this.node.className=a,this.updateSize()),this},setText:function(a){return this.node&&(this.node.innerText=a,this.updateSize()),this},setHTML:function(a){return this.node&&(this.node.innerHTML=a,this.updateSize()),this},preRender:function(){var a=this.parentContainer,u=this.node;u&&a&&!a.willRender()&&(u.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(s.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(s.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(s.PRE_RENDER,this.preRender,this)}});p.exports=i},66070:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(2452),v=t(89980),o=t(69360),r=new o,n=new o,e=new o,s=function(h,i,a,u){if(i.node){var l=i.node.style,f=i.scene.sys.settings;if(!l||!f.visible||v.RENDER_MASK!==i.renderFlags||i.cameraFilter!==0&&i.cameraFilter&a.id||i.parentContainer&&!i.parentContainer.willRender()){l.display="none";return}var c=i.parentContainer,m=a.alpha*i.alpha;c&&(m*=c.alpha);var x=r,g=n,y=e,T=0,C=0,A="0%",w="0%";u?(T=i.width*i.scaleX*i.originX,C=i.height*i.scaleY*i.originY,g.applyITRS(i.x-T,i.y-C,i.rotation,i.scaleX,i.scaleY),x.copyFrom(a.matrix),x.multiplyWithOffset(u,-a.scrollX*i.scrollFactorX,-a.scrollY*i.scrollFactorY),g.e=i.x-T,g.f=i.y-C,x.multiply(g,y)):(T=i.width*i.originX,C=i.height*i.originY,g.applyITRS(i.x-T,i.y-C,i.rotation,i.scaleX,i.scaleY),x.copyFrom(a.matrix),A=100*i.originX+"%",w=100*i.originY+"%",g.e-=a.scrollX*i.scrollFactorX,g.f-=a.scrollY*i.scrollFactorY,x.multiply(g,y)),i.transformOnly||(l.display="block",l.opacity=m,l.zIndex=i._depth,l.pointerEvents=i.pointerEvents,l.mixBlendMode=d[i._blendMode]),l.transform=y.getCSSMatrix()+" skew("+i.skewX+"rad, "+i.skewY+"rad) rotate3d("+i.rotate3d.x+","+i.rotate3d.y+","+i.rotate3d.z+","+i.rotate3d.w+i.rotate3dAngle+")",l.transformOrigin=A+" "+w}};p.exports=s},66788:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(38943),v=t(61286);v.register("dom",function(o,r,n,e,s){var h=new d(this.scene,o,r,n,e,s);return this.displayList.add(h),h})},11603:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(66070),o=t(66070),p.exports={renderWebGL:v,renderCanvas:o}},65492:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addedtoscene"},98398:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},40239:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedfromscene"},17286:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},31496:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="created"},89587:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="error"},59792:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="locked"},96342:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},6017:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="playing"},49614:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="play"},24418:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seeked"},87318:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seeking"},50009:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stalled"},61922:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},79501:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="textureready"},4052:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unlocked"},54857:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unsupported"},56631:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADDED_TO_SCENE:t(65492),DESTROY:t(98398),REMOVED_FROM_SCENE:t(40239),VIDEO_COMPLETE:t(17286),VIDEO_CREATED:t(31496),VIDEO_ERROR:t(89587),VIDEO_LOCKED:t(59792),VIDEO_LOOP:t(96342),VIDEO_PLAY:t(49614),VIDEO_PLAYING:t(6017),VIDEO_SEEKED:t(24418),VIDEO_SEEKING:t(87318),VIDEO_STALLED:t(50009),VIDEO_STOP:t(61922),VIDEO_TEXTURE:t(79501),VIDEO_UNLOCKED:t(4052),VIDEO_UNSUPPORTED:t(54857)}},39419:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(64937),o=t(89980),r=t(79394),n=new d({Extends:o,Mixins:[v.Alpha,v.BlendMode,v.Depth,v.Flip,v.Origin,v.ScrollFactor,v.Size,v.Texture,v.Tint,v.Transform,v.Visible,r],initialize:function(s){o.call(this,s,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});p.exports=n},96699:()=>{},41155:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(39419),v=t(61286);v.register("extern",function(){var o=new d(this.scene);return this.displayList.add(o),o})},79394:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(81410),o=t(96699),p.exports={renderWebGL:v,renderCanvas:o}},81410:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(73329),v=function(o,r,n,e){o.pipelines.clear();var s=d(r,n,e).calc;r.render.call(r,o,n,s),o.pipelines.rebind()};p.exports=v},36266:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},33182:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(51052),v=t(56694),o=t(36266),r=t(64937),n=t(95669),e=t(89980),s=t(72632),h=t(10850),i=t(83392),a=t(60898),u=new v({Extends:e,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.Transform,r.Visible,r.ScrollFactor,a],initialize:function(f,c){var m=h(c,"x",0),x=h(c,"y",0);e.call(this,f,"Graphics"),this.setPosition(m,x),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(c)},setDefaultStyles:function(l){return h(l,"lineStyle",null)&&(this.defaultStrokeWidth=h(l,"lineStyle.width",1),this.defaultStrokeColor=h(l,"lineStyle.color",16777215),this.defaultStrokeAlpha=h(l,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),h(l,"fillStyle",null)&&(this.defaultFillColor=h(l,"fillStyle.color",16777215),this.defaultFillAlpha=h(l,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(l,f,c){return c===void 0&&(c=1),this.commandBuffer.push(o.LINE_STYLE,l,f,c),this._lineWidth=l,this},fillStyle:function(l,f){return f===void 0&&(f=1),this.commandBuffer.push(o.FILL_STYLE,l,f),this},fillGradientStyle:function(l,f,c,m,x,g,y,T){return x===void 0&&(x=1),g===void 0&&(g=x),y===void 0&&(y=x),T===void 0&&(T=x),this.commandBuffer.push(o.GRADIENT_FILL_STYLE,x,g,y,T,l,f,c,m),this},lineGradientStyle:function(l,f,c,m,x,g){return g===void 0&&(g=1),this.commandBuffer.push(o.GRADIENT_LINE_STYLE,l,g,f,c,m,x),this},beginPath:function(){return this.commandBuffer.push(o.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(o.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(o.FILL_PATH),this},fill:function(){return this.commandBuffer.push(o.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(o.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(o.STROKE_PATH),this},fillCircleShape:function(l){return this.fillCircle(l.x,l.y,l.radius)},strokeCircleShape:function(l){return this.strokeCircle(l.x,l.y,l.radius)},fillCircle:function(l,f,c){return this.beginPath(),this.arc(l,f,c,0,i.PI2),this.fillPath(),this},strokeCircle:function(l,f,c){return this.beginPath(),this.arc(l,f,c,0,i.PI2),this.strokePath(),this},fillRectShape:function(l){return this.fillRect(l.x,l.y,l.width,l.height)},strokeRectShape:function(l){return this.strokeRect(l.x,l.y,l.width,l.height)},fillRect:function(l,f,c,m){return this.commandBuffer.push(o.FILL_RECT,l,f,c,m),this},strokeRect:function(l,f,c,m){var x=this._lineWidth/2,g=l-x,y=l+x;return this.beginPath(),this.moveTo(l,f),this.lineTo(l,f+m),this.strokePath(),this.beginPath(),this.moveTo(l+c,f),this.lineTo(l+c,f+m),this.strokePath(),this.beginPath(),this.moveTo(g,f),this.lineTo(y+c,f),this.strokePath(),this.beginPath(),this.moveTo(g,f+m),this.lineTo(y+c,f+m),this.strokePath(),this},fillRoundedRect:function(l,f,c,m,x){x===void 0&&(x=20);var g=x,y=x,T=x,C=x;typeof x!="number"&&(g=s(x,"tl",20),y=s(x,"tr",20),T=s(x,"bl",20),C=s(x,"br",20));var A=g>=0,w=y>=0,E=T>=0,P=C>=0;return g=Math.abs(g),y=Math.abs(y),T=Math.abs(T),C=Math.abs(C),this.beginPath(),this.moveTo(l+g,f),this.lineTo(l+c-y,f),w?this.arc(l+c-y,f+y,y,-i.TAU,0):this.arc(l+c,f,y,Math.PI,i.TAU,!0),this.lineTo(l+c,f+m-C),P?this.arc(l+c-C,f+m-C,C,0,i.TAU):this.arc(l+c,f+m,C,-i.TAU,Math.PI,!0),this.lineTo(l+T,f+m),E?this.arc(l+T,f+m-T,T,i.TAU,Math.PI):this.arc(l,f+m,T,0,-i.TAU,!0),this.lineTo(l,f+g),A?this.arc(l+g,f+g,g,-Math.PI,-i.TAU):this.arc(l,f,g,i.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(l,f,c,m,x){x===void 0&&(x=20);var g=x,y=x,T=x,C=x,A=Math.min(c,m)/2;typeof x!="number"&&(g=s(x,"tl",20),y=s(x,"tr",20),T=s(x,"bl",20),C=s(x,"br",20));var w=g>=0,E=y>=0,P=T>=0,B=C>=0;return g=Math.min(Math.abs(g),A),y=Math.min(Math.abs(y),A),T=Math.min(Math.abs(T),A),C=Math.min(Math.abs(C),A),this.beginPath(),this.moveTo(l+g,f),this.lineTo(l+c-y,f),this.moveTo(l+c-y,f),E?this.arc(l+c-y,f+y,y,-i.TAU,0):this.arc(l+c,f,y,Math.PI,i.TAU,!0),this.lineTo(l+c,f+m-C),this.moveTo(l+c,f+m-C),B?this.arc(l+c-C,f+m-C,C,0,i.TAU):this.arc(l+c,f+m,C,-i.TAU,Math.PI,!0),this.lineTo(l+T,f+m),this.moveTo(l+T,f+m),P?this.arc(l+T,f+m-T,T,i.TAU,Math.PI):this.arc(l,f+m,T,0,-i.TAU,!0),this.lineTo(l,f+g),this.moveTo(l,f+g),w?this.arc(l+g,f+g,g,-Math.PI,-i.TAU):this.arc(l,f,g,i.TAU,0,!0),this.strokePath(),this},fillPointShape:function(l,f){return this.fillPoint(l.x,l.y,f)},fillPoint:function(l,f,c){return!c||c<1?c=1:(l-=c/2,f-=c/2),this.commandBuffer.push(o.FILL_RECT,l,f,c,c),this},fillTriangleShape:function(l){return this.fillTriangle(l.x1,l.y1,l.x2,l.y2,l.x3,l.y3)},strokeTriangleShape:function(l){return this.strokeTriangle(l.x1,l.y1,l.x2,l.y2,l.x3,l.y3)},fillTriangle:function(l,f,c,m,x,g){return this.commandBuffer.push(o.FILL_TRIANGLE,l,f,c,m,x,g),this},strokeTriangle:function(l,f,c,m,x,g){return this.commandBuffer.push(o.STROKE_TRIANGLE,l,f,c,m,x,g),this},strokeLineShape:function(l){return this.lineBetween(l.x1,l.y1,l.x2,l.y2)},lineBetween:function(l,f,c,m){return this.beginPath(),this.moveTo(l,f),this.lineTo(c,m),this.strokePath(),this},lineTo:function(l,f){return this.commandBuffer.push(o.LINE_TO,l,f),this},moveTo:function(l,f){return this.commandBuffer.push(o.MOVE_TO,l,f),this},strokePoints:function(l,f,c,m){f===void 0&&(f=!1),c===void 0&&(c=!1),m===void 0&&(m=l.length),this.beginPath(),this.moveTo(l[0].x,l[0].y);for(var x=1;x<m;x++)this.lineTo(l[x].x,l[x].y);return f&&this.lineTo(l[0].x,l[0].y),c&&this.closePath(),this.strokePath(),this},fillPoints:function(l,f,c,m){f===void 0&&(f=!1),c===void 0&&(c=!1),m===void 0&&(m=l.length),this.beginPath(),this.moveTo(l[0].x,l[0].y);for(var x=1;x<m;x++)this.lineTo(l[x].x,l[x].y);return f&&this.lineTo(l[0].x,l[0].y),c&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(l,f){f===void 0&&(f=32);var c=l.getPoints(f);return this.strokePoints(c,!0)},strokeEllipse:function(l,f,c,m,x){x===void 0&&(x=32);var g=new n(l,f,c,m),y=g.getPoints(x);return this.strokePoints(y,!0)},fillEllipseShape:function(l,f){f===void 0&&(f=32);var c=l.getPoints(f);return this.fillPoints(c,!0)},fillEllipse:function(l,f,c,m,x){x===void 0&&(x=32);var g=new n(l,f,c,m),y=g.getPoints(x);return this.fillPoints(y,!0)},arc:function(l,f,c,m,x,g,y){return g===void 0&&(g=!1),y===void 0&&(y=0),this.commandBuffer.push(o.ARC,l,f,c,m,x,g,y),this},slice:function(l,f,c,m,x,g,y){return g===void 0&&(g=!1),y===void 0&&(y=0),this.commandBuffer.push(o.BEGIN_PATH),this.commandBuffer.push(o.MOVE_TO,l,f),this.commandBuffer.push(o.ARC,l,f,c,m,x,g,y),this.commandBuffer.push(o.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(o.SAVE),this},restore:function(){return this.commandBuffer.push(o.RESTORE),this},translateCanvas:function(l,f){return this.commandBuffer.push(o.TRANSLATE,l,f),this},scaleCanvas:function(l,f){return this.commandBuffer.push(o.SCALE,l,f),this},rotateCanvas:function(l){return this.commandBuffer.push(o.ROTATE,l),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(l,f,c){var m=this.scene.sys,x=m.game.renderer;f===void 0&&(f=m.scale.width),c===void 0&&(c=m.scale.height),u.TargetCamera.setScene(this.scene),u.TargetCamera.setViewport(0,0,f,c),u.TargetCamera.scrollX=this.x,u.TargetCamera.scrollY=this.y;var g,y,T={willReadFrequently:!0};if(typeof l=="string")if(m.textures.exists(l)){g=m.textures.get(l);var C=g.getSourceImage();C instanceof HTMLCanvasElement&&(y=C.getContext("2d",T))}else g=m.textures.createCanvas(l,f,c),y=g.getSourceImage().getContext("2d",T);else l instanceof HTMLCanvasElement&&(y=l.getContext("2d",T));return y&&(this.renderCanvas(x,this,u.TargetCamera,null,y,!1),g&&g.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});u.TargetCamera=new d,p.exports=u},91543:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(36266),v=t(49584),o=function(r,n,e,s,h,i){var a=n.commandBuffer,u=a.length,l=h||r.currentContext;if(!(u===0||!v(r,l,n,e,s))){e.addToRenderList(n);var f=1,c=1,m=0,x=0,g=1,y=0,T=0,C=0;l.beginPath();for(var A=0;A<u;++A){var w=a[A];switch(w){case d.ARC:l.arc(a[A+1],a[A+2],a[A+3],a[A+4],a[A+5],a[A+6]),A+=7;break;case d.LINE_STYLE:g=a[A+1],m=a[A+2],f=a[A+3],y=(m&16711680)>>>16,T=(m&65280)>>>8,C=m&255,l.strokeStyle="rgba("+y+","+T+","+C+","+f+")",l.lineWidth=g,A+=3;break;case d.FILL_STYLE:x=a[A+1],c=a[A+2],y=(x&16711680)>>>16,T=(x&65280)>>>8,C=x&255,l.fillStyle="rgba("+y+","+T+","+C+","+c+")",A+=2;break;case d.BEGIN_PATH:l.beginPath();break;case d.CLOSE_PATH:l.closePath();break;case d.FILL_PATH:i||l.fill();break;case d.STROKE_PATH:i||l.stroke();break;case d.FILL_RECT:i?l.rect(a[A+1],a[A+2],a[A+3],a[A+4]):l.fillRect(a[A+1],a[A+2],a[A+3],a[A+4]),A+=4;break;case d.FILL_TRIANGLE:l.beginPath(),l.moveTo(a[A+1],a[A+2]),l.lineTo(a[A+3],a[A+4]),l.lineTo(a[A+5],a[A+6]),l.closePath(),i||l.fill(),A+=6;break;case d.STROKE_TRIANGLE:l.beginPath(),l.moveTo(a[A+1],a[A+2]),l.lineTo(a[A+3],a[A+4]),l.lineTo(a[A+5],a[A+6]),l.closePath(),i||l.stroke(),A+=6;break;case d.LINE_TO:l.lineTo(a[A+1],a[A+2]),A+=2;break;case d.MOVE_TO:l.moveTo(a[A+1],a[A+2]),A+=2;break;case d.LINE_FX_TO:l.lineTo(a[A+1],a[A+2]),A+=5;break;case d.MOVE_FX_TO:l.moveTo(a[A+1],a[A+2]),A+=5;break;case d.SAVE:l.save();break;case d.RESTORE:l.restore();break;case d.TRANSLATE:l.translate(a[A+1],a[A+2]),A+=2;break;case d.SCALE:l.scale(a[A+1],a[A+2]),A+=2;break;case d.ROTATE:l.rotate(a[A+1]),A+=1;break;case d.GRADIENT_FILL_STYLE:A+=5;break;case d.GRADIENT_LINE_STYLE:A+=6;break}}l.restore()}};p.exports=o},41286:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(99325),v=t(33182);d.register("graphics",function(o,r){o===void 0&&(o={}),r!==void 0&&(o.add=r);var n=new v(this.scene,o);return o.add&&this.scene.sys.displayList.add(n),n})},13122:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(33182),v=t(61286);v.register("graphics",function(o){return this.displayList.add(new d(this.scene,o))})},60898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(34429),o=t(91543),o=t(91543),p.exports={renderWebGL:v,renderCanvas:o}},34429:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(36266),v=t(73329),o=t(69360),r=t(75512),n=function(a,u,l){this.x=a,this.y=u,this.width=l},e=function(a,u,l){this.points=[],this.pointsLength=1,this.points[0]=new n(a,u,l)},s=[],h=new o,i=function(a,u,l,f){if(u.commandBuffer.length!==0){l.addToRenderList(u);var c=a.pipelines.set(u.pipeline,u);a.pipelines.preBatch(u);for(var m=v(u,l,f).calc,x=h.loadIdentity(),g=u.commandBuffer,y=l.alpha*u.alpha,T=1,C=c.fillTint,A=c.strokeTint,w=0,E=0,P=0,B=.01,R=Math.PI*2,I,N=[],X=0,Y=!0,O=null,D=r.getTintAppendFloatAlpha,F=0;F<g.length;F++)switch(I=g[F],I){case d.BEGIN_PATH:{N.length=0,O=null,Y=!0;break}case d.CLOSE_PATH:{Y=!1,O&&O.points.length&&O.points.push(O.points[0]);break}case d.FILL_PATH:{for(X=0;X<N.length;X++)c.batchFillPath(N[X].points,x,m);break}case d.STROKE_PATH:{for(X=0;X<N.length;X++)c.batchStrokePath(N[X].points,T,Y,x,m);break}case d.LINE_STYLE:{T=g[++F];var M=g[++F],L=g[++F]*y,G=D(M,L);A.TL=G,A.TR=G,A.BL=G,A.BR=G;break}case d.FILL_STYLE:{var U=g[++F],W=g[++F]*y,H=D(U,W);C.TL=H,C.TR=H,C.BL=H,C.BR=H;break}case d.GRADIENT_FILL_STYLE:{var J=g[++F]*y,Q=g[++F]*y,$=g[++F]*y,k=g[++F]*y;C.TL=D(g[++F],J),C.TR=D(g[++F],Q),C.BL=D(g[++F],$),C.BR=D(g[++F],k);break}case d.GRADIENT_LINE_STYLE:{T=g[++F];var _=g[++F]*y;A.TL=D(g[++F],_),A.TR=D(g[++F],_),A.BL=D(g[++F],_),A.BR=D(g[++F],_);break}case d.ARC:{var q=0,et=g[++F],ot=g[++F],lt=g[++F],ht=g[++F],tt=g[++F],at=g[++F],rt=g[++F];for(tt-=ht,at?tt<-R?tt=-R:tt>0&&(tt=-R+tt%R):tt>R?tt=R:tt<0&&(tt=R+tt%R),O===null&&(O=new e(et+Math.cos(ht)*lt,ot+Math.sin(ht)*lt,T),N.push(O),q+=B);q<1+rt;)P=tt*q+ht,w=et+Math.cos(P)*lt,E=ot+Math.sin(P)*lt,O.points.push(new n(w,E,T)),q+=B;P=tt+ht,w=et+Math.cos(P)*lt,E=ot+Math.sin(P)*lt,O.points.push(new n(w,E,T));break}case d.FILL_RECT:{c.batchFillRect(g[++F],g[++F],g[++F],g[++F],x,m);break}case d.FILL_TRIANGLE:{c.batchFillTriangle(g[++F],g[++F],g[++F],g[++F],g[++F],g[++F],x,m);break}case d.STROKE_TRIANGLE:{c.batchStrokeTriangle(g[++F],g[++F],g[++F],g[++F],g[++F],g[++F],T,x,m);break}case d.LINE_TO:{O!==null?O.points.push(new n(g[++F],g[++F],T)):(O=new e(g[++F],g[++F],T),N.push(O));break}case d.MOVE_TO:{O=new e(g[++F],g[++F],T),N.push(O);break}case d.SAVE:{s.push(x.copyToArray());break}case d.RESTORE:{x.copyFromArray(s.pop());break}case d.TRANSLATE:{et=g[++F],ot=g[++F],x.translate(et,ot);break}case d.SCALE:{et=g[++F],ot=g[++F],x.scale(et,ot);break}case d.ROTATE:{x.rotate(g[++F]);break}}a.pipelines.postBatch(u)}};p.exports=i},59192:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(83979),v=t(56694),o=t(56631),r=t(6659),n=t(71608),e=t(72632),s=t(10850),h=t(19256),i=t(42911),a=t(75757),u=t(58403),l=t(13747),f=new v({Extends:r,initialize:function(m,x,g){r.call(this),g?x&&!Array.isArray(x)&&(x=[x]):Array.isArray(x)?i(x[0])&&(g=x,x=null):i(x)&&(g=x,x=null),this.scene=m,this.children=new u,this.isParent=!0,this.type="Group",this.classType=e(g,"classType",l),this.name=e(g,"name",""),this.active=e(g,"active",!0),this.maxSize=e(g,"maxSize",-1),this.defaultKey=e(g,"defaultKey",null),this.defaultFrame=e(g,"defaultFrame",null),this.runChildUpdate=e(g,"runChildUpdate",!1),this.createCallback=e(g,"createCallback",null),this.removeCallback=e(g,"removeCallback",null),this.createMultipleCallback=e(g,"createMultipleCallback",null),this.internalCreateCallback=e(g,"internalCreateCallback",null),this.internalRemoveCallback=e(g,"internalRemoveCallback",null),x&&this.addMultiple(x),g&&this.createMultiple(g),this.on(o.ADDED_TO_SCENE,this.addedToScene,this),this.on(o.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(c,m,x,g,y,T){if(c===void 0&&(c=0),m===void 0&&(m=0),x===void 0&&(x=this.defaultKey),g===void 0&&(g=this.defaultFrame),y===void 0&&(y=!0),T===void 0&&(T=!0),this.isFull())return null;var C=new this.classType(this.scene,c,m,x,g);return C.addToDisplayList(this.scene.sys.displayList),C.addToUpdateList(),C.visible=y,C.setActive(T),this.add(C),C},createMultiple:function(c){if(this.isFull())return[];Array.isArray(c)||(c=[c]);var m=[];if(c[0].key)for(var x=0;x<c.length;x++){var g=this.createFromConfig(c[x]);m=m.concat(g)}return m},createFromConfig:function(c){if(this.isFull())return[];this.classType=e(c,"classType",this.classType);var m=e(c,"key",void 0),x=e(c,"frame",null),g=e(c,"visible",!0),y=e(c,"active",!0),T=[];if(m===void 0)return T;Array.isArray(m)||(m=[m]),Array.isArray(x)||(x=[x]);var C=e(c,"repeat",0),A=e(c,"randomKey",!1),w=e(c,"randomFrame",!1),E=e(c,"yoyo",!1),P=e(c,"quantity",!1),B=e(c,"frameQuantity",1),R=e(c,"max",0),I=a(m,x,{max:R,qty:P||B,random:A,randomB:w,repeat:C,yoyo:E});c.createCallback&&(this.createCallback=c.createCallback),c.removeCallback&&(this.removeCallback=c.removeCallback);for(var N=0;N<I.length;N++){var X=this.create(0,0,I[N].a,I[N].b,g,y);if(!X)break;T.push(X)}if(h(c,"setXY")){var Y=s(c,"setXY.x",0),O=s(c,"setXY.y",0),D=s(c,"setXY.stepX",0),F=s(c,"setXY.stepY",0);d.SetXY(T,Y,O,D,F)}if(h(c,"setRotation")){var M=s(c,"setRotation.value",0),L=s(c,"setRotation.step",0);d.SetRotation(T,M,L)}if(h(c,"setScale")){var G=s(c,"setScale.x",1),U=s(c,"setScale.y",G),W=s(c,"setScale.stepX",0),H=s(c,"setScale.stepY",0);d.SetScale(T,G,U,W,H)}if(h(c,"setOrigin")){var J=s(c,"setOrigin.x",.5),Q=s(c,"setOrigin.y",J),$=s(c,"setOrigin.stepX",0),k=s(c,"setOrigin.stepY",0);d.SetOrigin(T,J,Q,$,k)}if(h(c,"setAlpha")){var _=s(c,"setAlpha.value",1),q=s(c,"setAlpha.step",0);d.SetAlpha(T,_,q)}if(h(c,"setDepth")){var et=s(c,"setDepth.value",0),ot=s(c,"setDepth.step",0);d.SetDepth(T,et,ot)}if(h(c,"setScrollFactor")){var lt=s(c,"setScrollFactor.x",1),ht=s(c,"setScrollFactor.y",lt),tt=s(c,"setScrollFactor.stepX",0),at=s(c,"setScrollFactor.stepY",0);d.SetScrollFactor(T,lt,ht,tt,at)}var rt=e(c,"hitArea",null),dt=e(c,"hitAreaCallback",null);rt&&d.SetHitArea(T,rt,dt);var ut=e(c,"gridAlign",!1);return ut&&d.GridAlign(T,ut),this.createMultipleCallback&&this.createMultipleCallback.call(this,T),T},preUpdate:function(c,m){if(!(!this.runChildUpdate||this.children.size===0))for(var x=this.children.entries.slice(),g=0;g<x.length;g++){var y=x[g];y.active&&y.update(c,m)}},add:function(c,m){return m===void 0&&(m=!1),this.isFull()?this:(this.children.set(c),this.internalCreateCallback&&this.internalCreateCallback.call(this,c),this.createCallback&&this.createCallback.call(this,c),m&&(c.addToDisplayList(this.scene.sys.displayList),c.addToUpdateList()),c.on(o.DESTROY,this.remove,this),this)},addMultiple:function(c,m){if(m===void 0&&(m=!1),Array.isArray(c))for(var x=0;x<c.length;x++)this.add(c[x],m);return this},remove:function(c,m,x){return m===void 0&&(m=!1),x===void 0&&(x=!1),this.children.contains(c)?(this.children.delete(c),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,c),this.removeCallback&&this.removeCallback.call(this,c),c.off(o.DESTROY,this.remove,this),x?c.destroy():m&&(c.removeFromDisplayList(),c.removeFromUpdateList()),this):this},clear:function(c,m){c===void 0&&(c=!1),m===void 0&&(m=!1);for(var x=this.children,g=0;g<x.size;g++){var y=x.entries[g];y.off(o.DESTROY,this.remove,this),m?y.destroy():c&&(y.removeFromDisplayList(),y.removeFromUpdateList())}return this.children.clear(),this},contains:function(c){return this.children.contains(c)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(c,m,x,g){return n(this.children.entries,c,m,x,g)},getFirst:function(c,m,x,g,y,T,C){return this.getHandler(!0,1,c,m,x,g,y,T,C)},getFirstNth:function(c,m,x,g,y,T,C,A){return this.getHandler(!0,c,m,x,g,y,T,C,A)},getLast:function(c,m,x,g,y,T,C){return this.getHandler(!1,1,c,m,x,g,y,T,C)},getLastNth:function(c,m,x,g,y,T,C,A){return this.getHandler(!1,c,m,x,g,y,T,C,A)},getHandler:function(c,m,x,g,y,T,C,A,w){x===void 0&&(x=!1),g===void 0&&(g=!1);var E,P,B=0,R=this.children.entries;if(c)for(P=0;P<R.length;P++)if(E=R[P],E.active===x){if(B++,B===m)break}else E=null;else for(P=R.length-1;P>=0;P--)if(E=R[P],E.active===x){if(B++,B===m)break}else E=null;return E?(typeof y=="number"&&(E.x=y),typeof T=="number"&&(E.y=T),E):g?this.create(y,T,C,A,w):null},get:function(c,m,x,g,y){return this.getFirst(!1,!0,c,m,x,g,y)},getFirstAlive:function(c,m,x,g,y,T){return this.getFirst(!0,c,m,x,g,y,T)},getFirstDead:function(c,m,x,g,y,T){return this.getFirst(!1,c,m,x,g,y,T)},playAnimation:function(c,m){return d.PlayAnimation(this.children.entries,c,m),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(c){c===void 0&&(c=!0);for(var m=0,x=0;x<this.children.size;x++)this.children.entries[x].active===c&&m++;return m},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var c=this.getTotalUsed(),m=this.maxSize===-1?999999999999:this.maxSize;return m-c},setActive:function(c){return this.active=c,this},setName:function(c){return this.name=c,this},propertyValueSet:function(c,m,x,g,y){return d.PropertyValueSet(this.children.entries,c,m,x,g,y),this},propertyValueInc:function(c,m,x,g,y){return d.PropertyValueInc(this.children.entries,c,m,x,g,y),this},setX:function(c,m){return d.SetX(this.children.entries,c,m),this},setY:function(c,m){return d.SetY(this.children.entries,c,m),this},setXY:function(c,m,x,g){return d.SetXY(this.children.entries,c,m,x,g),this},incX:function(c,m){return d.IncX(this.children.entries,c,m),this},incY:function(c,m){return d.IncY(this.children.entries,c,m),this},incXY:function(c,m,x,g){return d.IncXY(this.children.entries,c,m,x,g),this},shiftPosition:function(c,m,x){return d.ShiftPosition(this.children.entries,c,m,x),this},angle:function(c,m){return d.Angle(this.children.entries,c,m),this},rotate:function(c,m){return d.Rotate(this.children.entries,c,m),this},rotateAround:function(c,m){return d.RotateAround(this.children.entries,c,m),this},rotateAroundDistance:function(c,m,x){return d.RotateAroundDistance(this.children.entries,c,m,x),this},setAlpha:function(c,m){return d.SetAlpha(this.children.entries,c,m),this},setTint:function(c,m,x,g){return d.SetTint(this.children.entries,c,m,x,g),this},setOrigin:function(c,m,x,g){return d.SetOrigin(this.children.entries,c,m,x,g),this},scaleX:function(c,m){return d.ScaleX(this.children.entries,c,m),this},scaleY:function(c,m){return d.ScaleY(this.children.entries,c,m),this},scaleXY:function(c,m,x,g){return d.ScaleXY(this.children.entries,c,m,x,g),this},setDepth:function(c,m){return d.SetDepth(this.children.entries,c,m),this},setBlendMode:function(c){return d.SetBlendMode(this.children.entries,c),this},setHitArea:function(c,m){return d.SetHitArea(this.children.entries,c,m),this},shuffle:function(){return d.Shuffle(this.children.entries),this},kill:function(c){this.children.contains(c)&&c.setActive(!1)},killAndHide:function(c){this.children.contains(c)&&(c.setActive(!1),c.setVisible(!1))},setVisible:function(c,m,x){return d.SetVisible(this.children.entries,c,m,x),this},toggleVisible:function(){return d.ToggleVisible(this.children.entries),this},destroy:function(c,m){c===void 0&&(c=!1),m===void 0&&(m=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(o.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(m,c),this.scene=void 0,this.children=void 0)}});p.exports=f},61295:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(99325),v=t(59192);d.register("group",function(o){return new v(this.scene,null,o)})},62598:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(59192),v=t(61286);v.register("group",function(o,r){return this.updateList.add(new d(this.scene,o,r))})},1539:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(64937),o=t(89980),r=t(57322),n=new d({Extends:o,Mixins:[v.Alpha,v.BlendMode,v.Depth,v.Flip,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Size,v.TextureCrop,v.Tint,v.Transform,v.Visible,r],initialize:function(s,h,i,a,u){o.call(this,s,"Image"),this._crop=this.resetCropObject(),this.setTexture(a,u),this.setPosition(h,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=n},57786:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){v.addToRenderList(d),t.batchSprite(d,d.frame,v,o)};p.exports=S},83556:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(88933),v=t(99325),o=t(20494),r=t(1539);v.register("image",function(n,e){n===void 0&&(n={});var s=o(n,"key",null),h=o(n,"frame",null),i=new r(this.scene,0,0,s,h);return e!==void 0&&(n.add=e),d(this.scene,i,n),i})},20927:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(1539),v=t(61286);v.register("image",function(o,r,n,e){return this.displayList.add(new d(this.scene,o,r,n,e))})},57322:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(59390),o=t(57786),p.exports={renderWebGL:v,renderCanvas:o}},59390:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){v.addToRenderList(d),this.pipeline.batchSprite(d,v,o)};p.exports=S},48013:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={Events:t(56631),DisplayList:t(91713),GameObjectCreator:t(99325),GameObjectFactory:t(61286),UpdateList:t(92034),Components:t(64937),GetCalcMatrix:t(73329),BuildGameObject:t(88933),BuildGameObjectAnimation:t(32291),GameObject:t(89980),BitmapText:t(44616),Blitter:t(52816),Bob:t(41664),Container:t(70339),DOMElement:t(38943),DynamicBitmapText:t(13468),Extern:t(39419),Graphics:t(33182),Group:t(59192),Image:t(1539),Layer:t(85305),Particles:t(27684),PathFollower:t(29598),RenderTexture:t(15996),RetroFont:t(55873),Rope:t(79968),Sprite:t(13747),Text:t(76555),GetTextSize:t(32979),MeasureText:t(27030),TextStyle:t(74744),TileSprite:t(35856),Zone:t(71030),Video:t(8630),Shape:t(91461),Arc:t(28593),Curve:t(15220),Ellipse:t(28591),Grid:t(39169),IsoBox:t(4415),IsoTriangle:t(65159),Line:t(579),Polygon:t(91249),Rectangle:t(517),Star:t(77843),Triangle:t(21873),Factories:{Blitter:t(38906),Container:t(23400),DOMElement:t(66788),DynamicBitmapText:t(94145),Extern:t(41155),Graphics:t(13122),Group:t(62598),Image:t(20927),Layer:t(17676),Particles:t(81212),PathFollower:t(19626),RenderTexture:t(29599),Rope:t(31982),Sprite:t(66135),StaticBitmapText:t(21797),Text:t(94627),TileSprite:t(20509),Zone:t(34546),Video:t(215),Arc:t(10369),Curve:t(10147),Ellipse:t(99869),Grid:t(9326),IsoBox:t(88154),IsoTriangle:t(67765),Line:t(85665),Polygon:t(88203),Rectangle:t(94355),Star:t(23962),Triangle:t(79296)},Creators:{Blitter:t(68452),Container:t(44516),DynamicBitmapText:t(67513),Graphics:t(41286),Group:t(61295),Image:t(83556),Layer:t(56378),Particles:t(765),RenderTexture:t(85692),Rope:t(96027),Sprite:t(89219),StaticBitmapText:t(95499),Text:t(75397),TileSprite:t(63950),Zone:t(24067),Video:t(65601)}};d.Shader=t(27902),d.Mesh=t(83321),d.NineSlice=t(44139),d.PointLight=t(13171),d.Plane=t(33412),d.Factories.Shader=t(51979),d.Factories.Mesh=t(8767),d.Factories.NineSlice=t(53778),d.Factories.PointLight=t(91201),d.Factories.Plane=t(58322),d.Creators.Shader=t(13908),d.Creators.Mesh=t(41839),d.Creators.NineSlice=t(40964),d.Creators.PointLight=t(162),d.Creators.Plane=t(10912),d.Light=t(14455),d.LightsManager=t(26193),d.LightsPlugin=t(50296),p.exports=d},85305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(95723),v=t(56694),o=t(64937),r=t(48129),n=t(81078),e=t(6659),s=t(56631),h=t(71207),i=t(58010),a=t(7599),u=t(17922),l=new v({Extends:h,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Mask,o.PostPipeline,o.Visible,e,i],initialize:function(c,m){h.call(this,c),e.call(this),this.scene=c,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=c.sys,this.events=c.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(d.SKIP_CHECK),m&&this.add(m),c.sys.queueDepthSort()},setActive:function(f){return this.active=f,this},setName:function(f){return this.name=f,this},setState:function(f){return this.state=f,this},setDataEnabled:function(){return this.data||(this.data=new n(this)),this},setData:function(f,c){return this.data||(this.data=new n(this)),this.data.set(f,c),this},incData:function(f,c){return this.data||(this.data=new n(this)),this.data.inc(f,c),this},toggleData:function(f){return this.data||(this.data=new n(this)),this.data.toggle(f),this},getData:function(f){return this.data||(this.data=new n(this)),this.data.get(f)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return r(this)},willRender:function(f){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&f.id)},getIndexList:function(){for(var f=this,c=this.parentContainer,m=[];c&&(m.unshift(c.getIndex(f)),f=c,c.parentContainer);)c=c.parentContainer;return m.unshift(this.displayList.getIndex(f)),m},addChildCallback:function(f){f.displayList&&f.displayList!==this&&f.removeFromDisplayList(),f.displayList||(this.queueDepthSort(),f.displayList=this,f.emit(s.ADDED_TO_SCENE,f,this.scene),this.events.emit(a.ADDED_TO_SCENE,f,this.scene))},removeChildCallback:function(f){this.queueDepthSort(),f.displayList=null,f.emit(s.REMOVED_FROM_SCENE,f,this.scene),this.events.emit(a.REMOVED_FROM_SCENE,f,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(u(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(f,c){return f._depth-c._depth},getChildren:function(){return this.list},addToDisplayList:function(f){return f===void 0&&(f=this.scene.sys.displayList),this.displayList&&this.displayList!==f&&this.removeFromDisplayList(),f.exists(this)||(this.displayList=f,f.add(this,!0),f.queueDepthSort(),this.emit(s.ADDED_TO_SCENE,this,this.scene),f.events.emit(a.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var f=this.displayList||this.scene.sys.displayList;return f.exists(this)&&(f.remove(this,!0),f.queueDepthSort(),this.displayList=null,this.emit(s.REMOVED_FROM_SCENE,this,this.scene),f.events.emit(a.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(f){if(!(!this.scene||this.ignoreDestroy)){this.emit(s.DESTROY,this);for(var c=this.list;c.length;)c[0].destroy(f);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});p.exports=l},834:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){var o=d.list;if(o.length!==0){d.depthSort();var r=d.blendMode!==-1;r||t.setBlendMode(0);var n=d._alpha;d.mask&&d.mask.preRenderCanvas(t,null,v);for(var e=0;e<o.length;e++){var s=o[e];if(s.willRender(v)){var h=s.alpha;!r&&s.blendMode!==t.currentBlendMode&&t.setBlendMode(s.blendMode),s.setAlpha(h*n),s.renderCanvas(t,s,v),s.setAlpha(h)}}d.mask&&d.mask.postRenderCanvas(t)}};p.exports=S},56378:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(88933),v=t(85305),o=t(99325),r=t(20494);o.register("layer",function(n,e){n===void 0&&(n={});var s=r(n,"children",null),h=new v(this.scene,s);return e!==void 0&&(n.add=e),d(this.scene,h,n),h})},17676:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(85305),v=t(61286);v.register("layer",function(o){return this.displayList.add(new d(this.scene,o))})},58010:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(17576),o=t(834),p.exports={renderWebGL:v,renderCanvas:o}},17576:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){var o=d.list,r=o.length;if(r!==0){d.depthSort(),t.pipelines.preBatch(d);var n=d.blendMode!==-1;n||t.setBlendMode(0);for(var e=d.alpha,s=0;s<r;s++){var h=o[s];if(h.willRender(v)){var i,a,u,l;if(h.alphaTopLeft!==void 0)i=h.alphaTopLeft,a=h.alphaTopRight,u=h.alphaBottomLeft,l=h.alphaBottomRight;else{var f=h.alpha;i=f,a=f,u=f,l=f}!n&&h.blendMode!==t.currentBlendMode&&t.setBlendMode(h.blendMode);var c=h.mask;c&&c.preRenderWebGL(t,h,v);var m=h.type;m!==t.currentType&&(t.newType=!0,t.currentType=m),t.nextTypeMatch=s<r-1?o[s+1].type===t.currentType:!1,h.setAlpha(i*e,a*e,u*e,l*e),h.renderWebGL(t,h,v),h.setAlpha(i,a,u,l),c&&c.postRenderWebGL(t,v),t.newType=!1}}t.pipelines.postBatch(d)}};p.exports=S},14455:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(26673),v=t(56694),o=t(64937),r=t(39298),n=t(75512),e=new v({Extends:d,Mixins:[o.Origin,o.ScrollFactor,o.Transform,o.Visible],initialize:function(h,i,a,u,l,f,c){d.call(this,h,i,a),this.color=new r(u,l,f),this.intensity=c,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(a)},displayWidth:{get:function(){return this.diameter},set:function(s){this.diameter=s}},displayHeight:{get:function(){return this.diameter},set:function(s){this.diameter=s}},width:{get:function(){return this.diameter},set:function(s){this.diameter=s}},height:{get:function(){return this.diameter},set:function(s){this.diameter=s}},willRender:function(s){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&s.id)},setColor:function(s){var h=n.getFloatsFromUintRGB(s);return this.color.set(h[0],h[1],h[2]),this},setIntensity:function(s){return this.intensity=s,this},setRadius:function(s){return this.radius=s,this}});e.RENDER_MASK=15,p.exports=e},26193:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(26535),v=t(56694),o=t(53996),r=t(14455),n=t(13171),e=t(39298),s=t(72677),h=t(17922),i=t(75512),a=new v({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(u,l,f,c,m,x){return this.systems.displayList.add(new n(this.scene,u,l,f,c,m,x))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(u){for(var l=this.lights,f=u.worldView,c=[],m=0;m<l.length;m++){var x=l[m];x.willRender(u)&&d(x,f)&&c.push({light:x,distance:o(x.x,x.y,f.centerX,f.centerY)})}return c.length>this.maxLights&&(h(c,this.sortByDistance),c=c.slice(0,this.maxLights)),this.visibleLights=c.length,c},sortByDistance:function(u,l){return u.distance>=l.distance},setAmbientColor:function(u){var l=i.getFloatsFromUintRGB(u);return this.ambientColor.set(l[0],l[1],l[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(u,l,f,c,m){u===void 0&&(u=0),l===void 0&&(l=0),f===void 0&&(f=128),c===void 0&&(c=16777215),m===void 0&&(m=1);var x=i.getFloatsFromUintRGB(c),g=new r(u,l,f,x[0],x[1],x[2],m);return this.lights.push(g),g},removeLight:function(u){var l=this.lights.indexOf(u);return l>=0&&s(this.lights,l),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});p.exports=a},50296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(26193),o=t(91963),r=t(7599),n=new d({Extends:v,initialize:function(s){this.scene=s,this.systems=s.sys,s.sys.settings.isBooted||s.sys.events.once(r.BOOT,this.boot,this),v.call(this)},boot:function(){var e=this.systems.events;e.on(r.SHUTDOWN,this.shutdown,this),e.on(r.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});o.register("LightsPlugin",n,"lights"),p.exports=n},83321:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(64937),o=t(75606),r=t(18693),n=t(89980),e=t(53267),s=t(67623),h=t(73329),i=t(16650),a=t(23464),u=t(23701),l=t(17922),f=t(70015),c=t(85769),m=new d({Extends:n,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Size,v.Texture,v.Transform,v.Visible,a],initialize:function(g,y,T,C,A,w,E,P,B,R,I,N){y===void 0&&(y=0),T===void 0&&(T=0),C===void 0&&(C="__WHITE"),n.call(this,g,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new f,this.modelScale=new f(1,1,1),this.modelRotation=new f,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new i,this.viewPosition=new f,this.viewMatrix=new i,this.projectionMatrix=new i,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var X=g.sys.renderer;this.setPosition(y,T),this.setTexture(C,A),this.setSize(X.width,X.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(X.width,X.height),w&&this.addVertices(w,E,P,B,R,I,N)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(x){return this.viewPosition.addScale(f.LEFT,x),this.dirtyCache[10]=1,this},panY:function(x){return this.viewPosition.y+=f.DOWN.y*x,this.dirtyCache[10]=1,this},panZ:function(x){return this.viewPosition.z+=x,this.dirtyCache[10]=1,this},setPerspective:function(x,g,y,T,C){return y===void 0&&(y=45),T===void 0&&(T=.01),C===void 0&&(C=1e3),this.fov=y,this.projectionMatrix.perspective(o(y),x/g,T,C),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(x,g,y,T){return x===void 0&&(x=this.scene.sys.renderer.getAspectRatio()),g===void 0&&(g=1),y===void 0&&(y=-1e3),T===void 0&&(T=1e3),this.fov=0,this.projectionMatrix.ortho(-x,x,-g,g,y,T),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(x){x.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(x,g,y,T,C,A,w,E,P){var B=this.scene.sys.cache.obj.get(x),R;return B&&(R=e(B,this,g,y,T,C,A,w,E,P)),(!R||R.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",x),this},sortByDepth:function(x,g){return x.depth-g.depth},depthSort:function(){return l(this.faces,this.sortByDepth),this},addVertex:function(x,g,y,T,C,A,w){var E=new c(x,g,y,T,C,A,w);return this.vertices.push(E),E},addFace:function(x,g,y){var T=new r(x,g,y);return this.faces.push(T),this.dirtyCache[9]=-1,T},addVertices:function(x,g,y,T,C,A,w){var E=s(x,g,y,T,C,A,w);return E?(this.faces=this.faces.concat(E.faces),this.vertices=this.vertices.concat(E.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(x){return this.faces[x]},hasFaceAt:function(x,g,y){y===void 0&&(y=this.scene.sys.cameras.main);for(var T=h(this,y).calc,C=this.faces,A=0;A<C.length;A++){var w=C[A];if(w.contains(x,g,T))return!0}return!1},getFaceAt:function(x,g,y){y===void 0&&(y=this.scene.sys.cameras.main);for(var T=h(this,y).calc,C=this.faces,A=[],w=0;w<C.length;w++){var E=C[w];E.contains(x,g,T)&&A.push(E)}return l(A,this.sortByDepth)},setDebug:function(x,g){return this.debugGraphic=x,!x&&!g?this.debugCallback=null:g?this.debugCallback=g:this.debugCallback=this.renderDebug,this},isDirty:function(){var x=this.modelPosition,g=this.modelRotation,y=this.modelScale,T=this.dirtyCache,C=x.x,A=x.y,w=x.z,E=g.x,P=g.y,B=g.z,R=y.x,I=y.y,N=y.z,X=this.getFaceCount(),Y=T[0],O=T[1],D=T[2],F=T[3],M=T[4],L=T[5],G=T[6],U=T[7],W=T[8],H=T[9];return T[0]=C,T[1]=A,T[2]=w,T[3]=E,T[4]=P,T[5]=B,T[6]=R,T[7]=I,T[8]=N,T[9]=X,Y!==C||O!==A||D!==w||F!==E||M!==P||L!==B||G!==R||U!==I||W!==N||H!==X},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var x=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!x[10]&&!this.isDirty())){var g=this.width,y=this.height,T=this.viewMatrix,C=this.viewPosition;x[10]&&(T.identity(),T.translate(C),T.invert(),x[10]=0);var A=this.transformMatrix;A.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var w=C.z,E=this.faces,P=0;P<E.length;P++)E[P].transformCoordinatesLocal(A,g,y,w);this.depthSort()}},renderDebug:function(x,g){for(var y=x.debugGraphic,T=0;T<g.length;T++){var C=g[T],A=C.vertex1.tx,w=C.vertex1.ty,E=C.vertex2.tx,P=C.vertex2.ty,B=C.vertex3.tx,R=C.vertex3.ty;y.strokeTriangle(A,w,E,P,B,R)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(){var x=this.faces,g=function(y,T,C){for(var A=0;A<x.length;A++){var w=x[A];if(w.contains(T,C))return!0}return!1};return this.scene.sys.input.enable(this,g),this},setTint:function(x){x===void 0&&(x=16777215);for(var g=this.vertices,y=0;y<g.length;y++)g[y].color=x;return this},uvScroll:function(x,g){for(var y=this.faces,T=0;T<y.length;T++)y[T].scrollUV(x,g);return this},uvScale:function(x,g){for(var y=this.faces,T=0;T<y.length;T++)y[T].scaleUV(x,g);return this},tint:{set:function(x){this.setTint(x)}},rotateX:{get:function(){return u(this.modelRotation.x)},set:function(x){this.modelRotation.x=o(x)}},rotateY:{get:function(){return u(this.modelRotation.y)},set:function(x){this.modelRotation.y=o(x)}},rotateZ:{get:function(){return u(this.modelRotation.z)},set:function(x){this.modelRotation.z=o(x)}}});p.exports=m},6317:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},41839:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(88933),v=t(99325),o=t(20494),r=t(10850),n=t(83321);v.register("mesh",function(e,s){e===void 0&&(e={});var h=o(e,"key",null),i=o(e,"frame",null),a=r(e,"vertices",[]),u=r(e,"uvs",[]),l=r(e,"indicies",[]),f=r(e,"containsZ",!1),c=r(e,"normals",[]),m=r(e,"colors",16777215),x=r(e,"alphas",1),g=new n(this.scene,0,0,h,i,a,u,l,f,c,m,x);return s!==void 0&&(e.add=s),d(this.scene,g,e),g})},8767:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(83321),v=t(61286);v.register("mesh",function(o,r,n,e,s,h,i,a,u,l,f){return this.displayList.add(new d(this.scene,o,r,n,e,s,h,i,a,u,l,f))})},23464:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(57410),o=t(6317),p.exports={renderWebGL:v,renderCanvas:o}},57410:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(73329),v=function(o,r,n,e){var s=r.faces,h=s.length;if(h!==0){n.addToRenderList(r);var i=o.pipelines.set(r.pipeline,r),a=d(r,n,e).calc;o.pipelines.preBatch(r);for(var u=i.setGameObject(r),l=i.vertexViewF32,f=i.vertexViewU32,c=i.vertexCount*i.currentShader.vertexComponentCount-1,m=r.tintFill,x=[],g=r.debugCallback,y=a.a,T=a.b,C=a.c,A=a.d,w=a.e,E=a.f,P=r.viewPosition.z,B=r.hideCCW,R=n.roundPixels,I=n.alpha*r.alpha,N=0,X=0;X<h;X++){var Y=s[X];Y.isInView(n,B,P,I,y,T,C,A,w,E,R)&&(i.shouldFlush(3)&&(i.flush(),u=i.setGameObject(r),c=0),c=Y.load(l,f,c,u,m),N++,i.vertexCount+=3,i.currentBatch.count=i.vertexCount-i.currentBatch.start,g&&x.push(Y))}r.totalFrame+=N,g&&g.call(r,r,x),o.pipelines.postBatch(r)}};p.exports=v},44139:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(64937),o=t(89980),r=t(94456),n=t(85769),e=new d({Extends:o,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Texture,v.Transform,v.Visible,r],initialize:function(h,i,a,u,l,f,c,m,x,g,y){f===void 0&&(f=256),c===void 0&&(c=256),m===void 0&&(m=10),x===void 0&&(x=10),g===void 0&&(g=0),y===void 0&&(y=0),o.call(this,h,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1,this.is3Slice=g===0&&y===0;for(var T=this.is3Slice?18:54,C=0;C<T;C++)this.vertices.push(new n);this.setPosition(i,a),this.setTexture(u,l),this.setSlices(f,c,m,x,g,y),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline()},setSlices:function(s,h,i,a,u,l){s===void 0&&(s=256),h===void 0&&(h=256),i===void 0&&(i=10),a===void 0&&(a=10),u===void 0&&(u=0),l===void 0&&(l=0);var f=u===0&&l===0;return this.is3Slice!==f?console.warn("Cannot change 9 slice to 3 slice"):(this._width=s,this._height=h,this.leftWidth=i,this.rightWidth=a,this.topHeight=u,this.bottomHeight=l,this.is3Slice&&(h=this.frame.height,this._height=h,this.topHeight=h,this.bottomHeight=0),this.updateVertices(),this.updateUVs()),this},updateUVs:function(){var s=this.leftWidth,h=this.rightWidth,i=this.topHeight,a=this.bottomHeight,u=this.frame.width,l=this.frame.height;this.updateQuadUVs(0,0,0,s/u,i/l),this.updateQuadUVs(6,s/u,0,1-h/u,i/l),this.updateQuadUVs(12,1-h/u,0,1,i/l),this.is3Slice||(this.updateQuadUVs(18,0,i/l,s/u,1-a/l),this.updateQuadUVs(24,s/u,i/l,1-h/u,1-a/l),this.updateQuadUVs(30,1-h/u,i/l,1,1-a/l),this.updateQuadUVs(36,0,1-a/l,s/u,1),this.updateQuadUVs(42,s/u,1-a/l,1-h/u,1),this.updateQuadUVs(48,1-h/u,1-a/l,1,1))},updateVertices:function(){var s=this.leftWidth,h=this.rightWidth,i=this.topHeight,a=this.bottomHeight,u=this.width,l=this.height;this.updateQuad(0,-.5,.5,-.5+s/u,.5-i/l),this.updateQuad(6,-.5+s/u,.5,.5-h/u,.5-i/l),this.updateQuad(12,.5-h/u,.5,.5,.5-i/l),this.is3Slice||(this.updateQuad(18,-.5,.5-i/l,-.5+s/u,-.5+a/l),this.updateQuad(24,-.5+s/u,.5-i/l,.5-h/u,-.5+a/l),this.updateQuad(30,.5-h/u,.5-i/l,.5,-.5+a/l),this.updateQuad(36,-.5,-.5+a/l,-.5+s/u,-.5),this.updateQuad(42,-.5+s/u,-.5+a/l,.5-h/u,-.5),this.updateQuad(48,.5-h/u,-.5+a/l,.5,-.5))},updateQuad:function(s,h,i,a,u){var l=this.width,f=this.height,c=this.originX,m=this.originY,x=this.vertices;x[s+0].resize(h,i,l,f,c,m),x[s+1].resize(h,u,l,f,c,m),x[s+2].resize(a,i,l,f,c,m),x[s+3].resize(h,u,l,f,c,m),x[s+4].resize(a,u,l,f,c,m),x[s+5].resize(a,i,l,f,c,m)},updateQuadUVs:function(s,h,i,a,u){var l=this.vertices,f=this.frame,c=f.u0,m=f.v0,x=f.u1,g=f.v1;if(c!==0||x!==1){var y=x-c;h=c+h*y,a=c+a*y}if(m!==0||g!==1){var T=g-m;i=m+i*T,u=m+u*T}l[s+0].setUVs(h,i),l[s+1].setUVs(h,u),l[s+2].setUVs(a,i),l[s+3].setUVs(h,u),l[s+4].setUVs(a,u),l[s+5].setUVs(a,i)},clearTint:function(){return this.setTint(16777215),this},setTint:function(s){return s===void 0&&(s=16777215),this.tint=s,this.tintFill=!1,this},setTintFill:function(s){return this.setTint(s),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(s){this._width=Math.max(s,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(s){this.is3Slice||(this._height=Math.max(s,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(s){this.scaleX=s/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(s){this.scaleY=s/this.height}},setSize:function(s,h){this.width=s,this.height=h;var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},setDisplaySize:function(s,h){return this.displayWidth=s,this.displayHeight=h,this},originX:{get:function(){return this._originX},set:function(s){this._originX=s,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(s){this._originY=s,this.updateVertices()}},setOrigin:function(s,h){return s===void 0&&(s=.5),h===void 0&&(h=s),this._originX=s,this._originY=h,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var s=this.frame.height;this._height=s,this.topHeight=s,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});p.exports=e},40964:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(88933),v=t(99325),o=t(20494),r=t(10850),n=t(44139);v.register("nineslice",function(e,s){e===void 0&&(e={});var h=o(e,"key",null),i=o(e,"frame",null),a=r(e,"width",256),u=r(e,"height",256),l=r(e,"leftWidth",10),f=r(e,"rightWidth",10),c=r(e,"topHeight",0),m=r(e,"bottomHeight",0),x=new n(this.scene,0,0,h,i,a,u,l,f,c,m);return s!==void 0&&(e.add=s),d(this.scene,x,e),x})},53778:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(44139),v=t(61286);v.register("nineslice",function(o,r,n,e,s,h,i,a,u,l){return this.displayList.add(new d(this.scene,o,r,n,e,s,h,i,a,u,l))})},94456:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(27420),p.exports={renderWebGL:v,renderCanvas:o}},27420:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(73329),v=t(75512),o=function(r,n,e,s){var h=n.vertices,i=h.length;if(i!==0){e.addToRenderList(n);var a=r.pipelines.set(n.pipeline,n),u=d(n,e,s,!1).calc;r.pipelines.preBatch(n);var l=a.setGameObject(n),f=a.vertexViewF32,c=a.vertexViewU32,m=a.vertexCount*a.currentShader.vertexComponentCount-1,x=e.roundPixels,g=n.tintFill,y=e.alpha*n.alpha,T=v.getTintAppendFloatAlpha(n.tint,y),C=a.vertexAvailable(),A=-1;C<i&&(A=C);for(var w=0;w<i;w++){var E=h[w];w===A&&(a.flush(),l=a.setGameObject(n),m=0),f[++m]=u.getXRound(E.vx,E.vy,x),f[++m]=u.getYRound(E.vx,E.vy,x),f[++m]=E.u,f[++m]=E.v,f[++m]=l,f[++m]=g,c[++m]=T,a.vertexCount++,a.currentBatch.count=a.vertexCount-a.currentBatch.start}r.pipelines.postBatch(n)}};p.exports=o},19737:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(93025),o=t(22946),r=t(21902),n=t(4840),e=t(15978),s=new d({Extends:v,initialize:function(i){v.call(this,i,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var h=this.propertyValue,i=h,a=this.defaultEmit,u=this.defaultUpdate;if(this.method===9){this.start=h[0],this.ease=r("Linear"),this.interpolation=n("linear"),a=this.easedValueEmit,u=this.easeValueUpdate,i=h[0],this.active=!0;for(var l=0;l<h.length;l++){var f=e(h[l]);this.r.push(f.r),this.g.push(f.g),this.b.push(f.b)}}return this.onEmit=a,this.onUpdate=u,this.current=i,this},setEase:function(h){this.easeName=h,this.ease=r(h)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(h,i,a){var u=this.ease(a),l=this.interpolation(this.r,u),f=this.interpolation(this.g,u),c=this.interpolation(this.b,u),m=o(l,f,c);return this.current=m,m}});p.exports=s},93025:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(17489),v=t(82897),o=t(56694),r=t(61616),n=t(21902),e=t(72632),s=t(4840),h=t(88462),i=t(1071),a=new o({initialize:function(l,f,c){c===void 0&&(c=!1),this.propertyKey=l,this.propertyValue=f,this.defaultValue=f,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=c,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(u,l){u===void 0&&(u={}),l&&(this.propertyKey=l),this.propertyValue=e(u,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(u){var l;switch(this.method){case 1:case 3:case 8:l=u;break;case 2:this.propertyValue.indexOf(u)>=0&&(l=u);break;case 4:var f=(this.end-this.start)/this.steps;l=h(u,f),this.counter=l;break;case 5:case 6:case 7:l=v(u,this.start,this.end);break;case 9:l=this.start[0];break}return this.current=l,this},getMethod:function(){var u=this.propertyValue;if(u===null)return 0;var l=typeof u;if(l==="number")return 1;if(Array.isArray(u))return 2;if(l==="function")return 3;if(l==="object"){if(this.hasBoth(u,"start","end"))return this.has(u,"steps")?4:5;if(this.hasBoth(u,"min","max"))return 6;if(this.has(u,"random"))return 7;if(this.hasEither(u,"onEmit","onUpdate"))return 8;if(this.has(u,"interpolation"))return 9}return 0},setMethods:function(){var u=this.propertyValue,l=u,f=this.defaultEmit,c=this.defaultUpdate;switch(this.method){case 1:f=this.staticValueEmit;break;case 2:f=this.randomStaticValueEmit,l=u[0];break;case 3:this._onEmit=u,f=this.proxyEmit;break;case 4:this.start=u.start,this.end=u.end,this.steps=u.steps,this.counter=this.start,this.yoyo=this.has(u,"yoyo")?u.yoyo:!1,this.direction=0,f=this.steppedEmit,l=this.start;break;case 5:this.start=u.start,this.end=u.end;var m=this.has(u,"ease")?u.ease:"Linear";this.ease=n(m,u.easeParams),f=this.has(u,"random")&&u.random?this.randomRangedValueEmit:this.easedValueEmit,c=this.easeValueUpdate,l=this.start;break;case 6:this.start=u.min,this.end=u.max,f=this.has(u,"int")&&u.int?this.randomRangedIntEmit:this.randomRangedValueEmit,l=this.start;break;case 7:var x=u.random;Array.isArray(x)&&(this.start=x[0],this.end=x[1]),f=this.randomRangedIntEmit,l=this.start;break;case 8:this._onEmit=this.has(u,"onEmit")?u.onEmit:this.defaultEmit,this._onUpdate=this.has(u,"onUpdate")?u.onUpdate:this.defaultUpdate,f=this.proxyEmit,c=this.proxyUpdate;break;case 9:this.start=u.values;var g=this.has(u,"ease")?u.ease:"Linear";this.ease=n(g,u.easeParams),this.interpolation=s(u.interpolation),f=this.easedValueEmit,c=this.easeValueUpdate,l=this.start[0];break}return this.onEmit=f,this.onUpdate=c,this.current=l,this},has:function(u,l){return u.hasOwnProperty(l)},hasBoth:function(u,l,f){return u.hasOwnProperty(l)&&u.hasOwnProperty(f)},hasEither:function(u,l,f){return u.hasOwnProperty(l)||u.hasOwnProperty(f)},defaultEmit:function(u,l,f){return f},defaultUpdate:function(u,l,f,c){return c},proxyEmit:function(u,l,f){var c=this._onEmit(u,l,f);return this.current=c,c},proxyUpdate:function(u,l,f,c){var m=this._onUpdate(u,l,f,c);return this.current=m,m},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var u=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[u],this.current},randomRangedValueEmit:function(u,l){var f=r(this.start,this.end);return u&&u.data[l]&&(u.data[l].min=f,u.data[l].max=this.end),this.current=f,f},randomRangedIntEmit:function(u,l){var f=d(this.start,this.end);return u&&u.data[l]&&(u.data[l].min=f,u.data[l].max=this.end),this.current=f,f},steppedEmit:function(){var u=this.counter,l=u,f=(this.end-this.start)/this.steps;if(this.yoyo){var c;this.direction===0?(l+=f,l>=this.end&&(c=l-this.end,l=this.end-c,this.direction=1)):(l-=f,l<=this.start&&(c=this.start-l,l=this.start+c,this.direction=0)),this.counter=l}else this.counter=i(l+f,this.start,this.end);return this.current=u,u},easedValueEmit:function(u,l){if(u&&u.data[l]){var f=u.data[l];f.min=this.start,f.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(u,l,f){var c=u.data[l],m,x=this.ease(f);return this.interpolation?m=this.interpolation(this.start,x):m=(c.max-c.min)*x+c.min,this.current=m,m},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});p.exports=a},87811:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(72632),o=t(30891),r=new d({Extends:o,initialize:function(e,s,h,i,a){if(typeof e=="object"){var u=e;e=v(u,"x",0),s=v(u,"y",0),h=v(u,"power",0),i=v(u,"epsilon",100),a=v(u,"gravity",50)}else e===void 0&&(e=0),s===void 0&&(s=0),h===void 0&&(h=0),i===void 0&&(i=100),a===void 0&&(a=50);o.call(this,e,s,!0),this._gravity=a,this._power=h*a,this._epsilon=i*i},update:function(n,e){var s=this.x-n.x,h=this.y-n.y,i=s*s+h*h;if(i!==0){var a=Math.sqrt(i);i<this._epsilon&&(i=this._epsilon);var u=this._power*e/(i*a)*100;n.velocityX+=s*u,n.velocityY+=h*u}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(n){this._epsilon=n*n}},power:{get:function(){return this._power/this._gravity},set:function(n){this._power=n*this._gravity}},gravity:{get:function(){return this._gravity},set:function(n){var e=this.power;this._gravity=n,this.power=e}}});p.exports=r},14909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(16569),v=t(82897),o=t(56694),r=t(75606),n=t(74118),e=t(2386),s=t(93736),h=new o({initialize:function(a){this.emitter=a,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new s,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=a.scene,this.anims=new d(this),this.bounds=new n},emit:function(i,a,u,l,f,c){return this.emitter.emit(i,a,u,l,f,c)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(i,a){i===void 0&&(i=0),a===void 0&&(a=0),this.x=i,this.y=a},fire:function(i,a){var u=this.emitter,l=u.ops,f=u.getAnim();if(f?this.anims.play(f):(this.frame=u.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(u.getEmitZone(this),i===void 0?this.x+=l.x.onEmit(this,"x"):l.x.steps>0?this.x+=i+l.x.onEmit(this,"x"):this.x+=i,a===void 0?this.y+=l.y.onEmit(this,"y"):l.y.steps>0?this.y+=a+l.y.onEmit(this,"y"):this.y+=a,this.life=l.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=l.delay.onEmit(this,"delay"),this.holdCurrent=l.hold.onEmit(this,"hold"),this.scaleX=l.scaleX.onEmit(this,"scaleX"),this.scaleY=l.scaleY.active?l.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=l.rotate.onEmit(this,"rotate"),this.rotation=r(this.angle),u.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&u.getDeathZone(this))return this.lifeCurrent=0,!1;var c=l.speedX.onEmit(this,"speedX"),m=l.speedY.active?l.speedY.onEmit(this,"speedY"):c;if(u.radial){var x=r(l.angle.onEmit(this,"angle"));this.velocityX=Math.cos(x)*Math.abs(c),this.velocityY=Math.sin(x)*Math.abs(m)}else if(u.moveTo){var g=l.moveToX.onEmit(this,"moveToX"),y=l.moveToY.onEmit(this,"moveToY"),T=this.life/1e3;this.velocityX=(g-this.x)/T,this.velocityY=(y-this.y)/T}else this.velocityX=c,this.velocityY=m;return u.acceleration&&(this.accelerationX=l.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=l.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=l.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=l.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=l.bounce.onEmit(this,"bounce"),this.alpha=l.alpha.onEmit(this,"alpha"),l.color.active?this.tint=l.color.onEmit(this,"tint"):this.tint=l.tint.onEmit(this,"tint"),!0},update:function(i,a,u){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=i,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=i,!1;this.anims.update(0,i);var l=this.emitter,f=l.ops,c=1-this.lifeCurrent/this.life;if(this.lifeT=c,this.x=f.x.onUpdate(this,"x",c,this.x),this.y=f.y.onUpdate(this,"y",c,this.y),l.moveTo){var m=f.moveToX.onUpdate(this,"moveToX",c,l.moveToX),x=f.moveToY.onUpdate(this,"moveToY",c,l.moveToY),g=this.lifeCurrent/1e3;this.velocityX=(m-this.x)/g,this.velocityY=(x-this.y)/g}return this.computeVelocity(l,i,a,u,c),this.scaleX=f.scaleX.onUpdate(this,"scaleX",c,this.scaleX),this.scaleY=this.scaleX,f.scaleY.active&&(this.scaleY=f.scaleY.onUpdate(this,"scaleY",c,this.scaleY)),this.angle=f.rotate.onUpdate(this,"rotate",c,this.angle),this.rotation=r(this.angle),l.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=f.alpha.onUpdate(this,"alpha",c,this.alpha),f.color.active?this.tint=f.color.onUpdate(this,"color",c,this.tint):this.tint=f.tint.onUpdate(this,"tint",c,this.tint),this.lifeCurrent-=i,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(i,a,u,l,f){var c=i.ops,m=this.velocityX,x=this.velocityY,g=c.accelerationX.onUpdate(this,"accelerationX",f,this.accelerationX),y=c.accelerationY.onUpdate(this,"accelerationY",f,this.accelerationY),T=c.maxVelocityX.onUpdate(this,"maxVelocityX",f,this.maxVelocityX),C=c.maxVelocityY.onUpdate(this,"maxVelocityY",f,this.maxVelocityY);this.bounce=c.bounce.onUpdate(this,"bounce",f,this.bounce),m+=i.gravityX*u+g*u,x+=i.gravityY*u+y*u,m=v(m,-T,T),x=v(x,-C,C),this.velocityX=m,this.velocityY=x,this.x+=m*u,this.y+=x*u,i.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var A=0;A<l.length;A++){var w=l[A];w.active&&w.update(this,a,u,f)}},setSizeToFrame:function(){},getBounds:function(i){i===void 0&&(i=this.emitter.getWorldTransformMatrix());var a=Math.abs(i.scaleX)*this.scaleX,u=Math.abs(i.scaleY)*this.scaleY,l=this.x,f=this.y,c=this.rotation,m=this.frame.width*a/2,x=this.frame.height*u/2,g=this.bounds,y=new s(l-m,f-x),T=new s(l+m,f-x),C=new s(l-m,f+x),A=new s(l+m,f+x);return c!==0&&(e(y,l,f,c),e(T,l,f,c),e(C,l,f,c),e(A,l,f,c)),i.transformPoint(y.x,y.y,y),i.transformPoint(T.x,T.y,T),i.transformPoint(C.x,C.y,C),i.transformPoint(A.x,A.y,A),g.x=Math.min(y.x,T.x,C.x,A.x),g.y=Math.min(y.y,T.y,C.y,A.y),g.width=Math.max(y.x,T.x,C.x,A.x)-g.x,g.height=Math.max(y.y,T.y,C.y,A.y)-g.y,g},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});p.exports=h},73106:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(30891),o=t(74118),r=new d({Extends:v,initialize:function(e,s,h,i,a,u,l,f){a===void 0&&(a=!0),u===void 0&&(u=!0),l===void 0&&(l=!0),f===void 0&&(f=!0),v.call(this,e,s,!0),this.bounds=new o(e,s,h,i),this.collideLeft=a,this.collideRight=u,this.collideTop=l,this.collideBottom=f},update:function(n){var e=this.bounds,s=-n.bounce,h=n.worldPosition;h.x<e.x&&this.collideLeft?(n.x+=e.x-h.x,n.velocityX*=s):h.x>e.right&&this.collideRight&&(n.x-=h.x-e.right,n.velocityX*=s),h.y<e.y&&this.collideTop?(n.y+=e.y-h.y,n.velocityY*=s):h.y>e.bottom&&this.collideBottom&&(n.y-=h.y-e.bottom,n.velocityY*=s)}});p.exports=r},9216:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(64937),o=t(48129),r=t(29538),n=t(69361),e=t(54213),s=t(19737),h=t(93025),i=t(40629),a=t(89980),u=t(72632),l=t(72861),f=t(87811),c=t(53523),m=t(19256),x=t(7782),g=t(71207),y=t(14655),T=t(14909),C=t(68433),A=t(74118),w=t(90205),E=t(66458),P=t(69116),B=t(17922),R=t(69360),I=t(93736),N=t(1071),X=t(73106),Y=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],O=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],D=new d({Extends:a,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Texture,v.Transform,v.Visible,P],initialize:function(M,L,G,U,W){a.call(this,M,"ParticleEmitter"),this.particleClass=T,this.ops={accelerationX:new h("accelerationX",0),accelerationY:new h("accelerationY",0),alpha:new h("alpha",1),angle:new h("angle",{min:0,max:360},!0),bounce:new h("bounce",0),color:new s("color"),delay:new h("delay",0,!0),hold:new h("hold",0,!0),lifespan:new h("lifespan",1e3,!0),maxVelocityX:new h("maxVelocityX",1e4),maxVelocityY:new h("maxVelocityY",1e4),moveToX:new h("moveToX",0),moveToY:new h("moveToY",0),quantity:new h("quantity",1,!0),rotate:new h("rotate",0),scaleX:new h("scaleX",1),scaleY:new h("scaleY",1),speedX:new h("speedX",0,!0),speedY:new h("speedY",0,!0),tint:new h("tint",16777215),x:new h("x",0),y:new h("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new I,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new R,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new g(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(L,G),this.setTexture(U),W&&this.setConfig(W)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(F){if(!F)return this;var M=0,L="",G=this.ops;for(M=0;M<O.length;M++)L=O[M],G[L].loadConfig(F);for(M=0;M<Y.length;M++)L=Y[M],m(F,L)&&(this[L]=u(F,L));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,m(F,"speed")&&(G.speedX.loadConfig(F,"speed"),G.speedY.active=!1),(c(F,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),m(F,"scale")&&(G.scaleX.loadConfig(F,"scale"),G.scaleY.active=!1),m(F,"callbackScope")){var U=u(F,"callbackScope",null);this.emitCallbackScope=U,this.deathCallbackScope=U}if(m(F,"emitZone")&&this.addEmitZone(F.emitZone),m(F,"deathZone")&&this.addDeathZone(F.deathZone),m(F,"bounds")){var W=this.addParticleBounds(F.bounds);W.collideLeft=u(F,"collideLeft",!0),W.collideRight=u(F,"collideRight",!0),W.collideTop=u(F,"collideTop",!0),W.collideBottom=u(F,"collideBottom",!0)}return m(F,"followOffset")&&this.followOffset.setFromObject(u(F,"followOffset",0)),m(F,"texture")&&this.setTexture(F.texture),m(F,"frame")?this.setEmitterFrame(F.frame):m(F,"anim")&&this.setAnim(F.anim),m(F,"reserve")&&this.reserve(F.reserve),m(F,"advance")&&this.fastForward(F.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(i.START,this),this},toJSON:function(){var F=o(this),M=0,L="";for(M=0;M<Y.length;M++)L=Y[M],F[L]=this[L];var G=this.ops;for(M=0;M<O.length;M++)L=O[M],G[L]&&(F[L]=G[L].toJSON());return G.speedY.active||(delete F.speedX,F.speed=G.speedX.toJSON()),this.scaleX===this.scaleY&&(delete F.scaleX,delete F.scaleY,F.scale=G.scaleX.toJSON()),F},resetCounters:function(F,M){var L=this.counters;L.fill(0),L[0]=F,M&&(L[5]=1)},startFollow:function(F,M,L,G){return M===void 0&&(M=0),L===void 0&&(L=0),G===void 0&&(G=!1),this.follow=F,this.followOffset.set(M,L),this.trackVisible=G,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var F=this.frames,M=F.length,L;return M===1?L=F[0]:this.randomFrame?L=l(F):(L=F[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===M&&(this.currentFrame=0))),this.texture.get(L)},setEmitterFrame:function(F,M,L){M===void 0&&(M=!0),L===void 0&&(L=1),this.randomFrame=M,this.frameQuantity=L,this.currentFrame=0;var G=typeof F;if(this.frames.length=0,Array.isArray(F))this.frames=this.frames.concat(F);else if(G==="string"||G==="number")this.frames.push(F);else if(G==="object"){var U=F;F=u(U,"frames",null),F&&(this.frames=this.frames.concat(F));var W=u(U,"cycle",!1);this.randomFrame=!W,this.frameQuantity=u(U,"quantity",L)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var F=this.anims,M=F.length;if(M===0)return null;if(M===1)return F[0];if(this.randomAnim)return l(F);var L=F[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=N(this.currentAnim+1,0,M-1)),L},setAnim:function(F,M,L){M===void 0&&(M=!0),L===void 0&&(L=1),this.randomAnim=M,this.animQuantity=L,this.currentAnim=0;var G=typeof F;if(this.anims.length=0,Array.isArray(F))this.anims=this.anims.concat(F);else if(G==="string")this.anims.push(F);else if(G==="object"){var U=F;F=u(U,"anims",null),F&&(this.anims=this.anims.concat(F));var W=u(U,"cycle",!1);this.randomAnim=!W,this.animQuantity=u(U,"quantity",L)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(F){return F===void 0&&(F=!0),this.radial=F,this},addParticleBounds:function(F,M,L,G,U,W,H,J){if(typeof F=="object"){var Q=F;F=Q.x,M=Q.y,L=m(Q,"w")?Q.w:Q.width,G=m(Q,"h")?Q.h:Q.height}return this.addParticleProcessor(new X(F,M,L,G,U,W,H,J))},setParticleSpeed:function(F,M){return M===void 0&&(M=F),this.ops.speedX.onChange(F),F===M?this.ops.speedY.active=!1:this.ops.speedY.onChange(M),this.radial=!0,this},setParticleScale:function(F,M){return F===void 0&&(F=1),M===void 0&&(M=F),this.ops.scaleX.onChange(F),this.ops.scaleY.onChange(M),this},setParticleGravity:function(F,M){return this.gravityX=F,this.gravityY=M,this},setParticleAlpha:function(F){return this.ops.alpha.onChange(F),this},setParticleTint:function(F){return this.ops.tint.onChange(F),this},setEmitterAngle:function(F){return this.ops.angle.onChange(F),this},setParticleLifespan:function(F){return this.ops.lifespan.onChange(F),this},setQuantity:function(F){return this.quantity=F,this},setFrequency:function(F,M){return this.frequency=F,this.flowCounter=F>0?F:0,M&&(this.quantity=M),this},addDeathZone:function(F){Array.isArray(F)||(F=[F]);for(var M,L=this.deathZones,G=0;G<F.length;G++)if(M=F[G],M instanceof n)L.push(M);else if(typeof M.contains=="function")M=new n(M,!0),L.push(M);else{var U=u(M,"type","onEnter"),W=u(M,"source",null);if(W&&typeof W.contains=="function"){var H=U==="onEnter";M=new n(W,H),L.push(M)}}return M},removeDeathZone:function(F){return E(this.deathZones,F),this},addEmitZone:function(F){Array.isArray(F)||(F=[F]);for(var M,L=this.emitZones,G=[],U=0;U<F.length;U++){if(M=F[U],M instanceof C||M instanceof e)L.push(M);else{var W=u(M,"type","random"),H=u(M,"source",null);if(W==="random")M=new C(H);else if(W==="edge"){var J=u(M,"quantity",1),Q=u(M,"stepRate",0),$=u(M,"yoyo",!1),k=u(M,"seamless",!0),_=u(M,"total",-1);M=new e(H,J,Q,$,k,_)}M&&L.push(M)}G.push(M)}return G},removeEmitZone:function(F){return E(this.emitZones,F),this.zoneIndex=0,this},getEmitZone:function(F){var M=this.emitZones,L=M.length;if(L!==0){var G=M[this.zoneIndex];G.getPoint(F),G.total>-1&&(this.zoneTotal++,this.zoneTotal===G.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===L&&(this.zoneIndex=0)))}},getDeathZone:function(F){for(var M=this.deathZones,L=0;L<M.length;L++){var G=M[L];if(G.willKill(F))return this.emit(i.DEATH_ZONE,this,F,G),!0}return!1},setEmitZone:function(F){var M;return isFinite(F)?M=F:M=this.emitZones.indexOf(F),M>=0&&(this.zoneIndex=M),this},addParticleProcessor:function(F){return this.processors.exists(F)||(F.emitter&&F.emitter.removeParticleProcessor(F),this.processors.add(F),F.emitter=this),F},removeParticleProcessor:function(F){return this.processors.exists(F)&&(this.processors.remove(F,!0),F.emitter=null),F},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(F){return this.addParticleProcessor(new f(F))},reserve:function(F){var M=this.dead;if(this.maxParticles>0){var L=this.getParticleCount();L+F>this.maxParticles&&(F=this.maxParticles-(L+F))}for(var G=0;G<F;G++)M.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(F,M){return F===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof F=="function"&&(this.emitCallback=F,M&&(this.emitCallbackScope=M)),this},onParticleDeath:function(F,M){return F===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof F=="function"&&(this.deathCallback=F,M&&(this.deathCallbackScope=M)),this},killAll:function(){for(var F=this.dead,M=this.alive;M.length>0;)F.push(M.pop());return this},forEachAlive:function(F,M){for(var L=this.alive,G=L.length,U=0;U<G;U++)F.call(M,L[U],this);return this},forEachDead:function(F,M){for(var L=this.dead,G=L.length,U=0;U<G;U++)F.call(M,L[U],this);return this},start:function(F,M){return F===void 0&&(F=0),this.emitting||(F>0&&this.fastForward(F),this.emitting=!0,this.resetCounters(this.frequency,!0),M!==void 0&&(this.duration=Math.abs(M)),this.emit(i.START,this)),this},stop:function(F){return F===void 0&&(F=!1),this.emitting&&(this.emitting=!1,F&&this.killAll(),this.emit(i.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(F,M){return F===void 0&&(F=""),M===void 0&&(M=this.true),this.sortProperty=F,this.sortOrderAsc=M,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(F){return this.sortProperty!==""?F=this.depthSortCallback:F=null,this.sortCallback=F,this},depthSort:function(){return B(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(F,M){var L=this.sortProperty;return this.sortOrderAsc?F[L]-M[L]:M[L]-F[L]},flow:function(F,M,L){return M===void 0&&(M=1),this.emitting=!1,this.frequency=F,this.quantity=M,L!==void 0&&(this.stopAfter=L),this.start()},explode:function(F,M,L){this.frequency=-1,this.resetCounters(-1,!0);var G=this.emitParticle(F,M,L);return this.emit(i.EXPLODE,this,G),G},emitParticleAt:function(F,M,L){return this.emitParticle(L,F,M)},emitParticle:function(F,M,L){if(!this.atLimit()){F===void 0&&(F=this.ops.quantity.onEmit());for(var G=this.dead,U=this.stopAfter,W=this.follow?this.follow.x+this.followOffset.x:M,H=this.follow?this.follow.y+this.followOffset.y:L,J=0;J<F;J++){var Q=G.pop();if(Q||(Q=new this.particleClass(this)),Q.fire(W,H)?(this.particleBringToTop?this.alive.push(Q):this.alive.unshift(Q),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,Q,this)):this.dead.push(Q),U>0&&(this.stopCounter++,this.stopCounter>=U)||this.atLimit())break}return Q}},fastForward:function(F,M){M===void 0&&(M=1e3/60);var L=0;for(this.skipping=!0;L<Math.abs(F);)this.preUpdate(0,M),L+=M;return this.skipping=!1,this},preUpdate:function(F,M){M*=this.timeScale;var L=M/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var G=this.getProcessors(),U=this.alive,W=this.dead,H=0,J=[],Q=U.length;for(H=0;H<Q;H++){var $=U[H];$.update(M,L,G)&&J.push({index:H,particle:$})}if(Q=J.length,Q>0){var k=this.deathCallback,_=this.deathCallbackScope;for(H=Q-1;H>=0;H--){var q=J[H];U.splice(q.index,1),W.push(q.particle),k&&k.call(_,q.particle),q.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&U.length===0&&(this.completeFlag=0,this.emit(i.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=M;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=M,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(F){for(var M=this.getWorldTransformMatrix(),L=this.alive,G=L.length,U=[],W=0;W<G;W++){var H=L[W];w(F,H.getBounds(M))&&U.push(H)}return U},getBounds:function(F,M,L,G){F===void 0&&(F=0),M===void 0&&(M=0),L===void 0&&(L=1e3/60),G===void 0&&(G=new A);var U=this.getWorldTransformMatrix(),W,H,J=this.alive,Q=!1;if(G.setTo(0,0,0,0),M>0){var $=0;for(this.skipping=!0;$<Math.abs(M);){for(this.preUpdate(0,L),W=0;W<J.length;W++)H=J[W].getBounds(U),Q?y(G,H):(Q=!0,r(H,G));$+=L}this.skipping=!1}else for(W=0;W<J.length;W++)H=J[W].getBounds(U),Q?y(G,H):(Q=!0,r(H,G));return F>0&&x(G,F,F),G},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(F){this.ops.x.onChange(F)}},particleY:{get:function(){return this.ops.y.current},set:function(F){this.ops.y.onChange(F)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(F){this.ops.accelerationX.onChange(F)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(F){this.ops.accelerationY.onChange(F)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(F){this.ops.maxVelocityX.onChange(F)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(F){this.ops.maxVelocityY.onChange(F)}},speed:{get:function(){return this.ops.speedX.current},set:function(F){this.ops.speedX.onChange(F),this.ops.speedY.onChange(F)}},speedX:{get:function(){return this.ops.speedX.current},set:function(F){this.ops.speedX.onChange(F)}},speedY:{get:function(){return this.ops.speedY.current},set:function(F){this.ops.speedY.onChange(F)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(F){this.ops.moveToX.onChange(F)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(F){this.ops.moveToY.onChange(F)}},bounce:{get:function(){return this.ops.bounce.current},set:function(F){this.ops.bounce.onChange(F)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(F){this.ops.scaleX.onChange(F)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(F){this.ops.scaleY.onChange(F)}},particleColor:{get:function(){return this.ops.color.current},set:function(F){this.ops.color.onChange(F)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(F){this.ops.color.setEase(F)}},particleTint:{get:function(){return this.ops.tint.current},set:function(F){this.ops.tint.onChange(F)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(F){this.ops.alpha.onChange(F)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(F){this.ops.lifespan.onChange(F)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(F){this.ops.angle.onChange(F)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(F){this.ops.rotate.onChange(F)}},quantity:{get:function(){return this.ops.quantity.current},set:function(F){this.ops.quantity.onChange(F)}},delay:{get:function(){return this.ops.delay.current},set:function(F){this.ops.delay.onChange(F)}},hold:{get:function(){return this.ops.hold.current},set:function(F){this.ops.hold.onChange(F)}},flowCounter:{get:function(){return this.counters[0]},set:function(F){this.counters[0]=F}},frameCounter:{get:function(){return this.counters[1]},set:function(F){this.counters[1]=F}},animCounter:{get:function(){return this.counters[2]},set:function(F){this.counters[2]=F}},elapsed:{get:function(){return this.counters[3]},set:function(F){this.counters[3]=F}},stopCounter:{get:function(){return this.counters[4]},set:function(F){this.counters[4]=F}},completeFlag:{get:function(){return this.counters[5]},set:function(F){this.counters[5]=F}},zoneIndex:{get:function(){return this.counters[6]},set:function(F){this.counters[6]=F}},zoneTotal:{get:function(){return this.counters[7]},set:function(F){this.counters[7]=F}},currentFrame:{get:function(){return this.counters[8]},set:function(F){this.counters[8]=F}},currentAnim:{get:function(){return this.counters[9]},set:function(F){this.counters[9]=F}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var F,M=this.ops;for(F=0;F<O.length;F++){var L=O[F];M[L].destroy()}for(F=0;F<this.alive.length;F++)this.alive[F].destroy();for(F=0;F<this.dead.length;F++)this.dead[F].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});p.exports=D},10456:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(90205),v=t(69360),o=new v,r=new v,n=new v,e=new v,s=function(h,i,a,u){var l=o,f=r,c=n,m=e;u?(m.loadIdentity(),m.multiply(u),m.translate(i.x,i.y),m.rotate(i.rotation),m.scale(i.scaleX,i.scaleY)):m.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY);var x=h.currentContext,g=a.roundPixels,y=a.alpha,T=i.alpha,C=i.alive,A=C.length,w=i.viewBounds;if(!(!i.visible||A===0||w&&!d(w,a.worldView))){i.sortCallback&&i.depthSort(),a.addToRenderList(i);var E=i.scrollFactorX,P=i.scrollFactorY;x.save(),x.globalCompositeOperation=h.blendModes[i.blendMode];for(var B=0;B<A;B++){var R=C[B],I=R.alpha*T*y;if(!(I<=0||R.scaleX===0||R.scaleY===0)){c.applyITRS(R.x,R.y,R.rotation,R.scaleX,R.scaleY),l.copyFrom(a.matrix),l.multiplyWithOffset(m,-a.scrollX*E,-a.scrollY*P),c.e=R.x,c.f=R.y,l.multiply(c,f);var N=R.frame,X=N.canvasData;if(X.width>0&&X.height>0){var Y=-N.halfWidth,O=-N.halfHeight;x.globalAlpha=I,x.save(),f.setToContext(x),g&&(Y=Math.round(Y),O=Math.round(O)),x.imageSmoothingEnabled=!N.source.scaleMode,x.drawImage(N.source.image,X.x,X.y,X.width,X.height,Y,O,X.width,X.height),x.restore()}}}x.restore()}};p.exports=s},765:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(88933),v=t(99325),o=t(20494),r=t(72632),n=t(9216);v.register("particles",function(e,s){e===void 0&&(e={});var h=o(e,"key",null),i=r(e,"config",null),a=new n(this.scene,0,0,h);return s!==void 0&&(e.add=s),d(this.scene,a,e),i&&a.setConfig(i),a})},81212:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(61286),v=t(9216);d.register("particles",function(o,r,n,e){return o!==void 0&&typeof o=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new v(this.scene,o,r,n,e))})},69116:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(10275),o=t(10456),p.exports={renderWebGL:v,renderCanvas:o}},10275:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(90205),v=t(69360),o=t(75512),r=new v,n=new v,e=new v,s=new v,h=function(i,a,u,l){var f=i.pipelines.set(a.pipeline),c=r,m=n,x=e,g=s;l?(g.loadIdentity(),g.multiply(l),g.translate(a.x,a.y),g.rotate(a.rotation),g.scale(a.scaleX,a.scaleY)):g.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var y=u.roundPixels,T=o.getTintAppendFloatAlpha,C=u.alpha,A=a.alpha,w=a.frame.glTexture;i.pipelines.preBatch(a);var E=a.alive,P=E.length,B=a.viewBounds;if(!(P===0||B&&!d(B,u.worldView))){a.sortCallback&&a.depthSort();var R=f.setGameObject(a,a.frame);u.addToRenderList(a),c.copyFrom(u.matrix),c.multiplyWithOffset(g,-u.scrollX*a.scrollFactorX,-u.scrollY*a.scrollFactorY),i.setBlendMode(a.blendMode),a.mask&&(a.mask.preRenderWebGL(i,a,u),i.pipelines.set(a.pipeline));for(var I=a.tintFill,N=0;N<P;N++){var X=E[N],Y=X.alpha*A*C;if(!(Y<=0||X.scaleX===0||X.scaleY===0)){x.applyITRS(X.x,X.y,X.rotation,X.scaleX,X.scaleY),x.e=X.x,x.f=X.y,c.multiply(x,m);var O=X.frame,D=-O.halfWidth,F=-O.halfHeight,M=m.setQuad(D,F,D+O.width,F+O.height,y),L=T(X.tint,Y);f.shouldFlush(6)&&(f.flush(),R=f.setGameObject(a,a.frame)),f.batchQuad(a,M[0],M[1],M[2],M[3],M[4],M[5],M[6],M[7],O.u0,O.v0,O.u1,O.v1,L,L,L,L,I,w,R)}}a.mask&&a.mask.postRenderWebGL(i,u),i.pipelines.postBatch(a)}};p.exports=h},30891:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=new d({initialize:function(r,n,e){r===void 0&&(r=0),n===void 0&&(n=0),e===void 0&&(e=!0),this.emitter,this.x=r,this.y=n,this.active=e},update:function(){},destroy:function(){this.emitter=null}});p.exports=v},76100:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},26677:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="deathzone"},62736:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="explode"},56490:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},85715:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},40629:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(76100),DEATH_ZONE:t(26677),EXPLODE:t(62736),START:t(56490),STOP:t(85715)}},27684:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={EmitterColorOp:t(19737),EmitterOp:t(93025),Events:t(40629),GravityWell:t(87811),Particle:t(14909),ParticleBounds:t(73106),ParticleEmitter:t(9216),ParticleProcessor:t(30891),Zones:t(25962)}},69361:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=new d({initialize:function(r,n){this.source=r,this.killOnEnter=n},willKill:function(o){var r=o.worldPosition,n=this.source.contains(r.x,r.y);return n&&this.killOnEnter||!n&&!this.killOnEnter}});p.exports=v},54213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=new d({initialize:function(r,n,e,s,h,i){s===void 0&&(s=!1),h===void 0&&(h=!0),i===void 0&&(i=-1),this.source=r,this.points=[],this.quantity=n,this.stepRate=e,this.yoyo=s,this.counter=-1,this.seamless=h,this._length=0,this._direction=0,this.total=i,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var o=this.points[0],r=this.points[this.points.length-1];o.x===r.x&&o.y===r.y&&this.points.pop()}var n=this._length;return this._length=this.points.length,this._length<n&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(o){return this.source=o,this.updateSource()},getPoint:function(o){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var r=this.points[this.counter];r&&(o.x=r.x,o.y=r.y)}});p.exports=v},68433:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(93736),o=new d({initialize:function(n){this.source=n,this._tempVec=new v,this.total=-1},getPoint:function(r){var n=this._tempVec;this.source.getRandomPoint(n),r.x=n.x,r.y=n.y}});p.exports=o},25962:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DeathZone:t(69361),EdgeZone:t(54213),RandomZone:t(68433)}},29598:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(64937),o=t(13747),r=new d({Extends:o,Mixins:[v.PathFollower],initialize:function(e,s,h,i,a,u){o.call(this,e,h,i,a,u),this.path=s},preUpdate:function(n,e){this.anims.update(n,e),this.pathUpdate(n)}});p.exports=r},19626:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(61286),v=t(29598);d.register("follower",function(o,r,n,e,s){var h=new v(this.scene,o,r,n,e,s);return this.displayList.add(h),this.updateList.add(h),h})},33412:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(16569),v=t(56694),o=t(99425),r=t(15978),n=t(83321),e=t(76583),s=new v({Extends:n,initialize:function(i,a,u,l,f,c,m,x){l||(l="__DEFAULT"),n.call(this,i,a,u,l,f),this.type="Plane",this.anims=new d(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(c,m,x),this.setSizeToFrame(!1),this.setViewHeight()},setGridSize:function(h,i,a){h===void 0&&(h=8),i===void 0&&(i=8),a===void 0&&(a=!1);var u=!1;return a&&(u=!0),this.gridWidth=h,this.gridHeight=i,this.isTiled=a,this.clear(),o({mesh:this,widthSegments:h,heightSegments:i,isOrtho:!1,tile:a,flipY:u}),this},setSizeToFrame:function(h){h===void 0&&(h=!0);var i=this.frame;if(this.setPerspective(this.width/i.width,this.height/i.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!h)return this;var a=this.gridWidth,u=this.gridHeight,l=this.vertices,f=i.u0,c=i.u1,m=i.v0,x=i.v1,g,y,T=0;if(this.isTiled)for(m=i.v1,x=i.v0,y=0;y<u;y++)for(g=0;g<a;g++)l[T++].setUVs(f,x),l[T++].setUVs(f,m),l[T++].setUVs(c,x),l[T++].setUVs(f,m),l[T++].setUVs(c,m),l[T++].setUVs(c,x);else{var C=a+1,A=u+1,w=c-f,E=x-m,P=[];for(y=0;y<A;y++)for(g=0;g<C;g++){var B=f+w*(g/a),R=m+E*(y/u);P.push(B,R)}for(y=0;y<u;y++)for(g=0;g<a;g++){var I=(g+C*y)*2,N=(g+C*(y+1))*2,X=(g+1+C*(y+1))*2,Y=(g+1+C*y)*2;l[T++].setUVs(P[I],P[I+1]),l[T++].setUVs(P[N],P[N+1]),l[T++].setUVs(P[Y],P[Y+1]),l[T++].setUVs(P[N],P[N+1]),l[T++].setUVs(P[X],P[X+1]),l[T++].setUVs(P[Y],P[Y+1])}}return this},setViewHeight:function(h){h===void 0&&(h=this.frame.height);var i=this.fov*(Math.PI/180);this.viewPosition.z=this.height/h/Math.tan(i/2),this.dirtyCache[10]=1},createCheckerboard:function(h,i,a,u,l){h===void 0&&(h=16777215),i===void 0&&(i=255),a===void 0&&(a=255),u===void 0&&(u=255),l===void 0&&(l=128);var f=this.scene.sys.renderer.gl,c=f.createTexture();f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,c),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST);for(var m=r(h),x=r(i),g=[],y=0;y<16;y++)for(var T=0;T<16;T++)y<8&&T<8||y>7&&T>7?g.push(m.r,m.g,m.b,a):g.push(x.r,x.g,x.b,u);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,16,16,0,f.RGBA,f.UNSIGNED_BYTE,new Uint8Array(g)),c.isAlphaPremultiplied=!0,c.isRenderTexture=!1,c.width=16,c.height=16;var C=this.scene.sys.textures.addGLTexture(e(),c,16,16);return this.removeCheckerboard(),this._checkerboard=C,f.bindTexture(f.TEXTURE_2D,null),this.setTexture(C),this.setSizeToFrame(),this.setViewHeight(l),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(h,i){return this.anims.play(h,i)},playReverse:function(h,i){return this.anims.playReverse(h,i)},playAfterDelay:function(h,i){return this.anims.playAfterDelay(h,i)},playAfterRepeat:function(h,i){return this.anims.playAfterRepeat(h,i)},stop:function(){return this.anims.stop()},stopAfterDelay:function(h){return this.anims.stopAfterDelay(h)},stopAfterRepeat:function(h){return this.anims.stopAfterRepeat(h)},stopOnFrame:function(h){return this.anims.stopOnFrame(h)},preUpdate:function(h,i){n.prototype.preUpdate.call(this,h,i),this.anims.update(h,i)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});p.exports=s},10912:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(88933),v=t(32291),o=t(99325),r=t(20494),n=t(10850),e=t(33412);o.register("plane",function(s,h){s===void 0&&(s={});var i=r(s,"key",null),a=r(s,"frame",null),u=n(s,"width",8),l=n(s,"height",8),f=n(s,"tile",!1),c=new e(this.scene,0,0,i,a,u,l,f);h!==void 0&&(s.add=h);var m=n(s,"checkerboard",null);if(m){var x=n(m,"color1",16777215),g=n(m,"color2",255),y=n(m,"alpha1",255),T=n(m,"alpha2",255),C=n(m,"height",128);c.createCheckerboard(x,g,y,T,C)}return d(this.scene,c,s),v(c,s),c})},58322:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(33412),v=t(61286);v.register("plane",function(o,r,n,e,s,h,i){return this.displayList.add(new d(this.scene,o,r,n,e,s,h,i))})},13171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(64937),o=t(89980),r=t(74853),n=t(65641),e=t(71606),s=new d({Extends:o,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Transform,v.Visible,e],initialize:function(i,a,u,l,f,c,m){l===void 0&&(l=16777215),f===void 0&&(f=128),c===void 0&&(c=1),m===void 0&&(m=.1),o.call(this,i,"PointLight"),this.initPipeline(n.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(a,u),this.color=r(l),this.intensity=c,this.attenuation=m,this.width=f*2,this.height=f*2,this._radius=f},radius:{get:function(){return this._radius},set:function(h){this._radius=h,this.width=h*2,this.height=h*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});p.exports=s},162:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(88933),v=t(99325),o=t(20494),r=t(13171);v.register("pointlight",function(n,e){n===void 0&&(n={});var s=o(n,"color",16777215),h=o(n,"radius",128),i=o(n,"intensity",1),a=o(n,"attenuation",.1),u=new r(this.scene,0,0,s,h,i,a);return e!==void 0&&(n.add=e),d(this.scene,u,n),u})},91201:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(61286),v=t(13171);d.register("pointlight",function(o,r,n,e,s,h){return this.displayList.add(new v(this.scene,o,r,n,e,s,h))})},71606:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(80590),p.exports={renderWebGL:v,renderCanvas:o}},80590:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(73329),v=function(o,r,n,e){n.addToRenderList(r);var s=o.pipelines.set(r.pipeline),h=d(r,n,e).calc,i=r.width,a=r.height,u=-r._radius,l=-r._radius,f=u+i,c=l+a,m=h.getX(0,0),x=h.getY(0,0),g=h.getX(u,l),y=h.getY(u,l),T=h.getX(u,c),C=h.getY(u,c),A=h.getX(f,c),w=h.getY(f,c),E=h.getX(f,l),P=h.getY(f,l);o.pipelines.preBatch(r),s.batchPointLight(r,n,g,y,T,C,A,w,E,P,m,x),o.pipelines.postBatch(r)};p.exports=v},15996:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(845),o=t(1539),r=new d({Extends:o,initialize:function(e,s,h,i,a){s===void 0&&(s=0),h===void 0&&(h=0),i===void 0&&(i=32),a===void 0&&(a=32);var u=new v(e.sys.textures,"",i,a);o.call(this,e,s,h,u),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(n,e){this.width=n,this.height=e,this.texture.setSize(n,e),this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=n,s.hitArea.height=e),this},resize:function(n,e){return this.setSize(n,e),this},saveTexture:function(n){var e=this.texture;return e.key=n,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(n,e,s,h,i,a){return this.texture.fill(n,e,s,h,i,a),this},clear:function(){return this.texture.clear(),this},stamp:function(n,e,s,h,i){return this.texture.stamp(n,e,s,h,i),this},erase:function(n,e,s){return this.texture.erase(n,e,s),this},draw:function(n,e,s,h,i){return this.texture.draw(n,e,s,h,i),this},drawFrame:function(n,e,s,h,i,a){return this.texture.drawFrame(n,e,s,h,i,a),this},repeat:function(n,e,s,h,i,a,u,l,f){return this.texture.repeat(n,e,s,h,i,a,u,l,f),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(n,e,s,h,i){return this.texture.batchDraw(n,e,s,h,i),this},batchDrawFrame:function(n,e,s,h,i,a){return this.texture.batchDrawFrame(n,e,s,h,i,a),this},endDraw:function(n){return this.texture.endDraw(n),this},snapshotArea:function(n,e,s,h,i,a,u){return this.texture.snapshotArea(n,e,s,h,i,a,u),this},snapshot:function(n,e,s){return this.snapshotArea(0,0,this.width,this.height,n,e,s)},snapshotPixel:function(n,e,s){return this.snapshotArea(n,e,1,1,s,"pixel")},preDestroy:function(){this._saved||this.texture.destroy()}});p.exports=r},85692:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(88933),v=t(99325),o=t(20494),r=t(15996);v.register("renderTexture",function(n,e){n===void 0&&(n={});var s=o(n,"x",0),h=o(n,"y",0),i=o(n,"width",32),a=o(n,"height",32),u=new r(this.scene,s,h,i,a);return e!==void 0&&(n.add=e),d(this.scene,u,n),u})},29599:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(61286),v=t(15996);d.register("renderTexture",function(o,r,n,e){return this.displayList.add(new v(this.scene,o,r,n,e))})},79968:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(16569),v=t(56694),o=t(64937),r=t(89980),n=t(65641),e=t(58912),s=t(93736),h=new v({Extends:r,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Flip,o.Mask,o.Pipeline,o.PostPipeline,o.Size,o.Texture,o.Transform,o.Visible,o.ScrollFactor,e],initialize:function(a,u,l,f,c,m,x,g,y){f===void 0&&(f="__DEFAULT"),m===void 0&&(m=2),x===void 0&&(x=!0),r.call(this,a,"Rope"),this.anims=new d(this),this.points=m,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=f==="__DEFAULT",this.dirty=!1,this.horizontal=x,this._flipX=!1,this._flipY=!1,this._perp=new s,this.debugCallback=null,this.debugGraphic=null,this.setTexture(f,c),this.setPosition(u,l),this.setSizeToFrame(),this.initPipeline(n.ROPE_PIPELINE),Array.isArray(m)&&this.resizeArrays(m.length),this.setPoints(m,g,y),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(i,a){var u=this.anims.currentFrame;this.anims.update(i,a),this.anims.currentFrame!==u&&(this.updateUVs(),this.updateVertices())},play:function(i,a,u){return this.anims.play(i,a,u),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(i,a,u){return i===void 0&&(i=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(i,a,u))},setVertical:function(i,a,u){return i===void 0&&(i=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(i,a,u)):this},setTintFill:function(i){return i===void 0&&(i=!1),this.tintFill=i,this},setAlphas:function(i,a){var u=this.points.length;if(u<1)return this;var l=this.alphas;i===void 0?i=[1]:!Array.isArray(i)&&a===void 0&&(i=[i]);var f,c=0;if(a!==void 0)for(f=0;f<u;f++)c=f*2,l[c]=i,l[c+1]=a;else if(i.length===u)for(f=0;f<u;f++)c=f*2,l[c]=i[f],l[c+1]=i[f];else{var m=i[0];for(f=0;f<u;f++)c=f*2,i.length>c&&(m=i[c]),l[c]=m,i.length>c+1&&(m=i[c+1]),l[c+1]=m}return this},setColors:function(i){var a=this.points.length;if(a<1)return this;var u=this.colors;i===void 0?i=[16777215]:Array.isArray(i)||(i=[i]);var l,f=0;if(i.length===a)for(l=0;l<a;l++)f=l*2,u[f]=i[l],u[f+1]=i[l];else{var c=i[0];for(l=0;l<a;l++)f=l*2,i.length>f&&(c=i[f]),u[f]=c,i.length>f+1&&(c=i[f+1]),u[f+1]=c}return this},setPoints:function(i,a,u){if(i===void 0&&(i=2),typeof i=="number"){var l=i;l<2&&(l=2),i=[];var f,c,m;if(this.horizontal)for(m=-this.frame.halfWidth,c=this.frame.width/(l-1),f=0;f<l;f++)i.push({x:m+f*c,y:0});else for(m=-this.frame.halfHeight,c=this.frame.height/(l-1),f=0;f<l;f++)i.push({x:0,y:m+f*c})}var x=i.length,g=this.points.length;return x<1?(console.warn("Rope: Not enough points given"),this):(x===1&&(i.unshift({x:0,y:0}),x++),g!==x&&this.resizeArrays(x),this.dirty=!0,this.points=i,this.updateUVs(),a!=null&&this.setColors(a),u!=null&&this.setAlphas(u),this)},updateUVs:function(){for(var i=this.uv,a=this.points.length,u=this.frame.u0,l=this.frame.v0,f=this.frame.u1,c=this.frame.v1,m=(f-u)/(a-1),x=(c-l)/(a-1),g=0;g<a;g++){var y=g*4,T,C,A,w;this.horizontal?(this._flipX?(T=f-g*m,A=f-g*m):(T=u+g*m,A=u+g*m),this._flipY?(C=c,w=l):(C=l,w=c)):(this._flipX?(T=u,A=f):(T=f,A=u),this._flipY?(C=c-g*x,w=c-g*x):(C=l+g*x,w=l+g*x)),i[y+0]=T,i[y+1]=C,i[y+2]=A,i[y+3]=w}return this},resizeArrays:function(i){var a=this.colors,u=this.alphas;this.vertices=new Float32Array(i*4),this.uv=new Float32Array(i*4),a=new Uint32Array(i*2),u=new Float32Array(i*2);for(var l=0;l<i*2;l++)a[l]=16777215,u[l]=1;return this.colors=a,this.alphas=u,this.dirty=!0,this},updateVertices:function(){var i=this._perp,a=this.points,u=this.vertices,l=a.length;if(this.dirty=!1,!(l<1)){for(var f,c=a[0],m=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,x=0;x<l;x++){var g=a[x],y=x*4;x<l-1?f=a[x+1]:f=g,i.x=f.y-c.y,i.y=-(f.x-c.x);var T=i.length();i.x/=T,i.y/=T,i.x*=m,i.y*=m,u[y]=g.x+i.x,u[y+1]=g.y+i.y,u[y+2]=g.x-i.x,u[y+3]=g.y-i.y,c=g}return this}},setDebug:function(i,a){return this.debugGraphic=i,!i&&!a?this.debugCallback=null:a?this.debugCallback=a:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(i,a,u){var l=i.debugGraphic,f=u[0],c=u[1],m=u[2],x=u[3];l.lineBetween(f,c,m,x);for(var g=4;g<a;g+=4){var y=u[g+0],T=u[g+1],C=u[g+2],A=u[g+3];l.lineBetween(f,c,y,T),l.lineBetween(m,x,C,A),l.lineBetween(m,x,y,T),l.lineBetween(y,T,C,A),f=y,c=T,m=C,x=A}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(i){return this._flipX=i,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(i){return this._flipY=i,this.updateUVs()}}});p.exports=h},44598:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},96027:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(88933),v=t(99325),o=t(20494),r=t(10850),n=t(79968);v.register("rope",function(e,s){e===void 0&&(e={});var h=o(e,"key",null),i=o(e,"frame",null),a=o(e,"horizontal",!0),u=r(e,"points",void 0),l=r(e,"colors",void 0),f=r(e,"alphas",void 0),c=new n(this.scene,0,0,h,i,u,a,l,f);return s!==void 0&&(e.add=s),d(this.scene,c,e),c})},31982:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79968),v=t(61286);v.register("rope",function(o,r,n,e,s,h,i,a){return this.displayList.add(new d(this.scene,o,r,n,e,s,h,i,a))})},58912:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(49489),o=t(44598),p.exports={renderWebGL:v,renderCanvas:o}},49489:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(73329),v=t(75512),o=function(r,n,e,s){e.addToRenderList(n);var h=r.pipelines.set(n.pipeline,n),i=d(n,e,s).calc,a=n.vertices,u=n.uv,l=n.colors,f=n.alphas,c=n.alpha,m=v.getTintAppendFloatAlpha,x=e.roundPixels,g=a.length,y=Math.floor(g*.5);h.flush(),r.pipelines.preBatch(n);var T=h.setGameObject(n),C=h.vertexViewF32,A=h.vertexViewU32,w=h.vertexCount*h.currentShader.vertexComponentCount-1,E=0,P=n.tintFill;n.dirty&&n.updateVertices();for(var B=n.debugCallback,R=[],I=0;I<g;I+=2){var N=a[I+0],X=a[I+1],Y=N*i.a+X*i.c+i.e,O=N*i.b+X*i.d+i.f;x&&(Y=Math.round(Y),O=Math.round(O)),C[++w]=Y,C[++w]=O,C[++w]=u[I+0],C[++w]=u[I+1],C[++w]=T,C[++w]=P,A[++w]=m(l[E],e.alpha*(f[E]*c)),E++,B&&(R[I+0]=Y,R[I+1]=O)}B&&B.call(n,n,g,R),h.vertexCount+=y,h.currentBatch.count=h.vertexCount-h.currentBatch.start,r.pipelines.postBatch(n)};p.exports=o},27902:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(64937),o=t(89980),r=t(72632),n=t(98611),e=t(22440),s=t(24252),h=t(69360),i=new d({Extends:o,Mixins:[v.ComputedSize,v.Depth,v.GetBounds,v.Mask,v.Origin,v.ScrollFactor,v.Transform,v.Visible,s],initialize:function(u,l,f,c,m,x,g,y){f===void 0&&(f=0),c===void 0&&(c=0),m===void 0&&(m=128),x===void 0&&(x=128),o.call(this,u,"Shader"),this.blendMode=-1,this.shader;var T=u.sys.renderer;this.renderer=T,this.gl=T.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=T.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=T.width,this._rendererHeight=T.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(f,c),this.setSize(m,x),this.setOrigin(.5,.5),this.setShader(l,g,y)},willRender:function(a){return this.renderToTexture?!0:!(o.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&a.id)},setRenderToTexture:function(a,u){if(u===void 0&&(u=!1),!this.renderToTexture){var l=this.width,f=this.height,c=this.renderer;this.glTexture=c.createTextureFromSource(null,l,f,0),this.glTexture.flipY=u,this.framebuffer=c.createFramebuffer(l,f,this.glTexture,!1),this._rendererWidth=l,this._rendererHeight=f,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),a&&(this.texture=this.scene.sys.textures.addGLTexture(a,this.glTexture,l,f))}return this.shader&&(c.pipelines.clear(),this.load(),this.flush(),c.pipelines.rebind()),this},setShader:function(a,u,l){if(u===void 0&&(u=[]),typeof a=="string"){var f=this.scene.sys.cache.shader;if(!f.has(a))return console.warn("Shader missing: "+a),this;this.shader=f.get(a)}else this.shader=a;var c=this.gl,m=this.renderer;this.program&&c.deleteProgram(this.program);var x=m.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);c.uniformMatrix4fv(c.getUniformLocation(x,"uViewMatrix"),!1,this.viewMatrix),c.uniformMatrix4fv(c.getUniformLocation(x,"uProjectionMatrix"),!1,this.projectionMatrix),c.uniform2f(c.getUniformLocation(x,"uResolution"),this.width,this.height),this.program=x;var g=new Date,y={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[g.getFullYear(),g.getMonth(),g.getDate(),g.getHours()*60*60+g.getMinutes()*60+g.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=n(!0,{},this.shader.uniforms,y):this.uniforms=y;for(var T=0;T<4;T++)u[T]&&this.setSampler2D("iChannel"+T,u[T],T,l);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(a){return this.pointer=a,this},projOrtho:function(a,u,l,f){var c=-1e3,m=1e3,x=1/(a-u),g=1/(l-f),y=1/(c-m),T=this.projectionMatrix;T[0]=-2*x,T[5]=-2*g,T[10]=2*y,T[12]=(a+u)*x,T[13]=(f+l)*g,T[14]=(m+c)*y;var C=this.program,A=this.gl,w=this.renderer;w.setProgram(C),A.uniformMatrix4fv(A.getUniformLocation(C,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=u,this._rendererHeight=l},initUniforms:function(){var a=this.gl,u=this.renderer.glFuncMap,l=this.program;this._textureCount=0;for(var f in this.uniforms){var c=this.uniforms[f],m=c.type,x=u[m];c.uniformLocation=a.getUniformLocation(l,f),m!=="sampler2D"&&(c.glMatrix=x.matrix,c.glValueLength=x.length,c.glFunc=x.func)}},setSampler2DBuffer:function(a,u,l,f,c,m){c===void 0&&(c=0),m===void 0&&(m={});var x=this.uniforms[a];return x.value=u,m.width=l,m.height=f,x.textureData=m,this._textureCount=c,this.initSampler2D(x),this},setSampler2D:function(a,u,l,f){l===void 0&&(l=0);var c=this.scene.sys.textures;if(c.exists(u)){var m=c.getFrame(u);if(m.glTexture&&m.glTexture.isRenderTexture)return this.setSampler2DBuffer(a,m.glTexture,m.width,m.height,l,f);var x=this.uniforms[a],g=m.source;x.textureKey=u,x.source=g.image,x.value=m.glTexture,g.isGLTexture&&(f||(f={}),f.width=g.width,f.height=g.height),f&&(x.textureData=f),this._textureCount=l,this.initSampler2D(x)}return this},setUniform:function(a,u){return e(this.uniforms,a,u),this},getUniform:function(a){return r(this.uniforms,a,null)},setChannel0:function(a,u){return this.setSampler2D("iChannel0",a,0,u)},setChannel1:function(a,u){return this.setSampler2D("iChannel1",a,1,u)},setChannel2:function(a,u){return this.setSampler2D("iChannel2",a,2,u)},setChannel3:function(a,u){return this.setSampler2D("iChannel3",a,3,u)},initSampler2D:function(a){if(a.value){var u=this.gl;u.activeTexture(u.TEXTURE0+this._textureCount),u.bindTexture(u.TEXTURE_2D,a.value);var l=a.textureData;if(l&&!a.value.isRenderTexture){var f=u[r(l,"magFilter","linear").toUpperCase()],c=u[r(l,"minFilter","linear").toUpperCase()],m=u[r(l,"wrapS","repeat").toUpperCase()],x=u[r(l,"wrapT","repeat").toUpperCase()],g=u[r(l,"format","rgba").toUpperCase()];if(l.repeat&&(m=u.REPEAT,x=u.REPEAT),u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,!!l.flipY),l.width){var y=r(l,"width",512),T=r(l,"height",2),C=r(l,"border",0);u.texImage2D(u.TEXTURE_2D,0,g,y,T,C,g,u.UNSIGNED_BYTE,null)}else u.texImage2D(u.TEXTURE_2D,0,g,u.RGBA,u.UNSIGNED_BYTE,a.source);u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,f),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,c),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,m),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,x)}this.renderer.setProgram(this.program),u.uniform1i(a.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var a=this.gl,u=this.uniforms,l,f,c,m,x,g=0;for(var y in u)l=u[y],c=l.glFunc,f=l.glValueLength,m=l.uniformLocation,x=l.value,x!==null&&(f===1?l.glMatrix?c.call(a,m,l.transpose,x):c.call(a,m,x):f===2?c.call(a,m,x.x,x.y):f===3?c.call(a,m,x.x,x.y,x.z):f===4?c.call(a,m,x.x,x.y,x.z,x.w):l.type==="sampler2D"&&(a.activeTexture(a.TEXTURE0+g),a.bindTexture(a.TEXTURE_2D,x),a.uniform1i(m,g),g++))},load:function(a){var u=this.gl,l=this.width,f=this.height,c=this.renderer,m=this.program,x=this.viewMatrix;if(!this.renderToTexture){var g=-this._displayOriginX,y=-this._displayOriginY;x[0]=a[0],x[1]=a[1],x[4]=a[2],x[5]=a[3],x[8]=a[4],x[9]=a[5],x[12]=x[0]*g+x[4]*y,x[13]=x[1]*g+x[5]*y}u.useProgram(m),u.uniformMatrix4fv(u.getUniformLocation(m,"uViewMatrix"),!1,x),u.uniform2f(u.getUniformLocation(m,"uResolution"),this.width,this.height);var T=this.uniforms,C=T.resolution;C.value.x=l,C.value.y=f,T.time.value=c.game.loop.getDuration();var A=this.pointer;if(A){var w=T.mouse,E=A.x/l,P=1-A.y/f;w.value.x=E.toFixed(2),w.value.y=P.toFixed(2)}this.syncUniforms()},flush:function(){var a=this.width,u=this.height,l=this.program,f=this.gl,c=this.vertexBuffer,m=this.renderer,x=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(m.setFramebuffer(this.framebuffer),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT)),f.bindBuffer(f.ARRAY_BUFFER,c);var g=f.getAttribLocation(l,"inPosition");g!==-1&&(f.enableVertexAttribArray(g),f.vertexAttribPointer(g,2,f.FLOAT,!1,x,0));var y=this.vertexViewF32;y[3]=u,y[4]=a,y[5]=u,y[8]=a,y[9]=u,y[10]=a;var T=6;f.bufferSubData(f.ARRAY_BUFFER,0,this.bytes.subarray(0,T*x)),f.drawArrays(f.TRIANGLES,0,T),this.renderToTexture&&m.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var a=this.gl;a.deleteProgram(this.program),a.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});p.exports=i},10612:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},13908:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(88933),v=t(99325),o=t(20494),r=t(27902);v.register("shader",function(n,e){n===void 0&&(n={});var s=o(n,"key",null),h=o(n,"x",0),i=o(n,"y",0),a=o(n,"width",128),u=o(n,"height",128),l=new r(this.scene,s,h,i,a,u);return e!==void 0&&(n.add=e),d(this.scene,l,n),l})},51979:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(27902),v=t(61286);v.register("shader",function(o,r,n,e,s,h,i){return this.displayList.add(new d(this.scene,o,r,n,e,s,h,i))})},24252:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(19782),o=t(10612),p.exports={renderWebGL:v,renderCanvas:o}},19782:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(73329),v=function(o,r,n,e){if(r.shader){if(n.addToRenderList(r),o.pipelines.clear(),r.renderToTexture)r.load(),r.flush();else{var s=d(r,n,e).calc;(o.width!==r._rendererWidth||o.height!==r._rendererHeight)&&r.projOrtho(0,o.width,o.height,0),r.load(s.matrix),r.flush()}o.pipelines.rebind()}};p.exports=v},19543:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(75512),v=function(o,r,n,e,s,h){for(var i=d.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*e),a=n.pathData,u=n.pathIndexes,l=0;l<u.length;l+=3){var f=u[l]*2,c=u[l+1]*2,m=u[l+2]*2,x=a[f+0]-s,g=a[f+1]-h,y=a[c+0]-s,T=a[c+1]-h,C=a[m+0]-s,A=a[m+1]-h,w=r.getX(x,g),E=r.getY(x,g),P=r.getX(y,T),B=r.getY(y,T),R=r.getX(C,A),I=r.getY(C,A);o.batchTri(n,w,E,P,B,R,I,0,0,1,1,i,i,i,2)}};p.exports=v},15608:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){var r=v||d.fillColor,n=o||d.fillAlpha,e=(r&16711680)>>>16,s=(r&65280)>>>8,h=r&255;t.fillStyle="rgba("+e+","+s+","+h+","+n+")"};p.exports=S},17876:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){var r=v||d.strokeColor,n=o||d.strokeAlpha,e=(r&16711680)>>>16,s=(r&65280)>>>8,h=r&255;t.strokeStyle="rgba("+e+","+s+","+h+","+n+")",t.lineWidth=d.lineWidth};p.exports=S},91461:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(64937),o=t(89980),r=t(88829),n=new d({Extends:o,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Transform,v.Visible],initialize:function(s,h,i){h===void 0&&(h="Shape"),o.call(this,s,h),this.geom=i,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new r,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,s){return s===void 0&&(s=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=s,this.isFilled=!0),this},setStrokeStyle:function(e,s,h){return h===void 0&&(h=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=s,this.strokeAlpha=h,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,s){return this.width=e,this.height=s,this},setDisplaySize:function(e,s){return this.displayWidth=e,this.displayHeight=s,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});p.exports=n},50262:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(75512),v=function(o,r,n,e,s){var h=o.strokeTint,i=d.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*n);h.TL=i,h.TR=i,h.BL=i,h.BR=i;var a=r.pathData,u=a.length-1,l=r.lineWidth,f=l/2,c=a[0]-e,m=a[1]-s;r.closePath||(u-=2);for(var x=2;x<u;x+=2){var g=a[x]-e,y=a[x+1]-s;o.batchLine(c,m,g,y,f,f,l,x-2,r.closePath?x===u-1:!1),c=g,m=y}};p.exports=v},28593:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(2213),v=t(56694),o=t(75606),r=t(11117),n=t(26673),e=t(83392),s=t(91461),h=new v({Extends:s,Mixins:[d],initialize:function(a,u,l,f,c,m,x,g,y){u===void 0&&(u=0),l===void 0&&(l=0),f===void 0&&(f=128),c===void 0&&(c=0),m===void 0&&(m=360),x===void 0&&(x=!1),s.call(this,a,"Arc",new n(0,0,f)),this._startAngle=c,this._endAngle=m,this._anticlockwise=x,this._iterations=.01,this.setPosition(u,l);var T=this.geom.radius*2;this.setSize(T,T),g!==void 0&&this.setFillStyle(g,y),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(i){this._iterations=i,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(i){this.geom.radius=i;var a=i*2;this.setSize(a,a),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(i){this._startAngle=i,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(i){this._endAngle=i,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(i){this._anticlockwise=i,this.updateData()}},setRadius:function(i){return this.radius=i,this},setIterations:function(i){return i===void 0&&(i=.01),this.iterations=i,this},setStartAngle:function(i,a){return this._startAngle=i,a!==void 0&&(this._anticlockwise=a),this.updateData()},setEndAngle:function(i,a){return this._endAngle=i,a!==void 0&&(this._anticlockwise=a),this.updateData()},updateData:function(){var i=this._iterations,a=i,u=this.geom.radius,l=o(this._startAngle),f=o(this._endAngle),c=this._anticlockwise,m=u,x=u;f-=l,c?f<-e.PI2?f=-e.PI2:f>0&&(f=-e.PI2+f%e.PI2):f>e.PI2?f=e.PI2:f<0&&(f=e.PI2+f%e.PI2);for(var g=[m+Math.cos(l)*u,x+Math.sin(l)*u],y;a<1;)y=f*a+l,g.push(m+Math.cos(y)*u,x+Math.sin(y)*u),a+=i;return y=f+l,g.push(m+Math.cos(y)*u,x+Math.sin(y)*u),g.push(m+Math.cos(l)*u,x+Math.sin(l)*u),this.pathIndexes=r(g),this.pathData=g,this}});p.exports=h},23560:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(75606),v=t(15608),o=t(17876),r=t(49584),n=function(e,s,h,i){h.addToRenderList(s);var a=e.currentContext;if(r(e,a,s,h,i)){var u=s.radius;a.beginPath(),a.arc(u-s.originX*(u*2),u-s.originY*(u*2),u,d(s._startAngle),d(s._endAngle),s.anticlockwise),s.closePath&&a.closePath(),s.isFilled&&(v(a,s),a.fill()),s.isStroked&&(o(a,s),a.stroke()),a.restore()}};p.exports=n},10369:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(28593),v=t(61286);v.register("arc",function(o,r,n,e,s,h,i,a){return this.displayList.add(new d(this.scene,o,r,n,e,s,h,i,a))}),v.register("circle",function(o,r,n,e,s){return this.displayList.add(new d(this.scene,o,r,n,0,360,!1,e,s))})},2213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(58356),o=t(23560),p.exports={renderWebGL:v,renderCanvas:o}},58356:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(73329),v=t(19543),o=t(50262),r=function(n,e,s,h){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),a=d(e,s,h),u=i.calcMatrix.copyFrom(a.calc),l=e._displayOriginX,f=e._displayOriginY,c=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&v(i,u,e,c,l,f),e.isStroked&&o(i,e,c,l,f),n.pipelines.postBatch(e)};p.exports=r},15220:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(87203),o=t(11117),r=t(74118),n=t(91461),e=new d({Extends:n,Mixins:[v],initialize:function(h,i,a,u,l,f){i===void 0&&(i=0),a===void 0&&(a=0),n.call(this,h,"Curve",u),this._smoothness=32,this._curveBounds=new r,this.closePath=!1,this.setPosition(i,a),l!==void 0&&this.setFillStyle(l,f),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(s){this._smoothness=s,this.updateData()}},setSmoothness:function(s){return this._smoothness=s,this.updateData()},updateData:function(){var s=this._curveBounds,h=this._smoothness;this.geom.getBounds(s,h),this.setSize(s.width,s.height),this.updateDisplayOrigin();for(var i=[],a=this.geom.getPoints(h),u=0;u<a.length;u++)i.push(a[u].x,a[u].y);return i.push(a[0].x,a[0].y),this.pathIndexes=o(i),this.pathData=i,this}});p.exports=e},4024:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(15608),v=t(17876),o=t(49584),r=function(n,e,s,h){s.addToRenderList(e);var i=n.currentContext;if(o(n,i,e,s,h)){var a=e._displayOriginX+e._curveBounds.x,u=e._displayOriginY+e._curveBounds.y,l=e.pathData,f=l.length-1,c=l[0]-a,m=l[1]-u;i.beginPath(),i.moveTo(c,m),e.closePath||(f-=2);for(var x=2;x<f;x+=2){var g=l[x]-a,y=l[x+1]-u;i.lineTo(g,y)}e.closePath&&i.closePath(),e.isFilled&&(d(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};p.exports=r},10147:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(61286),v=t(15220);d.register("curve",function(o,r,n,e,s){return this.displayList.add(new v(this.scene,o,r,n,e,s))})},87203:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(82958),o=t(4024),p.exports={renderWebGL:v,renderCanvas:o}},82958:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(19543),v=t(73329),o=t(50262),r=function(n,e,s,h){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),a=v(e,s,h),u=i.calcMatrix.copyFrom(a.calc),l=e._displayOriginX+e._curveBounds.x,f=e._displayOriginY+e._curveBounds.y,c=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&d(i,u,e,c,l,f),e.isStroked&&o(i,e,c,l,f),n.pipelines.postBatch(e)};p.exports=r},28591:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(11117),o=t(84171),r=t(95669),n=t(91461),e=new d({Extends:n,Mixins:[o],initialize:function(h,i,a,u,l,f,c){i===void 0&&(i=0),a===void 0&&(a=0),u===void 0&&(u=128),l===void 0&&(l=128),n.call(this,h,"Ellipse",new r(u/2,l/2,u,l)),this._smoothness=64,this.setPosition(i,a),this.width=u,this.height=l,f!==void 0&&this.setFillStyle(f,c),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(s){this._smoothness=s,this.updateData()}},setSize:function(s,h){return this.width=s,this.height=h,this.geom.setPosition(s/2,h/2),this.geom.setSize(s,h),this.updateData()},setSmoothness:function(s){return this._smoothness=s,this.updateData()},updateData:function(){for(var s=[],h=this.geom.getPoints(this._smoothness),i=0;i<h.length;i++)s.push(h[i].x,h[i].y);return s.push(h[0].x,h[0].y),this.pathIndexes=v(s),this.pathData=s,this}});p.exports=e},55881:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(15608),v=t(17876),o=t(49584),r=function(n,e,s,h){s.addToRenderList(e);var i=n.currentContext;if(o(n,i,e,s,h)){var a=e._displayOriginX,u=e._displayOriginY,l=e.pathData,f=l.length-1,c=l[0]-a,m=l[1]-u;i.beginPath(),i.moveTo(c,m),e.closePath||(f-=2);for(var x=2;x<f;x+=2){var g=l[x]-a,y=l[x+1]-u;i.lineTo(g,y)}i.closePath(),e.isFilled&&(d(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};p.exports=r},99869:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(28591),v=t(61286);v.register("ellipse",function(o,r,n,e,s,h){return this.displayList.add(new d(this.scene,o,r,n,e,s,h))})},84171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(17554),o=t(55881),p.exports={renderWebGL:v,renderCanvas:o}},17554:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(19543),v=t(73329),o=t(50262),r=function(n,e,s,h){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),a=v(e,s,h),u=i.calcMatrix.copyFrom(a.calc),l=e._displayOriginX,f=e._displayOriginY,c=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&d(i,u,e,c,l,f),e.isStroked&&o(i,e,c,l,f),n.pipelines.postBatch(e)};p.exports=r},39169:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(91461),o=t(88059),r=new d({Extends:v,Mixins:[o],initialize:function(e,s,h,i,a,u,l,f,c,m,x){s===void 0&&(s=0),h===void 0&&(h=0),i===void 0&&(i=128),a===void 0&&(a=128),u===void 0&&(u=32),l===void 0&&(l=32),v.call(this,e,"Grid",null),this.cellWidth=u,this.cellHeight=l,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(s,h),this.setSize(i,a),this.setFillStyle(f,c),m!==void 0&&this.setOutlineStyle(m,x),this.updateDisplayOrigin()},setFillStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showCells=!1:(this.fillColor=n,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showAltCells=!1:(this.altFillColor=n,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showOutline=!1:(this.outlineFillColor=n,this.outlineFillAlpha=e,this.showOutline=!0),this}});p.exports=r},95525:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(15608),v=t(17876),o=t(49584),r=function(n,e,s,h){s.addToRenderList(e);var i=n.currentContext;if(o(n,i,e,s,h)){var a=-e._displayOriginX,u=-e._displayOriginY,l=s.alpha*e.alpha,f=e.width,c=e.height,m=e.cellWidth,x=e.cellHeight,g=Math.ceil(f/m),y=Math.ceil(c/x),T=m,C=x,A=m-(g*m-f),w=x-(y*x-c),E=e.showCells,P=e.showAltCells,B=e.showOutline,R=0,I=0,N=0,X=0,Y=0;if(B&&(T--,C--,A===m&&A--,w===x&&w--),E&&e.fillAlpha>0)for(d(i,e),I=0;I<y;I++)for(P&&(N=I%2),R=0;R<g;R++){if(P&&N){N=0;continue}N++,X=R<g-1?T:A,Y=I<y-1?C:w,i.fillRect(a+R*m,u+I*x,X,Y)}if(P&&e.altFillAlpha>0)for(d(i,e,e.altFillColor,e.altFillAlpha*l),I=0;I<y;I++)for(P&&(N=I%2),R=0;R<g;R++){if(P&&!N){N=1;continue}N=0,X=R<g-1?T:A,Y=I<y-1?C:w,i.fillRect(a+R*m,u+I*x,X,Y)}if(B&&e.outlineFillAlpha>0){for(v(i,e,e.outlineFillColor,e.outlineFillAlpha*l),R=1;R<g;R++){var O=R*m;i.beginPath(),i.moveTo(O+a,u),i.lineTo(O+a,c+u),i.stroke()}for(I=1;I<y;I++){var D=I*x;i.beginPath(),i.moveTo(a,D+u),i.lineTo(a+f,D+u),i.stroke()}}i.restore()}};p.exports=r},9326:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(61286),v=t(39169);d.register("grid",function(o,r,n,e,s,h,i,a,u,l){return this.displayList.add(new v(this.scene,o,r,n,e,s,h,i,a,u,l))})},88059:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(50639),o=t(95525),p.exports={renderWebGL:v,renderCanvas:o}},50639:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(73329),v=t(75512),o=function(r,n,e,s){e.addToRenderList(n);var h=r.pipelines.set(n.pipeline),i=d(n,e,s),a=h.calcMatrix.copyFrom(i.calc);a.translate(-n._displayOriginX,-n._displayOriginY);var u=e.alpha*n.alpha,l=n.width,f=n.height,c=n.cellWidth,m=n.cellHeight,x=Math.ceil(l/c),g=Math.ceil(f/m),y=c,T=m,C=c-(x*c-l),A=m-(g*m-f),w,E,P=n.showCells,B=n.showAltCells,R=n.showOutline,I=0,N=0,X=0,Y=0,O=0;if(R&&(y--,T--,C===c&&C--,A===m&&A--),r.pipelines.preBatch(n),P&&n.fillAlpha>0)for(w=h.fillTint,E=v.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*u),w.TL=E,w.TR=E,w.BL=E,w.BR=E,N=0;N<g;N++)for(B&&(X=N%2),I=0;I<x;I++){if(B&&X){X=0;continue}X++,Y=I<x-1?y:C,O=N<g-1?T:A,h.batchFillRect(I*c,N*m,Y,O)}if(B&&n.altFillAlpha>0)for(w=h.fillTint,E=v.getTintAppendFloatAlpha(n.altFillColor,n.altFillAlpha*u),w.TL=E,w.TR=E,w.BL=E,w.BR=E,N=0;N<g;N++)for(B&&(X=N%2),I=0;I<x;I++){if(B&&!X){X=1;continue}X=0,Y=I<x-1?y:C,O=N<g-1?T:A,h.batchFillRect(I*c,N*m,Y,O)}if(R&&n.outlineFillAlpha>0){var D=h.strokeTint,F=v.getTintAppendFloatAlpha(n.outlineFillColor,n.outlineFillAlpha*u);for(D.TL=F,D.TR=F,D.BL=F,D.BR=F,I=1;I<x;I++){var M=I*c;h.batchLine(M,0,M,f,1,1,1,0,!1)}for(N=1;N<g;N++){var L=N*m;h.batchLine(0,L,l,L,1,1,1,0,!1)}}r.pipelines.postBatch(n)};p.exports=o},4415:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72296),v=t(56694),o=t(91461),r=new v({Extends:o,Mixins:[d],initialize:function(e,s,h,i,a,u,l,f){s===void 0&&(s=0),h===void 0&&(h=0),i===void 0&&(i=48),a===void 0&&(a=32),u===void 0&&(u=15658734),l===void 0&&(l=10066329),f===void 0&&(f=13421772),o.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=u,this.fillLeft=l,this.fillRight=f,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(s,h),this.setSize(i,a),this.updateDisplayOrigin()},setProjection:function(n){return this.projection=n,this},setFaces:function(n,e,s){return n===void 0&&(n=!0),e===void 0&&(e=!0),s===void 0&&(s=!0),this.showTop=n,this.showLeft=e,this.showRight=s,this},setFillStyle:function(n,e,s){return this.fillTop=n,this.fillLeft=e,this.fillRight=s,this.isFilled=!0,this}});p.exports=r},32884:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(15608),v=t(49584),o=function(r,n,e,s){e.addToRenderList(n);var h=r.currentContext;if(v(r,h,n,e,s)&&n.isFilled){var i=n.width,a=n.height,u=i/2,l=i/n.projection;n.showTop&&(d(h,n,n.fillTop),h.beginPath(),h.moveTo(-u,-a),h.lineTo(0,-l-a),h.lineTo(u,-a),h.lineTo(u,-1),h.lineTo(0,l-1),h.lineTo(-u,-1),h.lineTo(-u,-a),h.fill()),n.showLeft&&(d(h,n,n.fillLeft),h.beginPath(),h.moveTo(-u,0),h.lineTo(0,l),h.lineTo(0,l-a),h.lineTo(-u,-a),h.lineTo(-u,0),h.fill()),n.showRight&&(d(h,n,n.fillRight),h.beginPath(),h.moveTo(u,0),h.lineTo(0,l),h.lineTo(0,l-a),h.lineTo(u,-a),h.lineTo(u,0),h.fill()),h.restore()}};p.exports=o},88154:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(61286),v=t(4415);d.register("isobox",function(o,r,n,e,s,h,i){return this.displayList.add(new v(this.scene,o,r,n,e,s,h,i))})},72296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(33101),o=t(32884),p.exports={renderWebGL:v,renderCanvas:o}},33101:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(73329),v=t(75512),o=function(r,n,e,s){e.addToRenderList(n);var h=r.pipelines.set(n.pipeline),i=d(n,e,s),a=h.calcMatrix.copyFrom(i.calc),u=n.width,l=n.height,f=u/2,c=u/n.projection,m=e.alpha*n.alpha;if(n.isFilled){var x,g,y,T,C,A,w,E,P;r.pipelines.preBatch(n),n.showTop&&(x=v.getTintAppendFloatAlpha(n.fillTop,m),g=a.getX(-f,-l),y=a.getY(-f,-l),T=a.getX(0,-c-l),C=a.getY(0,-c-l),A=a.getX(f,-l),w=a.getY(f,-l),E=a.getX(0,c-l),P=a.getY(0,c-l),h.batchQuad(n,g,y,T,C,A,w,E,P,0,0,1,1,x,x,x,x,2)),n.showLeft&&(x=v.getTintAppendFloatAlpha(n.fillLeft,m),g=a.getX(-f,0),y=a.getY(-f,0),T=a.getX(0,c),C=a.getY(0,c),A=a.getX(0,c-l),w=a.getY(0,c-l),E=a.getX(-f,-l),P=a.getY(-f,-l),h.batchQuad(n,g,y,T,C,A,w,E,P,0,0,1,1,x,x,x,x,2)),n.showRight&&(x=v.getTintAppendFloatAlpha(n.fillRight,m),g=a.getX(f,0),y=a.getY(f,0),T=a.getX(0,c),C=a.getY(0,c),A=a.getX(0,c-l),w=a.getY(0,c-l),E=a.getX(f,-l),P=a.getY(f,-l),h.batchQuad(n,g,y,T,C,A,w,E,P,0,0,1,1,x,x,x,x,2)),r.pipelines.postBatch(n)}};p.exports=o},65159:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(93387),o=t(91461),r=new d({Extends:o,Mixins:[v],initialize:function(e,s,h,i,a,u,l,f,c){s===void 0&&(s=0),h===void 0&&(h=0),i===void 0&&(i=48),a===void 0&&(a=32),u===void 0&&(u=!1),l===void 0&&(l=15658734),f===void 0&&(f=10066329),c===void 0&&(c=13421772),o.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=l,this.fillLeft=f,this.fillRight=c,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=u,this.isFilled=!0,this.setPosition(s,h),this.setSize(i,a),this.updateDisplayOrigin()},setProjection:function(n){return this.projection=n,this},setReversed:function(n){return this.isReversed=n,this},setFaces:function(n,e,s){return n===void 0&&(n=!0),e===void 0&&(e=!0),s===void 0&&(s=!0),this.showTop=n,this.showLeft=e,this.showRight=s,this},setFillStyle:function(n,e,s){return this.fillTop=n,this.fillLeft=e,this.fillRight=s,this.isFilled=!0,this}});p.exports=r},9923:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(15608),v=t(49584),o=function(r,n,e,s){e.addToRenderList(n);var h=r.currentContext;if(v(r,h,n,e,s)&&n.isFilled){var i=n.width,a=n.height,u=i/2,l=i/n.projection,f=n.isReversed;n.showTop&&f&&(d(h,n,n.fillTop),h.beginPath(),h.moveTo(-u,-a),h.lineTo(0,-l-a),h.lineTo(u,-a),h.lineTo(0,l-a),h.fill()),n.showLeft&&(d(h,n,n.fillLeft),h.beginPath(),f?(h.moveTo(-u,-a),h.lineTo(0,l),h.lineTo(0,l-a)):(h.moveTo(-u,0),h.lineTo(0,l),h.lineTo(0,l-a)),h.fill()),n.showRight&&(d(h,n,n.fillRight),h.beginPath(),f?(h.moveTo(u,-a),h.lineTo(0,l),h.lineTo(0,l-a)):(h.moveTo(u,0),h.lineTo(0,l),h.lineTo(0,l-a)),h.fill()),h.restore()}};p.exports=o},67765:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(61286),v=t(65159);d.register("isotriangle",function(o,r,n,e,s,h,i,a){return this.displayList.add(new v(this.scene,o,r,n,e,s,h,i,a))})},93387:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(54946),o=t(9923),p.exports={renderWebGL:v,renderCanvas:o}},54946:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(73329),v=t(75512),o=function(r,n,e,s){e.addToRenderList(n);var h=r.pipelines.set(n.pipeline),i=d(n,e,s),a=h.calcMatrix.copyFrom(i.calc),u=n.width,l=n.height,f=u/2,c=u/n.projection,m=n.isReversed,x=e.alpha*n.alpha;if(n.isFilled){r.pipelines.preBatch(n);var g,y,T,C,A,w,E;if(n.showTop&&m){g=v.getTintAppendFloatAlpha(n.fillTop,x),y=a.getX(-f,-l),T=a.getY(-f,-l),C=a.getX(0,-c-l),A=a.getY(0,-c-l),w=a.getX(f,-l),E=a.getY(f,-l);var P=a.getX(0,c-l),B=a.getY(0,c-l);h.batchQuad(n,y,T,C,A,w,E,P,B,0,0,1,1,g,g,g,g,2)}n.showLeft&&(g=v.getTintAppendFloatAlpha(n.fillLeft,x),m?(y=a.getX(-f,-l),T=a.getY(-f,-l),C=a.getX(0,c),A=a.getY(0,c),w=a.getX(0,c-l),E=a.getY(0,c-l)):(y=a.getX(-f,0),T=a.getY(-f,0),C=a.getX(0,c),A=a.getY(0,c),w=a.getX(0,c-l),E=a.getY(0,c-l)),h.batchTri(n,y,T,C,A,w,E,0,0,1,1,g,g,g,2)),n.showRight&&(g=v.getTintAppendFloatAlpha(n.fillRight,x),m?(y=a.getX(f,-l),T=a.getY(f,-l),C=a.getX(0,c),A=a.getY(0,c),w=a.getX(0,c-l),E=a.getY(0,c-l)):(y=a.getX(f,0),T=a.getY(f,0),C=a.getX(0,c),A=a.getY(0,c),w=a.getX(0,c-l),E=a.getY(0,c-l)),h.batchTri(n,y,T,C,A,w,E,0,0,1,1,g,g,g,2)),r.pipelines.postBatch(n)}};p.exports=o},579:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(91461),o=t(88829),r=t(52660),n=new d({Extends:v,Mixins:[r],initialize:function(s,h,i,a,u,l,f,c,m){h===void 0&&(h=0),i===void 0&&(i=0),a===void 0&&(a=0),u===void 0&&(u=0),l===void 0&&(l=128),f===void 0&&(f=0),v.call(this,s,"Line",new o(a,u,l,f));var x=Math.max(1,this.geom.right-this.geom.left),g=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(h,i),this.setSize(x,g),c!==void 0&&this.setStrokeStyle(1,c,m),this.updateDisplayOrigin()},setLineWidth:function(e,s){return s===void 0&&(s=e),this._startWidth=e,this._endWidth=s,this.lineWidth=e,this},setTo:function(e,s,h,i){return this.geom.setTo(e,s,h,i),this}});p.exports=n},52044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(17876),v=t(49584),o=function(r,n,e,s){e.addToRenderList(n);var h=r.currentContext;if(v(r,h,n,e,s)){var i=n._displayOriginX,a=n._displayOriginY;n.isStroked&&(d(h,n),h.beginPath(),h.moveTo(n.geom.x1-i,n.geom.y1-a),h.lineTo(n.geom.x2-i,n.geom.y2-a),h.stroke()),h.restore()}};p.exports=o},85665:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(61286),v=t(579);d.register("line",function(o,r,n,e,s,h,i,a){return this.displayList.add(new v(this.scene,o,r,n,e,s,h,i,a))})},52660:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(46952),o=t(52044),p.exports={renderWebGL:v,renderCanvas:o}},46952:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(73329),v=t(75512),o=function(r,n,e,s){e.addToRenderList(n);var h=r.pipelines.set(n.pipeline),i=d(n,e,s);h.calcMatrix.copyFrom(i.calc);var a=n._displayOriginX,u=n._displayOriginY,l=e.alpha*n.alpha;if(r.pipelines.preBatch(n),n.isStroked){var f=h.strokeTint,c=v.getTintAppendFloatAlpha(n.strokeColor,n.strokeAlpha*l);f.TL=c,f.TR=c,f.BL=c,f.BR=c;var m=n._startWidth,x=n._endWidth;h.batchLine(n.geom.x1-a,n.geom.y1-u,n.geom.x2-a,n.geom.y2-u,m,x,1,0,!1,i.sprite,i.camera)}r.pipelines.postBatch(n)};p.exports=o},91249:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(70573),v=t(56694),o=t(11117),r=t(14045),n=t(8580),e=t(91461),s=t(18974),h=new v({Extends:e,Mixins:[d],initialize:function(a,u,l,f,c,m){u===void 0&&(u=0),l===void 0&&(l=0),e.call(this,a,"Polygon",new n(f));var x=r(this.geom);this.setPosition(u,l),this.setSize(x.width,x.height),c!==void 0&&this.setFillStyle(c,m),this.updateDisplayOrigin(),this.updateData()},smooth:function(i){i===void 0&&(i=1);for(var a=0;a<i;a++)s(this.geom);return this.updateData()},setTo:function(i){this.geom.setTo(i);var a=r(this.geom);return this.setSize(a.width,a.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var i=[],a=this.geom.points,u=0;u<a.length;u++)i.push(a[u].x,a[u].y);return i.push(a[0].x,a[0].y),this.pathIndexes=o(i),this.pathData=i,this}});p.exports=h},40834:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(15608),v=t(17876),o=t(49584),r=function(n,e,s,h){s.addToRenderList(e);var i=n.currentContext;if(o(n,i,e,s,h)){var a=e._displayOriginX,u=e._displayOriginY,l=e.pathData,f=l.length-1,c=l[0]-a,m=l[1]-u;i.beginPath(),i.moveTo(c,m),e.closePath||(f-=2);for(var x=2;x<f;x+=2){var g=l[x]-a,y=l[x+1]-u;i.lineTo(g,y)}e.closePath&&i.closePath(),e.isFilled&&(d(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};p.exports=r},88203:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(61286),v=t(91249);d.register("polygon",function(o,r,n,e,s){return this.displayList.add(new v(this.scene,o,r,n,e,s))})},70573:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(72841),o=t(40834),p.exports={renderWebGL:v,renderCanvas:o}},72841:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(19543),v=t(73329),o=t(50262),r=function(n,e,s,h){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),a=v(e,s,h),u=i.calcMatrix.copyFrom(a.calc),l=e._displayOriginX,f=e._displayOriginY,c=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&d(i,u,e,c,l,f),e.isStroked&&o(i,e,c,l,f),n.pipelines.postBatch(e)};p.exports=r},517:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(74118),o=t(91461),r=t(37673),n=new d({Extends:o,Mixins:[r],initialize:function(s,h,i,a,u,l,f){h===void 0&&(h=0),i===void 0&&(i=0),a===void 0&&(a=128),u===void 0&&(u=128),o.call(this,s,"Rectangle",new v(0,0,a,u)),this.setPosition(h,i),this.setSize(a,u),l!==void 0&&this.setFillStyle(l,f),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,s){this.width=e,this.height=s,this.geom.setSize(e,s),this.updateData(),this.updateDisplayOrigin();var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=e,h.hitArea.height=s),this},updateData:function(){var e=[],s=this.geom,h=this._tempLine;return s.getLineA(h),e.push(h.x1,h.y1,h.x2,h.y2),s.getLineB(h),e.push(h.x2,h.y2),s.getLineC(h),e.push(h.x2,h.y2),s.getLineD(h),e.push(h.x2,h.y2),this.pathData=e,this}});p.exports=n},4091:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(15608),v=t(17876),o=t(49584),r=function(n,e,s,h){s.addToRenderList(e);var i=n.currentContext;if(o(n,i,e,s,h)){var a=e._displayOriginX,u=e._displayOriginY;e.isFilled&&(d(i,e),i.fillRect(-a,-u,e.width,e.height)),e.isStroked&&(v(i,e),i.beginPath(),i.rect(-a,-u,e.width,e.height),i.stroke()),i.restore()}};p.exports=r},94355:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(61286),v=t(517);d.register("rectangle",function(o,r,n,e,s,h){return this.displayList.add(new v(this.scene,o,r,n,e,s,h))})},37673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(43532),o=t(4091),p.exports={renderWebGL:v,renderCanvas:o}},43532:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(73329),v=t(50262),o=t(75512),r=function(n,e,s,h){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),a=d(e,s,h);i.calcMatrix.copyFrom(a.calc);var u=e._displayOriginX,l=e._displayOriginY,f=s.alpha*e.alpha;if(n.pipelines.preBatch(e),e.isFilled){var c=i.fillTint,m=o.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*f);c.TL=m,c.TR=m,c.BL=m,c.BR=m,i.batchFillRect(-u,-l,e.width,e.height)}e.isStroked&&v(i,e,f,u,l),n.pipelines.postBatch(e)};p.exports=r},77843:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(87956),v=t(56694),o=t(11117),r=t(91461),n=new v({Extends:r,Mixins:[d],initialize:function(s,h,i,a,u,l,f,c){h===void 0&&(h=0),i===void 0&&(i=0),a===void 0&&(a=5),u===void 0&&(u=32),l===void 0&&(l=64),r.call(this,s,"Star",null),this._points=a,this._innerRadius=u,this._outerRadius=l,this.setPosition(h,i),this.setSize(l*2,l*2),f!==void 0&&this.setFillStyle(f,c),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],s=this._points,h=this._innerRadius,i=this._outerRadius,a=Math.PI/2*3,u=Math.PI/s,l=i,f=i;e.push(l,f+-i);for(var c=0;c<s;c++)e.push(l+Math.cos(a)*i,f+Math.sin(a)*i),a+=u,e.push(l+Math.cos(a)*h,f+Math.sin(a)*h),a+=u;return e.push(l,f+-i),this.pathIndexes=o(e),this.pathData=e,this}});p.exports=n},11401:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(15608),v=t(17876),o=t(49584),r=function(n,e,s,h){s.addToRenderList(e);var i=n.currentContext;if(o(n,i,e,s,h)){var a=e._displayOriginX,u=e._displayOriginY,l=e.pathData,f=l.length-1,c=l[0]-a,m=l[1]-u;i.beginPath(),i.moveTo(c,m),e.closePath||(f-=2);for(var x=2;x<f;x+=2){var g=l[x]-a,y=l[x+1]-u;i.lineTo(g,y)}i.closePath(),e.isFilled&&(d(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};p.exports=r},23962:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(77843),v=t(61286);v.register("star",function(o,r,n,e,s,h,i){return this.displayList.add(new d(this.scene,o,r,n,e,s,h,i))})},87956:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(12037),o=t(11401),p.exports={renderWebGL:v,renderCanvas:o}},12037:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(19543),v=t(73329),o=t(50262),r=function(n,e,s,h){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),a=v(e,s,h),u=i.calcMatrix.copyFrom(a.calc),l=e._displayOriginX,f=e._displayOriginY,c=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&d(i,u,e,c,l,f),e.isStroked&&o(i,e,c,l,f),n.pipelines.postBatch(e)};p.exports=r},21873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(91461),o=t(66349),r=t(70498),n=new d({Extends:v,Mixins:[r],initialize:function(s,h,i,a,u,l,f,c,m,x,g){h===void 0&&(h=0),i===void 0&&(i=0),a===void 0&&(a=0),u===void 0&&(u=128),l===void 0&&(l=64),f===void 0&&(f=0),c===void 0&&(c=128),m===void 0&&(m=128),v.call(this,s,"Triangle",new o(a,u,l,f,c,m));var y=this.geom.right-this.geom.left,T=this.geom.bottom-this.geom.top;this.setPosition(h,i),this.setSize(y,T),x!==void 0&&this.setFillStyle(x,g),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,s,h,i,a,u){return this.geom.setTo(e,s,h,i,a,u),this.updateData()},updateData:function(){var e=[],s=this.geom,h=this._tempLine;return s.getLineA(h),e.push(h.x1,h.y1,h.x2,h.y2),s.getLineB(h),e.push(h.x2,h.y2),s.getLineC(h),e.push(h.x2,h.y2),this.pathData=e,this}});p.exports=n},60213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(15608),v=t(17876),o=t(49584),r=function(n,e,s,h){s.addToRenderList(e);var i=n.currentContext;if(o(n,i,e,s,h)){var a=e._displayOriginX,u=e._displayOriginY,l=e.geom.x1-a,f=e.geom.y1-u,c=e.geom.x2-a,m=e.geom.y2-u,x=e.geom.x3-a,g=e.geom.y3-u;i.beginPath(),i.moveTo(l,f),i.lineTo(c,m),i.lineTo(x,g),i.closePath(),e.isFilled&&(d(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};p.exports=r},79296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(61286),v=t(21873);d.register("triangle",function(o,r,n,e,s,h,i,a,u,l){return this.displayList.add(new v(this.scene,o,r,n,e,s,h,i,a,u,l))})},70498:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(72291),o=t(60213),p.exports={renderWebGL:v,renderCanvas:o}},72291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(73329),v=t(50262),o=t(75512),r=function(n,e,s,h){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),a=d(e,s,h);i.calcMatrix.copyFrom(a.calc);var u=e._displayOriginX,l=e._displayOriginY,f=s.alpha*e.alpha;if(n.pipelines.preBatch(e),e.isFilled){var c=i.fillTint,m=o.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*f);c.TL=m,c.TR=m,c.BL=m,c.BR=m;var x=e.geom.x1-u,g=e.geom.y1-l,y=e.geom.x2-u,T=e.geom.y2-l,C=e.geom.x3-u,A=e.geom.y3-l;i.batchFillTriangle(x,g,y,T,C,A,a.sprite,a.camera)}e.isStroked&&v(i,e,f,u,l),n.pipelines.postBatch(e)};p.exports=r},13747:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(16569),v=t(56694),o=t(64937),r=t(89980),n=t(20791),e=new v({Extends:r,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Size,o.TextureCrop,o.Tint,o.Transform,o.Visible,n],initialize:function(h,i,a,u,l){r.call(this,h,"Sprite"),this._crop=this.resetCropObject(),this.anims=new d(this),this.setTexture(u,l),this.setPosition(i,a),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(s,h){this.anims.update(s,h)},play:function(s,h){return this.anims.play(s,h)},playReverse:function(s,h){return this.anims.playReverse(s,h)},playAfterDelay:function(s,h){return this.anims.playAfterDelay(s,h)},playAfterRepeat:function(s,h){return this.anims.playAfterRepeat(s,h)},chain:function(s){return this.anims.chain(s)},stop:function(){return this.anims.stop()},stopAfterDelay:function(s){return this.anims.stopAfterDelay(s)},stopAfterRepeat:function(s){return this.anims.stopAfterRepeat(s)},stopOnFrame:function(s){return this.anims.stopOnFrame(s)},toJSON:function(){return o.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});p.exports=e},27573:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){v.addToRenderList(d),t.batchSprite(d,d.frame,v,o)};p.exports=S},89219:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(88933),v=t(32291),o=t(99325),r=t(20494),n=t(13747);o.register("sprite",function(e,s){e===void 0&&(e={});var h=r(e,"key",null),i=r(e,"frame",null),a=new n(this.scene,0,0,h,i);return s!==void 0&&(e.add=s),d(this.scene,a,e),v(a,e),a})},66135:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(61286),v=t(13747);d.register("sprite",function(o,r,n,e){return this.displayList.add(new v(this.scene,o,r,n,e))})},20791:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(21034),o=t(27573),p.exports={renderWebGL:v,renderCanvas:o}},21034:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){v.addToRenderList(d),d.pipeline.batchSprite(d,v,o)};p.exports=S},32979:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){var o=t.canvas,r=t.context,n=t.style,e=[],s=0,h=v.length;n.maxLines>0&&n.maxLines<v.length&&(h=n.maxLines),n.syncFont(o,r);for(var i=0;i<h;i++){var a=n.strokeThickness;a+=r.measureText(v[i]).width,n.wordWrap&&(a-=r.measureText(" ").width),e[i]=Math.ceil(a),s=Math.max(s,e[i])}var u=d.fontSize+n.strokeThickness,l=u*h,f=t.lineSpacing;return h>1&&(l+=f*(h-1)),{width:s,height:l,lines:h,lineWidths:e,lineSpacing:f,lineHeight:u}};p.exports=S},27030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(61068),v=function(o){var r=d.create(this),n=r.getContext("2d",{willReadFrequently:!0});o.syncFont(r,n);var e=n.measureText(o.testString);if("actualBoundingBoxAscent"in e){var s=e.actualBoundingBoxAscent,h=e.actualBoundingBoxDescent;return d.remove(r),{ascent:s,descent:h,fontSize:s+h}}var i=Math.ceil(e.width*o.baselineX),a=i,u=2*a;a=a*o.baselineY|0,r.width=i,r.height=u,n.fillStyle="#f00",n.fillRect(0,0,i,u),n.font=o._font,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(o.testString,0,a);var l={ascent:0,descent:0,fontSize:0},f=n.getImageData(0,0,i,u);if(!f)return l.ascent=a,l.descent=a+6,l.fontSize=l.ascent+l.descent,d.remove(r),l;var c=f.data,m=c.length,x=i*4,g,y,T=0,C=!1;for(g=0;g<a;g++){for(y=0;y<x;y+=4)if(c[T+y]!==255){C=!0;break}if(!C)T+=x;else break}for(l.ascent=a-g,T=m-x,C=!1,g=u;g>a;g--){for(y=0;y<x;y+=4)if(c[T+y]!==255){C=!0;break}if(!C)T-=x;else break}return l.descent=g-a,l.fontSize=l.ascent+l.descent,d.remove(r),l};p.exports=v},76555:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(99584),v=t(61068),o=t(56694),r=t(64937),n=t(89980),e=t(32979),s=t(10850),h=t(55638),i=t(80032),a=t(74744),u=new o({Extends:n,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Tint,r.Transform,r.Visible,i],initialize:function(f,c,m,x,g){c===void 0&&(c=0),m===void 0&&(m=0),n.call(this,f,"Text"),this.renderer=f.sys.renderer,this.setPosition(c,m),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=v.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.style=new a(this,g),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=f.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(x),g&&g.padding&&this.setPadding(g.padding),g&&g.lineSpacing&&this.setLineSpacing(g.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",d(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(l){var f=this.style;if(f.wordWrapCallback){var c=f.wordWrapCallback.call(f.wordWrapCallbackScope,l,this);return Array.isArray(c)&&(c=c.join(`
`)),c}else return f.wordWrapWidth?f.wordWrapUseAdvanced?this.advancedWordWrap(l,this.context,this.style.wordWrapWidth):this.basicWordWrap(l,this.context,this.style.wordWrapWidth):l},advancedWordWrap:function(l,f,c){for(var m="",x=l.replace(/ +/gi," ").split(this.splitRegExp),g=x.length,y=0;y<g;y++){var T=x[y],C="";T=T.replace(/^ *|\s*$/gi,"");var A=f.measureText(T).width;if(A<c){m+=T+`
`;continue}for(var w=c,E=T.split(" "),P=0;P<E.length;P++){var B=E[P],R=B+" ",I=f.measureText(R).width;if(I>w){if(P===0){for(var N=R;N.length&&(N=N.slice(0,-1),I=f.measureText(N).width,!(I<=w)););if(!N.length)throw new Error("wordWrapWidth < a single character");var X=B.substr(N.length);E[P]=X,C+=N}var Y=E[P].length?P:P+1,O=E.slice(Y).join(" ").replace(/[ \n]*$/gi,"");x.splice(y+1,0,O),g=x.length;break}else C+=R,w-=I}m+=C.replace(/[ \n]*$/gi,"")+`
`}return m=m.replace(/[\s|\n]*$/gi,""),m},basicWordWrap:function(l,f,c){for(var m="",x=l.split(this.splitRegExp),g=x.length-1,y=f.measureText(" ").width,T=0;T<=g;T++){for(var C=c,A=x[T].split(" "),w=A.length-1,E=0;E<=w;E++){var P=A[E],B=f.measureText(P).width,R=B;E<w&&(R+=y),R>C&&E>0&&(m+=`
`,C=c),m+=P,E<w?(m+=" ",C-=R):C-=B}T<g&&(m+=`
`)}return m},getWrappedText:function(l){l===void 0&&(l=this._text),this.style.syncFont(this.canvas,this.context);var f=this.runWordWrap(l);return f.split(this.splitRegExp)},setText:function(l){return!l&&l!==0&&(l=""),Array.isArray(l)&&(l=l.join(`
`)),l!==this._text&&(this._text=l.toString(),this.updateText()),this},appendText:function(l,f){f===void 0&&(f=!0),!l&&l!==0&&(l=""),Array.isArray(l)&&(l=l.join(`
`)),l=l.toString();var c=this._text.concat(f?`
`+l:l);return c!==this._text&&(this._text=c,this.updateText()),this},setStyle:function(l){return this.style.setStyle(l)},setFont:function(l){return this.style.setFont(l)},setFontFamily:function(l){return this.style.setFontFamily(l)},setFontSize:function(l){return this.style.setFontSize(l)},setFontStyle:function(l){return this.style.setFontStyle(l)},setFixedSize:function(l,f){return this.style.setFixedSize(l,f)},setBackgroundColor:function(l){return this.style.setBackgroundColor(l)},setFill:function(l){return this.style.setFill(l)},setColor:function(l){return this.style.setColor(l)},setStroke:function(l,f){return this.style.setStroke(l,f)},setShadow:function(l,f,c,m,x,g){return this.style.setShadow(l,f,c,m,x,g)},setShadowOffset:function(l,f){return this.style.setShadowOffset(l,f)},setShadowColor:function(l){return this.style.setShadowColor(l)},setShadowBlur:function(l){return this.style.setShadowBlur(l)},setShadowStroke:function(l){return this.style.setShadowStroke(l)},setShadowFill:function(l){return this.style.setShadowFill(l)},setWordWrapWidth:function(l,f){return this.style.setWordWrapWidth(l,f)},setWordWrapCallback:function(l,f){return this.style.setWordWrapCallback(l,f)},setAlign:function(l){return this.style.setAlign(l)},setResolution:function(l){return this.style.setResolution(l)},setLineSpacing:function(l){return this.lineSpacing=l,this.updateText()},setPadding:function(l,f,c,m){if(typeof l=="object"){var x=l,g=s(x,"x",null);g!==null?(l=g,c=g):(l=s(x,"left",0),c=s(x,"right",l));var y=s(x,"y",null);y!==null?(f=y,m=y):(f=s(x,"top",0),m=s(x,"bottom",f))}else l===void 0&&(l=0),f===void 0&&(f=l),c===void 0&&(c=l),m===void 0&&(m=f);return this.padding.left=l,this.padding.top=f,this.padding.right=c,this.padding.bottom=m,this.updateText()},setMaxLines:function(l){return this.style.setMaxLines(l)},updateText:function(){var l=this.canvas,f=this.context,c=this.style,m=c.resolution,x=c.metrics;c.syncFont(l,f);var g=this._text;(c.wordWrapWidth||c.wordWrapCallback)&&(g=this.runWordWrap(this._text));var y=g.split(this.splitRegExp),T=e(this,x,y),C=this.padding,A;c.fixedWidth===0?(this.width=T.width+C.left+C.right,A=T.width):(this.width=c.fixedWidth,A=this.width-C.left-C.right,A<T.width&&(A=T.width)),c.fixedHeight===0?this.height=T.height+C.top+C.bottom:this.height=c.fixedHeight;var w=this.width,E=this.height;this.updateDisplayOrigin(),w*=m,E*=m,w=Math.max(w,1),E=Math.max(E,1),l.width!==w||l.height!==E?(l.width=w,l.height=E,this.frame.setSize(w,E),c.syncFont(l,f),c.rtl&&(f.direction="rtl")):f.clearRect(0,0,w,E),f.save(),f.scale(m,m),c.backgroundColor&&(f.fillStyle=c.backgroundColor,f.fillRect(0,0,w,E)),c.syncStyle(l,f),f.translate(C.left,C.top);for(var P,B,R=0;R<T.lines;R++){if(P=c.strokeThickness/2,B=c.strokeThickness/2+R*T.lineHeight+x.ascent,R>0&&(B+=T.lineSpacing*R),c.rtl)P=w-P-C.left-C.right;else if(c.align==="right")P+=A-T.lineWidths[R];else if(c.align==="center")P+=(A-T.lineWidths[R])/2;else if(c.align==="justify"){var I=.85;if(T.lineWidths[R]/T.width>=I){var N=T.width-T.lineWidths[R],X=f.measureText(" ").width,Y=y[R].trim(),O=Y.split(" ");N+=(y[R].length-Y.length)*X;for(var D=Math.floor(N/X),F=0;D>0;)O[F]+=" ",F=(F+1)%(O.length-1||1),--D;y[R]=O.join(" ")}}this.autoRound&&(P=Math.round(P),B=Math.round(B)),c.strokeThickness&&(c.syncShadow(f,c.shadowStroke),f.strokeText(y[R],P,B)),c.color&&(c.syncShadow(f,c.shadowFill),f.fillText(y[R],P,B))}f.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(l,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var M=this.input;return M&&!M.customHitArea&&(M.hitArea.width=this.width,M.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(l){this.setText(l)}},toJSON:function(){var l=r.ToJSON(this),f={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return l.data=f,l},preDestroy:function(){this.style.rtl&&h(this.canvas),v.remove(this.canvas),this.texture.destroy()}});p.exports=u},71649:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){d.width===0||d.height===0||(v.addToRenderList(d),t.batchSprite(d,d.frame,v,o))};p.exports=S},75397:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(88933),v=t(99325),o=t(20494),r=t(76555);v.register("text",function(n,e){n===void 0&&(n={});var s=o(n,"text",""),h=o(n,"style",null),i=o(n,"padding",null);i!==null&&(h.padding=i);var a=new r(this.scene,0,0,s,h);return e!==void 0&&(n.add=e),d(this.scene,a,n),a.autoRound=o(n,"autoRound",!0),a.resolution=o(n,"resolution",1),a})},94627:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(76555),v=t(61286);v.register("text",function(o,r,n,e){return this.displayList.add(new d(this.scene,o,r,n,e))})},80032:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(76128),o=t(71649),p.exports={renderWebGL:v,renderCanvas:o}},74744:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(20494),o=t(10850),r=t(27030),n={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new d({initialize:function(h,i){this.parent=h,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(i,!1,!0)},setStyle:function(s,h,i){h===void 0&&(h=!0),i===void 0&&(i=!1),s&&s.hasOwnProperty("fontSize")&&typeof s.fontSize=="number"&&(s.fontSize=s.fontSize.toString()+"px");for(var a in n){var u=i?n[a][1]:this[a];a==="wordWrapCallback"||a==="wordWrapCallbackScope"?this[a]=o(s,n[a][0],u):this[a]=v(s,n[a][0],u)}var l=o(s,"font",null);l!==null&&this.setFont(l,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var f=o(s,"fill",null);f!==null&&(this.color=f);var c=o(s,"metrics",!1);return c?this.metrics={ascent:o(c,"ascent",0),descent:o(c,"descent",0),fontSize:o(c,"fontSize",0)}:(h||!this.metrics)&&(this.metrics=r(this)),h?this.parent.updateText():this.parent},syncFont:function(s,h){h.font=this._font},syncStyle:function(s,h){h.textBaseline="alphabetic",h.fillStyle=this.color,h.strokeStyle=this.stroke,h.lineWidth=this.strokeThickness,h.lineCap="round",h.lineJoin="round"},syncShadow:function(s,h){h?(s.shadowOffsetX=this.shadowOffsetX,s.shadowOffsetY=this.shadowOffsetY,s.shadowColor=this.shadowColor,s.shadowBlur=this.shadowBlur):(s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowColor=0,s.shadowBlur=0)},update:function(s){return s&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=r(this)),this.parent.updateText()},setFont:function(s,h){h===void 0&&(h=!0);var i=s,a="",u="";if(typeof s!="string")i=o(s,"fontFamily","Courier"),a=o(s,"fontSize","16px"),u=o(s,"fontStyle","");else{var l=s.split(" "),f=0;u=l.length>2?l[f++]:"",a=l[f++]||"16px",i=l[f++]||"Courier"}return(i!==this.fontFamily||a!==this.fontSize||u!==this.fontStyle)&&(this.fontFamily=i,this.fontSize=a,this.fontStyle=u,h&&this.update(!0)),this.parent},setFontFamily:function(s){return this.fontFamily!==s&&(this.fontFamily=s,this.update(!0)),this.parent},setFontStyle:function(s){return this.fontStyle!==s&&(this.fontStyle=s,this.update(!0)),this.parent},setFontSize:function(s){return typeof s=="number"&&(s=s.toString()+"px"),this.fontSize!==s&&(this.fontSize=s,this.update(!0)),this.parent},setTestString:function(s){return this.testString=s,this.update(!0)},setFixedSize:function(s,h){return this.fixedWidth=s,this.fixedHeight=h,s&&(this.parent.width=s),h&&(this.parent.height=h),this.update(!1)},setBackgroundColor:function(s){return this.backgroundColor=s,this.update(!1)},setFill:function(s){return this.color=s,this.update(!1)},setColor:function(s){return this.color=s,this.update(!1)},setResolution:function(s){return this.resolution=s,this.update(!1)},setStroke:function(s,h){return h===void 0&&(h=this.strokeThickness),s===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==s||this.strokeThickness!==h)&&(this.stroke=s,this.strokeThickness=h,this.update(!0)),this.parent},setShadow:function(s,h,i,a,u,l){return s===void 0&&(s=0),h===void 0&&(h=0),i===void 0&&(i="#000"),a===void 0&&(a=0),u===void 0&&(u=!1),l===void 0&&(l=!0),this.shadowOffsetX=s,this.shadowOffsetY=h,this.shadowColor=i,this.shadowBlur=a,this.shadowStroke=u,this.shadowFill=l,this.update(!1)},setShadowOffset:function(s,h){return s===void 0&&(s=0),h===void 0&&(h=s),this.shadowOffsetX=s,this.shadowOffsetY=h,this.update(!1)},setShadowColor:function(s){return s===void 0&&(s="#000"),this.shadowColor=s,this.update(!1)},setShadowBlur:function(s){return s===void 0&&(s=0),this.shadowBlur=s,this.update(!1)},setShadowStroke:function(s){return this.shadowStroke=s,this.update(!1)},setShadowFill:function(s){return this.shadowFill=s,this.update(!1)},setWordWrapWidth:function(s,h){return h===void 0&&(h=!1),this.wordWrapWidth=s,this.wordWrapUseAdvanced=h,this.update(!1)},setWordWrapCallback:function(s,h){return h===void 0&&(h=null),this.wordWrapCallback=s,this.wordWrapCallbackScope=h,this.update(!1)},setAlign:function(s){return s===void 0&&(s="left"),this.align=s,this.update(!1)},setMaxLines:function(s){return s===void 0&&(s=0),this.maxLines=s,this.update(!1)},getTextMetrics:function(){var s=this.metrics;return{ascent:s.ascent,descent:s.descent,fontSize:s.fontSize}},toJSON:function(){var s={};for(var h in n)s[h]=this[h];return s.metrics=this.getTextMetrics(),s},destroy:function(){this.parent=void 0}});p.exports=e},76128:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(75512),v=function(o,r,n,e){if(!(r.width===0||r.height===0)){n.addToRenderList(r);var s=r.frame,h=s.width,i=s.height,a=d.getTintAppendFloatAlpha,u=o.pipelines.set(r.pipeline,r),l=u.setTexture2D(s.glTexture,r);u.batchTexture(r,s.glTexture,h,i,r.x,r.y,h/r.style.resolution,i/r.style.resolution,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.displayOriginX,r.displayOriginY,0,0,h,i,a(r.tintTopLeft,n.alpha*r._alphaTL),a(r.tintTopRight,n.alpha*r._alphaTR),a(r.tintBottomLeft,n.alpha*r._alphaBL),a(r.tintBottomRight,n.alpha*r._alphaBR),r.tintFill,0,0,n,e,!1,l)}};p.exports=v},35856:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(61068),v=t(56694),o=t(64937),r=t(89980),n=t(3504),e=t(8213),s=t(9271),h=t(93736),i=8,a=new v({Extends:r,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Crop,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Tint,o.Transform,o.Visible,s],initialize:function(l,f,c,m,x,g,y){var T=l.sys.renderer;r.call(this,l,"TileSprite");var C=l.sys.textures.get(g),A=C.get(y);A.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),C=l.sys.textures.get("__MISSING"),A=C.get()),C.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),C=l.sys.textures.get("__MISSING"),A=C.get()),!m||!x?(m=A.width,x=A.height):(m=Math.floor(m),x=Math.floor(x)),this._tilePosition=new h,this._tileScale=new h(1,1),this.dirty=!1,this.renderer=T,this.canvas=d.create(this,m,x),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=C,this.displayFrame=A,this._crop=this.resetCropObject(),this.texture=l.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=n(A.width),this.potHeight=n(A.height),this.fillCanvas=d.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(f,c),this.setSize(m,x),this.setFrame(y),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(u,l){return this.displayTexture=this.scene.sys.textures.get(u),this.setFrame(l)},setFrame:function(u){var l=this.displayTexture.get(u);return this.potWidth=n(l.width),this.potHeight=n(l.height),this.canvas.width=0,!l.cutWidth||!l.cutHeight?this.renderFlags&=~i:this.renderFlags|=i,this.displayFrame=l,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(u,l){return u!==void 0&&(this.tilePositionX=u),l!==void 0&&(this.tilePositionY=l),this},setTileScale:function(u,l){return u===void 0&&(u=this.tileScaleX),l===void 0&&(l=u),this.tileScaleX=u,this.tileScaleY=l,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var u=this.displayFrame;if(u.source.isRenderTexture||u.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var l=this.fillContext,f=this.fillCanvas,c=this.potWidth,m=this.potHeight;(!this.renderer||!this.renderer.gl)&&(c=u.cutWidth,m=u.cutHeight),l.clearRect(0,0,c,m),f.width=c,f.height=m,l.drawImage(u.source.image,u.cutX,u.cutY,u.cutWidth,u.cutHeight,0,0,c,m),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(f,this.fillPattern):this.fillPattern=l.createPattern(f,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var u=this.canvas;if((u.width!==this.width||u.height!==this.height)&&(u.width=this.width,u.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var l=this.context;this.scene.sys.game.config.antialias||e.disable(l);var f=this._tileScale.x,c=this._tileScale.y,m=this._tilePosition.x,x=this._tilePosition.y;l.clearRect(0,0,this.width,this.height),l.save(),l.scale(f,c),l.translate(-m,-x),l.fillStyle=this.fillPattern,l.fillRect(m,x,this.width/f,this.height/c),l.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),d.remove(this.canvas),d.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(u){this._tilePosition.x=u,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(u){this._tilePosition.y=u,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(u){this._tileScale.x=u,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(u){this._tileScale.y=u,this.dirty=!0}}});p.exports=a},93305:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){d.updateCanvas(),v.addToRenderList(d),t.batchSprite(d,d.frame,v,o)};p.exports=S},63950:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(88933),v=t(99325),o=t(20494),r=t(35856);v.register("tileSprite",function(n,e){n===void 0&&(n={});var s=o(n,"x",0),h=o(n,"y",0),i=o(n,"width",512),a=o(n,"height",512),u=o(n,"key",""),l=o(n,"frame",""),f=new r(this.scene,s,h,i,a,u,l);return e!==void 0&&(n.add=e),d(this.scene,f,n),f})},20509:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(35856),v=t(61286);v.register("tileSprite",function(o,r,n,e,s,h){return this.displayList.add(new d(this.scene,o,r,n,e,s,h))})},9271:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(74287),o=t(93305),p.exports={renderWebGL:v,renderCanvas:o}},74287:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(75512),v=function(o,r,n,e){r.updateCanvas();var s=r.width,h=r.height;if(!(s===0||h===0)){n.addToRenderList(r);var i=d.getTintAppendFloatAlpha,a=o.pipelines.set(r.pipeline,r),u=a.setTexture2D(r.fillPattern,r);a.batchTexture(r,r.fillPattern,r.displayFrame.width*r.tileScaleX,r.displayFrame.height*r.tileScaleY,r.x,r.y,s,h,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.originX*s,r.originY*h,0,0,s,h,i(r.tintTopLeft,n.alpha*r._alphaTL),i(r.tintTopRight,n.alpha*r._alphaTR),i(r.tintBottomLeft,n.alpha*r._alphaBL),i(r.tintBottomRight,n.alpha*r._alphaBR),r.tintFill,r.tilePositionX%r.displayFrame.width/r.displayFrame.width,r.tilePositionY%r.displayFrame.height/r.displayFrame.height,n,e,!1,u)}};p.exports=v},8630:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(82897),v=t(56694),o=t(64937),r=t(56631),n=t(97081),e=t(89980),s=t(83392),h=t(76038),i=t(76583),a=t(77974),u=new v({Extends:e,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Size,o.TextureCrop,o.Tint,o.Transform,o.Visible,a],initialize:function(f,c,m,x){e.call(this,f,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=i(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var g=f.sys.game;this._device=g.device.video,this.setPosition(c,m),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),g.events.on(n.PAUSE,this.globalPause,this),g.events.on(n.RESUME,this.globalResume,this);var y=f.sys.sound;y&&y.on(h.GLOBAL_MUTE,this.globalMute,this),x&&this.load(x)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(l){var f=this.scene.sys.cache.video.get(l);return f?(this.cacheKey=l,this.loadHandler(f.url,f.noAudio,f.crossOrigin)):console.warn("No video in cache for key: "+l),this},changeSource:function(l,f,c,m,x){f===void 0&&(f=!0),c===void 0&&(c=!1),this.cacheKey!==l&&(this.load(l),f&&this.play(c,m,x))},getVideoKey:function(){return this.cacheKey},loadURL:function(l,f,c){f===void 0&&(f=!1);var m=this._device.getVideoURL(l);return m?(this.cacheKey="",this.loadHandler(m.url,f,c)):console.warn("No supported video format found for "+l),this},loadMediaStream:function(l,f,c){return this.loadHandler(null,f,c,l)},loadHandler:function(l,f,c,m){f||(f=!1);var x=this.video;if(x?(this.removeLoadEventHandlers(),this.stop()):(x=document.createElement("video"),x.controls=!1,x.setAttribute("playsinline","playsinline"),x.setAttribute("preload","auto"),x.setAttribute("disablePictureInPicture","true")),f?(x.muted=!0,x.defaultMuted=!0,x.setAttribute("autoplay","autoplay")):(x.muted=!1,x.defaultMuted=!1,x.removeAttribute("autoplay")),c?x.setAttribute("crossorigin",c):x.removeAttribute("crossorigin"),m)if("srcObject"in x)try{x.srcObject=m}catch(g){if(g.name!=="TypeError")throw g;x.src=URL.createObjectURL(m)}else x.src=URL.createObjectURL(m);else x.src=l;return this.addLoadEventHandlers(),this.retry=0,this.video=x,this._playCalled=!1,x.load(),this},requestVideoFrame:function(l,f){var c=this.video;if(c){var m=f.width,x=f.height,g=this.videoTexture,y=this.videoTextureSource,T=!g||y.source!==c;T?(this._codePaused=c.paused,this._codeMuted=c.muted,g?(y.source=c,y.width=m,y.height=x,g.get().setSize(m,x)):(g=this.scene.sys.textures.create(this._key,c,m,x),g.add("__BASE",0,0,0,m,x),this.setTexture(g),this.videoTexture=g,this.videoTextureSource=g.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(r.VIDEO_TEXTURE,this,g)),this.setSizeToFrame(),this.updateDisplayOrigin()):y.update(),this.isStalled=!1,this.metadata=f;var C=f.mediaTime;T&&(this._lastUpdate=C,this.emit(r.VIDEO_CREATED,this,m,x),this.frameReady||(this.frameReady=!0,this.emit(r.VIDEO_PLAY,this))),this._playingMarker?C>=this._markerOut&&(c.loop?(c.currentTime=this._markerIn,this.emit(r.VIDEO_LOOP,this)):(this.stop(!1),this.emit(r.VIDEO_COMPLETE,this))):C<this._lastUpdate&&this.emit(r.VIDEO_LOOP,this),this._lastUpdate=C,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(l,f,c){f===void 0&&(f=-1),c===void 0&&(c=s.MAX_SAFE_INTEGER);var m=this.video;return!m||this.isPlaying()?(m||console.warn("Video not loaded"),this):(l===void 0&&(l=m.loop),m.loop=l,this._markerIn=f,this._markerOut=c,this._playingMarker=f>-1&&c>f&&c<s.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=m.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var l=this.video;l&&(l.addEventListener("error",this._loadCallbackHandler),l.addEventListener("abort",this._loadCallbackHandler))},removeLoadEventHandlers:function(){var l=this.video;l&&(l.removeEventListener("error",this._loadCallbackHandler),l.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var l=this.video;if(l){var f=this._callbacks;for(var c in f)l.addEventListener(c,f[c])}},removeEventHandlers:function(){var l=this.video;if(l){var f=this._callbacks;for(var c in f)l.removeEventListener(c,f[c])}},createPlayPromise:function(l){l===void 0&&(l=!0);var f=this.video,c=f.play();if(c!==void 0){var m=this.playSuccess.bind(this),x=this.playError.bind(this);if(!l){var g=this;x=function(){g.failedPlayAttempts++}}c.then(m).catch(x)}else f.addEventListener("playing",this._callbacks.legacy),l||this.failedPlayAttempts++},addMarker:function(l,f,c){return!isNaN(f)&&f>=0&&!isNaN(c)&&c>f&&(this.markers[l]=[f,c]),this},playMarker:function(l,f){var c=this.markers[l];return c&&this.play(f,c[0],c[1]),this},removeMarker:function(l){return delete this.markers[l],this},snapshot:function(l,f){return l===void 0&&(l=this.width),f===void 0&&(f=this.height),this.snapshotArea(0,0,this.width,this.height,l,f)},snapshotArea:function(l,f,c,m,x,g){l===void 0&&(l=0),f===void 0&&(f=0),c===void 0&&(c=this.width),m===void 0&&(m=this.height),x===void 0&&(x=c),g===void 0&&(g=m);var y=this.video,T=this.snapshotTexture;return T?(T.setSize(x,g),y&&T.context.drawImage(y,l,f,c,m,0,0,x,g)):(T=this.scene.sys.textures.createCanvas(i(),x,g),this.snapshotTexture=T,y&&T.context.drawImage(y,l,f,c,m,0,0,x,g)),T.update()},saveSnapshotTexture:function(l){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,l):this.snapshotTexture=this.scene.sys.textures.createCanvas(l,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(r.VIDEO_UNLOCKED,this));var l=this.scene.sys.sound;l&&l.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(l){var f=l.name;f==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(r.VIDEO_LOCKED,this)):f==="NotSupportedError"?(this.stop(!1),this.emit(r.VIDEO_UNSUPPORTED,this,l)):(this.stop(!1),this.emit(r.VIDEO_ERROR,this,l))},legacyPlayHandler:function(){var l=this.video;l&&(this.playSuccess(),l.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(r.VIDEO_PLAYING,this)},loadErrorHandler:function(l){this.stop(!1),this.emit(r.VIDEO_ERROR,this,l)},stalledHandler:function(l){this.isStalled=!0,this.emit(r.VIDEO_STALLED,this,l)},completeHandler:function(){this._playCalled=!1,this.emit(r.VIDEO_COMPLETE,this)},preUpdate:function(l,f){var c=this.video;!c||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=f,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(l){var f=this.video;if(f){var c=f.duration;if(c!==1/0&&!isNaN(c)){var m=c*l;this.setCurrentTime(m)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(l){var f=this.video;if(f){if(typeof l=="string"){var c=l[0],m=parseFloat(l.substr(1));c==="+"?l=f.currentTime+m:c==="-"&&(l=f.currentTime-m)}f.currentTime=l}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(r.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(r.VIDEO_SEEKED,this)},getProgress:function(){var l=this.video;if(l){var f=l.duration;if(f!==1/0&&!isNaN(f))return l.currentTime/f}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(l){l===void 0&&(l=!0),this._codeMuted=l;var f=this.video;return f&&(f.muted=this._systemMuted?!0:l),this},isMuted:function(){return this._codeMuted},globalMute:function(l,f){this._systemMuted=f;var c=this.video;c&&(c.muted=this._codeMuted?!0:f)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(l){l===void 0&&(l=!0);var f=this.video;return this._codePaused=l,f&&!f.ended&&(l?f.paused||(this.removeEventHandlers(),f.pause()):l||(this._playCalled?f.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(l){return l===void 0&&(l=1),this.video&&(this.video.volume=d(l,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(l){return this.video&&(this.video.playbackRate=l),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(l){return l===void 0&&(l=!0),this.video&&(this.video.loop=l),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(l,f){return f===void 0&&(f=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,l),this.videoTextureSource.setFlipY(f)),this._key=l,this.flipY=f,!!this.videoTexture},stop:function(l){l===void 0&&(l=!0);var f=this.video;return f&&(this.removeEventHandlers(),f.cancelVideoFrameCallback(this._rfvCallbackId),f.pause()),this.retry=0,this._playCalled=!1,l&&this.emit(r.VIDEO_STOP,this),this},removeVideoElement:function(){var l=this.video;if(l){for(l.parentNode&&l.parentNode.removeChild(l);l.hasChildNodes();)l.removeChild(l.firstChild);l.removeAttribute("autoplay"),l.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var l=this.scene.sys.game.events;l.off(n.PAUSE,this.globalPause,this),l.off(n.RESUME,this.globalResume,this);var f=this.scene.sys.sound;f&&f.off(h.GLOBAL_MUTE,this.globalMute,this)}});p.exports=u},56933:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){d.videoTexture&&(v.addToRenderList(d),t.batchSprite(d,d.frame,v,o))};p.exports=S},65601:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(88933),v=t(99325),o=t(20494),r=t(8630);v.register("video",function(n,e){n===void 0&&(n={});var s=o(n,"key",null),h=new r(this.scene,0,0,s);return e!==void 0&&(n.add=e),d(this.scene,h,n),h})},215:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(8630),v=t(61286);v.register("video",function(o,r,n){return this.displayList.add(new d(this.scene,o,r,n))})},77974:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(83572),o=t(56933),p.exports={renderWebGL:v,renderCanvas:o}},83572:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){d.videoTexture&&(v.addToRenderList(d),d.pipeline.batchSprite(d,v,o))};p.exports=S},71030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(95723),v=t(26673),o=t(65650),r=t(56694),n=t(64937),e=t(89980),s=t(74118),h=t(94287),i=new r({Extends:e,Mixins:[n.Depth,n.GetBounds,n.Origin,n.Transform,n.ScrollFactor,n.Visible],initialize:function(u,l,f,c,m){c===void 0&&(c=1),m===void 0&&(m=c),e.call(this,u,"Zone"),this.setPosition(l,f),this.width=c,this.height=m,this.blendMode=d.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(a){this.scaleX=a/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(a){this.scaleY=a/this.height}},setSize:function(a,u,l){l===void 0&&(l=!0),this.width=a,this.height=u,this.updateDisplayOrigin();var f=this.input;return l&&f&&!f.customHitArea&&(f.hitArea.width=a,f.hitArea.height=u),this},setDisplaySize:function(a,u){return this.displayWidth=a,this.displayHeight=u,this},setCircleDropZone:function(a){return this.setDropZone(new v(0,0,a),o)},setRectangleDropZone:function(a,u){return this.setDropZone(new s(0,0,a,u),h)},setDropZone:function(a,u){return this.input||this.setInteractive(a,u,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(a,u,l){l.addToRenderList(u)},renderWebGL:function(a,u,l){l.addToRenderList(u)}});p.exports=i},24067:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(99325),v=t(20494),o=t(71030);d.register("zone",function(r){var n=v(r,"x",0),e=v(r,"y",0),s=v(r,"width",1),h=v(r,"height",s);return new o(this.scene,n,e,s,h)})},34546:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(71030),v=t(61286);v.register("zone",function(o,r,n,e){return this.displayList.add(new d(this.scene,o,r,n,e))})},95847:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};p.exports=S},26673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(65650),o=t(94026),r=t(62941),n=t(52394),e=t(30977),s=new d({initialize:function(i,a,u){i===void 0&&(i=0),a===void 0&&(a=0),u===void 0&&(u=0),this.type=n.CIRCLE,this.x=i,this.y=a,this._radius=u,this._diameter=u*2},contains:function(h,i){return v(this,h,i)},getPoint:function(h,i){return o(this,h,i)},getPoints:function(h,i,a){return r(this,h,i,a)},getRandomPoint:function(h){return e(this,h)},setTo:function(h,i,a){return this.x=h,this.y=i,this._radius=a,this._diameter=a*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(h,i){return i===void 0&&(i=h),this.x=h,this.y=i,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(h){this._radius=h,this._diameter=h*2}},diameter:{get:function(){return this._diameter},set:function(h){this._diameter=h,this._radius=h*.5}},left:{get:function(){return this.x-this._radius},set:function(h){this.x=h+this._radius}},right:{get:function(){return this.x+this._radius},set:function(h){this.x=h-this._radius}},top:{get:function(){return this.y-this._radius},set:function(h){this.y=h+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(h){this.y=h-this._radius}}});p.exports=s},37964:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 2*(Math.PI*t.radius)};p.exports=S},72233:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=function(o,r,n){return n===void 0&&(n=new d),n.x=o.x+o.radius*Math.cos(r),n.y=o.y+o.radius*Math.sin(r),n};p.exports=v},61761:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(26673),v=function(o){return new d(o.x,o.y,o.radius)};p.exports=v},65650:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){if(t.radius>0&&d>=t.left&&d<=t.right&&v>=t.top&&v<=t.bottom){var o=(t.x-d)*(t.x-d),r=(t.y-v)*(t.y-v);return o+r<=t.radius*t.radius}else return!1};p.exports=S},39187:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(65650),v=function(o,r){return d(o,r.x,r.y)};p.exports=v},58672:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(65650),v=function(o,r){return d(o,r.x,r.y)&&d(o,r.right,r.y)&&d(o,r.x,r.bottom)&&d(o,r.right,r.bottom)};p.exports=v},42997:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return d.setTo(t.x,t.y,t.radius)};p.exports=S},94894:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return t.x===d.x&&t.y===d.y&&t.radius===d.radius};p.exports=S},48027:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(74118),v=function(o,r){return r===void 0&&(r=new d),r.x=o.left,r.y=o.top,r.width=o.diameter,r.height=o.diameter,r};p.exports=v},94026:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72233),v=t(91806),o=t(83392),r=t(79967),n=function(e,s,h){h===void 0&&(h=new r);var i=v(s,0,o.PI2);return d(e,i,h)};p.exports=n},62941:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(37964),v=t(72233),o=t(91806),r=t(83392),n=function(e,s,h,i){i===void 0&&(i=[]),!s&&h>0&&(s=d(e)/h);for(var a=0;a<s;a++){var u=o(a/s,0,r.PI2);i.push(v(e,u))}return i};p.exports=n},34585:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){return t.x+=d,t.y+=v,t};p.exports=S},88665:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return t.x+=d.x,t.y+=d.y,t};p.exports=S},30977:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=function(o,r){r===void 0&&(r=new d);var n=2*Math.PI*Math.random(),e=Math.random()+Math.random(),s=e>1?2-e:e,h=s*Math.cos(n),i=s*Math.sin(n);return r.x=o.x+h*o.radius,r.y=o.y+i*o.radius,r};p.exports=v},6112:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(26673);d.Area=t(95847),d.Circumference=t(37964),d.CircumferencePoint=t(72233),d.Clone=t(61761),d.Contains=t(65650),d.ContainsPoint=t(39187),d.ContainsRect=t(58672),d.CopyFrom=t(42997),d.Equals=t(94894),d.GetBounds=t(48027),d.GetPoint=t(94026),d.GetPoints=t(62941),d.Offset=t(34585),d.OffsetPoint=t(88665),d.Random=t(30977),p.exports=d},52394:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};p.exports=S},58605:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};p.exports=S},39507:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var d=t.width/2,v=t.height/2,o=Math.pow(d-v,2)/Math.pow(d+v,2);return Math.PI*(d+v)*(1+3*o/(10+Math.sqrt(4-3*o)))};p.exports=S},86998:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=function(o,r,n){n===void 0&&(n=new d);var e=o.width/2,s=o.height/2;return n.x=o.x+e*Math.cos(r),n.y=o.y+s*Math.sin(r),n};p.exports=v},81773:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(95669),v=function(o){return new d(o.x,o.y,o.width,o.height)};p.exports=v},72313:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){if(t.width<=0||t.height<=0)return!1;var o=(d-t.x)/t.width,r=(v-t.y)/t.height;return o*=o,r*=r,o+r<.25};p.exports=S},34368:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72313),v=function(o,r){return d(o,r.x,r.y)};p.exports=v},71431:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72313),v=function(o,r){return d(o,r.x,r.y)&&d(o,r.right,r.y)&&d(o,r.x,r.bottom)&&d(o,r.right,r.bottom)};p.exports=v},75459:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return d.setTo(t.x,t.y,t.width,t.height)};p.exports=S},95669:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(72313),o=t(95340),r=t(54978),n=t(52394),e=t(72006),s=new d({initialize:function(i,a,u,l){i===void 0&&(i=0),a===void 0&&(a=0),u===void 0&&(u=0),l===void 0&&(l=0),this.type=n.ELLIPSE,this.x=i,this.y=a,this.width=u,this.height=l},contains:function(h,i){return v(this,h,i)},getPoint:function(h,i){return o(this,h,i)},getPoints:function(h,i,a){return r(this,h,i,a)},getRandomPoint:function(h){return e(this,h)},setTo:function(h,i,a,u){return this.x=h,this.y=i,this.width=a,this.height=u,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(h,i){return i===void 0&&(i=h),this.x=h,this.y=i,this},setSize:function(h,i){return i===void 0&&(i=h),this.width=h,this.height=i,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(h){this.x=h+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(h){this.x=h-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(h){this.y=h+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(h){this.y=h-this.height/2}}});p.exports=s},98068:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return t.x===d.x&&t.y===d.y&&t.width===d.width&&t.height===d.height};p.exports=S},72897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(74118),v=function(o,r){return r===void 0&&(r=new d),r.x=o.left,r.y=o.top,r.width=o.width,r.height=o.height,r};p.exports=v},95340:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(86998),v=t(91806),o=t(83392),r=t(79967),n=function(e,s,h){h===void 0&&(h=new r);var i=v(s,0,o.PI2);return d(e,i,h)};p.exports=n},54978:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(39507),v=t(86998),o=t(91806),r=t(83392),n=function(e,s,h,i){i===void 0&&(i=[]),!s&&h>0&&(s=d(e)/h);for(var a=0;a<s;a++){var u=o(a/s,0,r.PI2);i.push(v(e,u))}return i};p.exports=n},77951:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){return t.x+=d,t.y+=v,t};p.exports=S},36233:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return t.x+=d.x,t.y+=d.y,t};p.exports=S},72006:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=function(o,r){r===void 0&&(r=new d);var n=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return r.x=o.x+e*Math.cos(n)*o.width/2,r.y=o.y+e*Math.sin(n)*o.height/2,r};p.exports=v},40652:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(95669);d.Area=t(58605),d.Circumference=t(39507),d.CircumferencePoint=t(86998),d.Clone=t(81773),d.Contains=t(72313),d.ContainsPoint=t(34368),d.ContainsRect=t(71431),d.CopyFrom=t(75459),d.Equals=t(98068),d.GetBounds=t(72897),d.GetPoint=t(95340),d.GetPoints=t(54978),d.Offset=t(77951),d.OffsetPoint=t(36233),d.Random=t(72006),p.exports=d},84068:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(52394),v=t(98611),o={Circle:t(6112),Ellipse:t(40652),Intersects:t(7563),Line:t(28482),Mesh:t(14293),Point:t(63472),Polygon:t(44359),Rectangle:t(66658),Triangle:t(87619)};o=v(!1,o,d),p.exports=o},22184:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(53996),v=function(o,r){return d(o.x,o.y,r.x,r.y)<=o.radius+r.radius};p.exports=v},26535:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){var v=d.width/2,o=d.height/2,r=Math.abs(t.x-d.x-v),n=Math.abs(t.y-d.y-o),e=v+t.radius,s=o+t.radius;if(r>e||n>s)return!1;if(r<=v||n<=o)return!0;var h=r-v,i=n-o,a=h*h,u=i*i,l=t.radius*t.radius;return a+u<=l};p.exports=S},71145:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=t(22184),o=function(r,n,e){if(e===void 0&&(e=[]),v(r,n)){var s=r.x,h=r.y,i=r.radius,a=n.x,u=n.y,l=n.radius,f,c,m,x,g;if(h===u)g=(l*l-i*i-a*a+s*s)/(2*(s-a)),f=1,c=-2*u,m=a*a+g*g-2*a*g+u*u-l*l,x=c*c-4*f*m,x===0?e.push(new d(g,-c/(2*f))):x>0&&(e.push(new d(g,(-c+Math.sqrt(x))/(2*f))),e.push(new d(g,(-c-Math.sqrt(x))/(2*f))));else{var y=(s-a)/(h-u),T=(l*l-i*i-a*a+s*s-u*u+h*h)/(2*(h-u));f=y*y+1,c=2*h*y-2*T*y-2*s,m=s*s+h*h+T*T-i*i-2*h*T,x=c*c-4*f*m,x===0?(g=-c/(2*f),e.push(new d(g,T-g*y))):x>0&&(g=(-c+Math.sqrt(x))/(2*f),e.push(new d(g,T-g*y)),g=(-c-Math.sqrt(x))/(2*f),e.push(new d(g,T-g*y)))}}return e};p.exports=o},62508:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(26111),v=t(26535),o=function(r,n,e){if(e===void 0&&(e=[]),v(r,n)){var s=n.getLineA(),h=n.getLineB(),i=n.getLineC(),a=n.getLineD();d(s,r,e),d(h,r,e),d(i,r,e),d(a,r,e)}return e};p.exports=o},26111:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=t(61472),o=function(r,n,e){if(e===void 0&&(e=[]),v(r,n)){var s=r.x1,h=r.y1,i=r.x2,a=r.y2,u=n.x,l=n.y,f=n.radius,c=i-s,m=a-h,x=s-u,g=h-l,y=c*c+m*m,T=2*(c*x+m*g),C=x*x+g*g-f*f,A=T*T-4*y*C,w,E;if(A===0){var P=-T/(2*y);w=s+P*c,E=h+P*m,P>=0&&P<=1&&e.push(new d(w,E))}else if(A>0){var B=(-T-Math.sqrt(A))/(2*y);w=s+B*c,E=h+B*m,B>=0&&B<=1&&e.push(new d(w,E));var R=(-T+Math.sqrt(A))/(2*y);w=s+R*c,E=h+R*m,R>=0&&R<=1&&e.push(new d(w,E))}}return e};p.exports=o},96537:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(70015),v=function(o,r,n,e){n===void 0&&(n=!1);var s=o.x1,h=o.y1,i=o.x2,a=o.y2,u=r.x1,l=r.y1,f=r.x2,c=r.y2,m=i-s,x=a-h,g=f-u,y=c-l,T=m*y-x*g;if(T===0)return null;var C,A,w;if(n){if(C=(m*(l-h)+x*(s-u))/(g*x-y*m),A=(u+g*C-s)/m,A<0||C<0||C>1)return null;w=A}else{if(C=((u-s)*y-(l-h)*g)/T,A=((h-l)*m-(s-u)*x)/T,C<0||C>1||A<0||A>1)return null;w=C}return e===void 0&&(e=new d),e.set(s+m*w,h+x*w,w)};p.exports=v},17647:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(96537),v=t(88829),o=t(70015),r=new v,n=new o,e=function(s,h,i,a){i===void 0&&(i=!1),a===void 0&&(a=new o);var u=!1;a.set(),n.set();for(var l=h[0],f=1;f<h.length;f++){var c=h[f];r.setTo(l.x,l.y,c.x,c.y),l=c,d(s,r,i,n)&&(!u||n.z<a.z)&&(a.copy(n),u=!0)}return u?a:null};p.exports=e},68439:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(70015),v=t(51729),o=t(17647),r=new d,n=function(e,s,h,i){i===void 0&&(i=new v),Array.isArray(s)||(s=[s]);var a=!1;i.set(),r.set();for(var u=0;u<s.length;u++)o(e,s[u].points,h,r)&&(!a||r.z<i.z)&&(i.set(r.x,r.y,r.z,u),a=!0);return a?i:null};p.exports=n},9569:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=t(25227),o=t(47910),r=function(n,e,s){if(s===void 0&&(s=[]),o(n,e))for(var h=e.getLineA(),i=e.getLineB(),a=e.getLineC(),u=e.getLineD(),l=[new d,new d,new d,new d],f=[v(h,n,l[0]),v(i,n,l[1]),v(a,n,l[2]),v(u,n,l[3])],c=0;c<4;c++)f[c]&&s.push(l[c]);return s};p.exports=r},7449:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(51729),v=t(68439),o=t(88829),r=new o;function n(h,i,a,u,l){var f=Math.cos(h),c=Math.sin(h);r.setTo(i,a,i+f,a+c);var m=v(r,u,!0);m&&l.push(new d(m.x,m.y,h,m.w))}function e(h,i){return h.z-i.z}var s=function(h,i,a){Array.isArray(a)||(a=[a]);for(var u=[],l=[],f=0;f<a.length;f++)for(var c=a[f].points,m=0;m<c.length;m++){var x=Math.atan2(c[m].y-i,c[m].x-h);l.indexOf(x)===-1&&(n(x,h,i,a,u),n(x-1e-5,h,i,a,u),n(x+1e-5,h,i,a,u),l.push(x))}return u.sort(e)};p.exports=s},82931:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(74118),v=t(90205),o=function(r,n,e){return e===void 0&&(e=new d),v(r,n)&&(e.x=Math.max(r.x,n.x),e.y=Math.max(r.y,n.y),e.width=Math.min(r.right,n.right)-e.x,e.height=Math.min(r.bottom,n.bottom)-e.y),e};p.exports=o},1946:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(9569),v=t(90205),o=function(r,n,e){if(e===void 0&&(e=[]),v(r,n)){var s=r.getLineA(),h=r.getLineB(),i=r.getLineC(),a=r.getLineD();d(s,n,e),d(h,n,e),d(i,n,e),d(a,n,e)}return e};p.exports=o},34211:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(20370),v=t(9569),o=function(r,n,e){if(e===void 0&&(e=[]),d(r,n)){var s=n.getLineA(),h=n.getLineB(),i=n.getLineC();v(s,r,e),v(h,r,e),v(i,r,e)}return e};p.exports=o},80511:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(26111),v=t(48411),o=function(r,n,e){if(e===void 0&&(e=[]),v(r,n)){var s=r.getLineA(),h=r.getLineB(),i=r.getLineC();d(s,n,e),d(h,n,e),d(i,n,e)}return e};p.exports=o},31343:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=t(86117),o=t(25227),r=function(n,e,s){if(s===void 0&&(s=[]),v(n,e))for(var h=n.getLineA(),i=n.getLineB(),a=n.getLineC(),u=[new d,new d,new d],l=[o(h,e,u[0]),o(i,e,u[1]),o(a,e,u[2])],f=0;f<3;f++)l[f]&&s.push(u[f]);return s};p.exports=r},70534:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(23589),v=t(31343),o=function(r,n,e){if(e===void 0&&(e=[]),d(r,n)){var s=n.getLineA(),h=n.getLineB(),i=n.getLineC();v(r,s,e),v(r,h,e),v(r,i,e)}return e};p.exports=o},61472:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(65650),v=t(79967),o=new v,r=function(n,e,s){if(s===void 0&&(s=o),d(e,n.x1,n.y1))return s.x=n.x1,s.y=n.y1,!0;if(d(e,n.x2,n.y2))return s.x=n.x2,s.y=n.y2,!0;var h=n.x2-n.x1,i=n.y2-n.y1,a=e.x-n.x1,u=e.y-n.y1,l=h*h+i*i,f=h,c=i;if(l>0){var m=(a*h+u*i)/l;f*=m,c*=m}s.x=n.x1+f,s.y=n.y1+c;var x=f*f+c*c;return x<=l&&f*h+c*i>=0&&d(e,s.x,s.y)};p.exports=r},25227:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){var o=t.x1,r=t.y1,n=t.x2,e=t.y2,s=d.x1,h=d.y1,i=d.x2,a=d.y2;if(o===n&&r===e||s===i&&h===a)return!1;var u=(a-h)*(n-o)-(i-s)*(e-r);if(u===0)return!1;var l=((i-s)*(r-h)-(a-h)*(o-s))/u,f=((n-o)*(r-h)-(e-r)*(o-s))/u;return l<0||l>1||f<0||f>1?!1:(v&&(v.x=o+l*(n-o),v.y=r+l*(e-r)),!0)};p.exports=S},47910:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){var v=t.x1,o=t.y1,r=t.x2,n=t.y2,e=d.x,s=d.y,h=d.right,i=d.bottom,a=0;if(v>=e&&v<=h&&o>=s&&o<=i||r>=e&&r<=h&&n>=s&&n<=i)return!0;if(v<e&&r>=e){if(a=o+(n-o)*(e-v)/(r-v),a>s&&a<=i)return!0}else if(v>h&&r<=h&&(a=o+(n-o)*(h-v)/(r-v),a>=s&&a<=i))return!0;if(o<s&&n>=s){if(a=v+(r-v)*(s-o)/(n-o),a>=e&&a<=h)return!0}else if(o>i&&n<=i&&(a=v+(r-v)*(i-o)/(n-o),a>=e&&a<=h))return!0;return!1};p.exports=S},34426:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){v===void 0&&(v=1);var o=d.x1,r=d.y1,n=d.x2,e=d.y2,s=t.x,h=t.y,i=(n-o)*(n-o)+(e-r)*(e-r);if(i===0)return!1;var a=((s-o)*(n-o)+(h-r)*(e-r))/i;if(a<0)return Math.sqrt((o-s)*(o-s)+(r-h)*(r-h))<=v;if(a>=0&&a<=1){var u=((r-h)*(n-o)-(o-s)*(e-r))/i;return Math.abs(u)*Math.sqrt(i)<=v}else return Math.sqrt((n-s)*(n-s)+(e-h)*(e-h))<=v};p.exports=S},81414:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(34426),v=function(o,r){if(!d(o,r))return!1;var n=Math.min(r.x1,r.x2),e=Math.max(r.x1,r.x2),s=Math.min(r.y1,r.y2),h=Math.max(r.y1,r.y2);return o.x>=n&&o.x<=e&&o.y>=s&&o.y<=h};p.exports=v},90205:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return t.width<=0||t.height<=0||d.width<=0||d.height<=0?!1:!(t.right<d.x||t.bottom<d.y||t.x>d.right||t.y>d.bottom)};p.exports=S},20370:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(25227),v=t(94287),o=t(86875),r=t(87279),n=function(e,s){if(s.left>e.right||s.right<e.left||s.top>e.bottom||s.bottom<e.top)return!1;var h=s.getLineA(),i=s.getLineB(),a=s.getLineC();if(v(e,h.x1,h.y1)||v(e,h.x2,h.y2)||v(e,i.x1,i.y1)||v(e,i.x2,i.y2)||v(e,a.x1,a.y1)||v(e,a.x2,a.y2))return!0;var u=e.getLineA(),l=e.getLineB(),f=e.getLineC(),c=e.getLineD();if(d(h,u)||d(h,l)||d(h,f)||d(h,c)||d(i,u)||d(i,l)||d(i,f)||d(i,c)||d(a,u)||d(a,l)||d(a,f)||d(a,c))return!0;var m=r(e),x=o(s,m,!0);return x.length>0};p.exports=n},8786:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o,r,n){return n===void 0&&(n=0),!(d>t.right+n||v<t.left-n||o>t.bottom+n||r<t.top-n)};p.exports=S},48411:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(61472),v=t(60689),o=function(r,n){return r.left>n.right||r.right<n.left||r.top>n.bottom||r.bottom<n.top?!1:!!(v(r,n.x,n.y)||d(r.getLineA(),n)||d(r.getLineB(),n)||d(r.getLineC(),n))};p.exports=o},86117:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(25227),v=function(o,r){return!!(o.contains(r.x1,r.y1)||o.contains(r.x2,r.y2)||d(o.getLineA(),r)||d(o.getLineB(),r)||d(o.getLineC(),r))};p.exports=v},23589:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(86875),v=t(18680),o=t(25227),r=function(n,e){if(n.left>e.right||n.right<e.left||n.top>e.bottom||n.bottom<e.top)return!1;var s=n.getLineA(),h=n.getLineB(),i=n.getLineC(),a=e.getLineA(),u=e.getLineB(),l=e.getLineC();if(o(s,a)||o(s,u)||o(s,l)||o(h,a)||o(h,u)||o(h,l)||o(i,a)||o(i,u)||o(i,l))return!0;var f=v(n),c=d(e,f,!0);return c.length>0||(f=v(e),c=d(n,f,!0),c.length>0)};p.exports=r},7563:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CircleToCircle:t(22184),CircleToRectangle:t(26535),GetCircleToCircle:t(71145),GetCircleToRectangle:t(62508),GetLineToCircle:t(26111),GetLineToLine:t(96537),GetLineToPoints:t(17647),GetLineToPolygon:t(68439),GetLineToRectangle:t(9569),GetRaysFromPointToPolygon:t(7449),GetRectangleIntersection:t(82931),GetRectangleToRectangle:t(1946),GetRectangleToTriangle:t(34211),GetTriangleToCircle:t(80511),GetTriangleToLine:t(31343),GetTriangleToTriangle:t(70534),LineToCircle:t(61472),LineToLine:t(25227),LineToRectangle:t(47910),PointToLine:t(34426),PointToLineSegment:t(81414),RectangleToRectangle:t(90205),RectangleToTriangle:t(20370),RectangleToValues:t(8786),TriangleToCircle:t(48411),TriangleToLine:t(86117),TriangleToTriangle:t(23589)}},50599:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};p.exports=S},58813:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){d===void 0&&(d=1),v===void 0&&(v=[]);var o=Math.round(t.x1),r=Math.round(t.y1),n=Math.round(t.x2),e=Math.round(t.y2),s=Math.abs(n-o),h=Math.abs(e-r),i=o<n?1:-1,a=r<e?1:-1,u=s-h;v.push({x:o,y:r});for(var l=1;!(o===n&&r===e);){var f=u<<1;f>-h&&(u-=h,o+=i),f<s&&(u+=s,r+=a),l%d===0&&v.push({x:o,y:r}),l++}return v};p.exports=S},88513:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){var o=d-(t.x1+t.x2)/2,r=v-(t.y1+t.y2)/2;return t.x1+=o,t.y1+=r,t.x2+=o,t.y2+=r,t};p.exports=S},26718:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(88829),v=function(o){return new d(o.x1,o.y1,o.x2,o.y2)};p.exports=v},88930:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return d.setTo(t.x1,t.y1,t.x2,t.y2)};p.exports=S},90656:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return t.x1===d.x1&&t.y1===d.y1&&t.x2===d.x2&&t.y2===d.y2};p.exports=S},30897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(16028),v=function(o,r,n){n===void 0&&(n=r);var e=d(o),s=o.x2-o.x1,h=o.y2-o.y1;return r&&(o.x1=o.x1-s/e*r,o.y1=o.y1-h/e*r),n&&(o.x2=o.x2+s/e*n,o.y2=o.y2+h/e*n),o};p.exports=v},30684:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(92951),v=t(21902),o=t(79967),r=function(n,e,s,h,i){h===void 0&&(h=0),i===void 0&&(i=[]);var a=[],u=n.x1,l=n.y1,f=n.x2-u,c=n.y2-l,m=v(e,i),x,g,y=s-1;for(x=0;x<y;x++)g=m(x/y),a.push(new o(u+f*g,l+c*g));if(g=m(1),a.push(new o(u+f*g,l+c*g)),h>0){var T=a[0],C=[T];for(x=1;x<a.length-1;x++){var A=a[x];d(T,A)>=h&&(C.push(A),T=A)}var w=a[a.length-1];return d(T,w)<h&&C.pop(),C.push(w),C}else return a};p.exports=r},20487:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=function(o,r){return r===void 0&&(r=new d),r.x=(o.x1+o.x2)/2,r.y=(o.y1+o.y2)/2,r};p.exports=v},11222:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=function(o,r,n){n===void 0&&(n=new d);var e=o.x1,s=o.y1,h=o.x2,i=o.y2,a=(h-e)*(h-e)+(i-s)*(i-s);if(a===0)return n;var u=((r.x-e)*(h-e)+(r.y-s)*(i-s))/a;return n.x=e+u*(h-e),n.y=s+u*(i-s),n};p.exports=v},7377:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(83392),v=t(50599),o=t(79967),r=function(n,e){e===void 0&&(e=new o);var s=v(n)-d.TAU;return e.x=Math.cos(s),e.y=Math.sin(s),e};p.exports=r},66464:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=function(o,r,n){return n===void 0&&(n=new d),n.x=o.x1+(o.x2-o.x1)*r,n.y=o.y1+(o.y2-o.y1)*r,n};p.exports=v},8570:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(16028),v=t(79967),o=function(r,n,e,s){s===void 0&&(s=[]),!n&&e>0&&(n=d(r)/e);for(var h=r.x1,i=r.y1,a=r.x2,u=r.y2,l=0;l<n;l++){var f=l/n,c=h+(a-h)*f,m=i+(u-i)*f;s.push(new v(c,m))}return s};p.exports=o},65269:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){var v=t.x1,o=t.y1,r=t.x2,n=t.y2,e=(r-v)*(r-v)+(n-o)*(n-o);if(e===0)return!1;var s=((o-d.y)*(r-v)-(v-d.x)*(n-o))/e;return Math.abs(s)*Math.sqrt(e)};p.exports=S},82996:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.abs(t.y1-t.y2)};p.exports=S},16028:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};p.exports=S},88829:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(66464),o=t(8570),r=t(52394),n=t(74077),e=t(93736),s=new d({initialize:function(i,a,u,l){i===void 0&&(i=0),a===void 0&&(a=0),u===void 0&&(u=0),l===void 0&&(l=0),this.type=r.LINE,this.x1=i,this.y1=a,this.x2=u,this.y2=l},getPoint:function(h,i){return v(this,h,i)},getPoints:function(h,i,a){return o(this,h,i,a)},getRandomPoint:function(h){return n(this,h)},setTo:function(h,i,a,u){return h===void 0&&(h=0),i===void 0&&(i=0),a===void 0&&(a=0),u===void 0&&(u=0),this.x1=h,this.y1=i,this.x2=a,this.y2=u,this},getPointA:function(h){return h===void 0&&(h=new e),h.set(this.x1,this.y1),h},getPointB:function(h){return h===void 0&&(h=new e),h.set(this.x2,this.y2),h},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(h){this.x1<=this.x2?this.x1=h:this.x2=h}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(h){this.x1>this.x2?this.x1=h:this.x2=h}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(h){this.y1<=this.y2?this.y1=h:this.y2=h}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(h){this.y1>this.y2?this.y1=h:this.y2=h}}});p.exports=s},73273:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(83392),v=t(1071),o=t(50599),r=function(n){var e=o(n)-d.TAU;return v(e,-Math.PI,Math.PI)};p.exports=r},96936:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(83392),v=t(50599),o=function(r){return Math.cos(v(r)-d.TAU)};p.exports=o},43581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(83392),v=t(50599),o=function(r){return Math.sin(v(r)-d.TAU)};p.exports=o},13990:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){return t.x1+=d,t.y1+=v,t.x2+=d,t.y2+=v,t};p.exports=S},1298:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};p.exports=S},74077:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=function(o,r){r===void 0&&(r=new d);var n=Math.random();return r.x=o.x1+n*(o.x2-o.x1),r.y=o.y1+n*(o.y2-o.y1),r};p.exports=v},30473:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(50599),v=t(73273),o=function(r,n){return 2*v(n)-Math.PI-d(r)};p.exports=o},25968:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(1809),v=function(o,r){var n=(o.x1+o.x2)/2,e=(o.y1+o.y2)/2;return d(o,n,e,r)};p.exports=v},24296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(1809),v=function(o,r,n){return d(o,r.x,r.y,n)};p.exports=v},1809:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){var r=Math.cos(o),n=Math.sin(o),e=t.x1-d,s=t.y1-v;return t.x1=e*r-s*n+d,t.y1=e*n+s*r+v,e=t.x2-d,s=t.y2-v,t.x2=e*r-s*n+d,t.y2=e*n+s*r+v,t};p.exports=S},88171:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o,r){return t.x1=d,t.y1=v,t.x2=d+Math.cos(o)*r,t.y2=v+Math.sin(o)*r,t};p.exports=S},82797:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};p.exports=S},41067:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.abs(t.x1-t.x2)};p.exports=S},28482:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(88829);d.Angle=t(50599),d.BresenhamPoints=t(58813),d.CenterOn=t(88513),d.Clone=t(26718),d.CopyFrom=t(88930),d.Equals=t(90656),d.Extend=t(30897),d.GetEasedPoints=t(30684),d.GetMidPoint=t(20487),d.GetNearestPoint=t(11222),d.GetNormal=t(7377),d.GetPoint=t(66464),d.GetPoints=t(8570),d.GetShortestDistance=t(65269),d.Height=t(82996),d.Length=t(16028),d.NormalAngle=t(73273),d.NormalX=t(96936),d.NormalY=t(43581),d.Offset=t(13990),d.PerpSlope=t(1298),d.Random=t(74077),d.ReflectAngle=t(30473),d.Rotate=t(25968),d.RotateAroundPoint=t(24296),d.RotateAroundXY=t(1809),d.SetToAngle=t(88171),d.Slope=t(82797),d.Width=t(41067),p.exports=d},18693:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(74118),o=t(93736);function r(e,s,h,i){var a=e-h,u=s-i,l=a*a+u*u;return Math.sqrt(l)}var n=new d({initialize:function(s,h,i){this.vertex1=s,this.vertex2=h,this.vertex3=i,this.bounds=new v,this._inCenter=new o},getInCenter:function(e){e===void 0&&(e=!0);var s=this.vertex1,h=this.vertex2,i=this.vertex3,a,u,l,f,c,m;e?(a=s.x,u=s.y,l=h.x,f=h.y,c=i.x,m=i.y):(a=s.vx,u=s.vy,l=h.vx,f=h.vy,c=i.vx,m=i.vy);var x=r(c,m,l,f),g=r(a,u,c,m),y=r(l,f,a,u),T=x+g+y;return this._inCenter.set((a*x+l*g+c*y)/T,(u*x+f*g+m*y)/T)},contains:function(e,s,h){var i=this.vertex1,a=this.vertex2,u=this.vertex3,l=i.vx,f=i.vy,c=a.vx,m=a.vy,x=u.vx,g=u.vy;if(h){var y=h.a,T=h.b,C=h.c,A=h.d,w=h.e,E=h.f;l=i.vx*y+i.vy*C+w,f=i.vx*T+i.vy*A+E,c=a.vx*y+a.vy*C+w,m=a.vx*T+a.vy*A+E,x=u.vx*y+u.vy*C+w,g=u.vx*T+u.vy*A+E}var P=x-l,B=g-f,R=c-l,I=m-f,N=e-l,X=s-f,Y=P*P+B*B,O=P*R+B*I,D=P*N+B*X,F=R*R+I*I,M=R*N+I*X,L=Y*F-O*O,G=L===0?0:1/L,U=(F*D-O*M)*G,W=(Y*M-O*D)*G;return U>=0&&W>=0&&U+W<1},isCounterClockwise:function(e){var s=this.vertex1,h=this.vertex2,i=this.vertex3,a=(h.vx-s.vx)*(i.vy-s.vy)-(h.vy-s.vy)*(i.vx-s.vx);return e<=0?a>=0:a<0},load:function(e,s,h,i,a){return h=this.vertex1.load(e,s,h,i,a),h=this.vertex2.load(e,s,h,i,a),h=this.vertex3.load(e,s,h,i,a),h},transformCoordinatesLocal:function(e,s,h,i){return this.vertex1.transformCoordinatesLocal(e,s,h,i),this.vertex2.transformCoordinatesLocal(e,s,h,i),this.vertex3.transformCoordinatesLocal(e,s,h,i),this},updateBounds:function(){var e=this.vertex1,s=this.vertex2,h=this.vertex3,i=this.bounds;return i.x=Math.min(e.vx,s.vx,h.vx),i.y=Math.min(e.vy,s.vy,h.vy),i.width=Math.max(e.vx,s.vx,h.vx)-i.x,i.height=Math.max(e.vy,s.vy,h.vy)-i.y,this},isInView:function(e,s,h,i,a,u,l,f,c,m,x){this.update(i,a,u,l,f,c,m,x);var g=this.vertex1,y=this.vertex2,T=this.vertex3;if(g.ta<=0&&y.ta<=0&&T.ta<=0||s&&!this.isCounterClockwise(h))return!1;var C=this.bounds;C.x=Math.min(g.tx,y.tx,T.tx),C.y=Math.min(g.ty,y.ty,T.ty),C.width=Math.max(g.tx,y.tx,T.tx)-C.x,C.height=Math.max(g.ty,y.ty,T.ty)-C.y;var A=e.x+e.width,w=e.y+e.height;return C.width<=0||C.height<=0||e.width<=0||e.height<=0?!1:!(C.right<e.x||C.bottom<e.y||C.x>A||C.y>w)},scrollUV:function(e,s){return this.vertex1.scrollUV(e,s),this.vertex2.scrollUV(e,s),this.vertex3.scrollUV(e,s),this},scaleUV:function(e,s){return this.vertex1.scaleUV(e,s),this.vertex2.scaleUV(e,s),this.vertex3.scaleUV(e,s),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,s,h,i,a,u,l,f){return this.vertex1.update(s,h,i,a,u,l,f,e),this.vertex2.update(s,h,i,a,u,l,f,e),this.vertex3.update(s,h,i,a,u,l,f,e),this},translate:function(e,s){s===void 0&&(s=0);var h=this.vertex1,i=this.vertex2,a=this.vertex3;return h.x+=e,h.y+=s,i.x+=e,i.y+=s,a.x+=e,a.y+=s,this},x:{get:function(){return this.getInCenter().x},set:function(e){var s=this.getInCenter();this.translate(e-s.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var s=this.getInCenter();this.translate(0,e-s.y)}},alpha:{get:function(){var e=this.vertex1,s=this.vertex2,h=this.vertex3;return(e.alpha+s.alpha+h.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,s=this.vertex2,h=this.vertex3;return(e.vz+s.vz+h.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});p.exports=n},99425:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(18693),v=t(72632),o=t(16650),r=t(70015),n=t(85769),e=new r,s=new r,h=new o,i=function(a){var u=v(a,"mesh"),l=v(a,"texture",null),f=v(a,"frame"),c=v(a,"width",1),m=v(a,"height",c),x=v(a,"widthSegments",1),g=v(a,"heightSegments",x),y=v(a,"x",0),T=v(a,"y",0),C=v(a,"z",0),A=v(a,"rotateX",0),w=v(a,"rotateY",0),E=v(a,"rotateZ",0),P=v(a,"zIsUp",!0),B=v(a,"isOrtho",u?u.dirtyCache[11]:!1),R=v(a,"colors",[16777215]),I=v(a,"alphas",[1]),N=v(a,"tile",!1),X=v(a,"flipY",!1),Y=v(a,"width",null),O={faces:[],verts:[]};e.set(y,T,C),s.set(A,w,E),h.fromRotationXYTranslation(s,e,P);var D;if(!l&&u)l=u.texture,f||(D=u.frame);else if(u&&typeof l=="string")l=u.scene.sys.textures.get(l);else if(!l)return O;D||(D=l.get(f)),!Y&&B&&l&&u&&(c=D.width/u.height,m=D.height/u.height);var F=c/2,M=m/2,L=Math.floor(x),G=Math.floor(g),U=L+1,W=G+1,H=c/L,J=m/G,Q=[],$=[],k,_,q=0,et=1,ot=0,lt=1;D&&(q=D.u0,et=D.u1,X?(ot=D.v1,lt=D.v0):(ot=D.v0,lt=D.v1));var ht=et-q,tt=lt-ot;for(_=0;_<W;_++){var at=_*J-M;for(k=0;k<U;k++){var rt=k*H-F;$.push(rt,-at);var dt=q+ht*(k/L),ut=ot+tt*(_/G);Q.push(dt,ut)}}Array.isArray(R)||(R=[R]),Array.isArray(I)||(I=[I]);var mt=0,pt=0;for(_=0;_<G;_++)for(k=0;k<L;k++){var ct=(k+U*_)*2,ft=(k+U*(_+1))*2,gt=(k+1+U*(_+1))*2,yt=(k+1+U*_)*2,Tt=R[pt],St=I[mt],Ct=new n($[ct],$[ct+1],0,Q[ct],Q[ct+1],Tt,St).transformMat4(h),Ft=new n($[ft],$[ft+1],0,Q[ft],Q[ft+1],Tt,St).transformMat4(h),Pt=new n($[yt],$[yt+1],0,Q[yt],Q[yt+1],Tt,St).transformMat4(h),Bt=new n($[ft],$[ft+1],0,Q[ft],Q[ft+1],Tt,St).transformMat4(h),Rt=new n($[gt],$[gt+1],0,Q[gt],Q[gt+1],Tt,St).transformMat4(h),Mt=new n($[yt],$[yt+1],0,Q[yt],Q[yt+1],Tt,St).transformMat4(h);N&&(Ct.setUVs(q,lt),Ft.setUVs(q,ot),Pt.setUVs(et,lt),Bt.setUVs(q,ot),Rt.setUVs(et,ot),Mt.setUVs(et,lt)),pt++,pt===R.length&&(pt=0),mt++,mt===I.length&&(mt=0),O.verts.push(Ct,Ft,Pt,Bt,Rt,Mt),O.faces.push(new d(Ct,Ft,Pt),new d(Bt,Rt,Mt))}return u&&(u.faces=u.faces.concat(O.faces),u.vertices=u.vertices.concat(O.verts)),O};p.exports=i},53267:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(18693),v=t(16650),o=t(70015),r=t(85769),n=new o,e=new o,s=new v,h=function(i,a,u,l,f,c,m,x,g,y){u===void 0&&(u=1),l===void 0&&(l=0),f===void 0&&(f=0),c===void 0&&(c=0),m===void 0&&(m=0),x===void 0&&(x=0),g===void 0&&(g=0),y===void 0&&(y=!0);var T={faces:[],verts:[]},C=i.materials;n.set(l,f,c),e.set(m,x,g),s.fromRotationXYTranslation(e,n,y);for(var A=0;A<i.models.length;A++)for(var w=i.models[A],E=w.vertices,P=w.textureCoords,B=w.faces,R=0;R<B.length;R++){var I=B[R],N=I.vertices[0],X=I.vertices[1],Y=I.vertices[2],O=E[N.vertexIndex],D=E[X.vertexIndex],F=E[Y.vertexIndex],M=N.textureCoordsIndex,L=X.textureCoordsIndex,G=Y.textureCoordsIndex,U=M===-1?{u:0,v:1}:P[M],W=L===-1?{u:0,v:0}:P[L],H=G===-1?{u:1,v:1}:P[G],J=16777215;I.material!==""&&C[I.material]&&(J=C[I.material]);var Q=new r(O.x*u,O.y*u,O.z*u,U.u,U.v,J).transformMat4(s),$=new r(D.x*u,D.y*u,D.z*u,W.u,W.v,J).transformMat4(s),k=new r(F.x*u,F.y*u,F.z*u,H.u,H.v,J).transformMat4(s);T.verts.push(Q,$,k),T.faces.push(new d(Q,$,k))}return a&&(a.faces=a.faces.concat(T.faces),a.vertices=a.vertices.concat(T.verts)),T};p.exports=h},67623:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(18693),v=t(85769),o=function(r,n,e,s,h,i,a,u){if(s===void 0&&(s=!1),i===void 0&&(i=16777215),a===void 0&&(a=1),u===void 0&&(u=!1),r.length!==n.length&&!s){console.warn("GenerateVerts: vertices and uvs count not equal");return}var l={faces:[],vertices:[]},f,c,m,x,g,y,T,C,A,w,E,P=s?3:2,B=Array.isArray(i),R=Array.isArray(a);if(Array.isArray(e)&&e.length>0)for(f=0;f<e.length;f++){var I=e[f],N=e[f]*2,X=e[f]*P;c=r[X],m=r[X+1],x=s?r[X+2]:0,g=n[N],y=n[N+1],u&&(y=1-y),T=B?i[I]:i,C=R?a[I]:a,A=0,w=0,E=0,h&&(A=h[X],w=h[X+1],E=s?h[X+2]:0),l.vertices.push(new v(c,m,x,g,y,T,C,A,w,E))}else{var Y=0,O=0;for(f=0;f<r.length;f+=P)c=r[f],m=r[f+1],x=s?r[f+2]:0,g=n[Y],y=n[Y+1],T=B?i[O]:i,C=R?a[O]:a,A=0,w=0,E=0,h&&(A=h[f],w=h[f+1],E=s?h[f+2]:0),l.vertices.push(new v(c,m,x,g,y,T,C,A,w,E)),Y+=2,O++}for(f=0;f<l.vertices.length;f+=3){var D=l.vertices[f],F=l.vertices[f+1],M=l.vertices[f+2];l.faces.push(new d(D,F,M))}return l};p.exports=o},27291:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=!0,t="untitled",d="",v="";function o(c){var m=c.indexOf("#");return m>-1?c.substring(0,m):c}function r(c){return c.models.length===0&&c.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),d="",c.models[c.models.length-1]}function n(c,m){var x=c.length>=2?c[1]:t;m.models.push({faces:[],name:x,textureCoords:[],vertexNormals:[],vertices:[]}),d=""}function e(c){c.length===2&&(d=c[1])}function s(c,m){var x=c.length,g=x>=2?parseFloat(c[1]):0,y=x>=3?parseFloat(c[2]):0,T=x>=4?parseFloat(c[3]):0;r(m).vertices.push({x:g,y,z:T})}function h(c,m){var x=c.length,g=x>=2?parseFloat(c[1]):0,y=x>=3?parseFloat(c[2]):0,T=x>=4?parseFloat(c[3]):0;isNaN(g)&&(g=0),isNaN(y)&&(y=0),isNaN(T)&&(T=0),S&&(y=1-y),r(m).textureCoords.push({u:g,v:y,w:T})}function i(c,m){var x=c.length,g=x>=2?parseFloat(c[1]):0,y=x>=3?parseFloat(c[2]):0,T=x>=4?parseFloat(c[3]):0;r(m).vertexNormals.push({x:g,y,z:T})}function a(c,m){var x=c.length-1;if(!(x<3)){for(var g={group:d,material:v,vertices:[]},y=0;y<x;y++){var T=c[y+1],C=T.split("/"),A=C.length;if(!(A<1||A>3)){var w=0,E=0,P=0;w=parseInt(C[0],10),A>1&&C[1]!==""&&(E=parseInt(C[1],10)),A>2&&(P=parseInt(C[2],10)),w!==0&&(w<0&&(w=r(m).vertices.length+1+w),E-=1,w-=1,P-=1,g.vertices.push({textureCoordsIndex:E,vertexIndex:w,vertexNormalIndex:P}))}}r(m).faces.push(g)}}function u(c,m){c.length>=2&&m.materialLibraries.push(c[1])}function l(c){c.length>=2&&(v=c[1])}var f=function(c,m){m===void 0&&(m=!0),S=m;var x={materials:{},materialLibraries:[],models:[]};d="",v="";for(var g=c.split(`
`),y=0;y<g.length;y++){var T=o(g[y]),C=T.replace(/\s\s+/g," ").trim().split(" ");switch(C[0].toLowerCase()){case"o":n(C,x);break;case"g":e(C);break;case"v":s(C,x);break;case"vt":h(C,x);break;case"vn":i(C,x);break;case"f":a(C,x);break;case"mtllib":u(C,x);break;case"usemtl":l(C);break}}return x};p.exports=f},76799:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(22946),v=function(o){for(var r={},n=o.split(`
`),e="",s=0;s<n.length;s++){var h=n[s].trim();if(!(h.indexOf("#")===0||h==="")){var i=h.replace(/\s\s+/g," ").trim().split(" ");switch(i[0].toLowerCase()){case"newmtl":{e=i[1];break}case"kd":{var a=Math.floor(i[1]*255),u=i.length>=2?Math.floor(i[2]*255):a,l=i.length>=3?Math.floor(i[3]*255):a;r[e]=d(a,u,l);break}}}}return r};p.exports=v},15313:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){var r,n;if(v===void 0&&o===void 0){var e=t.getInCenter();r=e.x,n=e.y}var s=Math.cos(d),h=Math.sin(d),i=t.vertex1,a=t.vertex2,u=t.vertex3,l=i.x-r,f=i.y-n;i.set(l*s-f*h+r,l*h+f*s+n),l=a.x-r,f=a.y-n,a.set(l*s-f*h+r,l*h+f*s+n),l=u.x-r,f=u.y-n,u.set(l*s-f*h+r,l*h+f*s+n)};p.exports=S},85769:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(75512),o=t(70015),r=new d({Extends:o,initialize:function(e,s,h,i,a,u,l,f,c,m){u===void 0&&(u=16777215),l===void 0&&(l=1),f===void 0&&(f=0),c===void 0&&(c=0),m===void 0&&(m=0),o.call(this,e,s,h),this.vx=0,this.vy=0,this.vz=0,this.nx=f,this.ny=c,this.nz=m,this.u=i,this.v=a,this.color=u,this.alpha=l,this.tx=0,this.ty=0,this.ta=0,this.tu=i,this.tv=a},setUVs:function(n,e){return this.u=n,this.v=e,this.tu=n,this.tv=e,this},scrollUV:function(n,e){return this.tu+=n,this.tv+=e,this},scaleUV:function(n,e){return this.tu=this.u*n,this.tv=this.v*e,this},transformCoordinatesLocal:function(n,e,s,h){var i=this.x,a=this.y,u=this.z,l=n.val,f=i*l[0]+a*l[4]+u*l[8]+l[12],c=i*l[1]+a*l[5]+u*l[9]+l[13],m=i*l[2]+a*l[6]+u*l[10]+l[14],x=i*l[3]+a*l[7]+u*l[11]+l[15];this.vx=f/x*e,this.vy=-(c/x)*s,h<=0?this.vz=m/x:this.vz=-(m/x)},resize:function(n,e,s,h,i,a){return this.x=n,this.y=e,this.vx=this.x*s,this.vy=-this.y*h,this.vz=0,i<.5?this.vx+=s*(.5-i):i>.5&&(this.vx-=s*(i-.5)),a<.5?this.vy+=h*(.5-a):a>.5&&(this.vy-=h*(a-.5)),this},update:function(n,e,s,h,i,a,u,l){var f=this.vx*n+this.vy*s+i,c=this.vx*e+this.vy*h+a;return u&&(f=Math.round(f),c=Math.round(c)),this.tx=f,this.ty=c,this.ta=this.alpha*l,this},load:function(n,e,s,h,i){return n[++s]=this.tx,n[++s]=this.ty,n[++s]=this.tu,n[++s]=this.tv,n[++s]=h,n[++s]=i,e[++s]=v.getTintAppendFloatAlpha(this.color,this.ta),s}});p.exports=r},14293:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={Face:t(18693),GenerateGridVerts:t(99425),GenerateObjVerts:t(53267),GenerateVerts:t(67623),ParseObj:t(27291),ParseObjMaterial:t(76799),RotateFace:t(15313),Vertex:t(85769)};p.exports=d},77601:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};p.exports=S},38933:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=function(o){return new d(o.x,o.y)};p.exports=v},47103:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return d.setTo(t.x,t.y)};p.exports=S},13625:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return t.x===d.x&&t.y===d.y};p.exports=S},12536:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};p.exports=S},54205:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=function(o,r){if(r===void 0&&(r=new d),!Array.isArray(o))throw new Error("GetCentroid points argument must be an array");var n=o.length;if(n<1)throw new Error("GetCentroid points array must not be empty");if(n===1)r.x=o[0].x,r.y=o[0].y;else{for(var e=0;e<n;e++)r.x+=o[e].x,r.y+=o[e].y;r.x/=n,r.y/=n}return r};p.exports=v},50083:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};p.exports=S},82712:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x*t.x+t.y*t.y};p.exports=S},20052:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(74118),v=function(o,r){r===void 0&&(r=new d);for(var n=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,h=Number.POSITIVE_INFINITY,i=0;i<o.length;i++){var a=o[i];a.x>n&&(n=a.x),a.x<e&&(e=a.x),a.y>s&&(s=a.y),a.y<h&&(h=a.y)}return r.x=e,r.y=h,r.width=n-e,r.height=s-h,r};p.exports=v},77154:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=function(o,r,n,e){return n===void 0&&(n=0),e===void 0&&(e=new d),e.x=o.x+(r.x-o.x)*n,e.y=o.y+(r.y-o.y)*n,e};p.exports=v},42397:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(t.y,t.x)};p.exports=S},59464:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=function(o,r){return r===void 0&&(r=new d),r.setTo(-o.x,-o.y)};p.exports=v},79967:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(52394),o=new d({initialize:function(n,e){n===void 0&&(n=0),e===void 0&&(e=n),this.type=v.POINT,this.x=n,this.y=e},setTo:function(r,n){return r===void 0&&(r=0),n===void 0&&(n=r),this.x=r,this.y=n,this}});p.exports=o},53581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=t(82712),o=function(r,n,e){e===void 0&&(e=new d);var s=r.x*n.x+r.y*n.y,h=s/v(n);return h!==0&&(e.x=h*n.x,e.y=h*n.y),e};p.exports=o},50817:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=function(o,r,n){n===void 0&&(n=new d);var e=o.x*r.x+o.y*r.y;return e!==0&&(n.x=e*r.x,n.y=e*r.y),n};p.exports=v},40525:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(50083),v=function(o,r){if(o.x!==0||o.y!==0){var n=d(o);o.x/=n,o.y/=n}return o.x*=r,o.y*=r,o};p.exports=v},63472:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967);d.Ceil=t(77601),d.Clone=t(38933),d.CopyFrom=t(47103),d.Equals=t(13625),d.Floor=t(12536),d.GetCentroid=t(54205),d.GetMagnitude=t(50083),d.GetMagnitudeSq=t(82712),d.GetRectangleFromPoints=t(20052),d.Interpolate=t(77154),d.Invert=t(42397),d.Negative=t(59464),d.Project=t(53581),d.ProjectUnit=t(50817),d.SetMagnitude=t(40525),p.exports=d},19631:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(8580),v=function(o){return new d(o.points)};p.exports=v},45604:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){for(var o=!1,r=-1,n=t.points.length-1;++r<t.points.length;n=r){var e=t.points[r].x,s=t.points[r].y,h=t.points[n].x,i=t.points[n].y;(s<=v&&v<i||i<=v&&v<s)&&d<(h-e)*(v-s)/(i-s)+e&&(o=!o)}return o};p.exports=S},87289:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(45604),v=function(o,r){return d(o,r.x,r.y)};p.exports=v},11117:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(O,D,F){F=F||2;var M=D&&D.length,L=M?D[0]*F:O.length,G=t(O,0,L,F,!0),U=[];if(!G||G.next===G.prev)return U;var W,H,J,Q,$,k,_;if(M&&(G=s(O,D,G,F)),O.length>80*F){W=J=O[0],H=Q=O[1];for(var q=F;q<L;q+=F)$=O[q],k=O[q+1],$<W&&(W=$),k<H&&(H=k),$>J&&(J=$),k>Q&&(Q=k);_=Math.max(J-W,Q-H),_=_!==0?32767/_:0}return v(G,U,F,W,H,_,0),U}function t(O,D,F,M,L){var G,U;if(L===Y(O,D,F,M)>0)for(G=D;G<F;G+=M)U=I(G,O[G],O[G+1],U);else for(G=F-M;G>=D;G-=M)U=I(G,O[G],O[G+1],U);return U&&T(U,U.next)&&(N(U),U=U.next),U}function d(O,D){if(!O)return O;D||(D=O);var F=O,M;do if(M=!1,!F.steiner&&(T(F,F.next)||y(F.prev,F,F.next)===0)){if(N(F),F=D=F.prev,F===F.next)break;M=!0}else F=F.next;while(M||F!==D);return D}function v(O,D,F,M,L,G,U){if(O){!U&&G&&l(O,M,L,G);for(var W=O,H,J;O.prev!==O.next;){if(H=O.prev,J=O.next,G?r(O,M,L,G):o(O)){D.push(H.i/F|0),D.push(O.i/F|0),D.push(J.i/F|0),N(O),O=J.next,W=J.next;continue}if(O=J,O===W){U?U===1?(O=n(d(O),D,F),v(O,D,F,M,L,G,2)):U===2&&e(O,D,F,M,L,G):v(d(O),D,F,M,L,G,1);break}}}}function o(O){var D=O.prev,F=O,M=O.next;if(y(D,F,M)>=0)return!1;for(var L=D.x,G=F.x,U=M.x,W=D.y,H=F.y,J=M.y,Q=L<G?L<U?L:U:G<U?G:U,$=W<H?W<J?W:J:H<J?H:J,k=L>G?L>U?L:U:G>U?G:U,_=W>H?W>J?W:J:H>J?H:J,q=M.next;q!==D;){if(q.x>=Q&&q.x<=k&&q.y>=$&&q.y<=_&&x(L,W,G,H,U,J,q.x,q.y)&&y(q.prev,q,q.next)>=0)return!1;q=q.next}return!0}function r(O,D,F,M){var L=O.prev,G=O,U=O.next;if(y(L,G,U)>=0)return!1;for(var W=L.x,H=G.x,J=U.x,Q=L.y,$=G.y,k=U.y,_=W<H?W<J?W:J:H<J?H:J,q=Q<$?Q<k?Q:k:$<k?$:k,et=W>H?W>J?W:J:H>J?H:J,ot=Q>$?Q>k?Q:k:$>k?$:k,lt=c(_,q,D,F,M),ht=c(et,ot,D,F,M),tt=O.prevZ,at=O.nextZ;tt&&tt.z>=lt&&at&&at.z<=ht;){if(tt.x>=_&&tt.x<=et&&tt.y>=q&&tt.y<=ot&&tt!==L&&tt!==U&&x(W,Q,H,$,J,k,tt.x,tt.y)&&y(tt.prev,tt,tt.next)>=0||(tt=tt.prevZ,at.x>=_&&at.x<=et&&at.y>=q&&at.y<=ot&&at!==L&&at!==U&&x(W,Q,H,$,J,k,at.x,at.y)&&y(at.prev,at,at.next)>=0))return!1;at=at.nextZ}for(;tt&&tt.z>=lt;){if(tt.x>=_&&tt.x<=et&&tt.y>=q&&tt.y<=ot&&tt!==L&&tt!==U&&x(W,Q,H,$,J,k,tt.x,tt.y)&&y(tt.prev,tt,tt.next)>=0)return!1;tt=tt.prevZ}for(;at&&at.z<=ht;){if(at.x>=_&&at.x<=et&&at.y>=q&&at.y<=ot&&at!==L&&at!==U&&x(W,Q,H,$,J,k,at.x,at.y)&&y(at.prev,at,at.next)>=0)return!1;at=at.nextZ}return!0}function n(O,D,F){var M=O;do{var L=M.prev,G=M.next.next;!T(L,G)&&C(L,M,M.next,G)&&P(L,G)&&P(G,L)&&(D.push(L.i/F|0),D.push(M.i/F|0),D.push(G.i/F|0),N(M),N(M.next),M=O=G),M=M.next}while(M!==O);return d(M)}function e(O,D,F,M,L,G){var U=O;do{for(var W=U.next.next;W!==U.prev;){if(U.i!==W.i&&g(U,W)){var H=R(U,W);U=d(U,U.next),H=d(H,H.next),v(U,D,F,M,L,G,0),v(H,D,F,M,L,G,0);return}W=W.next}U=U.next}while(U!==O)}function s(O,D,F,M){var L=[],G,U,W,H,J;for(G=0,U=D.length;G<U;G++)W=D[G]*M,H=G<U-1?D[G+1]*M:O.length,J=t(O,W,H,M,!1),J===J.next&&(J.steiner=!0),L.push(m(J));for(L.sort(h),G=0;G<L.length;G++)F=i(L[G],F);return F}function h(O,D){return O.x-D.x}function i(O,D){var F=a(O,D);if(!F)return D;var M=R(F,O);return d(M,M.next),d(F,F.next)}function a(O,D){var F=D,M=O.x,L=O.y,G=-1/0,U;do{if(L<=F.y&&L>=F.next.y&&F.next.y!==F.y){var W=F.x+(L-F.y)*(F.next.x-F.x)/(F.next.y-F.y);if(W<=M&&W>G&&(G=W,U=F.x<F.next.x?F:F.next,W===M))return U}F=F.next}while(F!==D);if(!U)return null;var H=U,J=U.x,Q=U.y,$=1/0,k;F=U;do M>=F.x&&F.x>=J&&M!==F.x&&x(L<Q?M:G,L,J,Q,L<Q?G:M,L,F.x,F.y)&&(k=Math.abs(L-F.y)/(M-F.x),P(F,O)&&(k<$||k===$&&(F.x>U.x||F.x===U.x&&u(U,F)))&&(U=F,$=k)),F=F.next;while(F!==H);return U}function u(O,D){return y(O.prev,O,D.prev)<0&&y(D.next,O,O.next)<0}function l(O,D,F,M){var L=O;do L.z===0&&(L.z=c(L.x,L.y,D,F,M)),L.prevZ=L.prev,L.nextZ=L.next,L=L.next;while(L!==O);L.prevZ.nextZ=null,L.prevZ=null,f(L)}function f(O){var D,F,M,L,G,U,W,H,J=1;do{for(F=O,O=null,G=null,U=0;F;){for(U++,M=F,W=0,D=0;D<J&&(W++,M=M.nextZ,!!M);D++);for(H=J;W>0||H>0&&M;)W!==0&&(H===0||!M||F.z<=M.z)?(L=F,F=F.nextZ,W--):(L=M,M=M.nextZ,H--),G?G.nextZ=L:O=L,L.prevZ=G,G=L;F=M}G.nextZ=null,J*=2}while(U>1);return O}function c(O,D,F,M,L){return O=(O-F)*L|0,D=(D-M)*L|0,O=(O|O<<8)&16711935,O=(O|O<<4)&252645135,O=(O|O<<2)&858993459,O=(O|O<<1)&1431655765,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,O|D<<1}function m(O){var D=O,F=O;do(D.x<F.x||D.x===F.x&&D.y<F.y)&&(F=D),D=D.next;while(D!==O);return F}function x(O,D,F,M,L,G,U,W){return(L-U)*(D-W)>=(O-U)*(G-W)&&(O-U)*(M-W)>=(F-U)*(D-W)&&(F-U)*(G-W)>=(L-U)*(M-W)}function g(O,D){return O.next.i!==D.i&&O.prev.i!==D.i&&!E(O,D)&&(P(O,D)&&P(D,O)&&B(O,D)&&(y(O.prev,O,D.prev)||y(O,D.prev,D))||T(O,D)&&y(O.prev,O,O.next)>0&&y(D.prev,D,D.next)>0)}function y(O,D,F){return(D.y-O.y)*(F.x-D.x)-(D.x-O.x)*(F.y-D.y)}function T(O,D){return O.x===D.x&&O.y===D.y}function C(O,D,F,M){var L=w(y(O,D,F)),G=w(y(O,D,M)),U=w(y(F,M,O)),W=w(y(F,M,D));return!!(L!==G&&U!==W||L===0&&A(O,F,D)||G===0&&A(O,M,D)||U===0&&A(F,O,M)||W===0&&A(F,D,M))}function A(O,D,F){return D.x<=Math.max(O.x,F.x)&&D.x>=Math.min(O.x,F.x)&&D.y<=Math.max(O.y,F.y)&&D.y>=Math.min(O.y,F.y)}function w(O){return O>0?1:O<0?-1:0}function E(O,D){var F=O;do{if(F.i!==O.i&&F.next.i!==O.i&&F.i!==D.i&&F.next.i!==D.i&&C(F,F.next,O,D))return!0;F=F.next}while(F!==O);return!1}function P(O,D){return y(O.prev,O,O.next)<0?y(O,D,O.next)>=0&&y(O,O.prev,D)>=0:y(O,D,O.prev)<0||y(O,O.next,D)<0}function B(O,D){var F=O,M=!1,L=(O.x+D.x)/2,G=(O.y+D.y)/2;do F.y>G!=F.next.y>G&&F.next.y!==F.y&&L<(F.next.x-F.x)*(G-F.y)/(F.next.y-F.y)+F.x&&(M=!M),F=F.next;while(F!==O);return M}function R(O,D){var F=new X(O.i,O.x,O.y),M=new X(D.i,D.x,D.y),L=O.next,G=D.prev;return O.next=D,D.prev=O,F.next=L,L.prev=F,M.next=F,F.prev=M,G.next=M,M.prev=G,M}function I(O,D,F,M){var L=new X(O,D,F);return M?(L.next=M.next,L.prev=M,M.next.prev=L,M.next=L):(L.prev=L,L.next=L),L}function N(O){O.next.prev=O.prev,O.prev.next=O.next,O.prevZ&&(O.prevZ.nextZ=O.nextZ),O.nextZ&&(O.nextZ.prevZ=O.prevZ)}function X(O,D,F){this.i=O,this.x=D,this.y=F,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}S.deviation=function(O,D,F,M){var L=D&&D.length,G=L?D[0]*F:O.length,U=Math.abs(Y(O,0,G,F));if(L)for(var W=0,H=D.length;W<H;W++){var J=D[W]*F,Q=W<H-1?D[W+1]*F:O.length;U-=Math.abs(Y(O,J,Q,F))}var $=0;for(W=0;W<M.length;W+=3){var k=M[W]*F,_=M[W+1]*F,q=M[W+2]*F;$+=Math.abs((O[k]-O[q])*(O[_+1]-O[k+1])-(O[k]-O[_])*(O[q+1]-O[k+1]))}return U===0&&$===0?0:Math.abs(($-U)/U)};function Y(O,D,F,M){for(var L=0,G=D,U=F-M;G<F;G+=M)L+=(O[U]-O[G])*(O[G+1]+O[U+1]),U=G;return L}S.flatten=function(O){for(var D=O[0][0].length,F={vertices:[],holes:[],dimensions:D},M=0,L=0;L<O.length;L++){for(var G=0;G<O[L].length;G++)for(var U=0;U<D;U++)F.vertices.push(O[L][G][U]);L>0&&(M+=O[L-1].length,F.holes.push(M))}return F},p.exports=S},14045:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(74118),v=function(o,r){r===void 0&&(r=new d);for(var n=1/0,e=1/0,s=-n,h=-e,i,a=0;a<o.points.length;a++)i=o.points[a],n=Math.min(n,i.x),e=Math.min(e,i.y),s=Math.max(s,i.x),h=Math.max(h,i.y);return r.x=n,r.y=e,r.width=s-n,r.height=h-e,r};p.exports=v},98286:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){d===void 0&&(d=[]);for(var v=0;v<t.points.length;v++)d.push(t.points[v].x),d.push(t.points[v].y);return d};p.exports=S},89294:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(16028),v=t(88829),o=t(5159),r=function(n,e,s,h){h===void 0&&(h=[]);var i=n.points,a=o(n);!e&&s>0&&(e=a/s);for(var u=0;u<e;u++)for(var l=a*(u/e),f=0,c=0;c<i.length;c++){var m=i[c],x=i[(c+1)%i.length],g=new v(m.x,m.y,x.x,x.y),y=d(g);if(l<f||l>f+y){f+=y;continue}var T=g.getPoint((l-f)/y);h.push(T);break}return h};p.exports=r},5159:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(16028),v=t(88829),o=function(r){for(var n=r.points,e=0,s=0;s<n.length;s++){var h=n[s],i=n[(s+1)%n.length],a=new v(h.x,h.y,i.x,i.y);e+=d(a)}return e};p.exports=o},8580:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(45604),o=t(89294),r=t(52394),n=new d({initialize:function(s){this.type=r.POLYGON,this.area=0,this.points=[],s&&this.setTo(s)},contains:function(e,s){return v(this,e,s)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var s,h=Number.MAX_VALUE,i=0;i<e.length;i++)s={x:0,y:0},typeof e[i]=="number"||typeof e[i]=="string"?(s.x=parseFloat(e[i]),s.y=parseFloat(e[i+1]),i++):Array.isArray(e[i])?(s.x=e[i][0],s.y=e[i][1]):(s.x=e[i].x,s.y=e[i].y),this.points.push(s),s.y<h&&(h=s.y);return this.calculateArea(h),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,s,h,i=0;i<this.points.length-1;i++)s=this.points[i],h=this.points[i+1],e+=(h.x-s.x)*(s.y+h.y);return s=this.points[0],h=this.points[this.points.length-1],e+=(s.x-h.x)*(h.y+s.y),this.area=-e*.5,this.area},getPoints:function(e,s,h){return o(this,e,s,h)}});p.exports=n},32244:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.points.reverse(),t};p.exports=S},95874:p=>{function S(n,e){var s=n.x-e.x,h=n.y-e.y;return s*s+h*h}function t(n,e,s){var h=e.x,i=e.y,a=s.x-h,u=s.y-i;if(a!==0||u!==0){var l=((n.x-h)*a+(n.y-i)*u)/(a*a+u*u);l>1?(h=s.x,i=s.y):l>0&&(h+=a*l,i+=u*l)}return a=n.x-h,u=n.y-i,a*a+u*u}function d(n,e){for(var s=n[0],h=[s],i,a=1,u=n.length;a<u;a++)i=n[a],S(i,s)>e&&(h.push(i),s=i);return s!==i&&h.push(i),h}function v(n,e,s,h,i){for(var a=h,u,l=e+1;l<s;l++){var f=t(n[l],n[e],n[s]);f>a&&(u=l,a=f)}a>h&&(u-e>1&&v(n,e,u,h,i),i.push(n[u]),s-u>1&&v(n,u,s,h,i))}function o(n,e){var s=n.length-1,h=[n[0]];return v(n,0,s,e,h),h.push(n[s]),h}var r=function(n,e,s){e===void 0&&(e=1),s===void 0&&(s=!1);var h=n.points;if(h.length>2){var i=e*e;s||(h=d(h,i)),n.setTo(o(h,i))}return n};p.exports=r},18974:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(d,v){return d[0]=v[0],d[1]=v[1],d},t=function(d){var v,o=[],r=d.points;for(v=0;v<r.length;v++)o.push([r[v].x,r[v].y]);var n=[];for(o.length>0&&n.push(S([0,0],o[0])),v=0;v<o.length-1;v++){var e=o[v],s=o[v+1],h=e[0],i=e[1],a=s[0],u=s[1];n.push([.85*h+.15*a,.85*i+.15*u]),n.push([.15*h+.85*a,.15*i+.85*u])}return o.length>1&&n.push(S([0,0],o[o.length-1])),d.setTo(n)};p.exports=t},23490:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){for(var o=t.points,r=0;r<o.length;r++)o[r].x+=d,o[r].y+=v;return t};p.exports=S},44359:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(8580);d.Clone=t(19631),d.Contains=t(45604),d.ContainsPoint=t(87289),d.Earcut=t(11117),d.GetAABB=t(14045),d.GetNumberArray=t(98286),d.GetPoints=t(89294),d.Perimeter=t(5159),d.Reverse=t(32244),d.Simplify=t(95874),d.Smooth=t(18974),d.Translate=t(23490),p.exports=d},1653:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.width*t.height};p.exports=S},33943:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};p.exports=S},58662:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};p.exports=S},79993:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){return t.x=d-t.width/2,t.y=v-t.height/2,t};p.exports=S},81572:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(74118),v=function(o){return new d(o.x,o.y,o.width,o.height)};p.exports=v},94287:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){return t.width<=0||t.height<=0?!1:t.x<=d&&t.x+t.width>=d&&t.y<=v&&t.y+t.height>=v};p.exports=S},28687:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(94287),v=function(o,r){return d(o,r.x,r.y)};p.exports=v},73222:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return d.width*d.height>t.width*t.height?!1:d.x>t.x&&d.x<t.right&&d.right>t.x&&d.right<t.right&&d.y>t.y&&d.y<t.bottom&&d.bottom>t.y&&d.bottom<t.bottom};p.exports=S},29538:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return d.setTo(t.x,t.y,t.width,t.height)};p.exports=S},87279:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return d===void 0&&(d=[]),d.push({x:t.x,y:t.y}),d.push({x:t.right,y:t.y}),d.push({x:t.right,y:t.bottom}),d.push({x:t.x,y:t.bottom}),d};p.exports=S},19989:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return t.x===d.x&&t.y===d.y&&t.width===d.width&&t.height===d.height};p.exports=S},92628:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(6700),v=function(o,r){var n=d(o);return n<d(r)?o.setSize(r.height*n,r.height):o.setSize(r.width,r.width/n),o.setPosition(r.centerX-o.width/2,r.centerY-o.height/2)};p.exports=v},85028:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(6700),v=function(o,r){var n=d(o);return n>d(r)?o.setSize(r.height*n,r.height):o.setSize(r.width,r.width/n),o.setPosition(r.centerX-o.width/2,r.centerY-o.height/2)};p.exports=v},71356:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};p.exports=S},21687:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};p.exports=S},80222:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(74118),v=t(83392),o=function(r,n){if(n===void 0&&(n=new d),r.length===0)return n;for(var e=Number.MAX_VALUE,s=Number.MAX_VALUE,h=v.MIN_SAFE_INTEGER,i=v.MIN_SAFE_INTEGER,a,u,l,f=0;f<r.length;f++)a=r[f],Array.isArray(a)?(u=a[0],l=a[1]):(u=a.x,l=a.y),e=Math.min(e,u),s=Math.min(s,l),h=Math.max(h,u),i=Math.max(i,l);return n.x=e,n.y=s,n.width=h-e,n.height=i-s,n};p.exports=o},75785:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(74118),v=function(o,r,n,e,s){return s===void 0&&(s=new d),s.setTo(Math.min(o,n),Math.min(r,e),Math.abs(o-n),Math.abs(r-e))};p.exports=v},6700:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.height===0?NaN:t.width/t.height};p.exports=S},35242:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=function(o,r){return r===void 0&&(r=new d),r.x=o.centerX,r.y=o.centerY,r};p.exports=v},47698:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(85876),v=t(79967),o=function(r,n,e){if(e===void 0&&(e=new v),n<=0||n>=1)return e.x=r.x,e.y=r.y,e;var s=d(r)*n;return n>.5?(s-=r.width+r.height,s<=r.width?(e.x=r.right-s,e.y=r.bottom):(e.x=r.x,e.y=r.bottom-(s-r.width))):s<=r.width?(e.x=r.x+s,e.y=r.y):(e.x=r.right,e.y=r.y+(s-r.width)),e};p.exports=o},54932:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(47698),v=t(85876),o=function(r,n,e,s){s===void 0&&(s=[]),!n&&e>0&&(n=v(r)/e);for(var h=0;h<n;h++){var i=h/n;s.push(d(r,i))}return s};p.exports=o},31591:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=function(o,r){return r===void 0&&(r=new d),r.x=o.width,r.y=o.height,r};p.exports=v},7782:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79993),v=function(o,r,n){var e=o.centerX,s=o.centerY;return o.setSize(o.width+r*2,o.height+n*2),d(o,e,s)};p.exports=v},66217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(74118),v=t(90205),o=function(r,n,e){return e===void 0&&(e=new d),v(r,n)?(e.x=Math.max(r.x,n.x),e.y=Math.max(r.y,n.y),e.width=Math.min(r.right,n.right)-e.x,e.height=Math.min(r.bottom,n.bottom)-e.y):e.setEmpty(),e};p.exports=o},40053:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(85876),v=t(79967),o=function(r,n,e,s){if(s===void 0&&(s=[]),!n&&!e)return s;n?e=Math.round(d(r)/n):n=d(r)/e;for(var h=r.x,i=r.y,a=0,u=0;u<e;u++)switch(s.push(new v(h,i)),a){case 0:h+=n,h>=r.right&&(a=1,i+=h-r.right,h=r.right);break;case 1:i+=n,i>=r.bottom&&(a=2,h-=i-r.bottom,i=r.bottom);break;case 2:h-=n,h<=r.left&&(a=3,i-=r.left-h,h=r.left);break;case 3:i-=n,i<=r.top&&(a=0,i=r.top);break}return s};p.exports=o},86673:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){for(var v=t.x,o=t.right,r=t.y,n=t.bottom,e=0;e<d.length;e++)v=Math.min(v,d[e].x),o=Math.max(o,d[e].x),r=Math.min(r,d[e].y),n=Math.max(n,d[e].y);return t.x=v,t.y=r,t.width=o-v,t.height=n-r,t};p.exports=S},14655:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){var v=Math.min(t.x,d.x),o=Math.max(t.right,d.right);t.x=v,t.width=o-v;var r=Math.min(t.y,d.y),n=Math.max(t.bottom,d.bottom);return t.y=r,t.height=n-r,t};p.exports=S},44755:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){var o=Math.min(t.x,d),r=Math.max(t.right,d);t.x=o,t.width=r-o;var n=Math.min(t.y,v),e=Math.max(t.bottom,v);return t.y=n,t.height=e-n,t};p.exports=S},74466:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){return t.x+=d,t.y+=v,t};p.exports=S},55946:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return t.x+=d.x,t.y+=d.y,t};p.exports=S},97474:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return t.x<d.right&&t.right>d.x&&t.y<d.bottom&&t.bottom>d.y};p.exports=S},85876:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 2*(t.width+t.height)};p.exports=S},20243:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=t(75606),o=function(r,n,e){e===void 0&&(e=new d),n=v(n);var s=Math.sin(n),h=Math.cos(n),i=h>0?r.width/2:r.width/-2,a=s>0?r.height/2:r.height/-2;return Math.abs(i*s)<Math.abs(a*h)?a=i*s/h:i=a*h/s,e.x=i+r.centerX,e.y=a+r.centerY,e};p.exports=o},30001:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=function(o,r){return r===void 0&&(r=new d),r.x=o.x+Math.random()*o.width,r.y=o.y+Math.random()*o.height,r};p.exports=v},97691:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(17489),v=t(73222),o=t(79967),r=function(n,e,s){if(s===void 0&&(s=new o),v(n,e))switch(d(0,3)){case 0:s.x=n.x+Math.random()*(e.right-n.x),s.y=n.y+Math.random()*(e.top-n.y);break;case 1:s.x=e.x+Math.random()*(n.right-e.x),s.y=e.bottom+Math.random()*(n.bottom-e.bottom);break;case 2:s.x=n.x+Math.random()*(e.x-n.x),s.y=e.y+Math.random()*(n.bottom-e.y);break;case 3:s.x=e.right+Math.random()*(n.right-e.right),s.y=n.y+Math.random()*(e.bottom-n.y);break}return s};p.exports=r},74118:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(94287),o=t(47698),r=t(54932),n=t(52394),e=t(88829),s=t(30001),h=new d({initialize:function(a,u,l,f){a===void 0&&(a=0),u===void 0&&(u=0),l===void 0&&(l=0),f===void 0&&(f=0),this.type=n.RECTANGLE,this.x=a,this.y=u,this.width=l,this.height=f},contains:function(i,a){return v(this,i,a)},getPoint:function(i,a){return o(this,i,a)},getPoints:function(i,a,u){return r(this,i,a,u)},getRandomPoint:function(i){return s(this,i)},setTo:function(i,a,u,l){return this.x=i,this.y=a,this.width=u,this.height=l,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(i,a){return a===void 0&&(a=i),this.x=i,this.y=a,this},setSize:function(i,a){return a===void 0&&(a=i),this.width=i,this.height=a,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.y,this.right,this.y),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.y,this.right,this.bottom),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.bottom,this.x,this.bottom),i},getLineD:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.bottom,this.x,this.y),i},left:{get:function(){return this.x},set:function(i){i>=this.right?this.width=0:this.width=this.right-i,this.x=i}},right:{get:function(){return this.x+this.width},set:function(i){i<=this.x?this.width=0:this.width=i-this.x}},top:{get:function(){return this.y},set:function(i){i>=this.bottom?this.height=0:this.height=this.bottom-i,this.y=i}},bottom:{get:function(){return this.y+this.height},set:function(i){i<=this.y?this.height=0:this.height=i-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(i){this.x=i-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(i){this.y=i-this.height/2}}});p.exports=h},51828:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return t.width===d.width&&t.height===d.height};p.exports=S},5691:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){return v===void 0&&(v=d),t.width*=d,t.height*=v,t};p.exports=S},58795:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(74118),v=function(o,r,n){n===void 0&&(n=new d);var e=Math.min(o.x,r.x),s=Math.min(o.y,r.y),h=Math.max(o.right,r.right)-e,i=Math.max(o.bottom,r.bottom)-s;return n.setTo(e,s,h,i)};p.exports=v},66658:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(74118);d.Area=t(1653),d.Ceil=t(33943),d.CeilAll=t(58662),d.CenterOn=t(79993),d.Clone=t(81572),d.Contains=t(94287),d.ContainsPoint=t(28687),d.ContainsRect=t(73222),d.CopyFrom=t(29538),d.Decompose=t(87279),d.Equals=t(19989),d.FitInside=t(92628),d.FitOutside=t(85028),d.Floor=t(71356),d.FloorAll=t(21687),d.FromPoints=t(80222),d.FromXY=t(75785),d.GetAspectRatio=t(6700),d.GetCenter=t(35242),d.GetPoint=t(47698),d.GetPoints=t(54932),d.GetSize=t(31591),d.Inflate=t(7782),d.Intersection=t(66217),d.MarchingAnts=t(40053),d.MergePoints=t(86673),d.MergeRect=t(14655),d.MergeXY=t(44755),d.Offset=t(74466),d.OffsetPoint=t(55946),d.Overlaps=t(97474),d.Perimeter=t(85876),d.PerimeterPoint=t(20243),d.Random=t(30001),d.RandomOutside=t(97691),d.SameDimensions=t(51828),d.Scale=t(5691),d.Union=t(58795),p.exports=d},19108:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var d=t.x1,v=t.y1,o=t.x2,r=t.y2,n=t.x3,e=t.y3;return Math.abs(((n-d)*(r-v)-(o-d)*(e-v))/2)};p.exports=S},41199:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(66349),v=function(o,r,n){var e=n*(Math.sqrt(3)/2),s=o,h=r,i=o+n/2,a=r+e,u=o-n/2,l=r+e;return new d(s,h,i,a,u,l)};p.exports=v},88730:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(11117),v=t(66349),o=function(r,n,e,s,h){n===void 0&&(n=null),e===void 0&&(e=1),s===void 0&&(s=1),h===void 0&&(h=[]);for(var i=d(r,n),a,u,l,f,c,m,x,g,y,T=0;T<i.length;T+=3)a=i[T],u=i[T+1],l=i[T+2],f=r[a*2]*e,c=r[a*2+1]*s,m=r[u*2]*e,x=r[u*2+1]*s,g=r[l*2]*e,y=r[l*2+1]*s,h.push(new v(f,c,m,x,g,y));return h};p.exports=o},3635:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(66349),v=function(o,r,n,e){e===void 0&&(e=n);var s=o,h=r,i=o,a=r-e,u=o+n,l=r;return new d(s,h,i,a,u,l)};p.exports=v},1882:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56595),v=t(9640),o=function(r,n,e,s){s===void 0&&(s=d);var h=s(r),i=n-h.x,a=e-h.y;return v(r,i,a)};p.exports=o},56595:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=function(o,r){return r===void 0&&(r=new d),r.x=(o.x1+o.x2+o.x3)/3,r.y=(o.y1+o.y2+o.y3)/3,r};p.exports=v},91835:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(93736);function v(r,n,e,s){return r*s-n*e}var o=function(r,n){n===void 0&&(n=new d);var e=r.x3,s=r.y3,h=r.x1-e,i=r.y1-s,a=r.x2-e,u=r.y2-s,l=2*v(h,i,a,u),f=v(i,h*h+i*i,u,a*a+u*u),c=v(h,h*h+i*i,a,a*a+u*u);return n.x=e-f/l,n.y=s+c/l,n};p.exports=o},97073:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(26673),v=function(o,r){r===void 0&&(r=new d);var n=o.x1,e=o.y1,s=o.x2,h=o.y2,i=o.x3,a=o.y3,u=s-n,l=h-e,f=i-n,c=a-e,m=u*(n+s)+l*(e+h),x=f*(n+i)+c*(e+a),g=2*(u*(a-h)-l*(i-s)),y,T;if(Math.abs(g)<1e-6){var C=Math.min(n,s,i),A=Math.min(e,h,a);y=(Math.max(n,s,i)-C)*.5,T=(Math.max(e,h,a)-A)*.5,r.x=C+y,r.y=A+T,r.radius=Math.sqrt(y*y+T*T)}else r.x=(c*m-l*x)/g,r.y=(u*x-f*m)/g,y=r.x-n,T=r.y-e,r.radius=Math.sqrt(y*y+T*T);return r};p.exports=v},75974:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(66349),v=function(o){return new d(o.x1,o.y1,o.x2,o.y2,o.x3,o.y3)};p.exports=v},60689:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){var o=t.x3-t.x1,r=t.y3-t.y1,n=t.x2-t.x1,e=t.y2-t.y1,s=d-t.x1,h=v-t.y1,i=o*o+r*r,a=o*n+r*e,u=o*s+r*h,l=n*n+e*e,f=n*s+e*h,c=i*l-a*a,m=c===0?0:1/c,x=(l*u-a*f)*m,g=(i*f-a*u)*m;return x>=0&&g>=0&&x+g<1};p.exports=S},86875:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){v===void 0&&(v=!1),o===void 0&&(o=[]);for(var r=t.x3-t.x1,n=t.y3-t.y1,e=t.x2-t.x1,s=t.y2-t.y1,h=r*r+n*n,i=r*e+n*s,a=e*e+s*s,u=h*a-i*i,l=u===0?0:1/u,f,c,m,x,g,y,T=t.x1,C=t.y1,A=0;A<d.length&&(m=d[A].x-T,x=d[A].y-C,g=r*m+n*x,y=e*m+s*x,f=(a*g-i*y)*l,c=(h*y-i*g)*l,!(f>=0&&c>=0&&f+c<1&&(o.push({x:d[A].x,y:d[A].y}),v)));A++);return o};p.exports=S},51532:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(60689),v=function(o,r){return d(o,r.x,r.y)};p.exports=v},42538:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return d.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};p.exports=S},18680:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return d===void 0&&(d=[]),d.push({x:t.x1,y:t.y1}),d.push({x:t.x2,y:t.y2}),d.push({x:t.x3,y:t.y3}),d};p.exports=S},29977:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return t.x1===d.x1&&t.y1===d.y1&&t.x2===d.x2&&t.y2===d.y2&&t.x3===d.x3&&t.y3===d.y3};p.exports=S},56088:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=t(16028),o=function(r,n,e){e===void 0&&(e=new d);var s=r.getLineA(),h=r.getLineB(),i=r.getLineC();if(n<=0||n>=1)return e.x=s.x1,e.y=s.y1,e;var a=v(s),u=v(h),l=v(i),f=a+u+l,c=f*n,m=0;return c<a?(m=c/a,e.x=s.x1+(s.x2-s.x1)*m,e.y=s.y1+(s.y2-s.y1)*m):c>a+u?(c-=a+u,m=c/l,e.x=i.x1+(i.x2-i.x1)*m,e.y=i.y1+(i.y2-i.y1)*m):(c-=a,m=c/u,e.x=h.x1+(h.x2-h.x1)*m,e.y=h.y1+(h.y2-h.y1)*m),e};p.exports=o},24402:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(16028),v=t(79967),o=function(r,n,e,s){s===void 0&&(s=[]);var h=r.getLineA(),i=r.getLineB(),a=r.getLineC(),u=d(h),l=d(i),f=d(a),c=u+l+f;!n&&e>0&&(n=c/e);for(var m=0;m<n;m++){var x=c*(m/n),g=0,y=new v;x<u?(g=x/u,y.x=h.x1+(h.x2-h.x1)*g,y.y=h.y1+(h.y2-h.y1)*g):x>u+l?(x-=u+l,g=x/f,y.x=a.x1+(a.x2-a.x1)*g,y.y=a.y1+(a.y2-a.y1)*g):(x-=u,g=x/l,y.x=i.x1+(i.x2-i.x1)*g,y.y=i.y1+(i.y2-i.y1)*g),s.push(y)}return s};p.exports=o},83648:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967);function v(r,n,e,s){var h=r-e,i=n-s,a=h*h+i*i;return Math.sqrt(a)}var o=function(r,n){n===void 0&&(n=new d);var e=r.x1,s=r.y1,h=r.x2,i=r.y2,a=r.x3,u=r.y3,l=v(a,u,h,i),f=v(e,s,a,u),c=v(h,i,e,s),m=l+f+c;return n.x=(e*l+h*f+a*c)/m,n.y=(s*l+i*f+u*c)/m,n};p.exports=o},9640:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){return t.x1+=d,t.y1+=v,t.x2+=d,t.y2+=v,t.x3+=d,t.y3+=v,t};p.exports=S},95290:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(16028),v=function(o){var r=o.getLineA(),n=o.getLineB(),e=o.getLineC();return d(r)+d(n)+d(e)};p.exports=v},99761:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(79967),v=function(o,r){r===void 0&&(r=new d);var n=o.x2-o.x1,e=o.y2-o.y1,s=o.x3-o.x1,h=o.y3-o.y1,i=Math.random(),a=Math.random();return i+a>=1&&(i=1-i,a=1-a),r.x=o.x1+(n*i+s*a),r.y=o.y1+(e*i+h*a),r};p.exports=v},21934:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(19211),v=t(83648),o=function(r,n){var e=v(r);return d(r,e.x,e.y,n)};p.exports=o},68454:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(19211),v=function(o,r,n){return d(o,r.x,r.y,n)};p.exports=v},19211:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){var r=Math.cos(o),n=Math.sin(o),e=t.x1-d,s=t.y1-v;return t.x1=e*r-s*n+d,t.y1=e*n+s*r+v,e=t.x2-d,s=t.y2-v,t.x2=e*r-s*n+d,t.y2=e*n+s*r+v,e=t.x3-d,s=t.y3-v,t.x3=e*r-s*n+d,t.y3=e*n+s*r+v,t};p.exports=S},66349:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(60689),o=t(56088),r=t(24402),n=t(52394),e=t(88829),s=t(99761),h=new d({initialize:function(a,u,l,f,c,m){a===void 0&&(a=0),u===void 0&&(u=0),l===void 0&&(l=0),f===void 0&&(f=0),c===void 0&&(c=0),m===void 0&&(m=0),this.type=n.TRIANGLE,this.x1=a,this.y1=u,this.x2=l,this.y2=f,this.x3=c,this.y3=m},contains:function(i,a){return v(this,i,a)},getPoint:function(i,a){return o(this,i,a)},getPoints:function(i,a,u){return r(this,i,a,u)},getRandomPoint:function(i){return s(this,i)},setTo:function(i,a,u,l,f,c){return i===void 0&&(i=0),a===void 0&&(a=0),u===void 0&&(u=0),l===void 0&&(l=0),f===void 0&&(f=0),c===void 0&&(c=0),this.x1=i,this.y1=a,this.x2=u,this.y2=l,this.x3=f,this.y3=c,this},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x1,this.y1,this.x2,this.y2),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.x2,this.y2,this.x3,this.y3),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.x3,this.y3,this.x1,this.y1),i},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(i){var a=0;this.x1<=this.x2&&this.x1<=this.x3?a=this.x1-i:this.x2<=this.x1&&this.x2<=this.x3?a=this.x2-i:a=this.x3-i,this.x1-=a,this.x2-=a,this.x3-=a}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(i){var a=0;this.x1>=this.x2&&this.x1>=this.x3?a=this.x1-i:this.x2>=this.x1&&this.x2>=this.x3?a=this.x2-i:a=this.x3-i,this.x1-=a,this.x2-=a,this.x3-=a}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(i){var a=0;this.y1<=this.y2&&this.y1<=this.y3?a=this.y1-i:this.y2<=this.y1&&this.y2<=this.y3?a=this.y2-i:a=this.y3-i,this.y1-=a,this.y2-=a,this.y3-=a}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(i){var a=0;this.y1>=this.y2&&this.y1>=this.y3?a=this.y1-i:this.y2>=this.y1&&this.y2>=this.y3?a=this.y2-i:a=this.y3-i,this.y1-=a,this.y2-=a,this.y3-=a}}});p.exports=h},87619:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(66349);d.Area=t(19108),d.BuildEquilateral=t(41199),d.BuildFromPolygon=t(88730),d.BuildRight=t(3635),d.CenterOn=t(1882),d.Centroid=t(56595),d.CircumCenter=t(91835),d.CircumCircle=t(97073),d.Clone=t(75974),d.Contains=t(60689),d.ContainsArray=t(86875),d.ContainsPoint=t(51532),d.CopyFrom=t(42538),d.Decompose=t(18680),d.Equals=t(29977),d.GetPoint=t(56088),d.GetPoints=t(24402),d.InCenter=t(83648),d.Perimeter=t(95290),d.Offset=t(9640),d.Random=t(99761),d.Rotate=t(21934),d.RotateAroundPoint=t(68454),d.RotateAroundXY=t(19211),p.exports=d},27395:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:d,hitAreaCallback:v,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};p.exports=S},18104:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return function(v,o,r,n){var e=t.getPixelAlpha(o,r,n.texture.key,n.frame.name);return e&&e>=d}};p.exports=S},69898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(72687),o=t(6659),r=t(33963),n=t(97081),e=t(71064),s=t(7905),h=t(40398),i=t(37579),a=t(69360),u=t(64462),l=new d({initialize:function(c,m){this.game=c,this.scaleManager,this.canvas,this.config=m,this.enabled=!0,this.events=new o,this.isOver=!0,this.defaultCursor="",this.keyboard=m.inputKeyboard?new e(this):null,this.mouse=m.inputMouse?new s(this):null,this.touch=m.inputTouch?new i(this):null,this.pointers=[],this.pointersTotal=m.inputActivePointers,m.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var x=0;x<=this.pointersTotal;x++){var g=new h(this,x);g.smoothFactor=m.inputSmoothFactor,this.pointers.push(g)}this.mousePointer=m.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new a,this._tempMatrix2=new a,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],c.events.once(n.BOOT,this.boot,this)},boot:function(){var f=this.game,c=f.events;this.canvas=f.canvas,this.scaleManager=f.scale,this.events.emit(r.MANAGER_BOOT),c.on(n.PRE_RENDER,this.preRender,this),c.once(n.DESTROY,this.destroy,this)},setCanvasOver:function(f){this.isOver=!0,this.events.emit(r.GAME_OVER,f)},setCanvasOut:function(f){this.isOver=!1,this.events.emit(r.GAME_OUT,f)},preRender:function(){var f=this.game.loop.now,c=this.game.loop.delta,m=this.game.scene.getScenes(!0,!0);this.time=f,this.events.emit(r.MANAGER_UPDATE);for(var x=0;x<m.length;x++){var g=m[x];if(g.sys.input&&g.sys.input.updatePoll(f,c)&&this.globalTopOnly)return}},setDefaultCursor:function(f){this.defaultCursor=f,this.canvas.style.cursor!==f&&(this.canvas.style.cursor=f)},setCursor:function(f){f.cursor&&(this.canvas.style.cursor=f.cursor)},resetCursor:function(f){f.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(f){f===void 0&&(f=1);var c=[];this.pointersTotal+f>10&&(f=10-this.pointersTotal);for(var m=0;m<f;m++){var x=this.pointers.length,g=new h(this,x);g.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(g),this.pointersTotal++,c.push(g)}return c},updateInputPlugins:function(f,c){var m=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var x=0;x<m.length;x++){var g=m[x];if(g.sys.input){var y=g.sys.input.update(f,c);if(y&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(f){for(var c=this.pointers,m=[],x=0;x<f.changedTouches.length;x++)for(var g=f.changedTouches[x],y=1;y<this.pointersTotal;y++){var T=c[y];if(!T.active){T.touchstart(g,f),this.activePointer=T,m.push(T);break}}this.updateInputPlugins(v.TOUCH_START,m)},onTouchMove:function(f){for(var c=this.pointers,m=[],x=0;x<f.changedTouches.length;x++)for(var g=f.changedTouches[x],y=1;y<this.pointersTotal;y++){var T=c[y];if(T.active&&T.identifier===g.identifier){var C=document.elementFromPoint(g.pageX,g.pageY),A=C===this.canvas;!this.isOver&&A?this.setCanvasOver(f):this.isOver&&!A&&this.setCanvasOut(f),this.isOver&&(T.touchmove(g,f),this.activePointer=T,m.push(T));break}}this.updateInputPlugins(v.TOUCH_MOVE,m)},onTouchEnd:function(f){for(var c=this.pointers,m=[],x=0;x<f.changedTouches.length;x++)for(var g=f.changedTouches[x],y=1;y<this.pointersTotal;y++){var T=c[y];if(T.active&&T.identifier===g.identifier){T.touchend(g,f),m.push(T);break}}this.updateInputPlugins(v.TOUCH_END,m)},onTouchCancel:function(f){for(var c=this.pointers,m=[],x=0;x<f.changedTouches.length;x++)for(var g=f.changedTouches[x],y=1;y<this.pointersTotal;y++){var T=c[y];if(T.active&&T.identifier===g.identifier){T.touchcancel(g,f),m.push(T);break}}this.updateInputPlugins(v.TOUCH_CANCEL,m)},onMouseDown:function(f){var c=this.mousePointer;c.down(f),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(v.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(f){var c=this.mousePointer;c.move(f),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(v.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(f){var c=this.mousePointer;c.up(f),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(v.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(f){var c=this.mousePointer;c.wheel(f),this.activePointer=c,this.updateInputPlugins(v.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(f){var c=this.mouse.locked;this.mousePointer.locked=c,this.events.emit(r.POINTERLOCK_CHANGE,f,c)},inputCandidate:function(f,c){var m=f.input;if(!m||!m.enabled||!f.willRender(c))return!1;var x=!0,g=f.parentContainer;if(g)do{if(!g.willRender(c)){x=!1;break}g=g.parentContainer}while(g);return x},hitTest:function(f,c,m,x){x===void 0&&(x=this._tempHitTest);var g=this._tempPoint,y=m.scrollX,T=m.scrollY;x.length=0;var C=f.x,A=f.y;m.getWorldPoint(C,A,g),f.worldX=g.x,f.worldY=g.y;for(var w={x:0,y:0},E=this._tempMatrix,P=this._tempMatrix2,B=0;B<c.length;B++){var R=c[B];if(this.inputCandidate(R,m)){var I=g.x+y*R.scrollFactorX-y,N=g.y+T*R.scrollFactorY-T;R.parentContainer?(R.getWorldTransformMatrix(E,P),E.applyInverse(I,N,w)):u(I,N,R.x,R.y,R.rotation,R.scaleX,R.scaleY,w),this.pointWithinHitArea(R,w.x,w.y)&&x.push(R)}}return x},pointWithinHitArea:function(f,c,m){c+=f.displayOriginX,m+=f.displayOriginY;var x=f.input;return x&&x.hitAreaCallback(x.hitArea,c,m,f)?(x.localX=c,x.localY=m,!0):!1},pointWithinInteractiveObject:function(f,c,m){return f.hitArea?(c+=f.gameObject.displayOriginX,m+=f.gameObject.displayOriginY,f.localX=c,f.localY=m,f.hitAreaCallback(f.hitArea,c,m,f)):!1},transformPointer:function(f,c,m,x){var g=f.position,y=f.prevPosition;y.x=g.x,y.y=g.y;var T=this.scaleManager.transformX(c),C=this.scaleManager.transformY(m),A=f.smoothFactor;!x||A===0?(g.x=T,g.y=C):(g.x=T*A+y.x*(1-A),g.y=C*A+y.y*(1-A))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(n.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var f=0;f<this.pointers.length;f++)this.pointers[f].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});p.exports=l},12499:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(26673),v=t(65650),o=t(56694),r=t(72687),n=t(27395),e=t(18104),s=t(53996),h=t(95669),i=t(72313),a=t(33963),u=t(6659),l=t(72632),f=t(52394),c=t(63399),m=t(42911),x=t(91963),g=t(74118),y=t(94287),T=t(7599),C=t(66349),A=t(60689),w=new o({Extends:u,initialize:function(P){u.call(this),this.scene=P,this.systems=P.sys,this.settings=P.sys.settings,this.manager=P.sys.game.input,this.pluginEvents=new u,this.enabled=!0,this.displayList,this.cameras,c.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var B={cancelled:!1};this._eventContainer={stopPropagation:function(){B.cancelled=!0}},this._eventData=B,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,P.sys.events.once(T.BOOT,this.boot,this),P.sys.events.on(T.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(T.DESTROY,this.destroy,this),this.pluginEvents.emit(a.BOOT)},start:function(){var E=this.systems.events;E.on(T.TRANSITION_START,this.transitionIn,this),E.on(T.TRANSITION_OUT,this.transitionOut,this),E.on(T.TRANSITION_COMPLETE,this.transitionComplete,this),E.on(T.PRE_UPDATE,this.preUpdate,this),E.once(T.SHUTDOWN,this.shutdown,this),this.manager.events.on(a.GAME_OUT,this.onGameOut,this),this.manager.events.on(a.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(a.START)},onGameOver:function(E){this.isActive()&&this.emit(a.GAME_OVER,E.timeStamp,E)},onGameOut:function(E){this.isActive()&&this.emit(a.GAME_OUT,E.timeStamp,E)},preUpdate:function(){this.pluginEvents.emit(a.PRE_UPDATE);var E=this._pendingRemoval,P=this._pendingInsertion,B=E.length,R=P.length;if(!(B===0&&R===0)){for(var I=this._list,N=0;N<B;N++){var X=E[N],Y=I.indexOf(X);Y>-1&&(I.splice(Y,1),this.clear(X,!0))}this._pendingRemoval.length=0,this._list=I.concat(P.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(E,P){if(!this.isActive())return!1;if(this.pluginEvents.emit(a.UPDATE,E,P),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var B,R=this.manager,I=R.pointers,N=R.pointersTotal;for(B=0;B<N;B++)I[B].updateMotion();if(this._list.length===0)return!1;var X=this.pollRate;if(X===-1)return!1;if(X>0)if(this._pollTimer-=P,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var Y=!1;for(B=0;B<N;B++){var O=0,D=I[B];this._tempZones=[],this._temp=this.hitTestPointer(D),this.sortGameObjects(this._temp,D),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),O+=this.processOverOutEvents(D),this.getDragState(D)===2&&this.processDragThresholdEvent(D,E),O>0&&(Y=!0)}return Y},update:function(E,P){if(!this.isActive())return!1;for(var B=P.length,R=!1,I=0;I<B;I++){var N=0,X=P[I];switch(this._tempZones=[],this._temp=this.hitTestPointer(X),this.sortGameObjects(this._temp,X),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),E){case r.MOUSE_DOWN:N+=this.processDragDownEvent(X),N+=this.processDownEvents(X),N+=this.processOverOutEvents(X);break;case r.MOUSE_UP:N+=this.processDragUpEvent(X),N+=this.processUpEvents(X),N+=this.processOverOutEvents(X);break;case r.TOUCH_START:N+=this.processDragDownEvent(X),N+=this.processDownEvents(X),N+=this.processOverEvents(X);break;case r.TOUCH_END:case r.TOUCH_CANCEL:N+=this.processDragUpEvent(X),N+=this.processUpEvents(X),N+=this.processOutEvents(X);break;case r.MOUSE_MOVE:case r.TOUCH_MOVE:N+=this.processDragMoveEvent(X),N+=this.processMoveEvents(X),N+=this.processOverOutEvents(X);break;case r.MOUSE_WHEEL:N+=this.processWheelEvent(X);break}N>0&&(R=!0)}return this._updatedThisFrame=!0,R},clear:function(E,P){P===void 0&&(P=!1),this.disable(E);var B=E.input;B&&(this.removeDebug(E),B.gameObject=void 0,B.target=void 0,B.hitArea=void 0,B.hitAreaCallback=void 0,B.callbackContext=void 0,E.input=null),P||this.queueForRemoval(E);var R=this._draggable.indexOf(E);return R>-1&&this._draggable.splice(R,1),E},disable:function(E){var P=E.input;P&&(P.enabled=!1,P.dragState=0);var B=this._temp,R=this._drag,I=this._over,N=this.manager,X=B.indexOf(E);X>-1&&B.splice(X,1);for(var Y=0;Y<N.pointersTotal;Y++)X=R[Y].indexOf(E),X>-1&&R[Y].splice(X,1),X=I[Y].indexOf(E),X>-1&&(I[Y].splice(X,1),N.resetCursor(P));return this},enable:function(E,P,B,R){return R===void 0&&(R=!1),E.input?E.input.enabled=!0:this.setHitArea(E,P,B),E.input&&R&&!E.input.dropZone&&(E.input.dropZone=R),this},hitTestPointer:function(E){for(var P=this.cameras.getCamerasBelowPointer(E),B=0;B<P.length;B++){for(var R=P[B],I=this.manager.hitTest(E,this._list,R),N=0;N<I.length;N++){var X=I[N];X.input.dropZone&&this._tempZones.push(X)}if(I.length>0)return E.camera=R,I}return E.camera=P[0],[]},processDownEvents:function(E){var P=0,B=this._temp,R=this._eventData,I=this._eventContainer;R.cancelled=!1;for(var N=!1,X=0;X<B.length;X++){var Y=B[X];if(!(!Y.input||!Y.input.enabled)){if(P++,Y.emit(a.GAMEOBJECT_POINTER_DOWN,E,Y.input.localX,Y.input.localY,I),R.cancelled||!Y.input||!Y.input.enabled){N=!0;break}if(this.emit(a.GAMEOBJECT_DOWN,E,Y,I),R.cancelled||!Y.input){N=!0;break}}}return!N&&this.manager&&(E.downElement===this.manager.game.canvas?this.emit(a.POINTER_DOWN,E,B):this.emit(a.POINTER_DOWN_OUTSIDE,E)),P},getDragState:function(E){return this._dragState[E.id]},setDragState:function(E,P){this._dragState[E.id]=P},processDragThresholdEvent:function(E,P){var B=!1,R=this.dragTimeThreshold,I=this.dragDistanceThreshold;if((I>0&&s(E.x,E.y,E.downX,E.downY)>=I||R>0&&P>=E.downTime+R)&&(B=!0),B)return this.setDragState(E,3),this.processDragStartList(E)},processDragStartList:function(E){if(this.getDragState(E)!==3)return 0;for(var P=this._drag[E.id],B=0;B<P.length;B++){var R=P[B],I=R.input;I.dragState=2,I.dragStartX=R.x,I.dragStartY=R.y,I.dragStartXGlobal=E.worldX,I.dragStartYGlobal=E.worldY,I.dragX=I.dragStartXGlobal-I.dragStartX,I.dragY=I.dragStartYGlobal-I.dragStartY,R.emit(a.GAMEOBJECT_DRAG_START,E,I.dragX,I.dragY),this.emit(a.DRAG_START,E,R)}return this.setDragState(E,4),P.length},processDragDownEvent:function(E){var P=this._temp;if(this._draggable.length===0||P.length===0||!E.primaryDown||this.getDragState(E)!==0)return 0;this.setDragState(E,1);for(var B=[],R=0;R<P.length;R++){var I=P[R];I.input.draggable&&I.input.dragState===0&&B.push(I)}return B.length===0?(this.setDragState(E,0),0):(B.length>1&&(this.sortGameObjects(B,E),this.topOnly&&B.splice(1)),this._drag[E.id]=B,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(E,3),this.processDragStartList(E)):(this.setDragState(E,2),0))},processDragMoveEvent:function(E){if(this.getDragState(E)===2&&this.processDragThresholdEvent(E,this.manager.game.loop.now),this.getDragState(E)!==4)return 0;for(var P=this._tempZones,B=this._drag[E.id],R=0;R<B.length;R++){var I=B[R],N=I.input,X=N.target;if(X){var Y=P.indexOf(X);Y===0?(I.emit(a.GAMEOBJECT_DRAG_OVER,E,X),this.emit(a.DRAG_OVER,E,I,X)):Y>0?(I.emit(a.GAMEOBJECT_DRAG_LEAVE,E,X),this.emit(a.DRAG_LEAVE,E,I,X),N.target=P[0],X=N.target,I.emit(a.GAMEOBJECT_DRAG_ENTER,E,X),this.emit(a.DRAG_ENTER,E,I,X)):(I.emit(a.GAMEOBJECT_DRAG_LEAVE,E,X),this.emit(a.DRAG_LEAVE,E,I,X),P[0]?(N.target=P[0],X=N.target,I.emit(a.GAMEOBJECT_DRAG_ENTER,E,X),this.emit(a.DRAG_ENTER,E,I,X)):N.target=null)}else!X&&P[0]&&(N.target=P[0],X=N.target,I.emit(a.GAMEOBJECT_DRAG_ENTER,E,X),this.emit(a.DRAG_ENTER,E,I,X));var O,D;if(!I.parentContainer)O=E.worldX-N.dragX,D=E.worldY-N.dragY;else{var F=E.worldX-N.dragStartXGlobal,M=E.worldY-N.dragStartYGlobal,L=I.getParentRotation(),G=F*Math.cos(L)+M*Math.sin(L),U=M*Math.cos(L)-F*Math.sin(L);G*=1/I.parentContainer.scaleX,U*=1/I.parentContainer.scaleY,O=G+N.dragStartX,D=U+N.dragStartY}I.emit(a.GAMEOBJECT_DRAG,E,O,D),this.emit(a.DRAG,E,I,O,D)}return B.length},processDragUpEvent:function(E){for(var P=this._drag[E.id],B=0;B<P.length;B++){var R=P[B],I=R.input;if(I&&I.dragState===2){I.dragState=0,I.dragX=I.localX-R.displayOriginX,I.dragY=I.localY-R.displayOriginY;var N=!1,X=I.target;X&&(R.emit(a.GAMEOBJECT_DROP,E,X),this.emit(a.DROP,E,R,X),I.target=null,N=!0),R.input&&R.input.enabled&&(R.emit(a.GAMEOBJECT_DRAG_END,E,I.dragX,I.dragY,N),this.emit(a.DRAG_END,E,R,N))}}return this.setDragState(E,0),P.splice(0),0},processMoveEvents:function(E){var P=0,B=this._temp,R=this._eventData,I=this._eventContainer;R.cancelled=!1;for(var N=!1,X=0;X<B.length;X++){var Y=B[X];if(!(!Y.input||!Y.input.enabled)){if(P++,Y.emit(a.GAMEOBJECT_POINTER_MOVE,E,Y.input.localX,Y.input.localY,I),R.cancelled||!Y.input||!Y.input.enabled){N=!0;break}if(this.emit(a.GAMEOBJECT_MOVE,E,Y,I),R.cancelled||!Y.input||!Y.input.enabled){N=!0;break}if(this.topOnly)break}}return N||this.emit(a.POINTER_MOVE,E,B),P},processWheelEvent:function(E){var P=0,B=this._temp,R=this._eventData,I=this._eventContainer;R.cancelled=!1;for(var N=!1,X=E.deltaX,Y=E.deltaY,O=E.deltaZ,D=0;D<B.length;D++){var F=B[D];if(!(!F.input||!F.input.enabled)){if(P++,F.emit(a.GAMEOBJECT_POINTER_WHEEL,E,X,Y,O,I),R.cancelled||!F.input||!F.input.enabled){N=!0;break}if(this.emit(a.GAMEOBJECT_WHEEL,E,F,X,Y,O,I),R.cancelled||!F.input||!F.input.enabled){N=!0;break}}}return N||this.emit(a.POINTER_WHEEL,E,B,X,Y,O),P},processOverEvents:function(E){var P=this._temp,B=0,R=P.length,I=[];if(R>0){var N=this.manager,X=this._eventData,Y=this._eventContainer;X.cancelled=!1;for(var O=!1,D=0;D<R;D++){var F=P[D];if(!(!F.input||!F.input.enabled)){if(I.push(F),N.setCursor(F.input),F.emit(a.GAMEOBJECT_POINTER_OVER,E,F.input.localX,F.input.localY,Y),B++,X.cancelled||!F.input||!F.input.enabled){O=!0;break}if(this.emit(a.GAMEOBJECT_OVER,E,F,Y),X.cancelled||!F.input||!F.input.enabled){O=!0;break}}}O||this.emit(a.POINTER_OVER,E,I)}return this._over[E.id]=I,B},processOutEvents:function(E){var P=this._over[E.id],B=0,R=P.length;if(R>0){var I=this.manager,N=this._eventData,X=this._eventContainer;N.cancelled=!1;var Y=!1;this.sortGameObjects(P,E);for(var O=0;O<R;O++){var D=P[O];if(D=P[O],!(!D.input||!D.input.enabled)){if(I.resetCursor(D.input),D.emit(a.GAMEOBJECT_POINTER_OUT,E,X),B++,N.cancelled||!D.input||!D.input.enabled){Y=!0;break}if(this.emit(a.GAMEOBJECT_OUT,E,D,X),N.cancelled||!D.input||!D.input.enabled){Y=!0;break}Y||this.emit(a.POINTER_OUT,E,P)}}this._over[E.id]=[]}return B},processOverOutEvents:function(E){var P=this._temp,B,R,I=[],N=[],X=[],Y=this._over[E.id],O=this._drag[E.id],D=this.manager;for(B=0;B<Y.length;B++)R=Y[B],P.indexOf(R)===-1&&O.indexOf(R)===-1?I.push(R):X.push(R);for(B=0;B<P.length;B++)R=P[B],Y.indexOf(R)===-1&&N.push(R);var F=I.length,M=0,L=this._eventData,G=this._eventContainer;L.cancelled=!1;var U=!1;if(F>0){for(this.sortGameObjects(I,E),B=0;B<F;B++)if(R=I[B],!(!R.input||!R.input.enabled)){if(D.resetCursor(R.input),R.emit(a.GAMEOBJECT_POINTER_OUT,E,G),M++,L.cancelled||!R.input||!R.input.enabled){U=!0;break}if(this.emit(a.GAMEOBJECT_OUT,E,R,G),L.cancelled||!R.input||!R.input.enabled){U=!0;break}}U||this.emit(a.POINTER_OUT,E,I)}if(F=N.length,L.cancelled=!1,U=!1,F>0){for(this.sortGameObjects(N,E),B=0;B<F;B++)if(R=N[B],!(!R.input||!R.input.enabled)){if(D.setCursor(R.input),R.emit(a.GAMEOBJECT_POINTER_OVER,E,R.input.localX,R.input.localY,G),M++,L.cancelled||!R.input||!R.input.enabled){U=!0;break}if(this.emit(a.GAMEOBJECT_OVER,E,R,G),L.cancelled||!R.input||!R.input.enabled){U=!0;break}}U||this.emit(a.POINTER_OVER,E,N)}return Y=X.concat(N),this._over[E.id]=this.sortGameObjects(Y,E),M},processUpEvents:function(E){var P=this._temp,B=this._eventData,R=this._eventContainer;B.cancelled=!1;for(var I=!1,N=0;N<P.length;N++){var X=P[N];if(!(!X.input||!X.input.enabled)){if(X.emit(a.GAMEOBJECT_POINTER_UP,E,X.input.localX,X.input.localY,R),B.cancelled||!X.input||!X.input.enabled){I=!0;break}if(this.emit(a.GAMEOBJECT_UP,E,X,R),B.cancelled||!X.input||!X.input.enabled){I=!0;break}}}return!I&&this.manager&&(E.upElement===this.manager.game.canvas?this.emit(a.POINTER_UP,E,P):this.emit(a.POINTER_UP_OUTSIDE,E)),P.length},queueForInsertion:function(E){return this._pendingInsertion.indexOf(E)===-1&&this._list.indexOf(E)===-1&&this._pendingInsertion.push(E),this},queueForRemoval:function(E){return this._pendingRemoval.push(E),this},setDraggable:function(E,P){P===void 0&&(P=!0),Array.isArray(E)||(E=[E]);for(var B=0;B<E.length;B++){var R=E[B];R.input.draggable=P;var I=this._draggable.indexOf(R);P&&I===-1?this._draggable.push(R):!P&&I>-1&&this._draggable.splice(I,1)}return this},makePixelPerfect:function(E){E===void 0&&(E=1);var P=this.systems.textures;return e(P,E)},setHitArea:function(E,P,B){if(P===void 0)return this.setHitAreaFromTexture(E);Array.isArray(E)||(E=[E]);var R=!1,I=!1,N=!1,X=!1,Y=!1,O=!0;if(m(P)){var D=P;P=l(D,"hitArea",null),B=l(D,"hitAreaCallback",null),R=l(D,"draggable",!1),I=l(D,"dropZone",!1),N=l(D,"cursor",!1),X=l(D,"useHandCursor",!1),Y=l(D,"pixelPerfect",!1);var F=l(D,"alphaTolerance",1);Y&&(P={},B=this.makePixelPerfect(F)),(!P||!B)&&(this.setHitAreaFromTexture(E),O=!1)}else typeof P=="function"&&!B&&(B=P,P={});for(var M=0;M<E.length;M++){var L=E[M];if(Y&&L.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var G=L.input?L.input:n(L,P,B);G.customHitArea=O,G.dropZone=I,G.cursor=X?"pointer":N,L.input=G,R&&this.setDraggable(L),this.queueForInsertion(L)}return this},setHitAreaCircle:function(E,P,B,R,I){I===void 0&&(I=v);var N=new d(P,B,R);return this.setHitArea(E,N,I)},setHitAreaEllipse:function(E,P,B,R,I,N){N===void 0&&(N=i);var X=new h(P,B,R,I);return this.setHitArea(E,X,N)},setHitAreaFromTexture:function(E,P){P===void 0&&(P=y),Array.isArray(E)||(E=[E]);for(var B=0;B<E.length;B++){var R=E[B],I=R.frame,N=0,X=0;if(R.width?(N=R.width,X=R.height):I&&(N=I.realWidth,X=I.realHeight),R.type==="Container"&&(N===0||X===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}N!==0&&X!==0&&(R.input=n(R,new g(0,0,N,X),P),this.queueForInsertion(R))}return this},setHitAreaRectangle:function(E,P,B,R,I,N){N===void 0&&(N=y);var X=new g(P,B,R,I);return this.setHitArea(E,X,N)},setHitAreaTriangle:function(E,P,B,R,I,N,X,Y){Y===void 0&&(Y=A);var O=new C(P,B,R,I,N,X);return this.setHitArea(E,O,Y)},enableDebug:function(E,P){P===void 0&&(P=65280);var B=E.input;if(!B||!B.hitArea)return this;var R=B.hitArea,I=R.type,N=B.hitAreaDebug,X=this.systems.add,Y=this.systems.updateList;N&&(Y.remove(N),N.destroy(),N=null);var O=0,D=0;switch(I){case f.CIRCLE:N=X.arc(0,0,R.radius),O=R.x-R.radius,D=R.y-R.radius;break;case f.ELLIPSE:N=X.ellipse(0,0,R.width,R.height),O=R.x-R.width/2,D=R.y-R.height/2;break;case f.LINE:N=X.line(0,0,R.x1,R.y1,R.x2,R.y2);break;case f.POLYGON:N=X.polygon(0,0,R.points);break;case f.RECTANGLE:N=X.rectangle(0,0,R.width,R.height),O=R.x,D=R.y;break;case f.TRIANGLE:N=X.triangle(0,0,R.x1,R.y1,R.x2,R.y2,R.x3,R.y3);break}return N&&(N.isFilled=!1,N.strokeColor=P,N.preUpdate=function(){N.setStrokeStyle(1/E.scale,N.strokeColor),N.setDisplayOrigin(E.displayOriginX,E.displayOriginY);var F=E.x,M=E.y,L=E.rotation,G=E.scaleX,U=E.scaleY;if(E.parentContainer){var W=E.getWorldTransformMatrix();F=W.tx,M=W.ty,L=W.rotation,G=W.scaleX,U=W.scaleY}N.setRotation(L),N.setScale(G,U),N.setPosition(F+O*G,M+D*U),N.setScrollFactor(E.scrollFactorX,E.scrollFactorY),N.setDepth(E.depth)},Y.add(N),B.hitAreaDebug=N),this},removeDebug:function(E){var P=E.input;if(P&&P.hitAreaDebug){var B=P.hitAreaDebug;this.systems.updateList.remove(B),B.destroy(),P.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(E){return this.pollRate=E,this._pollTimer=0,this},setGlobalTopOnly:function(E){return this.manager.globalTopOnly=E,this},setTopOnly:function(E){return this.topOnly=E,this},sortGameObjects:function(E,P){if(E.length<2||!P.camera)return E;var B=P.camera.renderList;return E.sort(function(R,I){var N=Math.max(B.indexOf(R),0),X=Math.max(B.indexOf(I),0);return X-N})},sortDropZones:function(E){return E.length<2?E:(this.scene.sys.depthSort(),E.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(E,P){if(!E.parentContainer&&!P.parentContainer)return this.displayList.getIndex(P)-this.displayList.getIndex(E);if(E.parentContainer===P.parentContainer)return P.parentContainer.getIndex(P)-E.parentContainer.getIndex(E);if(E.parentContainer===P)return-1;if(P.parentContainer===E)return 1;for(var B=E.getIndexList(),R=P.getIndexList(),I=Math.min(B.length,R.length),N=0;N<I;N++){var X=B[N],Y=R[N];if(X!==Y)return Y-X}return R.length-B.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(E){return this.manager.addPointer(E)},setDefaultCursor:function(E){return this.manager.setDefaultCursor(E),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(a.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var E=0;E<10;E++)this._drag[E]=[],this._over[E]=[];this.removeAllListeners();var P=this.manager;P.canvas.style.cursor=P.defaultCursor;var B=this.systems.events;B.off(T.TRANSITION_START,this.transitionIn,this),B.off(T.TRANSITION_OUT,this.transitionOut,this),B.off(T.TRANSITION_COMPLETE,this.transitionComplete,this),B.off(T.PRE_UPDATE,this.preUpdate,this),P.events.off(a.GAME_OUT,this.onGameOut,this),P.events.off(a.GAME_OVER,this.onGameOver,this),B.off(T.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var E=this.manager.pointers,P=0;P<E.length;P++)E[P].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(a.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(T.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});x.register("InputPlugin",w,"input"),p.exports=w},63399:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(10850),v={},o={};o.register=function(r,n,e,s,h){v[r]={plugin:n,mapping:e,settingsKey:s,configKey:h}},o.getPlugin=function(r){return v[r]},o.install=function(r){var n=r.scene.sys,e=n.settings.input,s=n.game.config;for(var h in v){var i=v[h].plugin,a=v[h].mapping,u=v[h].settingsKey,l=v[h].configKey;d(e,u,s[l])&&(r[a]=new i(r))}},o.remove=function(r){v.hasOwnProperty(r)&&delete v[r]},p.exports=o},40398:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(90447),v=t(56694),o=t(53996),r=t(88456),n=t(44521),e=t(93736),s=t(36580),h=new v({initialize:function(a,u){this.manager=a,this.id=u,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=u===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(i){var a=i.getWorldPoint(this.x,this.y);return this.worldX=a.x,this.worldY=a.y,this},positionToCamera:function(i,a){return i.getWorldPoint(this.x,this.y,a)},updateMotion:function(){var i=this.position.x,a=this.position.y,u=this.midPoint.x,l=this.midPoint.y;if(!(i===u&&a===l)){var f=n(this.motionFactor,u,i),c=n(this.motionFactor,l,a);r(f,i,.1)&&(f=i),r(c,a,.1)&&(c=a),this.midPoint.set(f,c);var m=i-f,x=a-c;this.velocity.set(m,x),this.angle=d(f,c,i,a),this.distance=Math.sqrt(m*m+x*x)}},up:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=i.timeStamp,this.wasTouch=!1)},down:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),s.macOS&&i.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=i.timeStamp),this.wasTouch=!1},move:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.locked&&(this.movementX=i.movementX||i.mozMovementX||i.webkitMovementX||0,this.movementY=i.movementY||i.mozMovementY||i.webkitMovementY||0),this.moveTime=i.timeStamp,this.wasTouch=!1},wheel:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.deltaX=i.deltaX,this.deltaY=i.deltaY,this.deltaZ=i.deltaZ,this.wasTouch=!1},touchstart:function(i,a){i.pointerId&&(this.pointerId=i.pointerId),this.identifier=i.identifier,this.target=i.target,this.active=!0,this.buttons=1,this.event=a,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=a.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(i,a){this.event=a,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.moveTime=a.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(i,a){this.buttons=0,this.event=a,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=a.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(i,a){this.buttons=0,this.event=a,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=a.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?d(this.downX,this.downY,this.x,this.y):d(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(i,a){i===void 0&&(i=10),a===void 0&&(a=[]);for(var u=this.prevPosition.x,l=this.prevPosition.y,f=this.position.x,c=this.position.y,m=0;m<i;m++){var x=1/i*m;a[m]={x:n(x,u,f),y:n(x,l,c)}}return a},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(i){this.position.x=i}},y:{get:function(){return this.position.y},set:function(i){this.position.y=i}},time:{get:function(){return this.event?this.event.timeStamp:0}}});p.exports=h},72687:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};p.exports=S},14874:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},54168:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},526:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},81623:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragenter"},94472:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},9304:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragleave"},34265:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragover"},50151:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},98134:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drop"},56773:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectdown"},45824:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},39578:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragenter"},72072:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},82569:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragleave"},70833:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragover"},81442:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},32936:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drop"},99658:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectmove"},60515:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectout"},55254:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectover"},34782:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdown"},41769:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointermove"},65588:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerout"},61640:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerover"},49342:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerup"},82662:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wheel"},13058:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectup"},52426:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectwheel"},78072:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameout"},1545:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameover"},67137:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},27678:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="process"},22257:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},90379:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerlockchange"},88909:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdown"},36548:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdownoutside"},18483:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointermove"},22355:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerout"},7997:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerover"},66318:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerup"},94812:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerupoutside"},37310:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wheel"},24196:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="preupdate"},27053:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="shutdown"},29413:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},25165:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},33963:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BOOT:t(14874),DESTROY:t(54168),DRAG_END:t(526),DRAG_ENTER:t(81623),DRAG:t(94472),DRAG_LEAVE:t(9304),DRAG_OVER:t(34265),DRAG_START:t(50151),DROP:t(98134),GAME_OUT:t(78072),GAME_OVER:t(1545),GAMEOBJECT_DOWN:t(56773),GAMEOBJECT_DRAG_END:t(45824),GAMEOBJECT_DRAG_ENTER:t(39578),GAMEOBJECT_DRAG:t(72072),GAMEOBJECT_DRAG_LEAVE:t(82569),GAMEOBJECT_DRAG_OVER:t(70833),GAMEOBJECT_DRAG_START:t(81442),GAMEOBJECT_DROP:t(32936),GAMEOBJECT_MOVE:t(99658),GAMEOBJECT_OUT:t(60515),GAMEOBJECT_OVER:t(55254),GAMEOBJECT_POINTER_DOWN:t(34782),GAMEOBJECT_POINTER_MOVE:t(41769),GAMEOBJECT_POINTER_OUT:t(65588),GAMEOBJECT_POINTER_OVER:t(61640),GAMEOBJECT_POINTER_UP:t(49342),GAMEOBJECT_POINTER_WHEEL:t(82662),GAMEOBJECT_UP:t(13058),GAMEOBJECT_WHEEL:t(52426),MANAGER_BOOT:t(67137),MANAGER_PROCESS:t(27678),MANAGER_UPDATE:t(22257),POINTER_DOWN:t(88909),POINTER_DOWN_OUTSIDE:t(36548),POINTER_MOVE:t(18483),POINTER_OUT:t(22355),POINTER_OVER:t(7997),POINTER_UP:t(66318),POINTER_UP_OUTSIDE:t(94812),POINTER_WHEEL:t(37310),POINTERLOCK_CHANGE:t(90379),PRE_UPDATE:t(24196),SHUTDOWN:t(27053),START:t(29413),UPDATE:t(25165)}},70848:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=new d({initialize:function(r,n){this.pad=r,this.events=r.events,this.index=n,this.value=0,this.threshold=.1},update:function(o){this.value=o},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});p.exports=v},21274:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(43200),o=new d({initialize:function(n,e){this.pad=n,this.events=n.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(r){this.value=r;var n=this.pad,e=this.index;r>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(v.BUTTON_DOWN,n,this,r),this.pad.emit(v.GAMEPAD_BUTTON_DOWN,e,r,this)):this.pressed&&(this.pressed=!1,this.events.emit(v.BUTTON_UP,n,this,r),this.pad.emit(v.GAMEPAD_BUTTON_UP,e,r,this))},destroy:function(){this.pad=null,this.events=null}});p.exports=o},75956:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(70848),v=t(21274),o=t(56694),r=t(6659),n=t(93736),e=new o({Extends:r,initialize:function(h,i){r.call(this),this.manager=h,this.pad=i,this.id=i.id,this.index=i.index;for(var a=[],u=0;u<i.buttons.length;u++)a.push(new v(this,u));this.buttons=a;var l=[];for(u=0;u<i.axes.length;u++)l.push(new d(this,u));this.axes=l,this.vibration=i.vibrationActuator;var f={value:0,pressed:!1};this._LCLeft=a[14]?a[14]:f,this._LCRight=a[15]?a[15]:f,this._LCTop=a[12]?a[12]:f,this._LCBottom=a[13]?a[13]:f,this._RCLeft=a[2]?a[2]:f,this._RCRight=a[1]?a[1]:f,this._RCTop=a[3]?a[3]:f,this._RCBottom=a[0]?a[0]:f,this._FBLeftTop=a[4]?a[4]:f,this._FBLeftBottom=a[6]?a[6]:f,this._FBRightTop=a[5]?a[5]:f,this._FBRightBottom=a[7]?a[7]:f;var c={value:0};this._HAxisLeft=l[0]?l[0]:c,this._VAxisLeft=l[1]?l[1]:c,this._HAxisRight=l[2]?l[2]:c,this._VAxisRight=l[3]?l[3]:c,this.leftStick=new n,this.rightStick=new n,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(s){return this.axes[s].getValue()},setAxisThreshold:function(s){for(var h=0;h<this.axes.length;h++)this.axes[h].threshold=s},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(s){return this.buttons[s].value},isButtonDown:function(s){return this.buttons[s].pressed},update:function(s){if(!(s.timestamp<this._created)){var h,i=this.buttons,a=s.buttons,u=i.length;for(h=0;h<u;h++)i[h].update(a[h].value);var l=this.axes,f=s.axes;for(u=l.length,h=0;h<u;h++)l[h].update(f[h]);u>=2&&(this.leftStick.set(l[0].getValue(),l[1].getValue()),u>=4&&this.rightStick.set(l[2].getValue(),l[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var s;for(s=0;s<this.buttons.length;s++)this.buttons[s].destroy();for(s=0;s<this.axes.length;s++)this.axes[s].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});p.exports=e},1379:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(6659),o=t(43200),r=t(75956),n=t(10850),e=t(63399),s=t(33963),h=new d({Extends:v,initialize:function(a){v.call(this),this.scene=a.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=a,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,a.pluginEvents.once(s.BOOT,this.boot,this),a.pluginEvents.on(s.START,this.start,this)},boot:function(){var i=this.scene.sys.game,a=this.settings.input,u=i.config;this.enabled=n(a,"gamepad",u.inputGamepad)&&i.device.input.gamepads,this.target=n(a,"gamepad.target",u.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(s.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(s.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var i=this,a=this.target,u=function(l){l.defaultPrevented||!i.isActive()||(i.refreshPads(),i.queue.push(l))};this.onGamepadHandler=u,a.addEventListener("gamepadconnected",u,!1),a.addEventListener("gamepaddisconnected",u,!1),this.sceneInputPlugin.pluginEvents.on(s.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(s.UPDATE,this.update);for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].removeAllListeners()},disconnectAll:function(){for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].pad.connected=!1},refreshPads:function(){var i=navigator.getGamepads();if(!i)this.disconnectAll();else for(var a=this.gamepads,u=0;u<i.length;u++){var l=i[u];if(l){var f=l.id,c=l.index,m=a[c];if(m)m.id!==f?(m.destroy(),a[c]=new r(this,l)):m.update(l);else{var x=new r(this,l);a[c]=x,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=x):this._pad3=x:this._pad2=x:this._pad1=x}}}},getAll:function(){for(var i=[],a=this.gamepads,u=0;u<a.length;u++)a[u]&&i.push(a[u]);return i},getPad:function(i){for(var a=this.gamepads,u=0;u<a.length;u++)if(a[u]&&a[u].index===i)return a[u]},update:function(){if(this.enabled){this.refreshPads();var i=this.queue.length;if(i!==0)for(var a=this.queue.splice(0,i),u=0;u<i;u++){var l=a[u],f=this.getPad(l.gamepad.index);l.type==="gamepadconnected"?this.emit(o.CONNECTED,f,l):l.type==="gamepaddisconnected"&&this.emit(o.DISCONNECTED,f,l)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var i=0;i<this.gamepads.length;i++)this.gamepads[i]&&this.gamepads[i].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",h,"gamepad","gamepad","inputGamepad"),p.exports=h},33171:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},74982:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},43247:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},4898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DUALSHOCK_4:t(74982),SNES_USB:t(33171),XBOX_360:t(43247)}},17344:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},36635:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},85724:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="connected"},55832:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="disconnected"},772:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},33608:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},43200:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BUTTON_DOWN:t(17344),BUTTON_UP:t(36635),CONNECTED:t(85724),DISCONNECTED:t(55832),GAMEPAD_BUTTON_DOWN:t(772),GAMEPAD_BUTTON_UP:t(33608)}},92636:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Axis:t(70848),Button:t(21274),Events:t(43200),Gamepad:t(75956),GamepadPlugin:t(1379),Configs:t(4898)}},20873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72687),v=t(98611),o={CreatePixelPerfectHandler:t(18104),CreateInteractiveObject:t(27395),Events:t(33963),Gamepad:t(92636),InputManager:t(69898),InputPlugin:t(12499),InputPluginCache:t(63399),Keyboard:t(28388),Mouse:t(11343),Pointer:t(40398),Touch:t(77423)};o=v(!1,o,d),p.exports=o},71064:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(66458),v=t(56694),o=t(97081),r=t(33963),n=t(11873),e=t(72283),s=new v({initialize:function(i){this.manager=i,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,i.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var h=this.manager.config;this.enabled=h.inputKeyboard,this.target=h.inputKeyboardEventTarget,this.addCapture(h.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(o.POST_STEP,this.postUpdate,this)},startListeners:function(){var h=this;this.onKeyDown=function(a){if(!(a.defaultPrevented||!h.enabled||!h.manager)){h.queue.push(a),h.manager.events.emit(r.MANAGER_PROCESS);var u=a.altKey||a.ctrlKey||a.shiftKey||a.metaKey;h.preventDefault&&!u&&h.captures.indexOf(a.keyCode)>-1&&a.preventDefault()}},this.onKeyUp=function(a){if(!(a.defaultPrevented||!h.enabled||!h.manager)){h.queue.push(a),h.manager.events.emit(r.MANAGER_PROCESS);var u=a.altKey||a.ctrlKey||a.shiftKey||a.metaKey;h.preventDefault&&!u&&h.captures.indexOf(a.keyCode)>-1&&a.preventDefault()}};var i=this.target;i&&(i.addEventListener("keydown",this.onKeyDown,!1),i.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var h=this.target;h.removeEventListener("keydown",this.onKeyDown,!1),h.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(h){typeof h=="string"&&(h=h.split(",")),Array.isArray(h)||(h=[h]);for(var i=this.captures,a=0;a<h.length;a++){var u=h[a];typeof u=="string"&&(u=n[u.trim().toUpperCase()]),i.indexOf(u)===-1&&i.push(u)}this.preventDefault=i.length>0},removeCapture:function(h){typeof h=="string"&&(h=h.split(",")),Array.isArray(h)||(h=[h]);for(var i=this.captures,a=0;a<h.length;a++){var u=h[a];typeof u=="string"&&(u=n[u.toUpperCase()]),d(i,u)}this.preventDefault=i.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(o.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});p.exports=s},89666:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(6659),o=t(94030),r=t(97081),n=t(10850),e=t(33963),s=t(63399),h=t(50165),i=t(11873),a=t(95625),u=t(48044),l=t(7599),f=t(84314),c=new d({Extends:v,initialize:function(x){v.call(this),this.game=x.systems.game,this.scene=x.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=x,this.manager=x.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,x.pluginEvents.once(e.BOOT,this.boot,this),x.pluginEvents.on(e.START,this.start,this)},boot:function(){var m=this.settings.input;this.enabled=n(m,"keyboard",!0);var x=n(m,"keyboard.capture",null);x&&this.addCaptures(x),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(r.BLUR,this.resetKeys,this),this.scene.sys.events.on(l.PAUSE,this.resetKeys,this),this.scene.sys.events.on(l.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(m){return this.manager.addCapture(m),this},removeCapture:function(m){return this.manager.removeCapture(m),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:i.UP,down:i.DOWN,left:i.LEFT,right:i.RIGHT,space:i.SPACE,shift:i.SHIFT})},addKeys:function(m,x,g){x===void 0&&(x=!0),g===void 0&&(g=!1);var y={};if(typeof m=="string"){m=m.split(",");for(var T=0;T<m.length;T++){var C=m[T].trim();C&&(y[C]=this.addKey(C,x,g))}}else for(var A in m)y[A]=this.addKey(m[A],x,g);return y},addKey:function(m,x,g){x===void 0&&(x=!0),g===void 0&&(g=!1);var y=this.keys;if(m instanceof h){var T=y.indexOf(m);return T>-1?y[T]=m:y[m.keyCode]=m,x&&this.addCapture(m.keyCode),m.setEmitOnRepeat(g),m}return typeof m=="string"&&(m=i[m.toUpperCase()]),y[m]||(y[m]=new h(this,m),x&&this.addCapture(m),y[m].setEmitOnRepeat(g)),y[m]},removeKey:function(m,x,g){x===void 0&&(x=!1),g===void 0&&(g=!1);var y=this.keys,T;if(m instanceof h){var C=y.indexOf(m);C>-1&&(T=this.keys[C],this.keys[C]=void 0)}else typeof m=="string"&&(m=i[m.toUpperCase()]);return y[m]&&(T=y[m],y[m]=void 0),T&&(T.plugin=null,g&&this.removeCapture(T.keyCode),x&&T.destroy()),this},removeAllKeys:function(m,x){m===void 0&&(m=!1),x===void 0&&(x=!1);for(var g=this.keys,y=0;y<g.length;y++){var T=g[y];T&&(g[y]=void 0,x&&this.removeCapture(T.keyCode),m&&T.destroy())}return this},createCombo:function(m,x){return new a(this,m,x)},checkDown:function(m,x){if(x===void 0&&(x=0),this.enabled&&m.isDown){var g=f(this.time-m.timeDown,x);if(g>m._tick)return m._tick=g,!0}return!1},update:function(){var m=this.manager.queue,x=m.length;if(!(!this.isActive()||x===0))for(var g=this.keys,y=0;y<x;y++){var T=m[y],C=T.keyCode,A=g[C],w=!1;T.cancelled===void 0&&(T.cancelled=0,T.stopImmediatePropagation=function(){T.cancelled=1},T.stopPropagation=function(){T.cancelled=-1}),T.cancelled!==-1&&(C===this.prevCode&&T.timeStamp===this.prevTime&&T.type===this.prevType||(this.prevCode=C,this.prevTime=T.timeStamp,this.prevType=T.type,T.type==="keydown"?(A&&(w=A.isDown,A.onDown(T)),!T.cancelled&&(!A||!w)&&(u[C]&&this.emit(o.KEY_DOWN+u[C],T),T.cancelled||this.emit(o.ANY_KEY_DOWN,T))):(A&&A.onUp(T),T.cancelled||(u[C]&&this.emit(o.KEY_UP+u[C],T),T.cancelled||this.emit(o.ANY_KEY_UP,T))),T.cancelled===1&&(T.cancelled=0)))}},resetKeys:function(){for(var m=this.keys,x=0;x<m.length;x++)m[x]&&m[x].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(r.BLUR,this.resetKeys),this.scene.sys.events.off(l.PAUSE,this.resetKeys,this),this.scene.sys.events.off(l.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var m=this.keys,x=0;x<m.length;x++)m[x]&&m[x].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});s.register("KeyboardPlugin",c,"keyboard","keyboard","inputKeyboard"),p.exports=c},60258:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return d.timeLastMatched=t.timeStamp,d.index++,d.index===d.size?!0:(d.current=d.keyCodes[d.index],!1)};p.exports=S},95625:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(94030),o=t(72632),r=t(2544),n=t(88754),e=new d({initialize:function(h,i,a){if(a===void 0&&(a={}),i.length<2)return!1;this.manager=h,this.enabled=!0,this.keyCodes=[];for(var u=0;u<i.length;u++){var l=i[u];typeof l=="string"?this.keyCodes.push(l.toUpperCase().charCodeAt(0)):typeof l=="number"?this.keyCodes.push(l):l.hasOwnProperty("keyCode")&&this.keyCodes.push(l.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=o(a,"resetOnWrongKey",!0),this.maxKeyDelay=o(a,"maxKeyDelay",0),this.resetOnMatch=o(a,"resetOnMatch",!1),this.deleteOnMatch=o(a,"deleteOnMatch",!1);var f=this,c=function(m){if(!(f.matched||!f.enabled)){var x=r(m,f);x&&(f.manager.emit(v.COMBO_MATCH,f,m),f.resetOnMatch?n(f):f.deleteOnMatch&&f.destroy())}};this.onKeyDown=c,this.manager.on(v.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(v.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});p.exports=e},2544:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(60258),v=function(o,r){if(r.matched)return!0;var n=!1,e=!1;if(o.keyCode===r.current)if(r.index>0&&r.maxKeyDelay>0){var s=r.timeLastMatched+r.maxKeyDelay;o.timeStamp<=s&&(e=!0,n=d(o,r))}else e=!0,n=d(o,r);return!e&&r.resetOnWrongKey&&(r.index=0,r.current=r.keyCodes[0]),n&&(r.timeLastMatched=o.timeStamp,r.matched=!0,r.timeMatched=o.timeStamp),n};p.exports=v},88754:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};p.exports=S},5044:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keydown"},40813:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keyup"},89319:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keycombomatch"},43267:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},78595:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keydown-"},30056:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keyup-"},81939:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},94030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ANY_KEY_DOWN:t(5044),ANY_KEY_UP:t(40813),COMBO_MATCH:t(89319),DOWN:t(43267),KEY_DOWN:t(78595),KEY_UP:t(30056),UP:t(81939)}},28388:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(94030),KeyboardManager:t(71064),KeyboardPlugin:t(89666),Key:t(50165),KeyCodes:t(11873),KeyCombo:t(95625),AdvanceKeyCombo:t(60258),ProcessKeyCombo:t(2544),ResetKeyCombo:t(88754),JustDown:t(42460),JustUp:t(53162),DownDuration:t(64964),UpDuration:t(70331)}},64964:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){d===void 0&&(d=50);var v=t.plugin.game.loop.time-t.timeDown;return t.isDown&&v<d};p.exports=S},42460:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t._justDown?(t._justDown=!1,!0):!1};p.exports=S},53162:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t._justUp?(t._justUp=!1,!0):!1};p.exports=S},50165:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(6659),o=t(94030),r=new d({Extends:v,initialize:function(e,s){v.call(this),this.plugin=e,this.keyCode=s,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(n){return this.emitOnRepeat=n,this},onDown:function(n){this.originalEvent=n,this.enabled&&(this.altKey=n.altKey,this.ctrlKey=n.ctrlKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.location=n.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(o.DOWN,this,n):(this.isDown=!0,this.isUp=!1,this.timeDown=n.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(o.DOWN,this,n)))},onUp:function(n){this.originalEvent=n,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=n.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(o.UP,this,n))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});p.exports=r},11873:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};p.exports=S},48044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(11873),v={};for(var o in d)v[d[o]]=o;p.exports=v},70331:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){d===void 0&&(d=50);var v=t.plugin.game.loop.time-t.timeUp;return t.isUp&&v<d};p.exports=S},7905:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(90185),o=t(33963),r=t(72283),n=new d({initialize:function(s){this.manager=s,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=r,this.onMouseDown=r,this.onMouseUp=r,this.onMouseDownWindow=r,this.onMouseUpWindow=r,this.onMouseOver=r,this.onMouseOut=r,this.onMouseWheel=r,this.pointerLockChange=r,this.isTop=!0,s.events.once(o.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(v.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){v.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var s=this,h=this.manager,i=h.canvas,a=window&&window.focus&&h.game.config.autoFocus;this.onMouseMove=function(l){!l.defaultPrevented&&s.enabled&&h&&h.enabled&&(h.onMouseMove(l),s.preventDefaultMove&&l.preventDefault())},this.onMouseDown=function(l){a&&window.focus(),!l.defaultPrevented&&s.enabled&&h&&h.enabled&&(h.onMouseDown(l),s.preventDefaultDown&&l.target===i&&l.preventDefault())},this.onMouseDownWindow=function(l){!l.defaultPrevented&&s.enabled&&h&&h.enabled&&l.target!==i&&h.onMouseDown(l)},this.onMouseUp=function(l){!l.defaultPrevented&&s.enabled&&h&&h.enabled&&(h.onMouseUp(l),s.preventDefaultUp&&l.target===i&&l.preventDefault())},this.onMouseUpWindow=function(l){!l.defaultPrevented&&s.enabled&&h&&h.enabled&&l.target!==i&&h.onMouseUp(l)},this.onMouseOver=function(l){!l.defaultPrevented&&s.enabled&&h&&h.enabled&&h.setCanvasOver(l)},this.onMouseOut=function(l){!l.defaultPrevented&&s.enabled&&h&&h.enabled&&h.setCanvasOut(l)},this.onMouseWheel=function(l){!l.defaultPrevented&&s.enabled&&h&&h.enabled&&h.onMouseWheel(l),s.preventDefaultWheel&&l.target===i&&l.preventDefault()};var u={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,u),e.addEventListener("mouseout",this.onMouseOut,u),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,u),window&&h.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,u),window.top.addEventListener("mouseup",this.onMouseUpWindow,u)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,u),window.addEventListener("mouseup",this.onMouseUpWindow,u),this.isTop=!1}v.pointerLock&&(this.pointerLockChange=function(l){var f=s.target;s.locked=document.pointerLockElement===f||document.mozPointerLockElement===f||document.webkitPointerLockElement===f,h.onPointerLockChange(l)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),v.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});p.exports=n},11343:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={MouseManager:t(7905)}},37579:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(33963),o=t(72283),r=new d({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=o,this.onTouchStartWindow=o,this.onTouchMove=o,this.onTouchEnd=o,this.onTouchEndWindow=o,this.onTouchCancel=o,this.onTouchCancelWindow=o,this.isTop=!0,e.events.once(v.MANAGER_BOOT,this.boot,this)},boot:function(){var n=this.manager.config;this.enabled=n.inputTouch,this.target=n.inputTouchEventTarget,this.capture=n.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,n.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(n){return n.preventDefault(),!1}),this},startListeners:function(){var n=this.target;if(n){var e=this,s=this.manager,h=s.canvas,i=window&&window.focus&&s.game.config.autoFocus;this.onTouchMove=function(f){!f.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchMove(f),e.capture&&f.cancelable&&f.preventDefault())},this.onTouchStart=function(f){i&&window.focus(),!f.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchStart(f),e.capture&&f.cancelable&&f.target===h&&f.preventDefault())},this.onTouchStartWindow=function(f){!f.defaultPrevented&&e.enabled&&s&&s.enabled&&f.target!==h&&s.onTouchStart(f)},this.onTouchEnd=function(f){!f.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchEnd(f),e.capture&&f.cancelable&&f.target===h&&f.preventDefault())},this.onTouchEndWindow=function(f){!f.defaultPrevented&&e.enabled&&s&&s.enabled&&f.target!==h&&s.onTouchEnd(f)},this.onTouchCancel=function(f){!f.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchCancel(f),e.capture&&f.preventDefault())},this.onTouchCancelWindow=function(f){!f.defaultPrevented&&e.enabled&&s&&s.enabled&&s.onTouchCancel(f)};var a=this.capture,u={passive:!0},l={passive:!1};if(n.addEventListener("touchstart",this.onTouchStart,a?l:u),n.addEventListener("touchmove",this.onTouchMove,a?l:u),n.addEventListener("touchend",this.onTouchEnd,a?l:u),n.addEventListener("touchcancel",this.onTouchCancel,a?l:u),window&&s.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,l),window.top.addEventListener("touchend",this.onTouchEndWindow,l),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,l)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,l),window.addEventListener("touchend",this.onTouchEndWindow,l),window.addEventListener("touchcancel",this.onTouchCancelWindow,l),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var n=this.target;n.removeEventListener("touchstart",this.onTouchStart),n.removeEventListener("touchmove",this.onTouchMove),n.removeEventListener("touchend",this.onTouchEnd),n.removeEventListener("touchcancel",this.onTouchCancel),window&&(n=this.isTop?window.top:window,n.removeEventListener("touchstart",this.onTouchStartWindow),n.removeEventListener("touchend",this.onTouchEndWindow),n.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});p.exports=r},77423:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={TouchManager:t(37579)}},98035:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(12117),o=t(683),r=t(72632),n=t(30750),e=t(43531),s=t(88490),h=t(33868),i=new d({initialize:function(u,l){if(this.loader=u,this.cache=r(l,"cache",!1),this.type=r(l,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=r(l,"key",!1);var f=this.key;if(u.prefix&&u.prefix!==""&&(this.key=u.prefix+f),!this.key)throw new Error("Invalid File key: "+this.key);var c=r(l,"url");c===void 0?c=u.path+f+"."+r(l,"extension",""):typeof c=="string"&&!c.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(c=u.path+c),this.url=c,this.src="",this.xhrSettings=h(r(l,"responseType",void 0)),r(l,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,r(l,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?v.FILE_POPULATED:v.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=r(l,"config",{}),this.multiFile,this.linkFile},setLink:function(a){this.linkFile=a,a.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===v.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=v.FILE_LOADING,this.src=n(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=s(this,this.loader.xhr))},onLoad:function(a,u){var l=a.responseURL&&this.loader.localSchemes.some(function(m){return a.responseURL.indexOf(m)===0}),f=l&&u.target.status===0,c=!(u.target&&u.target.status!==200)||f;a.readyState===4&&a.status>=400&&a.status<=599&&(c=!1),this.state=v.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,c)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(a){a.lengthComputable&&(this.bytesLoaded=a.loaded,this.bytesTotal=a.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(o.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=v.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=v.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=v.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(a){if(this.state!==v.FILE_PENDING_DESTROY){a===void 0&&(a=this.data);var u=this.key,l=this.type;this.loader.emit(o.FILE_COMPLETE,u,l,a),this.loader.emit(o.FILE_KEY_COMPLETE+l+"-"+u,u,l,a),this.loader.flagForRemoval(this),this.state=v.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});i.createObjectURL=function(a,u,l){if(typeof URL=="function")a.src=URL.createObjectURL(u);else{var f=new FileReader;f.onload=function(){a.removeAttribute("crossOrigin"),a.src="data:"+(u.type||l)+";base64,"+f.result.split(",")[1]},f.onerror=a.onerror,f.readAsDataURL(u)}},i.revokeObjectURL=function(a){typeof URL=="function"&&URL.revokeObjectURL(a.src)},p.exports=i},76846:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},t={install:function(d){for(var v in S)d[v]=S[v]},register:function(d,v){S[d]=v},destroy:function(){S={}}};p.exports=t},30750:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:d+t.url:!1};p.exports=S},67285:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(12117),o=t(58403),r=t(6659),n=t(683),e=t(76846),s=t(72632),h=t(10850),i=t(91963),a=t(7599),u=t(33868),l=new d({Extends:r,initialize:function(c){r.call(this);var m=c.sys.game.config,x=c.sys.settings.loader;this.scene=c,this.systems=c.sys,this.cacheManager=c.sys.cache,this.textureManager=c.sys.textures,this.sceneManager=c.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(s(x,"baseURL",m.loaderBaseURL)),this.setPath(s(x,"path",m.loaderPath)),this.setPrefix(s(x,"prefix",m.loaderPrefix)),this.maxParallelDownloads=s(x,"maxParallelDownloads",m.loaderMaxParallelDownloads),this.xhr=u(s(x,"responseType",m.loaderResponseType),s(x,"async",m.loaderAsync),s(x,"user",m.loaderUser),s(x,"password",m.loaderPassword),s(x,"timeout",m.loaderTimeout),s(x,"withCredentials",m.loaderWithCredentials)),this.crossOrigin=s(x,"crossOrigin",m.loaderCrossOrigin),this.imageLoadType=s(x,"imageLoadType",m.loaderImageLoadType),this.localSchemes=s(x,"localScheme",m.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new o,this.inflight=new o,this.queue=new o,this._deleteQueue=new o,this.totalFailed=0,this.totalComplete=0,this.state=v.LOADER_IDLE,this.multiKeyIndex=0,c.sys.events.once(a.BOOT,this.boot,this),c.sys.events.on(a.START,this.pluginStart,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(a.SHUTDOWN,this.shutdown,this)},setBaseURL:function(f){return f===void 0&&(f=""),f!==""&&f.substr(-1)!=="/"&&(f=f.concat("/")),this.baseURL=f,this},setPath:function(f){return f===void 0&&(f=""),f!==""&&f.substr(-1)!=="/"&&(f=f.concat("/")),this.path=f,this},setPrefix:function(f){return f===void 0&&(f=""),this.prefix=f,this},setCORS:function(f){return this.crossOrigin=f,this},addFile:function(f){Array.isArray(f)||(f=[f]);for(var c=0;c<f.length;c++){var m=f[c];this.keyExists(m)||(this.list.set(m),this.emit(n.ADD,m.key,m.type,this,m),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(f){var c=f.hasCacheConflict();return c||this.list.iterate(function(m){if(m.type===f.type&&m.key===f.key)return c=!0,!1}),!c&&this.isLoading()&&(this.inflight.iterate(function(m){if(m.type===f.type&&m.key===f.key)return c=!0,!1}),this.queue.iterate(function(m){if(m.type===f.type&&m.key===f.key)return c=!0,!1})),c},addPack:function(f,c){if(typeof c=="string"){var m=h(f,c);m&&(f={packKey:m})}var x=0,g=this.baseURL,y=this.path,T=this.prefix;for(var C in f)if(Object.prototype.hasOwnProperty.call(f,C)){var A=f[C],w=s(A,"baseURL",g),E=s(A,"path",y),P=s(A,"prefix",T),B=s(A,"files",null),R=s(A,"defaultType","void");if(Array.isArray(B)){this.setBaseURL(w),this.setPath(E),this.setPrefix(P);for(var I=0;I<B.length;I++){var N=B[I],X=N.hasOwnProperty("type")?N.type:R;this[X]&&(this[X](N),x++)}}}return this.setBaseURL(g),this.setPath(y),this.setPrefix(T),x>0},isLoading:function(){return this.state===v.LOADER_LOADING||this.state===v.LOADER_PROCESSING},isReady:function(){return this.state===v.LOADER_IDLE||this.state===v.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(n.START,this),this.list.size===0?this.loadComplete():(this.state=v.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(a.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(n.PROGRESS,this.progress)},update:function(){this.state===v.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(f){if((f.state===v.FILE_POPULATED||f.state===v.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(f),this.list.delete(f),f.crossOrigin||(f.crossOrigin=this.crossOrigin),f.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(f,c){this.inflight&&(this.inflight.delete(f),this.updateProgress(),c?(this.totalComplete++,this.queue.set(f),this.emit(n.FILE_LOAD,f),f.onProcess()):(this.totalFailed++,this._deleteQueue.set(f),this.emit(n.FILE_LOAD_ERROR,f),this.fileProcessComplete(f)))},fileProcessComplete:function(f){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(f.state===v.FILE_ERRORED?f.multiFile&&f.multiFile.onFileFailed(f):f.state===v.FILE_COMPLETE&&(f.multiFile?f.multiFile.isReadyToProcess()&&(f.multiFile.addToCache(),f.multiFile.pendingDestroy()):(f.addToCache(),f.pendingDestroy())),this.queue.delete(f),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(n.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=v.LOADER_COMPLETE,this.systems.events.off(a.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(n.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(f){this._deleteQueue.set(f)},saveJSON:function(f,c){return this.save(JSON.stringify(f),c)},save:function(f,c,m){c===void 0&&(c="file.json"),m===void 0&&(m="application/json");var x=new Blob([f],{type:m}),g=URL.createObjectURL(x),y=document.createElement("a");return y.download=c,y.textContent="Download "+c,y.href=g,y.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var f=this.systems.game.config,c=this.systems.settings.loader;this.setBaseURL(s(c,"baseURL",f.loaderBaseURL)),this.setPath(s(c,"path",f.loaderPath)),this.setPrefix(s(c,"prefix",f.loaderPrefix)),this.state=v.LOADER_IDLE},shutdown:function(){this.reset(),this.state=v.LOADER_SHUTDOWN,this.systems.events.off(a.UPDATE,this.update,this),this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=v.LOADER_DESTROYED,this.systems.events.off(a.UPDATE,this.update,this),this.systems.events.off(a.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});i.register("Loader",l,"load"),p.exports=l},43531:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(98611),v=t(33868),o=function(r,n){var e=r===void 0?v():d({},r);if(n)for(var s in n)n[s]!==void 0&&(e[s]=n[s]);return e};p.exports=o},45176:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(12117),o=t(683),r=new d({initialize:function(e,s,h,i){var a=[];i.forEach(function(l){l&&a.push(l)}),this.loader=e,this.type=s,this.key=h,this.multiKeyIndex=e.multiKeyIndex++,this.files=a,this.state=v.FILE_PENDING,this.complete=!1,this.pending=a.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var u=0;u<a.length;u++)a[u].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(n){return this.files.push(n),n.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(n){var e=this.files.indexOf(n);e!==-1&&this.pending--},onFileFailed:function(n){var e=this.files.indexOf(n);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,n.type,n.key))},pendingDestroy:function(){if(this.state!==v.FILE_PENDING_DESTROY){var n=this.key,e=this.type;this.loader.emit(o.FILE_COMPLETE,n,e),this.loader.emit(o.FILE_KEY_COMPLETE+e+"-"+n,n,e),this.loader.flagForRemoval(this);for(var s=0;s<this.files.length;s++)this.files[s].pendingDestroy();this.state=v.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});p.exports=r},88490:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(43531),v=function(o,r){var n=d(r,o.xhrSettings),e=new XMLHttpRequest;if(e.open("GET",o.src,n.async,n.user,n.password),e.responseType=o.xhrSettings.responseType,e.timeout=n.timeout,n.headers)for(var s in n.headers)e.setRequestHeader(s,n.headers[s]);return n.header&&n.headerValue&&e.setRequestHeader(n.header,n.headerValue),n.requestedWith&&e.setRequestHeader("X-Requested-With",n.requestedWith),n.overrideMimeType&&e.overrideMimeType(n.overrideMimeType),n.withCredentials&&(e.withCredentials=!0),e.onload=o.onLoad.bind(o,e),e.onerror=o.onError.bind(o,e),e.onprogress=o.onProgress.bind(o),e.send(),e};p.exports=v},33868:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o,r,n){return t===void 0&&(t=""),d===void 0&&(d=!0),v===void 0&&(v=""),o===void 0&&(o=""),r===void 0&&(r=0),n===void 0&&(n=!1),{responseType:t,async:d,user:v,password:o,timeout:r,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:n}};p.exports=S},12117:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};p.exports=S},7398:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addfile"},52187:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},36627:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="filecomplete"},81925:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="filecomplete-"},29774:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loaderror"},20943:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="load"},74693:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fileprogress"},71176:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postprocess"},88984:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="progress"},72753:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},683:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(7398),COMPLETE:t(52187),FILE_COMPLETE:t(36627),FILE_KEY_COMPLETE:t(81925),FILE_LOAD_ERROR:t(29774),FILE_LOAD:t(20943),FILE_PROGRESS:t(74693),POST_PROCESS:t(71176),PROGRESS:t(88984),START:t(72753)}},46468:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(76846),o=t(70806),r=t(683),n=new d({Extends:o,initialize:function(s,h,i,a,u){o.call(this,s,h,i,a,u),this.type="animationJSON"},onProcess:function(){this.loader.once(r.POST_PROCESS,this.onLoadComplete,this),o.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});v.register("animation",function(e,s,h,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new n(this,e[a]));else this.addFile(new n(this,e,s,i,h));return this}),p.exports=n},31648:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(76846),o=t(72632),r=t(42927),n=t(42911),e=t(70806),s=t(45176),h=new d({Extends:s,initialize:function(a,u,l,f,c,m){var x,g;if(n(u)){var y=u;u=o(y,"key"),x=new r(a,{key:u,url:o(y,"textureURL"),extension:o(y,"textureExtension","png"),normalMap:o(y,"normalMap"),xhrSettings:o(y,"textureXhrSettings")}),g=new e(a,{key:u,url:o(y,"atlasURL"),extension:o(y,"atlasExtension","json"),xhrSettings:o(y,"atlasXhrSettings")})}else x=new r(a,u,l,c),g=new e(a,u,f,m);x.linkFile?s.call(this,a,"atlasjson",u,[x,g,x.linkFile]):s.call(this,a,"atlasjson",u,[x,g])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],a=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,a.data,u),a.addToCache(),this.complete=!0}}});v.register("aseprite",function(i,a,u,l,f){var c;if(Array.isArray(i))for(var m=0;m<i.length;m++)c=new h(this,i[m]),this.addFile(c.files);else c=new h(this,i,a,u,l,f),this.addFile(c.files);return this}),p.exports=h},73152:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(76846),o=t(72632),r=t(42927),n=t(42911),e=t(70806),s=t(45176),h=new d({Extends:s,initialize:function(a,u,l,f,c,m){var x,g;if(n(u)){var y=u;u=o(y,"key"),x=new r(a,{key:u,url:o(y,"textureURL"),extension:o(y,"textureExtension","png"),normalMap:o(y,"normalMap"),xhrSettings:o(y,"textureXhrSettings")}),g=new e(a,{key:u,url:o(y,"atlasURL"),extension:o(y,"atlasExtension","json"),xhrSettings:o(y,"atlasXhrSettings")})}else x=new r(a,u,l,c),g=new e(a,u,f,m);x.linkFile?s.call(this,a,"atlasjson",u,[x,g,x.linkFile]):s.call(this,a,"atlasjson",u,[x,g])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],a=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,a.data,u),this.complete=!0}}});v.register("atlas",function(i,a,u,l,f){var c;if(Array.isArray(i))for(var m=0;m<i.length;m++)c=new h(this,i[m]),this.addFile(c.files);else c=new h(this,i,a,u,l,f),this.addFile(c.files);return this}),p.exports=h},24616:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(76846),o=t(72632),r=t(42927),n=t(42911),e=t(45176),s=t(15297),h=new d({Extends:e,initialize:function(a,u,l,f,c,m){var x,g;if(n(u)){var y=u;u=o(y,"key"),x=new r(a,{key:u,url:o(y,"textureURL"),extension:o(y,"textureExtension","png"),normalMap:o(y,"normalMap"),xhrSettings:o(y,"textureXhrSettings")}),g=new s(a,{key:u,url:o(y,"atlasURL"),extension:o(y,"atlasExtension","xml"),xhrSettings:o(y,"atlasXhrSettings")})}else x=new r(a,u,l,c),g=new s(a,u,f,m);x.linkFile?e.call(this,a,"atlasxml",u,[x,g,x.linkFile]):e.call(this,a,"atlasxml",u,[x,g])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],a=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(i.key,i.data,a.data,u),this.complete=!0}}});v.register("atlasXML",function(i,a,u,l,f){var c;if(Array.isArray(i))for(var m=0;m<i.length;m++)c=new h(this,i[m]),this.addFile(c.files);else c=new h(this,i,a,u,l,f),this.addFile(c.files);return this}),p.exports=h},67448:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(12117),o=t(98035),r=t(76846),n=t(72632),e=t(30929),s=t(42911),h=new d({Extends:o,initialize:function(a,u,l,f,c){if(s(u)){var m=u;u=n(m,"key"),f=n(m,"xhrSettings"),c=n(m,"context",c)}var x={type:"audio",cache:a.cacheManager.audio,extension:l.type,responseType:"arraybuffer",key:u,url:l.url,xhrSettings:f,config:{context:c}};o.call(this,a,x)},onProcess:function(){this.state=v.FILE_PROCESSING;var i=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(a){i.data=a,i.onProcessComplete()},function(a){console.error("Error decoding audio: "+i.key+" - ",a?a.message:null),i.onProcessError()}),this.config.context=null}});h.create=function(i,a,u,l,f){var c=i.systems.game,m=c.config.audio,x=c.device.audio;s(a)&&(u=n(a,"url",[]),l=n(a,"config",{}));var g=h.getAudioURL(c,u);return g?x.webAudio&&!m.disableWebAudio?new h(i,a,g,f,c.sound.context):new e(i,a,g,l):(console.warn('No audio URLs for "%s" matched this device',a),null)},h.getAudioURL=function(i,a){Array.isArray(a)||(a=[a]);for(var u=0;u<a.length;u++){var l=n(a[u],"url",a[u]);if(l.indexOf("blob:")===0||l.indexOf("data:")===0)return{url:l,type:""};var f=l.match(/\.([a-zA-Z0-9]+)($|\?)/);if(f=n(a[u],"type",f?f[1]:"").toLowerCase(),i.device.audio[f])return{url:l,type:f}}return null},r.register("audio",function(i,a,u,l){var f=this.systems.game,c=f.config.audio,m=f.device.audio;if(c.noAudio||!m.webAudio&&!m.audioData)return this;var x;if(Array.isArray(i))for(var g=0;g<i.length;g++)x=h.create(this,i[g]),x&&this.addFile(x);else x=h.create(this,i,a,u,l),x&&this.addFile(x);return this}),p.exports=h},66109:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(67448),v=t(56694),o=t(76846),r=t(72632),n=t(42911),e=t(70806),s=t(45176),h=new v({Extends:s,initialize:function(a,u,l,f,c,m,x){if(n(u)){var g=u;u=r(g,"key"),l=r(g,"jsonURL"),f=r(g,"audioURL"),c=r(g,"audioConfig"),m=r(g,"audioXhrSettings"),x=r(g,"jsonXhrSettings")}var y;if(!f)y=new e(a,u,l,x),s.call(this,a,"audiosprite",u,[y]),this.config.resourceLoad=!0,this.config.audioConfig=c,this.config.audioXhrSettings=m;else{var T=d.create(a,u,f,c,m);T&&(y=new e(a,u,l,x),s.call(this,a,"audiosprite",u,[T,y]),this.config.resourceLoad=!1)}},onFileComplete:function(i){var a=this.files.indexOf(i);if(a!==-1&&(this.pending--,this.config.resourceLoad&&i.type==="json"&&i.data.hasOwnProperty("resources"))){var u=i.data.resources,l=r(this.config,"audioConfig"),f=r(this.config,"audioXhrSettings"),c=d.create(this.loader,i.key,u,l,f);c&&(this.addToMultiFile(c),this.loader.addFile(c))}},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],a=this.files[1];i.addToCache(),a.addToCache(),this.complete=!0}}});o.register("audioSprite",function(i,a,u,l,f,c){var m=this.systems.game,x=m.config.audio,g=m.device.audio;if(x&&x.noAudio||!g.webAudio&&!g.audioData)return this;var y;if(Array.isArray(i))for(var T=0;T<i.length;T++)y=new h(this,i[T]),y.files&&this.addFile(y.files);else y=new h(this,i,a,u,l,f,c),y.files&&this.addFile(y.files);return this})},40612:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(12117),o=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new d({Extends:o,initialize:function(i,a,u,l,f){var c="bin";if(e(a)){var m=a;a=n(m,"key"),u=n(m,"url"),l=n(m,"xhrSettings"),c=n(m,"extension",c),f=n(m,"dataType",f)}var x={type:"binary",cache:i.cacheManager.binary,extension:c,responseType:"arraybuffer",key:a,url:u,xhrSettings:l,config:{dataType:f}};o.call(this,i,x)},onProcess:function(){this.state=v.FILE_PROCESSING;var h=this.config.dataType;this.data=h?new h(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});r.register("binary",function(h,i,a,u){if(Array.isArray(h))for(var l=0;l<h.length;l++)this.addFile(new s(this,h[l]));else this.addFile(new s(this,h,i,u,a));return this}),p.exports=s},54565:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(76846),o=t(72632),r=t(42927),n=t(42911),e=t(45176),s=t(31476),h=t(15297),i=new d({Extends:e,initialize:function(u,l,f,c,m,x){var g,y;if(n(l)){var T=l;l=o(T,"key"),g=new r(u,{key:l,url:o(T,"textureURL"),extension:o(T,"textureExtension","png"),normalMap:o(T,"normalMap"),xhrSettings:o(T,"textureXhrSettings")}),y=new h(u,{key:l,url:o(T,"fontDataURL"),extension:o(T,"fontDataExtension","xml"),xhrSettings:o(T,"fontDataXhrSettings")})}else g=new r(u,l,f,m),y=new h(u,l,c,x);g.linkFile?e.call(this,u,"bitmapfont",l,[g,y,g.linkFile]):e.call(this,u,"bitmapfont",l,[g,y])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],u=this.files[1];a.addToCache();var l=a.cache.get(a.key),f=s(u.data,a.cache.getFrame(a.key),0,0,l);this.loader.cacheManager.bitmapFont.add(a.key,{data:f,texture:a.key,frame:null}),this.complete=!0}}});v.register("bitmapFont",function(a,u,l,f,c){var m;if(Array.isArray(a))for(var x=0;x<a.length;x++)m=new i(this,a[x]),this.addFile(m.files);else m=new i(this,a,u,l,f,c),this.addFile(m.files);return this}),p.exports=i},99898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(12117),o=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new d({Extends:o,initialize:function(i,a,u,l){var f="css";if(e(a)){var c=a;a=n(c,"key"),u=n(c,"url"),l=n(c,"xhrSettings"),f=n(c,"extension",f)}var m={type:"script",cache:!1,extension:f,responseType:"text",key:a,url:u,xhrSettings:l};o.call(this,i,m)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("css",function(h,i,a){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new s(this,h[u]));else this.addFile(new s(this,h,i,a));return this}),p.exports=s},47375:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(73152),v=t(40612),o=t(56694),r=t(76846),n=t(72632),e=t(42927),s=t(42911),h=t(70806),i=t(67409),a=t(30657),u=t(80802),l=t(45176),f=t(24904),c=new o({Extends:l,initialize:function(x,g,y,T){if(y.multiAtlasURL){var C=new h(x,{key:g,url:y.multiAtlasURL,xhrSettings:T,config:y});l.call(this,x,"texture",g,[C])}else{var A=y.textureURL.substr(y.textureURL.length-3);y.type||(y.type=A.toLowerCase()==="ktx"?"KTX":"PVR");var w=new v(x,{key:g,url:y.textureURL,extension:A,xhrSettings:T,config:y});if(y.atlasURL){var E=new h(x,{key:g,url:y.atlasURL,xhrSettings:T,config:y});l.call(this,x,"texture",g,[w,E])}else l.call(this,x,"texture",g,[w])}this.config=y},onFileComplete:function(m){var x=this.files.indexOf(m);if(x!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(m.type==="json"&&m.data.hasOwnProperty("textures")){var g=m.data.textures,y=this.config,T=this.loader,C=T.baseURL,A=T.path,w=T.prefix,E=n(y,"multiBaseURL",this.baseURL),P=n(y,"multiPath",this.path),B=n(y,"prefix",this.prefix),R=n(y,"textureXhrSettings");E&&T.setBaseURL(E),P&&T.setPath(P),B&&T.setPrefix(B);for(var I=0;I<g.length;I++){var N=g[I].image,X="CMA"+this.multiKeyIndex+"_"+N,Y=new v(T,X,N,R);if(this.addToMultiFile(Y),T.addFile(Y),g[I].normalMap){var O=new v(T,X,g[I].normalMap,R);O.type="normalMap",Y.setLink(O),this.addToMultiFile(O),T.addFile(O)}}T.setBaseURL(C),T.setPath(A),T.setPrefix(w)}}},addToCache:function(){if(this.isReadyToProcess()){var m=this.config;if(m.multiAtlasURL)this.addMultiToCache();else{var x=this.loader.systems.renderer,g=this.loader.textureManager,y,T=this.files[0],C=this.files[1];if(m.type==="PVR"?y=f(T.data):m.type==="KTX"&&(y=i(T.data)),y&&x.supportsCompressedTexture(m.format,y.internalFormat)){y.format=x.getCompressedTextureName(m.format,y.internalFormat);var A=C&&C.data?C.data:null;g.addCompressedTexture(T.key,y,A)}}this.complete=!0}},addMultiToCache:function(){for(var m=this.config,x=this.files[0],g=[],y=[],T=[],C=this.loader.systems.renderer,A=this.loader.textureManager,w,E=1;E<this.files.length;E++){var P=this.files[E];if(P.type!=="normalMap")for(var B=P.key.indexOf("_"),R=P.key.substr(B+1),I=P.data,N=0;N<x.data.textures.length;N++){var X=x.data.textures[N];if(X.image===R){m.type==="PVR"?w=f(I):m.type==="KTX"&&(w=i(I)),w&&C.supportsCompressedTexture(m.format,w.internalFormat)&&(w.format=C.getCompressedTextureName(m.format,w.internalFormat),y.push(w),g.push(X),P.linkFile&&T.push(P.linkFile.data));break}}}T.length===0&&(T=void 0),A.addAtlasJSONArray(this.key,y,g,T),this.complete=!0}});r.register("texture",function(m,x,g){var y=this.systems.renderer,T=function(A,w,E,P){var B={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(s(w)){var R=w;w=n(R,"key"),E=n(R,"url"),P=n(R,"xhrSettings")}var I=!1;for(var N in E)if(y.supportsCompressedTexture(N)){var X=E[N];typeof X=="string"?B.textureURL=X:B=a(X,B),B.format=N.toUpperCase(),I=!0;break}if(!I)console.warn("No supported compressed texture format or IMG fallback",w);else if(B.format==="IMG"){var Y,O;B.multiAtlasURL?(O=new u(A,w,B.multiAtlasURL,B.multiPath,B.multiBaseURL,P),Y=O.files):B.atlasURL?(O=new d(A,w,B.textureURL,B.atlasURL,P),Y=O.files):Y=new e(A,w,B.textureURL,P),A.addFile(Y)}else{var D=new c(A,w,B,P);A.addFile(D.files)}};if(Array.isArray(m))for(var C=0;C<m.length;C++)T(this,m[C]);else T(this,m,x,g);return this}),p.exports=c},46568:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(12117),o=t(98035),r=t(76846),n=t(72632),e=t(42911),s=t(31053),h=new d({Extends:o,initialize:function(a,u,l,f,c){var m="glsl";if(e(u)){var x=u;u=n(x,"key"),l=n(x,"url"),f=n(x,"shaderType","fragment"),c=n(x,"xhrSettings"),m=n(x,"extension",m)}else f===void 0&&(f="fragment");var g={type:"glsl",cache:a.cacheManager.shader,extension:m,responseType:"text",key:u,url:l,config:{shaderType:f},xhrSettings:c};o.call(this,a,g)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i=this.data.split(`
`),a=this.extractBlock(i,0);if(a)for(;a;){var u=this.getShaderName(a.header),l=this.getShaderType(a.header),f=this.getShaderUniforms(a.header),c=a.shader;if(this.cache.has(u)){var m=this.cache.get(u);l==="fragment"?m.fragmentSrc=c:m.vertexSrc=c,m.uniforms||(m.uniforms=f)}else l==="fragment"?this.cache.add(u,new s(u,c,"",f)):this.cache.add(u,new s(u,"",c,f));a=this.extractBlock(i,a.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new s(this.key,this.data)):this.cache.add(this.key,new s(this.key,"",this.data))},getShaderName:function(i){for(var a=0;a<i.length;a++){var u=i[a].trim();if(u.substring(0,5)==="name:")return u.substring(5).trim()}return this.key},getShaderType:function(i){for(var a=0;a<i.length;a++){var u=i[a].trim();if(u.substring(0,5)==="type:")return u.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(i){for(var a={},u=0;u<i.length;u++){var l=i[u].trim();if(l.substring(0,8)==="uniform."){var f=l.indexOf(":");if(f){var c=l.substring(8,f);try{a[c]=JSON.parse(l.substring(f+1))}catch{console.warn("Invalid uniform JSON: "+c)}}}}return a},extractBlock:function(i,a){for(var u=-1,l=-1,f=-1,c=!1,m=!1,x=[],g=[],y=a;y<i.length;y++){var T=i[y].trim();if(T==="---")if(u===-1)u=y,c=!0;else if(c)l=y,c=!1,m=!0;else{m=!1;break}else c?x.push(T):m&&(g.push(T),f=y)}return!c&&l!==-1?{header:x,shader:g.join(`
`),offset:f}:null}});r.register("glsl",function(i,a,u,l){if(Array.isArray(i))for(var f=0;f<i.length;f++)this.addFile(new h(this,i[f]));else this.addFile(new h(this,i,a,u,l));return this}),p.exports=h},30929:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(683),o=t(98035),r=t(72632),n=t(30750),e=t(42911),s=new d({Extends:o,initialize:function(i,a,u,l){if(e(a)){var f=a;a=r(f,"key"),l=r(f,"config",l)}var c={type:"audio",cache:i.cacheManager.audio,extension:u.type,key:a,url:u.url,config:l};o.call(this,i,c),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var h=0;h<this.data.length;h++){var i=this.data[h];i.oncanplaythrough=null,i.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(h){var i=h.target;i.oncanplaythrough=null,i.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(v.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var h=this.config&&this.config.instances||1;this.filesTotal=h,this.filesLoaded=0,this.percentComplete=0;for(var i=0;i<h;i++){var a=new Audio;a.dataset||(a.dataset={}),a.dataset.name=this.key+("0"+i).slice(-2),a.dataset.used="false",this.locked?a.dataset.locked="true":(a.dataset.locked="false",a.preload="auto",a.oncanplaythrough=this.onProgress.bind(this),a.onerror=this.onError.bind(this)),this.data.push(a)}for(i=0;i<this.data.length;i++)a=this.data[i],a.src=n(this,this.loader.baseURL),this.locked||a.load();this.locked&&setTimeout(this.onLoad.bind(this))}});p.exports=s},77459:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(12117),o=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new d({Extends:o,initialize:function(i,a,u,l){var f="html";if(e(a)){var c=a;a=n(c,"key"),u=n(c,"url"),l=n(c,"xhrSettings"),f=n(c,"extension",f)}var m={type:"text",cache:i.cacheManager.html,extension:f,responseType:"text",key:a,url:u,xhrSettings:l};o.call(this,i,m)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("html",function(h,i,a){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new s(this,h[u]));else this.addFile(new s(this,h,i,a));return this}),p.exports=s},9755:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(12117),o=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new d({Extends:o,initialize:function(i,a,u,l,f,c){l===void 0&&(l=512),f===void 0&&(f=512);var m="html";if(e(a)){var x=a;a=n(x,"key"),u=n(x,"url"),c=n(x,"xhrSettings"),m=n(x,"extension",m),l=n(x,"width",l),f=n(x,"height",f)}var g={type:"html",cache:i.textureManager,extension:m,responseType:"text",key:a,url:u,xhrSettings:c,config:{width:l,height:f}};o.call(this,i,g)},onProcess:function(){this.state=v.FILE_PROCESSING;var h=this.config.width,i=this.config.height,a=[];a.push('<svg width="'+h+'px" height="'+i+'px" viewBox="0 0 '+h+" "+i+'" xmlns="http://www.w3.org/2000/svg">'),a.push('<foreignObject width="100%" height="100%">'),a.push('<body xmlns="http://www.w3.org/1999/xhtml">'),a.push(this.xhrLoader.responseText),a.push("</body>"),a.push("</foreignObject>"),a.push("</svg>");var u=[a.join(`
`)],l=this;try{var f=new window.Blob(u,{type:"image/svg+xml;charset=utf-8"})}catch{l.state=v.FILE_ERRORED,l.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){o.revokeObjectURL(l.data),l.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(l.data),l.onProcessError()},o.createObjectURL(this.data,f,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("htmlTexture",function(h,i,a,u,l){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new s(this,h[f]));else this.addFile(new s(this,h,i,a,u,l));return this}),p.exports=s},42927:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(12117),o=t(98035),r=t(76846),n=t(72632),e=t(42911),s=t(30750),h=new d({Extends:o,initialize:function i(a,u,l,f,c){var m="png",x;if(e(u)){var g=u;u=n(g,"key"),l=n(g,"url"),x=n(g,"normalMap"),f=n(g,"xhrSettings"),m=n(g,"extension",m),c=n(g,"frameConfig")}Array.isArray(l)&&(x=l[1],l=l[0]);var y={type:"image",cache:a.textureManager,extension:m,responseType:"blob",key:u,url:l,xhrSettings:f,config:c};if(o.call(this,a,y),x){var T=new i(a,this.key,x,f,c);T.type="normalMap",this.setLink(T),a.addFile(T)}this.useImageElementLoad=a.imageLoadType==="HTMLImageElement",this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){o.revokeObjectURL(i.data),i.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(i.data),i.onProcessError()},o.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var i=this.state;this.state=v.FILE_PROCESSING,i===v.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){if(this.state=v.FILE_LOADING,this.src=s(this,this.loader.baseURL),this.src.indexOf("data:")===0)console.warn("Local data URIs are not supported: "+this.key);else{this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){i.state=v.FILE_LOADED,i.loader.nextFile(i,!0)},this.data.onerror=function(){i.loader.nextFile(i,!1)},this.data.src=this.src}},addToCache:function(){var i=this.linkFile;i?i.state>=v.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addImage(this.key,i.data,this.data):this.cache.addImage(this.key,this.data,i.data)):this.cache.addImage(this.key,this.data)}});r.register("image",function(i,a,u){if(Array.isArray(i))for(var l=0;l<i.length;l++)this.addFile(new h(this,i[l]));else this.addFile(new h(this,i,a,u));return this}),p.exports=h},70806:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(12117),o=t(98035),r=t(76846),n=t(72632),e=t(10850),s=t(42911),h=new d({Extends:o,initialize:function(a,u,l,f,c){var m="json";if(s(u)){var x=u;u=n(x,"key"),l=n(x,"url"),f=n(x,"xhrSettings"),m=n(x,"extension",m),c=n(x,"dataKey",c)}var g={type:"json",cache:a.cacheManager.json,extension:m,responseType:"text",key:u,url:l,xhrSettings:f,config:c};o.call(this,a,g),s(l)&&(c?this.data=e(l,c):this.data=l,this.state=v.FILE_POPULATED)},onProcess:function(){if(this.state!==v.FILE_POPULATED){this.state=v.FILE_PROCESSING;try{var i=JSON.parse(this.xhrLoader.responseText)}catch(u){throw this.onProcessError(),u}var a=this.config;typeof a=="string"?this.data=e(i,a,i):this.data=i}this.onProcessComplete()}});r.register("json",function(i,a,u,l){if(Array.isArray(i))for(var f=0;f<i.length;f++)this.addFile(new h(this,i[f]));else this.addFile(new h(this,i,a,l,u));return this}),p.exports=h},80802:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(76846),o=t(72632),r=t(42927),n=t(42911),e=t(70806),s=t(45176),h=new d({Extends:s,initialize:function(a,u,l,f,c,m,x){if(n(u)){var g=u;u=o(g,"key"),o(g,"url",!1)?l=o(g,"url"):l=o(g,"atlasURL"),m=o(g,"xhrSettings"),f=o(g,"path"),c=o(g,"baseURL"),x=o(g,"textureXhrSettings")}var y=new e(a,u,l,m);s.call(this,a,"multiatlas",u,[y]),this.config.path=f,this.config.baseURL=c,this.config.textureXhrSettings=x},onFileComplete:function(i){var a=this.files.indexOf(i);if(a!==-1&&(this.pending--,i.type==="json"&&i.data.hasOwnProperty("textures"))){var u=i.data.textures,l=this.config,f=this.loader,c=f.baseURL,m=f.path,x=f.prefix,g=o(l,"baseURL",this.baseURL),y=o(l,"path",this.path),T=o(l,"prefix",this.prefix),C=o(l,"textureXhrSettings");f.setBaseURL(g),f.setPath(y),f.setPrefix(T);for(var A=0;A<u.length;A++){var w=u[A].image,E="MA"+this.multiKeyIndex+"_"+w,P=new r(f,E,w,C);if(this.addToMultiFile(P),f.addFile(P),u[A].normalMap){var B=new r(f,E,u[A].normalMap,C);B.type="normalMap",P.setLink(B),this.addToMultiFile(B),f.addFile(B)}}f.setBaseURL(c),f.setPath(m),f.setPrefix(x)}},addToCache:function(){if(this.isReadyToProcess()){for(var i=this.files[0],a=[],u=[],l=[],f=1;f<this.files.length;f++){var c=this.files[f];if(c.type!=="normalMap")for(var m=c.key.indexOf("_"),x=c.key.substr(m+1),g=c.data,y=0;y<i.data.textures.length;y++){var T=i.data.textures[y];if(T.image===x){u.push(g),a.push(T),c.linkFile&&l.push(c.linkFile.data);break}}}l.length===0&&(l=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,u,a,l),this.complete=!0}}});v.register("multiatlas",function(i,a,u,l,f){var c;if(Array.isArray(i))for(var m=0;m<i.length;m++)c=new h(this,i[m]),this.addFile(c.files);else c=new h(this,i,a,u,l,f),this.addFile(c.files);return this}),p.exports=h},39034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(76846),o=t(72632),r=t(42911),n=t(45176),e=t(55188),s=new d({Extends:n,initialize:function(i,a,u,l){var f="js",c=[];if(r(a)){var m=a;a=o(m,"key"),u=o(m,"url"),l=o(m,"xhrSettings"),f=o(m,"extension",f)}Array.isArray(u)||(u=[u]);for(var x=0;x<u.length;x++){var g=new e(i,{key:a+"_"+x.toString(),url:u[x],extension:f,xhrSettings:l});g.onProcess=function(){this.onProcessComplete()},c.push(g)}n.call(this,i,"scripts",a,c)},addToCache:function(){if(this.isReadyToProcess()){for(var h=0;h<this.files.length;h++){var i=this.files[h];i.data=document.createElement("script"),i.data.language="javascript",i.data.type="text/javascript",i.data.defer=!1,i.data.text=i.xhrLoader.responseText,document.head.appendChild(i.data)}this.complete=!0}}});v.register("scripts",function(h,i,a){var u;if(Array.isArray(h))for(var l=0;l<h.length;l++)u=new s(this,h[l]),this.addFile(u.files);else u=new s(this,h,i,a),this.addFile(u.files);return this}),p.exports=s},85527:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(76846),o=t(72632),r=t(42911),n=t(45176),e=t(27291),s=t(76799),h=t(86897),i=new d({Extends:n,initialize:function(u,l,f,c,m,x){var g,y,T=u.cacheManager.obj;if(r(l)){var C=l;l=o(C,"key"),g=new h(u,{key:l,type:"obj",cache:T,url:o(C,"url"),extension:o(C,"extension","obj"),xhrSettings:o(C,"xhrSettings"),config:{flipUV:o(C,"flipUV",m)}}),c=o(C,"matURL"),c&&(y=new h(u,{key:l,type:"mat",cache:T,url:c,extension:o(C,"matExtension","mat"),xhrSettings:o(C,"xhrSettings")}))}else g=new h(u,{key:l,url:f,type:"obj",cache:T,extension:"obj",xhrSettings:x,config:{flipUV:m}}),c&&(y=new h(u,{key:l,url:c,type:"mat",cache:T,extension:"mat",xhrSettings:x}));n.call(this,u,"obj",l,[g,y])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],u=this.files[1],l=e(a.data,a.config.flipUV);u&&(l.materials=s(u.data)),a.cache.add(a.key,l),this.complete=!0}}});v.register("obj",function(a,u,l,f,c){var m;if(Array.isArray(a))for(var x=0;x<a.length;x++)m=new i(this,a[x]),this.addFile(m.files);else m=new i(this,a,u,l,f,c),this.addFile(m.files);return this}),p.exports=i},3616:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(12117),o=t(76846),r=t(70806),n=new d({Extends:r,initialize:function(s,h,i,a,u){r.call(this,s,h,i,a,u),this.type="packfile"},onProcess:function(){if(this.state!==v.FILE_POPULATED&&(this.state=v.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});o.register("pack",function(e,s,h,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new n(this,e[a]));else this.addFile(new n(this,e,s,i,h));return this}),p.exports=n},12217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(12117),o=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new d({Extends:o,initialize:function(i,a,u,l,f,c){var m="js";if(e(a)){var x=a;a=n(x,"key"),u=n(x,"url"),c=n(x,"xhrSettings"),m=n(x,"extension",m),l=n(x,"start"),f=n(x,"mapping")}var g={type:"plugin",cache:!1,extension:m,responseType:"text",key:a,url:u,xhrSettings:c,config:{start:l,mapping:f}};o.call(this,i,g),typeof u=="function"&&(this.data=u,this.state=v.FILE_POPULATED)},onProcess:function(){var h=this.loader.systems.plugins,i=this.config,a=n(i,"start",!1),u=n(i,"mapping",null);if(this.state===v.FILE_POPULATED)h.install(this.key,this.data,a,u);else{this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var l=h.install(this.key,window[this.key],a,u);(a||u)&&(this.loader.systems[u]=l,this.loader.scene[u]=l)}this.onProcessComplete()}});r.register("plugin",function(h,i,a,u,l){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new s(this,h[f]));else this.addFile(new s(this,h,i,a,u,l));return this}),p.exports=s},4474:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(12117),o=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new d({Extends:o,initialize:function(i,a,u,l,f){var c="svg";if(e(a)){var m=a;a=n(m,"key"),u=n(m,"url"),l=n(m,"svgConfig",{}),f=n(m,"xhrSettings"),c=n(m,"extension",c)}var x={type:"svg",cache:i.textureManager,extension:c,responseType:"text",key:a,url:u,xhrSettings:f,config:{width:n(l,"width"),height:n(l,"height"),scale:n(l,"scale")}};o.call(this,i,x)},onProcess:function(){this.state=v.FILE_PROCESSING;var h=this.xhrLoader.responseText,i=[h],a=this.config.width,u=this.config.height,l=this.config.scale;t:if(a&&u||l){var f=null,c=new DOMParser;f=c.parseFromString(h,"text/xml");var m=f.getElementsByTagName("svg")[0],x=m.hasAttribute("viewBox"),g=parseFloat(m.getAttribute("width")),y=parseFloat(m.getAttribute("height"));if(!x&&g&&y)m.setAttribute("viewBox","0  0 "+g+" "+y);else if(x&&!g&&!y){var T=m.getAttribute("viewBox").split(/\s+|,/);g=T[2],y=T[3]}if(l)if(g&&y)a=g*l,u=y*l;else break t;m.setAttribute("width",a.toString()+"px"),m.setAttribute("height",u.toString()+"px"),i=[new XMLSerializer().serializeToString(m)]}try{var C=new window.Blob(i,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var A=this,w=!1;this.data.onload=function(){w||o.revokeObjectURL(A.data),A.onProcessComplete()},this.data.onerror=function(){w?A.onProcessError():(w=!0,o.revokeObjectURL(A.data),A.data.src="data:image/svg+xml,"+encodeURIComponent(i.join("")))},o.createObjectURL(this.data,C,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("svg",function(h,i,a,u){if(Array.isArray(h))for(var l=0;l<h.length;l++)this.addFile(new s(this,h[l]));else this.addFile(new s(this,h,i,a,u));return this}),p.exports=s},95171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(12117),o=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new d({Extends:o,initialize:function(i,a,u,l){var f="js";if(e(a)){var c=a;a=n(c,"key"),u=n(c,"url"),l=n(c,"xhrSettings"),f=n(c,"extension",f)}var m={type:"text",extension:f,responseType:"text",key:a,url:u,xhrSettings:l};o.call(this,i,m)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var h=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),i=eval;this.loader.sceneManager.add(this.key,i(h)),this.complete=!0}});r.register("sceneFile",function(h,i,a){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new s(this,h[u]));else this.addFile(new s(this,h,i,a));return this}),p.exports=s},82458:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(12117),o=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new d({Extends:o,initialize:function(i,a,u,l,f,c){var m="js";if(e(a)){var x=a;a=n(x,"key"),u=n(x,"url"),c=n(x,"xhrSettings"),m=n(x,"extension",m),l=n(x,"systemKey"),f=n(x,"sceneKey")}var g={type:"scenePlugin",cache:!1,extension:m,responseType:"text",key:a,url:u,xhrSettings:c,config:{systemKey:l,sceneKey:f}};o.call(this,i,g),typeof u=="function"&&(this.data=u,this.state=v.FILE_POPULATED)},onProcess:function(){var h=this.loader.systems.plugins,i=this.config,a=this.key,u=n(i,"systemKey",a),l=n(i,"sceneKey",a);this.state===v.FILE_POPULATED?h.installScenePlugin(u,this.data,l,this.loader.scene,!0):(this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),h.installScenePlugin(u,window[this.key],l,this.loader.scene,!0)),this.onProcessComplete()}});r.register("scenePlugin",function(h,i,a,u,l){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new s(this,h[f]));else this.addFile(new s(this,h,i,a,u,l));return this}),p.exports=s},55188:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(12117),o=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new d({Extends:o,initialize:function(i,a,u,l,f){var c="js";if(e(a)){var m=a;a=n(m,"key"),u=n(m,"url"),l=n(m,"type","script"),f=n(m,"xhrSettings"),c=n(m,"extension",c)}else l===void 0&&(l="script");var x={type:l,cache:!1,extension:c,responseType:"text",key:a,url:u,xhrSettings:f};o.call(this,i,x)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("script",function(h,i,a,u){if(Array.isArray(h))for(var l=0;l<h.length;l++)this.addFile(new s(this,h[l]));else this.addFile(new s(this,h,i,a,u));return this}),p.exports=s},33536:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(12117),o=t(76846),r=t(42927),n=new d({Extends:r,initialize:function(s,h,i,a,u){r.call(this,s,h,i,u,a),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=v.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});o.register("spritesheet",function(e,s,h,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new n(this,e[a]));else this.addFile(new n(this,e,s,h,i));return this}),p.exports=n},86897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(12117),o=t(98035),r=t(76846),n=t(72632),e=t(42911),s=new d({Extends:o,initialize:function(i,a,u,l){var f="text",c="txt",m=i.cacheManager.text;if(e(a)){var x=a;a=n(x,"key"),u=n(x,"url"),l=n(x,"xhrSettings"),c=n(x,"extension",c),f=n(x,"type",f),m=n(x,"cache",m)}var g={type:f,cache:m,extension:c,responseType:"text",key:a,url:u,xhrSettings:l};o.call(this,i,g)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("text",function(h,i,a){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new s(this,h[u]));else this.addFile(new s(this,h,i,a));return this}),p.exports=s},58673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(12117),o=t(98035),r=t(76846),n=t(72632),e=t(42911),s=t(93560),h=new d({Extends:o,initialize:function(a,u,l,f){var c="csv";if(e(u)){var m=u;u=n(m,"key"),l=n(m,"url"),f=n(m,"xhrSettings"),c=n(m,"extension",c)}var x={type:"tilemapCSV",cache:a.cacheManager.tilemap,extension:c,responseType:"text",key:u,url:l,xhrSettings:f};o.call(this,a,x),this.tilemapFormat=s.CSV},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,i)}});r.register("tilemapCSV",function(i,a,u){if(Array.isArray(i))for(var l=0;l<i.length;l++)this.addFile(new h(this,i[l]));else this.addFile(new h(this,i,a,u));return this}),p.exports=h},98896:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(76846),o=t(70806),r=t(93560),n=new d({Extends:o,initialize:function(s,h,i,a){o.call(this,s,h,i,a),this.type="tilemapJSON",this.cache=s.cacheManager.tilemap},addToCache:function(){var e={format:r.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});v.register("tilemapImpact",function(e,s,h){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new n(this,e[i]));else this.addFile(new n(this,e,s,h));return this}),p.exports=n},50563:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(76846),o=t(70806),r=t(93560),n=new d({Extends:o,initialize:function(s,h,i,a){o.call(this,s,h,i,a),this.type="tilemapJSON",this.cache=s.cacheManager.tilemap},addToCache:function(){var e={format:r.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});v.register("tilemapTiledJSON",function(e,s,h){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new n(this,e[i]));else this.addFile(new n(this,e,s,h));return this}),p.exports=n},82857:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(76846),o=t(72632),r=t(42927),n=t(42911),e=t(45176),s=t(86897),h=new d({Extends:e,initialize:function(a,u,l,f,c,m){var x,g;if(n(u)){var y=u;u=o(y,"key"),x=new r(a,{key:u,url:o(y,"textureURL"),extension:o(y,"textureExtension","png"),normalMap:o(y,"normalMap"),xhrSettings:o(y,"textureXhrSettings")}),g=new s(a,{key:u,url:o(y,"atlasURL"),extension:o(y,"atlasExtension","txt"),xhrSettings:o(y,"atlasXhrSettings")})}else x=new r(a,u,l,c),g=new s(a,u,f,m);x.linkFile?e.call(this,a,"unityatlas",u,[x,g,x.linkFile]):e.call(this,a,"unityatlas",u,[x,g])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],a=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(i.key,i.data,a.data,u),this.complete=!0}}});v.register("unityAtlas",function(i,a,u,l,f){var c;if(Array.isArray(i))for(var m=0;m<i.length;m++)c=new h(this,i[m]),this.addFile(c.files);else c=new h(this,i,a,u,l,f),this.addFile(c.files);return this}),p.exports=h},22833:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(12117),o=t(98035),r=t(76846),n=t(30750),e=t(72632),s=t(42911),h=new d({Extends:o,initialize:function(a,u,l,f){if(f===void 0&&(f=!1),s(u)){var c=u;u=e(c,"key"),l=e(c,"url",[]),f=e(c,"noAudio",!1)}var m=a.systems.game.device.video.getVideoURL(l);m||console.warn("VideoFile: No supported format for "+u);var x={type:"video",cache:a.cacheManager.video,extension:m.type,key:u,url:m.url,config:{noAudio:f}};o.call(this,a,x)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=n(this,this.loader.baseURL),this.state=v.FILE_LOADED,this.loader.nextFile(this,!0)}});r.register("video",function(i,a,u){if(Array.isArray(i))for(var l=0;l<i.length;l++)this.addFile(new h(this,i[l]));else this.addFile(new h(this,i,a,u));return this}),p.exports=h},15297:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(12117),o=t(98035),r=t(76846),n=t(72632),e=t(42911),s=t(89200),h=new d({Extends:o,initialize:function(a,u,l,f){var c="xml";if(e(u)){var m=u;u=n(m,"key"),l=n(m,"url"),f=n(m,"xhrSettings"),c=n(m,"extension",c)}var x={type:"xml",cache:a.cacheManager.xml,extension:c,responseType:"text",key:u,url:l,xhrSettings:f};o.call(this,a,x)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=s(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});r.register("xml",function(i,a,u){if(Array.isArray(i))for(var l=0;l<i.length;l++)this.addFile(new h(this,i[l]));else this.addFile(new h(this,i,a,u));return this}),p.exports=h},34034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AnimationJSONFile:t(46468),AsepriteFile:t(31648),AtlasJSONFile:t(73152),AtlasXMLFile:t(24616),AudioFile:t(67448),AudioSpriteFile:t(66109),BinaryFile:t(40612),BitmapFontFile:t(54565),CompressedTextureFile:t(47375),CSSFile:t(99898),GLSLFile:t(46568),HTML5AudioFile:t(30929),HTMLFile:t(77459),HTMLTextureFile:t(9755),ImageFile:t(42927),JSONFile:t(70806),MultiAtlasFile:t(80802),MultiScriptFile:t(39034),OBJFile:t(85527),PackFile:t(3616),PluginFile:t(12217),SceneFile:t(95171),ScenePluginFile:t(82458),ScriptFile:t(55188),SpriteSheetFile:t(33536),SVGFile:t(4474),TextFile:t(86897),TilemapCSVFile:t(58673),TilemapImpactFile:t(98896),TilemapJSONFile:t(50563),UnityAtlasFile:t(82857),VideoFile:t(22833),XMLFile:t(15297)}},95695:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(12117),v=t(98611),o={Events:t(683),FileTypes:t(34034),File:t(98035),FileTypesManager:t(76846),GetURL:t(30750),LoaderPlugin:t(67285),MergeXHRSettings:t(43531),MultiFile:t(45176),XHRLoader:t(88490),XHRSettings:t(33868)};o=v(!1,o,d),p.exports=o},26042:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var d=0,v=0;v<t.length;v++)d+=+t[v];return d/t.length};p.exports=S},22824:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(8034),v=function(o,r){return d(o)/d(r)/d(o-r)};p.exports=v},17489:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return Math.floor(Math.random()*(d-t+1)+t)};p.exports=S},14976:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o,r){var n=(o-d)*.5,e=(r-v)*.5,s=t*t,h=t*s;return(2*v-2*o+n+e)*h+(-3*v+3*o-2*n-e)*s+n*t+v};p.exports=S},89129:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){d===void 0&&(d=0),v===void 0&&(v=10);var o=Math.pow(v,-d);return Math.ceil(t*o)/o};p.exports=S},82897:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){return Math.max(d,Math.min(v,t))};p.exports=S},75606:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(83392),v=function(o){return o*d.DEG_TO_RAD};p.exports=v},767:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return Math.abs(t-d)};p.exports=S},9849:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(82897),v=t(56694),o=t(16650),r=t(72283),n=new o,e=new v({initialize:function s(h,i,a,u){h===void 0&&(h=0),i===void 0&&(i=0),a===void 0&&(a=0),u===void 0&&(u=s.DefaultOrder),this._x=h,this._y=i,this._z=a,this._order=u,this.onChangeCallback=r},x:{get:function(){return this._x},set:function(s){this._x=s,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(s){this._y=s,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(s){this._z=s,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(s){this._order=s,this.onChangeCallback(this)}},set:function(s,h,i,a){return a===void 0&&(a=this._order),this._x=s,this._y=h,this._z=i,this._order=a,this.onChangeCallback(this),this},copy:function(s){return this.set(s.x,s.y,s.z,s.order)},setFromQuaternion:function(s,h,i){return h===void 0&&(h=this._order),i===void 0&&(i=!1),n.fromQuat(s),this.setFromRotationMatrix(n,h,i)},setFromRotationMatrix:function(s,h,i){h===void 0&&(h=this._order),i===void 0&&(i=!1);var a=s.val,u=a[0],l=a[4],f=a[8],c=a[1],m=a[5],x=a[9],g=a[2],y=a[6],T=a[10],C=0,A=0,w=0,E=.99999;switch(h){case"XYZ":{A=Math.asin(d(f,-1,1)),Math.abs(f)<E?(C=Math.atan2(-x,T),w=Math.atan2(-l,u)):C=Math.atan2(y,m);break}case"YXZ":{C=Math.asin(-d(x,-1,1)),Math.abs(x)<E?(A=Math.atan2(f,T),w=Math.atan2(c,m)):A=Math.atan2(-g,u);break}case"ZXY":{C=Math.asin(d(y,-1,1)),Math.abs(y)<E?(A=Math.atan2(-g,T),w=Math.atan2(-l,m)):w=Math.atan2(c,u);break}case"ZYX":{A=Math.asin(-d(g,-1,1)),Math.abs(g)<E?(C=Math.atan2(y,T),w=Math.atan2(c,u)):w=Math.atan2(-l,m);break}case"YZX":{w=Math.asin(d(c,-1,1)),Math.abs(c)<E?(C=Math.atan2(-x,m),A=Math.atan2(-g,u)):A=Math.atan2(f,T);break}case"XZY":{w=Math.asin(-d(l,-1,1)),Math.abs(l)<E?(C=Math.atan2(y,m),A=Math.atan2(f,u)):C=Math.atan2(-x,T);break}}return this._x=C,this._y=A,this._z=w,this._order=h,i&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",p.exports=e},8034:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(t===0)return 1;for(var d=t;--t;)d*=t;return d};p.exports=S},61616:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return Math.random()*(d-t)+t};p.exports=S},60679:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){d===void 0&&(d=0),v===void 0&&(v=10);var o=Math.pow(v,-d);return Math.floor(t*o)/o};p.exports=S},91806:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(82897),v=function(o,r,n){return o=d(o,0,1),(n-r)*o+r};p.exports=v},79366:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return t/d/1e3};p.exports=S},43776:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t==parseFloat(t)?!(t%2):void 0};p.exports=S},58442:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===parseFloat(t)?!(t%2):void 0};p.exports=S},42798:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){return(d-t)*v+t};p.exports=S},61072:p=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){return v===void 0&&(v=0),t.clone().lerp(d,v)};p.exports=S},5341:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=new d({initialize:function(r){this.val=new Float32Array(9),r?this.copy(r):this.identity()},clone:function(){return new v(this)},set:function(o){return this.copy(o)},copy:function(o){var r=this.val,n=o.val;return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],this},fromMat4:function(o){var r=o.val,n=this.val;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[4],n[4]=r[5],n[5]=r[6],n[6]=r[8],n[7]=r[9],n[8]=r[10],this},fromArray:function(o){var r=this.val;return r[0]=o[0],r[1]=o[1],r[2]=o[2],r[3]=o[3],r[4]=o[4],r[5]=o[5],r[6]=o[6],r[7]=o[7],r[8]=o[8],this},identity:function(){var o=this.val;return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=1,o[5]=0,o[6]=0,o[7]=0,o[8]=1,this},transpose:function(){var o=this.val,r=o[1],n=o[2],e=o[5];return o[1]=o[3],o[2]=o[6],o[3]=r,o[5]=o[7],o[6]=n,o[7]=e,this},invert:function(){var o=this.val,r=o[0],n=o[1],e=o[2],s=o[3],h=o[4],i=o[5],a=o[6],u=o[7],l=o[8],f=l*h-i*u,c=-l*s+i*a,m=u*s-h*a,x=r*f+n*c+e*m;return x?(x=1/x,o[0]=f*x,o[1]=(-l*n+e*u)*x,o[2]=(i*n-e*h)*x,o[3]=c*x,o[4]=(l*r-e*a)*x,o[5]=(-i*r+e*s)*x,o[6]=m*x,o[7]=(-u*r+n*a)*x,o[8]=(h*r-n*s)*x,this):null},adjoint:function(){var o=this.val,r=o[0],n=o[1],e=o[2],s=o[3],h=o[4],i=o[5],a=o[6],u=o[7],l=o[8];return o[0]=h*l-i*u,o[1]=e*u-n*l,o[2]=n*i-e*h,o[3]=i*a-s*l,o[4]=r*l-e*a,o[5]=e*s-r*i,o[6]=s*u-h*a,o[7]=n*a-r*u,o[8]=r*h-n*s,this},determinant:function(){var o=this.val,r=o[0],n=o[1],e=o[2],s=o[3],h=o[4],i=o[5],a=o[6],u=o[7],l=o[8];return r*(l*h-i*u)+n*(-l*s+i*a)+e*(u*s-h*a)},multiply:function(o){var r=this.val,n=r[0],e=r[1],s=r[2],h=r[3],i=r[4],a=r[5],u=r[6],l=r[7],f=r[8],c=o.val,m=c[0],x=c[1],g=c[2],y=c[3],T=c[4],C=c[5],A=c[6],w=c[7],E=c[8];return r[0]=m*n+x*h+g*u,r[1]=m*e+x*i+g*l,r[2]=m*s+x*a+g*f,r[3]=y*n+T*h+C*u,r[4]=y*e+T*i+C*l,r[5]=y*s+T*a+C*f,r[6]=A*n+w*h+E*u,r[7]=A*e+w*i+E*l,r[8]=A*s+w*a+E*f,this},translate:function(o){var r=this.val,n=o.x,e=o.y;return r[6]=n*r[0]+e*r[3]+r[6],r[7]=n*r[1]+e*r[4]+r[7],r[8]=n*r[2]+e*r[5]+r[8],this},rotate:function(o){var r=this.val,n=r[0],e=r[1],s=r[2],h=r[3],i=r[4],a=r[5],u=Math.sin(o),l=Math.cos(o);return r[0]=l*n+u*h,r[1]=l*e+u*i,r[2]=l*s+u*a,r[3]=l*h-u*n,r[4]=l*i-u*e,r[5]=l*a-u*s,this},scale:function(o){var r=this.val,n=o.x,e=o.y;return r[0]=n*r[0],r[1]=n*r[1],r[2]=n*r[2],r[3]=e*r[3],r[4]=e*r[4],r[5]=e*r[5],this},fromQuat:function(o){var r=o.x,n=o.y,e=o.z,s=o.w,h=r+r,i=n+n,a=e+e,u=r*h,l=r*i,f=r*a,c=n*i,m=n*a,x=e*a,g=s*h,y=s*i,T=s*a,C=this.val;return C[0]=1-(c+x),C[3]=l+T,C[6]=f-y,C[1]=l-T,C[4]=1-(u+x),C[7]=m+g,C[2]=f+y,C[5]=m-g,C[8]=1-(u+c),this},normalFromMat4:function(o){var r=o.val,n=this.val,e=r[0],s=r[1],h=r[2],i=r[3],a=r[4],u=r[5],l=r[6],f=r[7],c=r[8],m=r[9],x=r[10],g=r[11],y=r[12],T=r[13],C=r[14],A=r[15],w=e*u-s*a,E=e*l-h*a,P=e*f-i*a,B=s*l-h*u,R=s*f-i*u,I=h*f-i*l,N=c*T-m*y,X=c*C-x*y,Y=c*A-g*y,O=m*C-x*T,D=m*A-g*T,F=x*A-g*C,M=w*F-E*D+P*O+B*Y-R*X+I*N;return M?(M=1/M,n[0]=(u*F-l*D+f*O)*M,n[1]=(l*Y-a*F-f*X)*M,n[2]=(a*D-u*Y+f*N)*M,n[3]=(h*D-s*F-i*O)*M,n[4]=(e*F-h*Y+i*X)*M,n[5]=(s*Y-e*D-i*N)*M,n[6]=(T*I-C*R+A*B)*M,n[7]=(C*P-y*I-A*E)*M,n[8]=(y*R-T*P+A*w)*M,this):null}});p.exports=v},16650:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(70015),o=1e-6,r=new d({initialize:function(u){this.val=new Float32Array(16),u?this.copy(u):this.identity()},clone:function(){return new r(this)},set:function(a){return this.copy(a)},setValues:function(a,u,l,f,c,m,x,g,y,T,C,A,w,E,P,B){var R=this.val;return R[0]=a,R[1]=u,R[2]=l,R[3]=f,R[4]=c,R[5]=m,R[6]=x,R[7]=g,R[8]=y,R[9]=T,R[10]=C,R[11]=A,R[12]=w,R[13]=E,R[14]=P,R[15]=B,this},copy:function(a){var u=a.val;return this.setValues(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])},fromArray:function(a){return this.setValues(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(a,u,l){var f=n.fromQuat(l),c=f.val,m=u.x,x=u.y,g=u.z;return this.setValues(c[0]*m,c[1]*m,c[2]*m,0,c[4]*x,c[5]*x,c[6]*x,0,c[8]*g,c[9]*g,c[10]*g,0,a.x,a.y,a.z,1)},xyz:function(a,u,l){this.identity();var f=this.val;return f[12]=a,f[13]=u,f[14]=l,this},scaling:function(a,u,l){this.zero();var f=this.val;return f[0]=a,f[5]=u,f[10]=l,f[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var a=this.val,u=a[1],l=a[2],f=a[3],c=a[6],m=a[7],x=a[11];return a[1]=a[4],a[2]=a[8],a[3]=a[12],a[4]=u,a[6]=a[9],a[7]=a[13],a[8]=l,a[9]=c,a[11]=a[14],a[12]=f,a[13]=m,a[14]=x,this},getInverse:function(a){return this.copy(a),this.invert()},invert:function(){var a=this.val,u=a[0],l=a[1],f=a[2],c=a[3],m=a[4],x=a[5],g=a[6],y=a[7],T=a[8],C=a[9],A=a[10],w=a[11],E=a[12],P=a[13],B=a[14],R=a[15],I=u*x-l*m,N=u*g-f*m,X=u*y-c*m,Y=l*g-f*x,O=l*y-c*x,D=f*y-c*g,F=T*P-C*E,M=T*B-A*E,L=T*R-w*E,G=C*B-A*P,U=C*R-w*P,W=A*R-w*B,H=I*W-N*U+X*G+Y*L-O*M+D*F;return H?(H=1/H,this.setValues((x*W-g*U+y*G)*H,(f*U-l*W-c*G)*H,(P*D-B*O+R*Y)*H,(A*O-C*D-w*Y)*H,(g*L-m*W-y*M)*H,(u*W-f*L+c*M)*H,(B*X-E*D-R*N)*H,(T*D-A*X+w*N)*H,(m*U-x*L+y*F)*H,(l*L-u*U-c*F)*H,(E*O-P*X+R*I)*H,(C*X-T*O-w*I)*H,(x*M-m*G-g*F)*H,(u*G-l*M+f*F)*H,(P*N-E*Y-B*I)*H,(T*Y-C*N+A*I)*H)):this},adjoint:function(){var a=this.val,u=a[0],l=a[1],f=a[2],c=a[3],m=a[4],x=a[5],g=a[6],y=a[7],T=a[8],C=a[9],A=a[10],w=a[11],E=a[12],P=a[13],B=a[14],R=a[15];return this.setValues(x*(A*R-w*B)-C*(g*R-y*B)+P*(g*w-y*A),-(l*(A*R-w*B)-C*(f*R-c*B)+P*(f*w-c*A)),l*(g*R-y*B)-x*(f*R-c*B)+P*(f*y-c*g),-(l*(g*w-y*A)-x*(f*w-c*A)+C*(f*y-c*g)),-(m*(A*R-w*B)-T*(g*R-y*B)+E*(g*w-y*A)),u*(A*R-w*B)-T*(f*R-c*B)+E*(f*w-c*A),-(u*(g*R-y*B)-m*(f*R-c*B)+E*(f*y-c*g)),u*(g*w-y*A)-m*(f*w-c*A)+T*(f*y-c*g),m*(C*R-w*P)-T*(x*R-y*P)+E*(x*w-y*C),-(u*(C*R-w*P)-T*(l*R-c*P)+E*(l*w-c*C)),u*(x*R-y*P)-m*(l*R-c*P)+E*(l*y-c*x),-(u*(x*w-y*C)-m*(l*w-c*C)+T*(l*y-c*x)),-(m*(C*B-A*P)-T*(x*B-g*P)+E*(x*A-g*C)),u*(C*B-A*P)-T*(l*B-f*P)+E*(l*A-f*C),-(u*(x*B-g*P)-m*(l*B-f*P)+E*(l*g-f*x)),u*(x*A-g*C)-m*(l*A-f*C)+T*(l*g-f*x))},determinant:function(){var a=this.val,u=a[0],l=a[1],f=a[2],c=a[3],m=a[4],x=a[5],g=a[6],y=a[7],T=a[8],C=a[9],A=a[10],w=a[11],E=a[12],P=a[13],B=a[14],R=a[15],I=u*x-l*m,N=u*g-f*m,X=u*y-c*m,Y=l*g-f*x,O=l*y-c*x,D=f*y-c*g,F=T*P-C*E,M=T*B-A*E,L=T*R-w*E,G=C*B-A*P,U=C*R-w*P,W=A*R-w*B;return I*W-N*U+X*G+Y*L-O*M+D*F},multiply:function(a){var u=this.val,l=u[0],f=u[1],c=u[2],m=u[3],x=u[4],g=u[5],y=u[6],T=u[7],C=u[8],A=u[9],w=u[10],E=u[11],P=u[12],B=u[13],R=u[14],I=u[15],N=a.val,X=N[0],Y=N[1],O=N[2],D=N[3];return u[0]=X*l+Y*x+O*C+D*P,u[1]=X*f+Y*g+O*A+D*B,u[2]=X*c+Y*y+O*w+D*R,u[3]=X*m+Y*T+O*E+D*I,X=N[4],Y=N[5],O=N[6],D=N[7],u[4]=X*l+Y*x+O*C+D*P,u[5]=X*f+Y*g+O*A+D*B,u[6]=X*c+Y*y+O*w+D*R,u[7]=X*m+Y*T+O*E+D*I,X=N[8],Y=N[9],O=N[10],D=N[11],u[8]=X*l+Y*x+O*C+D*P,u[9]=X*f+Y*g+O*A+D*B,u[10]=X*c+Y*y+O*w+D*R,u[11]=X*m+Y*T+O*E+D*I,X=N[12],Y=N[13],O=N[14],D=N[15],u[12]=X*l+Y*x+O*C+D*P,u[13]=X*f+Y*g+O*A+D*B,u[14]=X*c+Y*y+O*w+D*R,u[15]=X*m+Y*T+O*E+D*I,this},multiplyLocal:function(a){var u=this.val,l=a.val;return this.setValues(u[0]*l[0]+u[1]*l[4]+u[2]*l[8]+u[3]*l[12],u[0]*l[1]+u[1]*l[5]+u[2]*l[9]+u[3]*l[13],u[0]*l[2]+u[1]*l[6]+u[2]*l[10]+u[3]*l[14],u[0]*l[3]+u[1]*l[7]+u[2]*l[11]+u[3]*l[15],u[4]*l[0]+u[5]*l[4]+u[6]*l[8]+u[7]*l[12],u[4]*l[1]+u[5]*l[5]+u[6]*l[9]+u[7]*l[13],u[4]*l[2]+u[5]*l[6]+u[6]*l[10]+u[7]*l[14],u[4]*l[3]+u[5]*l[7]+u[6]*l[11]+u[7]*l[15],u[8]*l[0]+u[9]*l[4]+u[10]*l[8]+u[11]*l[12],u[8]*l[1]+u[9]*l[5]+u[10]*l[9]+u[11]*l[13],u[8]*l[2]+u[9]*l[6]+u[10]*l[10]+u[11]*l[14],u[8]*l[3]+u[9]*l[7]+u[10]*l[11]+u[11]*l[15],u[12]*l[0]+u[13]*l[4]+u[14]*l[8]+u[15]*l[12],u[12]*l[1]+u[13]*l[5]+u[14]*l[9]+u[15]*l[13],u[12]*l[2]+u[13]*l[6]+u[14]*l[10]+u[15]*l[14],u[12]*l[3]+u[13]*l[7]+u[14]*l[11]+u[15]*l[15])},premultiply:function(a){return this.multiplyMatrices(a,this)},multiplyMatrices:function(a,u){var l=a.val,f=u.val,c=l[0],m=l[4],x=l[8],g=l[12],y=l[1],T=l[5],C=l[9],A=l[13],w=l[2],E=l[6],P=l[10],B=l[14],R=l[3],I=l[7],N=l[11],X=l[15],Y=f[0],O=f[4],D=f[8],F=f[12],M=f[1],L=f[5],G=f[9],U=f[13],W=f[2],H=f[6],J=f[10],Q=f[14],$=f[3],k=f[7],_=f[11],q=f[15];return this.setValues(c*Y+m*M+x*W+g*$,y*Y+T*M+C*W+A*$,w*Y+E*M+P*W+B*$,R*Y+I*M+N*W+X*$,c*O+m*L+x*H+g*k,y*O+T*L+C*H+A*k,w*O+E*L+P*H+B*k,R*O+I*L+N*H+X*k,c*D+m*G+x*J+g*_,y*D+T*G+C*J+A*_,w*D+E*G+P*J+B*_,R*D+I*G+N*J+X*_,c*F+m*U+x*Q+g*q,y*F+T*U+C*Q+A*q,w*F+E*U+P*Q+B*q,R*F+I*U+N*Q+X*q)},translate:function(a){return this.translateXYZ(a.x,a.y,a.z)},translateXYZ:function(a,u,l){var f=this.val;return f[12]=f[0]*a+f[4]*u+f[8]*l+f[12],f[13]=f[1]*a+f[5]*u+f[9]*l+f[13],f[14]=f[2]*a+f[6]*u+f[10]*l+f[14],f[15]=f[3]*a+f[7]*u+f[11]*l+f[15],this},scale:function(a){return this.scaleXYZ(a.x,a.y,a.z)},scaleXYZ:function(a,u,l){var f=this.val;return f[0]=f[0]*a,f[1]=f[1]*a,f[2]=f[2]*a,f[3]=f[3]*a,f[4]=f[4]*u,f[5]=f[5]*u,f[6]=f[6]*u,f[7]=f[7]*u,f[8]=f[8]*l,f[9]=f[9]*l,f[10]=f[10]*l,f[11]=f[11]*l,this},makeRotationAxis:function(a,u){var l=Math.cos(u),f=Math.sin(u),c=1-l,m=a.x,x=a.y,g=a.z,y=c*m,T=c*x;return this.setValues(y*m+l,y*x-f*g,y*g+f*x,0,y*x+f*g,T*x+l,T*g-f*m,0,y*g-f*x,T*g+f*m,c*g*g+l,0,0,0,0,1)},rotate:function(a,u){var l=this.val,f=u.x,c=u.y,m=u.z,x=Math.sqrt(f*f+c*c+m*m);if(Math.abs(x)<o)return this;x=1/x,f*=x,c*=x,m*=x;var g=Math.sin(a),y=Math.cos(a),T=1-y,C=l[0],A=l[1],w=l[2],E=l[3],P=l[4],B=l[5],R=l[6],I=l[7],N=l[8],X=l[9],Y=l[10],O=l[11],D=l[12],F=l[13],M=l[14],L=l[15],G=f*f*T+y,U=c*f*T+m*g,W=m*f*T-c*g,H=f*c*T-m*g,J=c*c*T+y,Q=m*c*T+f*g,$=f*m*T+c*g,k=c*m*T-f*g,_=m*m*T+y;return this.setValues(C*G+P*U+N*W,A*G+B*U+X*W,w*G+R*U+Y*W,E*G+I*U+O*W,C*H+P*J+N*Q,A*H+B*J+X*Q,w*H+R*J+Y*Q,E*H+I*J+O*Q,C*$+P*k+N*_,A*$+B*k+X*_,w*$+R*k+Y*_,E*$+I*k+O*_,D,F,M,L)},rotateX:function(a){var u=this.val,l=Math.sin(a),f=Math.cos(a),c=u[4],m=u[5],x=u[6],g=u[7],y=u[8],T=u[9],C=u[10],A=u[11];return u[4]=c*f+y*l,u[5]=m*f+T*l,u[6]=x*f+C*l,u[7]=g*f+A*l,u[8]=y*f-c*l,u[9]=T*f-m*l,u[10]=C*f-x*l,u[11]=A*f-g*l,this},rotateY:function(a){var u=this.val,l=Math.sin(a),f=Math.cos(a),c=u[0],m=u[1],x=u[2],g=u[3],y=u[8],T=u[9],C=u[10],A=u[11];return u[0]=c*f-y*l,u[1]=m*f-T*l,u[2]=x*f-C*l,u[3]=g*f-A*l,u[8]=c*l+y*f,u[9]=m*l+T*f,u[10]=x*l+C*f,u[11]=g*l+A*f,this},rotateZ:function(a){var u=this.val,l=Math.sin(a),f=Math.cos(a),c=u[0],m=u[1],x=u[2],g=u[3],y=u[4],T=u[5],C=u[6],A=u[7];return u[0]=c*f+y*l,u[1]=m*f+T*l,u[2]=x*f+C*l,u[3]=g*f+A*l,u[4]=y*f-c*l,u[5]=T*f-m*l,u[6]=C*f-x*l,u[7]=A*f-g*l,this},fromRotationTranslation:function(a,u){var l=a.x,f=a.y,c=a.z,m=a.w,x=l+l,g=f+f,y=c+c,T=l*x,C=l*g,A=l*y,w=f*g,E=f*y,P=c*y,B=m*x,R=m*g,I=m*y;return this.setValues(1-(w+P),C+I,A-R,0,C-I,1-(T+P),E+B,0,A+R,E-B,1-(T+w),0,u.x,u.y,u.z,1)},fromQuat:function(a){var u=a.x,l=a.y,f=a.z,c=a.w,m=u+u,x=l+l,g=f+f,y=u*m,T=u*x,C=u*g,A=l*x,w=l*g,E=f*g,P=c*m,B=c*x,R=c*g;return this.setValues(1-(A+E),T+R,C-B,0,T-R,1-(y+E),w+P,0,C+B,w-P,1-(y+A),0,0,0,0,1)},frustum:function(a,u,l,f,c,m){var x=1/(u-a),g=1/(f-l),y=1/(c-m);return this.setValues(c*2*x,0,0,0,0,c*2*g,0,0,(u+a)*x,(f+l)*g,(m+c)*y,-1,0,0,m*c*2*y,0)},perspective:function(a,u,l,f){var c=1/Math.tan(a/2),m=1/(l-f);return this.setValues(c/u,0,0,0,0,c,0,0,0,0,(f+l)*m,-1,0,0,2*f*l*m,0)},perspectiveLH:function(a,u,l,f){return this.setValues(2*l/a,0,0,0,0,2*l/u,0,0,0,0,-f/(l-f),1,0,0,l*f/(l-f),0)},ortho:function(a,u,l,f,c,m){var x=a-u,g=l-f,y=c-m;return x=x===0?x:1/x,g=g===0?g:1/g,y=y===0?y:1/y,this.setValues(-2*x,0,0,0,0,-2*g,0,0,0,0,2*y,0,(a+u)*x,(f+l)*g,(m+c)*y,1)},lookAtRH:function(a,u,l){var f=this.val;return i.subVectors(a,u),i.getLengthSquared()===0&&(i.z=1),i.normalize(),s.crossVectors(l,i),s.getLengthSquared()===0&&(Math.abs(l.z)===1?i.x+=1e-4:i.z+=1e-4,i.normalize(),s.crossVectors(l,i)),s.normalize(),h.crossVectors(i,s),f[0]=s.x,f[1]=s.y,f[2]=s.z,f[4]=h.x,f[5]=h.y,f[6]=h.z,f[8]=i.x,f[9]=i.y,f[10]=i.z,this},lookAt:function(a,u,l){var f=a.x,c=a.y,m=a.z,x=l.x,g=l.y,y=l.z,T=u.x,C=u.y,A=u.z;if(Math.abs(f-T)<o&&Math.abs(c-C)<o&&Math.abs(m-A)<o)return this.identity();var w=f-T,E=c-C,P=m-A,B=1/Math.sqrt(w*w+E*E+P*P);w*=B,E*=B,P*=B;var R=g*P-y*E,I=y*w-x*P,N=x*E-g*w;B=Math.sqrt(R*R+I*I+N*N),B?(B=1/B,R*=B,I*=B,N*=B):(R=0,I=0,N=0);var X=E*N-P*I,Y=P*R-w*N,O=w*I-E*R;return B=Math.sqrt(X*X+Y*Y+O*O),B?(B=1/B,X*=B,Y*=B,O*=B):(X=0,Y=0,O=0),this.setValues(R,X,w,0,I,Y,E,0,N,O,P,0,-(R*f+I*c+N*m),-(X*f+Y*c+O*m),-(w*f+E*c+P*m),1)},yawPitchRoll:function(a,u,l){this.zero(),n.zero(),e.zero();var f=this.val,c=n.val,m=e.val,x=Math.sin(l),g=Math.cos(l);return f[10]=1,f[15]=1,f[0]=g,f[1]=x,f[4]=-x,f[5]=g,x=Math.sin(u),g=Math.cos(u),c[0]=1,c[15]=1,c[5]=g,c[10]=g,c[9]=-x,c[6]=x,x=Math.sin(a),g=Math.cos(a),m[5]=1,m[15]=1,m[0]=g,m[2]=-x,m[8]=x,m[10]=g,this.multiplyLocal(n),this.multiplyLocal(e),this},setWorldMatrix:function(a,u,l,f,c){return this.yawPitchRoll(a.y,a.x,a.z),n.scaling(l.x,l.y,l.z),e.xyz(u.x,u.y,u.z),this.multiplyLocal(n),this.multiplyLocal(e),f&&this.multiplyLocal(f),c&&this.multiplyLocal(c),this},multiplyToMat4:function(a,u){var l=this.val,f=a.val,c=l[0],m=l[1],x=l[2],g=l[3],y=l[4],T=l[5],C=l[6],A=l[7],w=l[8],E=l[9],P=l[10],B=l[11],R=l[12],I=l[13],N=l[14],X=l[15],Y=f[0],O=f[1],D=f[2],F=f[3],M=f[4],L=f[5],G=f[6],U=f[7],W=f[8],H=f[9],J=f[10],Q=f[11],$=f[12],k=f[13],_=f[14],q=f[15];return u.setValues(Y*c+O*y+D*w+F*R,O*m+O*T+D*E+F*I,D*x+O*C+D*P+F*N,F*g+O*A+D*B+F*X,M*c+L*y+G*w+U*R,M*m+L*T+G*E+U*I,M*x+L*C+G*P+U*N,M*g+L*A+G*B+U*X,W*c+H*y+J*w+Q*R,W*m+H*T+J*E+Q*I,W*x+H*C+J*P+Q*N,W*g+H*A+J*B+Q*X,$*c+k*y+_*w+q*R,$*m+k*T+_*E+q*I,$*x+k*C+_*P+q*N,$*g+k*A+_*B+q*X)},fromRotationXYTranslation:function(a,u,l){var f=u.x,c=u.y,m=u.z,x=Math.sin(a.x),g=Math.cos(a.x),y=Math.sin(a.y),T=Math.cos(a.y),C=f,A=c,w=m,E=-x,P=0-E*y,B=0-g*y,R=E*T,I=g*T;return l||(C=T*f+y*m,A=P*f+g*c+R*m,w=B*f+x*c+I*m),this.setValues(T,P,B,0,0,g,x,0,y,R,I,0,C,A,w,1)},getMaxScaleOnAxis:function(){var a=this.val,u=a[0]*a[0]+a[1]*a[1]+a[2]*a[2],l=a[4]*a[4]+a[5]*a[5]+a[6]*a[6],f=a[8]*a[8]+a[9]*a[9]+a[10]*a[10];return Math.sqrt(Math.max(u,l,f))}}),n=new r,e=new r,s=new v,h=new v,i=new v;p.exports=r},69635:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){return Math.min(t+d,v)};p.exports=S},37394:p=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var d=t.length;if(d===0)return 0;t.sort(function(o,r){return o-r});var v=Math.floor(d/2);return d%2===0?(t[v]+t[v-1])/2:t[v]};p.exports=S},17259:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){return Math.max(t-d,v)};p.exports=S},61820:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){v===void 0&&(v=d+1);var r=(t-d)/(v-d);return r>1?o!==void 0?(r=(o-t)/(o-v),r<0&&(r=0)):r=1:r<0&&(r=0),r};p.exports=S},75003:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(5341),o=t(72283),r=t(70015),n=1e-6,e=new Int8Array([1,2,0]),s=new Float32Array([0,0,0]),h=new r(1,0,0),i=new r(0,1,0),a=new r,u=new v,l=new d({initialize:function(c,m,x,g){this.onChangeCallback=o,this.set(c,m,x,g)},x:{get:function(){return this._x},set:function(f){this._x=f,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(f){this._y=f,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(f){this._z=f,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(f){this._w=f,this.onChangeCallback(this)}},copy:function(f){return this.set(f)},set:function(f,c,m,x,g){return g===void 0&&(g=!0),typeof f=="object"?(this._x=f.x||0,this._y=f.y||0,this._z=f.z||0,this._w=f.w||0):(this._x=f||0,this._y=c||0,this._z=m||0,this._w=x||0),g&&this.onChangeCallback(this),this},add:function(f){return this._x+=f.x,this._y+=f.y,this._z+=f.z,this._w+=f.w,this.onChangeCallback(this),this},subtract:function(f){return this._x-=f.x,this._y-=f.y,this._z-=f.z,this._w-=f.w,this.onChangeCallback(this),this},scale:function(f){return this._x*=f,this._y*=f,this._z*=f,this._w*=f,this.onChangeCallback(this),this},length:function(){var f=this.x,c=this.y,m=this.z,x=this.w;return Math.sqrt(f*f+c*c+m*m+x*x)},lengthSq:function(){var f=this.x,c=this.y,m=this.z,x=this.w;return f*f+c*c+m*m+x*x},normalize:function(){var f=this.x,c=this.y,m=this.z,x=this.w,g=f*f+c*c+m*m+x*x;return g>0&&(g=1/Math.sqrt(g),this._x=f*g,this._y=c*g,this._z=m*g,this._w=x*g),this.onChangeCallback(this),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z+this.w*f.w},lerp:function(f,c){c===void 0&&(c=0);var m=this.x,x=this.y,g=this.z,y=this.w;return this.set(m+c*(f.x-m),x+c*(f.y-x),g+c*(f.z-g),y+c*(f.w-y))},rotationTo:function(f,c){var m=f.x*c.x+f.y*c.y+f.z*c.z;return m<-.999999?(a.copy(h).cross(f).length()<n&&a.copy(i).cross(f),a.normalize(),this.setAxisAngle(a,Math.PI)):m>.999999?this.set(0,0,0,1):(a.copy(f).cross(c),this._x=a.x,this._y=a.y,this._z=a.z,this._w=1+m,this.normalize())},setAxes:function(f,c,m){var x=u.val;return x[0]=c.x,x[3]=c.y,x[6]=c.z,x[1]=m.x,x[4]=m.y,x[7]=m.z,x[2]=-f.x,x[5]=-f.y,x[8]=-f.z,this.fromMat3(u).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(f,c){c=c*.5;var m=Math.sin(c);return this.set(m*f.x,m*f.y,m*f.z,Math.cos(c))},multiply:function(f){var c=this.x,m=this.y,x=this.z,g=this.w,y=f.x,T=f.y,C=f.z,A=f.w;return this.set(c*A+g*y+m*C-x*T,m*A+g*T+x*y-c*C,x*A+g*C+c*T-m*y,g*A-c*y-m*T-x*C)},slerp:function(f,c){var m=this.x,x=this.y,g=this.z,y=this.w,T=f.x,C=f.y,A=f.z,w=f.w,E=m*T+x*C+g*A+y*w;E<0&&(E=-E,T=-T,C=-C,A=-A,w=-w);var P=1-c,B=c;if(1-E>n){var R=Math.acos(E),I=Math.sin(R);P=Math.sin((1-c)*R)/I,B=Math.sin(c*R)/I}return this.set(P*m+B*T,P*x+B*C,P*g+B*A,P*y+B*w)},invert:function(){var f=this.x,c=this.y,m=this.z,x=this.w,g=f*f+c*c+m*m+x*x,y=g?1/g:0;return this.set(-f*y,-c*y,-m*y,x*y)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(f){f*=.5;var c=this.x,m=this.y,x=this.z,g=this.w,y=Math.sin(f),T=Math.cos(f);return this.set(c*T+g*y,m*T+x*y,x*T-m*y,g*T-c*y)},rotateY:function(f){f*=.5;var c=this.x,m=this.y,x=this.z,g=this.w,y=Math.sin(f),T=Math.cos(f);return this.set(c*T-x*y,m*T+g*y,x*T+c*y,g*T-m*y)},rotateZ:function(f){f*=.5;var c=this.x,m=this.y,x=this.z,g=this.w,y=Math.sin(f),T=Math.cos(f);return this.set(c*T+m*y,m*T-c*y,x*T+g*y,g*T-x*y)},calculateW:function(){var f=this.x,c=this.y,m=this.z;return this.w=-Math.sqrt(1-f*f-c*c-m*m),this},setFromEuler:function(f,c){var m=f.x/2,x=f.y/2,g=f.z/2,y=Math.cos(m),T=Math.cos(x),C=Math.cos(g),A=Math.sin(m),w=Math.sin(x),E=Math.sin(g);switch(f.order){case"XYZ":{this.set(A*T*C+y*w*E,y*w*C-A*T*E,y*T*E+A*w*C,y*T*C-A*w*E,c);break}case"YXZ":{this.set(A*T*C+y*w*E,y*w*C-A*T*E,y*T*E-A*w*C,y*T*C+A*w*E,c);break}case"ZXY":{this.set(A*T*C-y*w*E,y*w*C+A*T*E,y*T*E+A*w*C,y*T*C-A*w*E,c);break}case"ZYX":{this.set(A*T*C-y*w*E,y*w*C+A*T*E,y*T*E-A*w*C,y*T*C+A*w*E,c);break}case"YZX":{this.set(A*T*C+y*w*E,y*w*C+A*T*E,y*T*E-A*w*C,y*T*C-A*w*E,c);break}case"XZY":{this.set(A*T*C-y*w*E,y*w*C-A*T*E,y*T*E+A*w*C,y*T*C+A*w*E,c);break}}return this},setFromRotationMatrix:function(f){var c=f.val,m=c[0],x=c[4],g=c[8],y=c[1],T=c[5],C=c[9],A=c[2],w=c[6],E=c[10],P=m+T+E,B;return P>0?(B=.5/Math.sqrt(P+1),this.set((w-C)*B,(g-A)*B,(y-x)*B,.25/B)):m>T&&m>E?(B=2*Math.sqrt(1+m-T-E),this.set(.25*B,(x+y)/B,(g+A)/B,(w-C)/B)):T>E?(B=2*Math.sqrt(1+T-m-E),this.set((x+y)/B,.25*B,(C+w)/B,(g-A)/B)):(B=2*Math.sqrt(1+E-m-T),this.set((g+A)/B,(C+w)/B,.25*B,(y-x)/B)),this},fromMat3:function(f){var c=f.val,m=c[0]+c[4]+c[8],x;if(m>0)x=Math.sqrt(m+1),this.w=.5*x,x=.5/x,this._x=(c[7]-c[5])*x,this._y=(c[2]-c[6])*x,this._z=(c[3]-c[1])*x;else{var g=0;c[4]>c[0]&&(g=1),c[8]>c[g*3+g]&&(g=2);var y=e[g],T=e[y];x=Math.sqrt(c[g*3+g]-c[y*3+y]-c[T*3+T]+1),s[g]=.5*x,x=.5/x,s[y]=(c[y*3+g]+c[g*3+y])*x,s[T]=(c[T*3+g]+c[g*3+T])*x,this._x=s[0],this._y=s[1],this._z=s[2],this._w=(c[T*3+y]-c[y*3+T])*x}return this.onChangeCallback(this),this}});p.exports=l},23701:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(83392),v=function(o){return o*d.RAD_TO_DEG};p.exports=v},16906:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){d===void 0&&(d=1);var v=Math.random()*2*Math.PI;return t.x=Math.cos(v)*d,t.y=Math.sin(v)*d,t};p.exports=S},52417:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){d===void 0&&(d=1);var v=Math.random()*2*Math.PI,o=Math.random()*2-1,r=Math.sqrt(1-o*o)*d;return t.x=Math.cos(v)*r,t.y=Math.sin(v)*r,t.z=o*d,t};p.exports=S},17915:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return d===void 0&&(d=1),t.x=(Math.random()*2-1)*d,t.y=(Math.random()*2-1)*d,t.z=(Math.random()*2-1)*d,t.w=(Math.random()*2-1)*d,t};p.exports=S},52257:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){var v=t.x,o=t.y;return t.x=v*Math.cos(d)-o*Math.sin(d),t.y=v*Math.sin(d)+o*Math.cos(d),t};p.exports=S},2386:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){var r=Math.cos(o),n=Math.sin(o),e=t.x-d,s=t.y-v;return t.x=e*r-s*n+d,t.y=e*n+s*r+v,t};p.exports=S},72395:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o,r){var n=o+Math.atan2(t.y-v,t.x-d);return t.x=d+r*Math.cos(n),t.y=v+r*Math.sin(n),t};p.exports=S},41061:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o,r){return t.x=d+r*Math.cos(o),t.y=v+r*Math.sin(o),t};p.exports=S},93709:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(70015),v=t(16650),o=t(75003),r=new v,n=new o,e=new d,s=function(h,i,a){return n.setAxisAngle(i,a),r.fromRotationTranslation(n,e.set(0,0,0)),h.transformMat4(r)};p.exports=s},67233:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>0?Math.ceil(t):Math.floor(t)};p.exports=S},64333:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){d===void 0&&(d=0),v===void 0&&(v=10);var o=Math.pow(v,-d);return Math.round(t*o)/o};p.exports=S},59533:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){d===void 0&&(d=1),v===void 0&&(v=1),o===void 0&&(o=1),o*=Math.PI/t;for(var r=[],n=[],e=0;e<t;e++)v-=d*o,d+=v*o,r[e]=v,n[e]=d;return{sin:n,cos:r,length:t}};p.exports=S},5514:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){return t<=d?0:t>=v?1:(t=(t-d)/(v-d),t*t*(3-2*t))};p.exports=S},87736:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){return t=Math.max(0,Math.min(1,(t-d)/(v-d))),t*t*t*(t*(t*6-15)+10)};p.exports=S},55805:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(93736),v=function(o,r,n,e){e===void 0&&(e=new d);var s=0,h=0,i=r*n;return o>0&&o<=i&&(o>r-1?(h=Math.floor(o/r),s=o-h*r):s=o),e.set(s,h)};p.exports=v},64462:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(93736),v=function(o,r,n,e,s,h,i,a){a===void 0&&(a=new d);var u=Math.sin(s),l=Math.cos(s),f=l*h,c=u*h,m=-u*i,x=l*i,g=1/(f*x+m*-c);return a.x=x*g*o+-m*g*r+(e*m-n*x)*g,a.y=f*g*r+-c*g*o+(-e*f+n*c)*g,a};p.exports=v},93736:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(88456),o=new d({initialize:function(n,e){this.x=0,this.y=0,typeof n=="object"?(this.x=n.x||0,this.y=n.y||0):(e===void 0&&(e=n),this.x=n||0,this.y=e||0)},clone:function(){return new o(this.x,this.y)},copy:function(r){return this.x=r.x||0,this.y=r.y||0,this},setFromObject:function(r){return this.x=r.x||0,this.y=r.y||0,this},set:function(r,n){return n===void 0&&(n=r),this.x=r,this.y=n,this},setTo:function(r,n){return this.set(r,n)},setToPolar:function(r,n){return n==null&&(n=1),this.x=Math.cos(r)*n,this.y=Math.sin(r)*n,this},equals:function(r){return this.x===r.x&&this.y===r.y},fuzzyEquals:function(r,n){return v(this.x,r.x,n)&&v(this.y,r.y,n)},angle:function(){var r=Math.atan2(this.y,this.x);return r<0&&(r+=2*Math.PI),r},setAngle:function(r){return this.setToPolar(r,this.length())},add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.x-=r.x,this.y-=r.y,this},multiply:function(r){return this.x*=r.x,this.y*=r.y,this},scale:function(r){return isFinite(r)?(this.x*=r,this.y*=r):(this.x=0,this.y=0),this},divide:function(r){return this.x/=r.x,this.y/=r.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(r){var n=r.x-this.x,e=r.y-this.y;return Math.sqrt(n*n+e*e)},distanceSq:function(r){var n=r.x-this.x,e=r.y-this.y;return n*n+e*e},length:function(){var r=this.x,n=this.y;return Math.sqrt(r*r+n*n)},setLength:function(r){return this.normalize().scale(r)},lengthSq:function(){var r=this.x,n=this.y;return r*r+n*n},normalize:function(){var r=this.x,n=this.y,e=r*r+n*n;return e>0&&(e=1/Math.sqrt(e),this.x=r*e,this.y=n*e),this},normalizeRightHand:function(){var r=this.x;return this.x=this.y*-1,this.y=r,this},normalizeLeftHand:function(){var r=this.x;return this.x=this.y,this.y=r*-1,this},dot:function(r){return this.x*r.x+this.y*r.y},cross:function(r){return this.x*r.y-this.y*r.x},lerp:function(r,n){n===void 0&&(n=0);var e=this.x,s=this.y;return this.x=e+n*(r.x-e),this.y=s+n*(r.y-s),this},transformMat3:function(r){var n=this.x,e=this.y,s=r.val;return this.x=s[0]*n+s[3]*e+s[6],this.y=s[1]*n+s[4]*e+s[7],this},transformMat4:function(r){var n=this.x,e=this.y,s=r.val;return this.x=s[0]*n+s[4]*e+s[12],this.y=s[1]*n+s[5]*e+s[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(r){var n=this.length();return n&&n>r&&this.scale(r/n),this},reflect:function(r){return r=r.clone().normalize(),this.subtract(r.scale(2*this.dot(r)))},mirror:function(r){return this.reflect(r).negate()},rotate:function(r){var n=Math.cos(r),e=Math.sin(r);return this.set(n*this.x-e*this.y,e*this.x+n*this.y)},project:function(r){var n=this.dot(r)/r.dot(r);return this.copy(r).scale(n)}});o.ZERO=new o,o.RIGHT=new o(1,0),o.LEFT=new o(-1,0),o.UP=new o(0,-1),o.DOWN=new o(0,1),o.ONE=new o(1,1),p.exports=o},70015:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=new d({initialize:function(r,n,e){this.x=0,this.y=0,this.z=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0):(this.x=r||0,this.y=n||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this.z=Math.min(this.z,o.z),this},max:function(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this.z=Math.max(this.z,o.z),this},clone:function(){return new v(this.x,this.y,this.z)},addVectors:function(o,r){return this.x=o.x+r.x,this.y=o.y+r.y,this.z=o.z+r.z,this},crossVectors:function(o,r){var n=o.x,e=o.y,s=o.z,h=r.x,i=r.y,a=r.z;return this.x=e*a-s*i,this.y=s*h-n*a,this.z=n*i-e*h,this},equals:function(o){return this.x===o.x&&this.y===o.y&&this.z===o.z},copy:function(o){return this.x=o.x,this.y=o.y,this.z=o.z||0,this},set:function(o,r,n){return typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0):(this.x=o||0,this.y=r||0,this.z=n||0),this},setFromMatrixPosition:function(o){return this.fromArray(o.val,12)},setFromMatrixColumn:function(o,r){return this.fromArray(o.val,r*4)},fromArray:function(o,r){return r===void 0&&(r=0),this.x=o[r],this.y=o[r+1],this.z=o[r+2],this},add:function(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z||0,this},addScalar:function(o){return this.x+=o,this.y+=o,this.z+=o,this},addScale:function(o,r){return this.x+=o.x*r,this.y+=o.y*r,this.z+=o.z*r||0,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z||0,this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z||1,this},scale:function(o){return isFinite(o)?(this.x*=o,this.y*=o,this.z*=o):(this.x=0,this.y=0,this.z=0),this},divide:function(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(o){var r=o.x-this.x,n=o.y-this.y,e=o.z-this.z||0;return Math.sqrt(r*r+n*n+e*e)},distanceSq:function(o){var r=o.x-this.x,n=o.y-this.y,e=o.z-this.z||0;return r*r+n*n+e*e},length:function(){var o=this.x,r=this.y,n=this.z;return Math.sqrt(o*o+r*r+n*n)},lengthSq:function(){var o=this.x,r=this.y,n=this.z;return o*o+r*r+n*n},normalize:function(){var o=this.x,r=this.y,n=this.z,e=o*o+r*r+n*n;return e>0&&(e=1/Math.sqrt(e),this.x=o*e,this.y=r*e,this.z=n*e),this},dot:function(o){return this.x*o.x+this.y*o.y+this.z*o.z},cross:function(o){var r=this.x,n=this.y,e=this.z,s=o.x,h=o.y,i=o.z;return this.x=n*i-e*h,this.y=e*s-r*i,this.z=r*h-n*s,this},lerp:function(o,r){r===void 0&&(r=0);var n=this.x,e=this.y,s=this.z;return this.x=n+r*(o.x-n),this.y=e+r*(o.y-e),this.z=s+r*(o.z-s),this},applyMatrix3:function(o){var r=this.x,n=this.y,e=this.z,s=o.val;return this.x=s[0]*r+s[3]*n+s[6]*e,this.y=s[1]*r+s[4]*n+s[7]*e,this.z=s[2]*r+s[5]*n+s[8]*e,this},applyMatrix4:function(o){var r=this.x,n=this.y,e=this.z,s=o.val,h=1/(s[3]*r+s[7]*n+s[11]*e+s[15]);return this.x=(s[0]*r+s[4]*n+s[8]*e+s[12])*h,this.y=(s[1]*r+s[5]*n+s[9]*e+s[13])*h,this.z=(s[2]*r+s[6]*n+s[10]*e+s[14])*h,this},transformMat3:function(o){var r=this.x,n=this.y,e=this.z,s=o.val;return this.x=r*s[0]+n*s[3]+e*s[6],this.y=r*s[1]+n*s[4]+e*s[7],this.z=r*s[2]+n*s[5]+e*s[8],this},transformMat4:function(o){var r=this.x,n=this.y,e=this.z,s=o.val;return this.x=s[0]*r+s[4]*n+s[8]*e+s[12],this.y=s[1]*r+s[5]*n+s[9]*e+s[13],this.z=s[2]*r+s[6]*n+s[10]*e+s[14],this},transformCoordinates:function(o){var r=this.x,n=this.y,e=this.z,s=o.val,h=r*s[0]+n*s[4]+e*s[8]+s[12],i=r*s[1]+n*s[5]+e*s[9]+s[13],a=r*s[2]+n*s[6]+e*s[10]+s[14],u=r*s[3]+n*s[7]+e*s[11]+s[15];return this.x=h/u,this.y=i/u,this.z=a/u,this},transformQuat:function(o){var r=this.x,n=this.y,e=this.z,s=o.x,h=o.y,i=o.z,a=o.w,u=a*r+h*e-i*n,l=a*n+i*r-s*e,f=a*e+s*n-h*r,c=-s*r-h*n-i*e;return this.x=u*a+c*-s+l*-i-f*-h,this.y=l*a+c*-h+f*-s-u*-i,this.z=f*a+c*-i+u*-h-l*-s,this},project:function(o){var r=this.x,n=this.y,e=this.z,s=o.val,h=s[0],i=s[1],a=s[2],u=s[3],l=s[4],f=s[5],c=s[6],m=s[7],x=s[8],g=s[9],y=s[10],T=s[11],C=s[12],A=s[13],w=s[14],E=s[15],P=1/(r*u+n*m+e*T+E);return this.x=(r*h+n*l+e*x+C)*P,this.y=(r*i+n*f+e*g+A)*P,this.z=(r*a+n*c+e*y+w)*P,this},projectViewMatrix:function(o,r){return this.applyMatrix4(o).applyMatrix4(r)},unprojectViewMatrix:function(o,r){return this.applyMatrix4(o).applyMatrix4(r)},unproject:function(o,r){var n=o.x,e=o.y,s=o.z,h=o.w,i=this.x-n,a=h-this.y-1-e,u=this.z;return this.x=2*i/s-1,this.y=2*a/h-1,this.z=2*u-1,this.project(r)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});v.ZERO=new v,v.RIGHT=new v(1,0,0),v.LEFT=new v(-1,0,0),v.UP=new v(0,-1,0),v.DOWN=new v(0,1,0),v.FORWARD=new v(0,0,1),v.BACK=new v(0,0,-1),v.ONE=new v(1,1,1),p.exports=v},51729:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=new d({initialize:function(r,n,e,s){this.x=0,this.y=0,this.z=0,this.w=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0,this.w=r.w||0):(this.x=r||0,this.y=n||0,this.z=e||0,this.w=s||0)},clone:function(){return new v(this.x,this.y,this.z,this.w)},copy:function(o){return this.x=o.x,this.y=o.y,this.z=o.z||0,this.w=o.w||0,this},equals:function(o){return this.x===o.x&&this.y===o.y&&this.z===o.z&&this.w===o.w},set:function(o,r,n,e){return typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0,this.w=o.w||0):(this.x=o||0,this.y=r||0,this.z=n||0,this.w=e||0),this},add:function(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z||0,this.w+=o.w||0,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z||0,this.w-=o.w||0,this},scale:function(o){return this.x*=o,this.y*=o,this.z*=o,this.w*=o,this},length:function(){var o=this.x,r=this.y,n=this.z,e=this.w;return Math.sqrt(o*o+r*r+n*n+e*e)},lengthSq:function(){var o=this.x,r=this.y,n=this.z,e=this.w;return o*o+r*r+n*n+e*e},normalize:function(){var o=this.x,r=this.y,n=this.z,e=this.w,s=o*o+r*r+n*n+e*e;return s>0&&(s=1/Math.sqrt(s),this.x=o*s,this.y=r*s,this.z=n*s,this.w=e*s),this},dot:function(o){return this.x*o.x+this.y*o.y+this.z*o.z+this.w*o.w},lerp:function(o,r){r===void 0&&(r=0);var n=this.x,e=this.y,s=this.z,h=this.w;return this.x=n+r*(o.x-n),this.y=e+r*(o.y-e),this.z=s+r*(o.z-s),this.w=h+r*(o.w-h),this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z||1,this.w*=o.w||1,this},divide:function(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z||1,this.w/=o.w||1,this},distance:function(o){var r=o.x-this.x,n=o.y-this.y,e=o.z-this.z||0,s=o.w-this.w||0;return Math.sqrt(r*r+n*n+e*e+s*s)},distanceSq:function(o){var r=o.x-this.x,n=o.y-this.y,e=o.z-this.z||0,s=o.w-this.w||0;return r*r+n*n+e*e+s*s},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(o){var r=this.x,n=this.y,e=this.z,s=this.w,h=o.val;return this.x=h[0]*r+h[4]*n+h[8]*e+h[12]*s,this.y=h[1]*r+h[5]*n+h[9]*e+h[13]*s,this.z=h[2]*r+h[6]*n+h[10]*e+h[14]*s,this.w=h[3]*r+h[7]*n+h[11]*e+h[15]*s,this},transformQuat:function(o){var r=this.x,n=this.y,e=this.z,s=o.x,h=o.y,i=o.z,a=o.w,u=a*r+h*e-i*n,l=a*n+i*r-s*e,f=a*e+s*n-h*r,c=-s*r-h*n-i*e;return this.x=u*a+c*-s+l*-i-f*-h,this.y=l*a+c*-h+f*-s-u*-i,this.z=f*a+c*-i+u*-h-l*-s,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});v.prototype.sub=v.prototype.subtract,v.prototype.mul=v.prototype.multiply,v.prototype.div=v.prototype.divide,v.prototype.dist=v.prototype.distance,v.prototype.distSq=v.prototype.distanceSq,v.prototype.len=v.prototype.length,v.prototype.lenSq=v.prototype.lengthSq,p.exports=v},9557:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){return Math.abs(t-d)<=v};p.exports=S},1071:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){if(t>=d&&t<=v)return t;var o=v-d;return d+((t-d)%o+o)%o};p.exports=S},90447:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){return Math.atan2(o-d,v-t)};p.exports=S},94240:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return Math.atan2(d.y-t.y,d.x-t.x)};p.exports=S},84066:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return Math.atan2(d.x-t.x,d.y-t.y)};p.exports=S},9678:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){return Math.atan2(v-t,o-d)};p.exports=S},76861:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(83392),v=function(o){return o>Math.PI&&(o-=d.PI2),Math.abs(((o+d.TAU)%d.PI2-d.PI2)%d.PI2)};p.exports=v},37570:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};p.exports=S},87597:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(61616),v=function(){return d(-Math.PI,Math.PI)};p.exports=v},74493:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(61616),v=function(){return d(-180,180)};p.exports=v},19049:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(37570),v=function(o){return d(o+Math.PI)};p.exports=v},90612:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(83392),v=function(o,r,n){return n===void 0&&(n=.05),o===r||(Math.abs(r-o)<=n||Math.abs(r-o)>=d.PI2-n?o=r:(Math.abs(r-o)>Math.PI&&(r<o?r+=d.PI2:r-=d.PI2),r>o?o+=n:r<o&&(o-=n))),o};p.exports=v},93954:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){var v=d-t;if(v===0)return 0;var o=Math.floor((v- -180)/360);return v-o*360};p.exports=S},35786:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(1071),v=function(o){return d(o,-Math.PI,Math.PI)};p.exports=v},62138:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(1071),v=function(o){return d(o,-180,180)};p.exports=v},22153:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Between:t(90447),BetweenPoints:t(94240),BetweenPointsY:t(84066),BetweenY:t(9678),CounterClockwise:t(76861),Normalize:t(37570),Random:t(87597),RandomDegrees:t(74493),Reverse:t(19049),RotateTo:t(90612),ShortestBetween:t(93954),Wrap:t(35786),WrapDegrees:t(62138)}},83392:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};p.exports=S},53996:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){var r=t-v,n=d-o;return Math.sqrt(r*r+n*n)};p.exports=S},92951:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){var v=t.x-d.x,o=t.y-d.y;return Math.sqrt(v*v+o*o)};p.exports=S},12161:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){var v=t.x-d.x,o=t.y-d.y;return v*v+o*o};p.exports=S},38057:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){return Math.max(Math.abs(t-v),Math.abs(d-o))};p.exports=S},33297:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o,r){return r===void 0&&(r=2),Math.sqrt(Math.pow(v-t,r)+Math.pow(o-d,r))};p.exports=S},90366:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){return Math.abs(t-v)+Math.abs(d-o)};p.exports=S},35032:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){var r=t-v,n=d-o;return r*r+n*n};p.exports=S},10130:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Between:t(53996),BetweenPoints:t(92951),BetweenPointsSquared:t(12161),Chebyshev:t(38057),Power:t(33297),Snake:t(90366),Squared:t(35032)}},35060:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(25265),v=t(57428),o=t(73214),r=t(71778),n=t(36468),e=t(88258),s=t(52910),h=t(67799),i=t(74083),a=t(92284),u=t(28035),l=t(8754);p.exports={Power0:s,Power1:h.Out,Power2:r.Out,Power3:i.Out,Power4:a.Out,Linear:s,Quad:h.Out,Cubic:r.Out,Quart:i.Out,Quint:a.Out,Sine:u.Out,Expo:e.Out,Circ:o.Out,Elastic:n.Out,Back:d.Out,Bounce:v.Out,Stepped:l,"Quad.easeIn":h.In,"Cubic.easeIn":r.In,"Quart.easeIn":i.In,"Quint.easeIn":a.In,"Sine.easeIn":u.In,"Expo.easeIn":e.In,"Circ.easeIn":o.In,"Elastic.easeIn":n.In,"Back.easeIn":d.In,"Bounce.easeIn":v.In,"Quad.easeOut":h.Out,"Cubic.easeOut":r.Out,"Quart.easeOut":i.Out,"Quint.easeOut":a.Out,"Sine.easeOut":u.Out,"Expo.easeOut":e.Out,"Circ.easeOut":o.Out,"Elastic.easeOut":n.Out,"Back.easeOut":d.Out,"Bounce.easeOut":v.Out,"Quad.easeInOut":h.InOut,"Cubic.easeInOut":r.InOut,"Quart.easeInOut":i.InOut,"Quint.easeInOut":a.InOut,"Sine.easeInOut":u.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":o.InOut,"Elastic.easeInOut":n.InOut,"Back.easeInOut":d.InOut,"Bounce.easeInOut":v.InOut}},25860:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return d===void 0&&(d=1.70158),t*t*((d+1)*t-d)};p.exports=S},45264:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){d===void 0&&(d=1.70158);var v=d*1.525;return(t*=2)<1?.5*(t*t*((v+1)*t-v)):.5*((t-=2)*t*((v+1)*t+v)+2)};p.exports=S},36699:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return d===void 0&&(d=1.70158),--t*t*((d+1)*t+d)+1};p.exports=S},25265:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(25860),Out:t(36699),InOut:t(45264)}},62191:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};p.exports=S},24799:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var d=!1;return t<.5?(t=1-t*2,d=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,d?(1-t)*.5:t*.5+.5};p.exports=S},60819:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};p.exports=S},57428:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(62191),Out:t(60819),InOut:t(24799)}},86855:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1-Math.sqrt(1-t*t)};p.exports=S},7280:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};p.exports=S},18058:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt(1- --t*t)};p.exports=S},73214:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(86855),Out:t(18058),InOut:t(7280)}},91532:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t};p.exports=S},63180:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};p.exports=S},16518:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return--t*t*t+1};p.exports=S},71778:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(91532),Out:t(16518),InOut:t(63180)}},24729:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){if(d===void 0&&(d=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var o=v/4;return d<1?d=1:o=v*Math.asin(1/d)/(2*Math.PI),-(d*Math.pow(2,10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/v))};p.exports=S},50325:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){if(d===void 0&&(d=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var o=v/4;return d<1?d=1:o=v*Math.asin(1/d)/(2*Math.PI),(t*=2)<1?-.5*(d*Math.pow(2,10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/v)):d*Math.pow(2,-10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/v)*.5+1};p.exports=S},84074:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){if(d===void 0&&(d=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var o=v/4;return d<1?d=1:o=v*Math.asin(1/d)/(2*Math.PI),d*Math.pow(2,-10*t)*Math.sin((t-o)*(2*Math.PI)/v)+1};p.exports=S},36468:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(24729),Out:t(84074),InOut:t(50325)}},95638:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.pow(2,10*(t-1))-.001};p.exports=S},10357:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};p.exports=S},14894:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1-Math.pow(2,-10*t)};p.exports=S},88258:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(95638),Out:t(14894),InOut:t(10357)}},33063:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Back:t(25265),Bounce:t(57428),Circular:t(73214),Cubic:t(71778),Elastic:t(36468),Expo:t(88258),Linear:t(52910),Quadratic:t(67799),Quartic:t(74083),Quintic:t(92284),Sine:t(28035),Stepped:t(8754)}},43927:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t};p.exports=S},52910:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=t(43927)},77471:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t};p.exports=S},83863:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};p.exports=S},44383:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*(2-t)};p.exports=S},67799:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(77471),Out:t(44383),InOut:t(83863)}},48311:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t*t};p.exports=S},55248:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};p.exports=S},23135:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1- --t*t*t*t};p.exports=S},74083:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(48311),Out:t(23135),InOut:t(55248)}},7313:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t*t*t};p.exports=S},98759:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};p.exports=S},26670:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return--t*t*t*t*t+1};p.exports=S},92284:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(7313),Out:t(26670),InOut:t(98759)}},52929:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};p.exports=S},66333:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};p.exports=S},37255:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};p.exports=S},28035:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(52929),Out:t(37255),InOut:t(66333)}},52770:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return d===void 0&&(d=1),t<=0?0:t>=1?1:((d*t|0)+1)*(1/d)};p.exports=S},8754:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=t(52770)},17247:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return d===void 0&&(d=1e-4),Math.ceil(t-d)};p.exports=S},88456:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){return v===void 0&&(v=1e-4),Math.abs(t-d)<v};p.exports=S},61824:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return d===void 0&&(d=1e-4),Math.floor(t+d)};p.exports=S},41935:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){return v===void 0&&(v=1e-4),t>d-v};p.exports=S},54726:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){return v===void 0&&(v=1e-4),t<d+v};p.exports=S},52778:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Ceil:t(17247),Equal:t(88456),Floor:t(61824),GreaterThan:t(41935),LessThan:t(54726)}},5923:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(83392),v=t(98611),o={Angle:t(22153),Distance:t(10130),Easing:t(33063),Fuzzy:t(52778),Interpolation:t(48528),Pow2:t(73773),Snap:t(23679),RandomDataGenerator:t(81429),Average:t(26042),Bernstein:t(22824),Between:t(17489),CatmullRom:t(14976),CeilTo:t(89129),Clamp:t(82897),DegToRad:t(75606),Difference:t(767),Euler:t(9849),Factorial:t(8034),FloatBetween:t(61616),FloorTo:t(60679),FromPercent:t(91806),GetSpeed:t(79366),IsEven:t(43776),IsEvenStrict:t(58442),Linear:t(42798),LinearXY:t(61072),MaxAdd:t(69635),Median:t(37394),MinSub:t(17259),Percent:t(61820),RadToDeg:t(23701),RandomXY:t(16906),RandomXYZ:t(52417),RandomXYZW:t(17915),Rotate:t(52257),RotateAround:t(2386),RotateAroundDistance:t(72395),RotateTo:t(41061),RoundAwayFromZero:t(67233),RoundTo:t(64333),SinCosTableGenerator:t(59533),SmootherStep:t(87736),SmoothStep:t(5514),ToXY:t(55805),TransformXY:t(64462),Within:t(9557),Wrap:t(1071),Vector2:t(93736),Vector3:t(70015),Vector4:t(51729),Matrix3:t(5341),Matrix4:t(16650),Quaternion:t(75003),RotateVec3:t(93709)};o=v(!1,o,d),p.exports=o},63210:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(22824),v=function(o,r){for(var n=0,e=o.length-1,s=0;s<=e;s++)n+=Math.pow(1-r,e-s)*Math.pow(r,s)*o[s]*d(e,s);return n};p.exports=v},88332:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(14976),v=function(o,r){var n=o.length-1,e=n*r,s=Math.floor(e);return o[0]===o[n]?(r<0&&(s=Math.floor(e=n*(1+r))),d(e-s,o[(s-1+n)%n],o[s],o[(s+1)%n],o[(s+2)%n])):r<0?o[0]-(d(-e,o[0],o[0],o[1],o[1])-o[0]):r>1?o[n]-(d(e-n,o[n],o[n],o[n-1],o[n-1])-o[n]):d(e-s,o[s?s-1:0],o[s],o[n<s+1?n:s+1],o[n<s+2?n:s+2])};p.exports=v},34631:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(r,n){var e=1-r;return e*e*e*n}function t(r,n){var e=1-r;return 3*e*e*r*n}function d(r,n){return 3*(1-r)*r*r*n}function v(r,n){return r*r*r*n}var o=function(r,n,e,s,h){return S(r,n)+t(r,e)+d(r,s)+v(r,h)};p.exports=o},47614:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(42798),v=function(o,r){var n=o.length-1,e=n*r,s=Math.floor(e);return r<0?d(o[0],o[1],e):r>1?d(o[n],o[n-1],n-e):d(o[s],o[s+1>n?n:s+1],e-s)};p.exports=v},16252:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(o,r){var n=1-o;return n*n*r}function t(o,r){return 2*(1-o)*o*r}function d(o,r){return o*o*r}var v=function(o,r,n,e){return S(o,r)+t(o,n)+d(o,e)};p.exports=v},44521:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(5514),v=function(o,r,n){return r+(n-r)*d(o,0,1)};p.exports=v},45507:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(87736),v=function(o,r,n){return r+(n-r)*d(o,0,1)};p.exports=v},48528:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Bezier:t(63210),CatmullRom:t(88332),CubicBezier:t(34631),Linear:t(47614),QuadraticBezier:t(16252),SmoothStep:t(44521),SmootherStep:t(45507)}},3504:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var d=Math.log(t)/.6931471805599453;return 1<<Math.ceil(d)};p.exports=S},28621:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return t>0&&(t&t-1)===0&&d>0&&(d&d-1)===0};p.exports=S},2018:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>0&&(t&t-1)===0};p.exports=S},73773:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GetNext:t(3504),IsSize:t(28621),IsValue:t(2018)}},81429:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=new d({initialize:function(r){r===void 0&&(r=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],r&&this.init(r)},rnd:function(){var o=2091639*this.s0+this.c*23283064365386963e-26;return this.c=o|0,this.s0=this.s1,this.s1=this.s2,this.s2=o-this.c,this.s2},hash:function(o){var r,n=this.n;o=o.toString();for(var e=0;e<o.length;e++)n+=o.charCodeAt(e),r=.02519603282416938*n,n=r>>>0,r-=n,r*=n,n=r>>>0,r-=n,n+=r*4294967296;return this.n=n,(n>>>0)*23283064365386963e-26},init:function(o){typeof o=="string"?this.state(o):this.sow(o)},sow:function(o){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!o)for(var r=0;r<o.length&&o[r]!=null;r++){var n=o[r];this.s0-=this.hash(n),this.s0+=~~(this.s0<0),this.s1-=this.hash(n),this.s1+=~~(this.s1<0),this.s2-=this.hash(n),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(o,r){return Math.floor(this.realInRange(0,r-o+1)+o)},between:function(o,r){return Math.floor(this.realInRange(0,r-o+1)+o)},realInRange:function(o,r){return this.frac()*(r-o)+o},normal:function(){return 1-2*this.frac()},uuid:function(){var o="",r="";for(r=o="";o++<36;r+=~o%5|o*3&4?(o^15?8^this.frac()*(o^20?16:4):4).toString(16):"-");return r},pick:function(o){return o[this.integerInRange(0,o.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(o){return o[~~(Math.pow(this.frac(),2)*(o.length-1)+.5)]},timestamp:function(o,r){return this.realInRange(o||9466848e5,r||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(o){return typeof o=="string"&&o.match(/^!rnd/)&&(o=o.split(","),this.c=parseFloat(o[1]),this.s0=parseFloat(o[2]),this.s1=parseFloat(o[3]),this.s2=parseFloat(o[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(o){for(var r=o.length-1,n=r;n>0;n--){var e=Math.floor(this.frac()*(n+1)),s=o[e];o[e]=o[n],o[n]=s}return o}});p.exports=v},82127:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){return v===void 0&&(v=0),d===0?t:(t-=v,t=d*Math.ceil(t/d),o?(v+t)/d:v+t)};p.exports=S},84314:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){return v===void 0&&(v=0),d===0?t:(t-=v,t=d*Math.floor(t/d),o?(v+t)/d:v+t)};p.exports=S},88462:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){return v===void 0&&(v=0),d===0?t:(t-=v,t=d*Math.round(t/d),o?(v+t)/d:v+t)};p.exports=S},23679:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Ceil:t(82127),Floor:t(84314),To:t(88462)}},92491:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(75205);var d=t(86459),v=t(98611),o={Actions:t(83979),Animations:t(13517),BlendModes:t(95723),Cache:t(45820),Cameras:t(44143),Core:t(80293),Class:t(56694),Create:t(84106),Curves:t(73962),Data:t(1999),Display:t(24816),DOM:t(3590),Events:t(95146),FX:t(96910),Game:t(15213),GameObjects:t(48013),Geom:t(84068),Input:t(20873),Loader:t(95695),Math:t(5923),Physics:t(53954),Plugins:t(45615),Renderer:t(42069),Scale:t(86754),ScaleModes:t(27394),Scene:t(87157),Scenes:t(20436),Structs:t(20010),Textures:t(87499),Tilemaps:t(52678),Time:t(97121),Tweens:t(75193),Utils:t(22178)};o.Sound=t(56751),o=v(!1,o,d),p.exports=o,t.g.Phaser=o},62832:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(7864),o=t(1539),r=new d({Extends:o,Mixins:[v.Acceleration,v.Angular,v.Bounce,v.Debug,v.Drag,v.Enable,v.Friction,v.Gravity,v.Immovable,v.Mass,v.Pushable,v.Size,v.Velocity],initialize:function(e,s,h,i,a){o.call(this,e,s,h,i,a),this.body=null}});p.exports=r},66150:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(75606),o=t(53996),r=t(35032),n=t(99523),e=t(72632),s=t(30657),h=t(2732),i=t(15147),a=t(91963),u=t(7599),l=t(93736),f=t(85233),c=new d({initialize:function(x){this.scene=x,this.systems=x.sys,this.config=this.getConfig(),this.world,this.add,x.sys.events.once(u.BOOT,this.boot,this),x.sys.events.on(u.START,this.start,this)},boot:function(){this.world=new f(this.scene,this.config),this.add=new n(this.world),this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new f(this.scene,this.config),this.add=new n(this.world));var m=this.systems.events;e(this.config,"customUpdate",!1)||m.on(u.UPDATE,this.world.update,this.world),m.on(u.POST_UPDATE,this.world.postUpdate,this.world),m.once(u.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(u.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(u.UPDATE,this.world.update,this.world)},getConfig:function(){var m=this.systems.game.config.physics,x=this.systems.settings.physics,g=s(e(x,"arcade",{}),e(m,"arcade",{}));return g},overlap:function(m,x,g,y,T){return g===void 0&&(g=null),y===void 0&&(y=null),T===void 0&&(T=g),this.world.collideObjects(m,x,g,y,T,!0)},collide:function(m,x,g,y,T){return g===void 0&&(g=null),y===void 0&&(y=null),T===void 0&&(T=g),this.world.collideObjects(m,x,g,y,T,!1)},collideTiles:function(m,x,g,y,T){return this.world.collideTiles(m,x,g,y,T)},overlapTiles:function(m,x,g,y,T){return this.world.overlapTiles(m,x,g,y,T)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(m,x,g,y,T,C){y===void 0&&(y=60);var A=Math.atan2(g-m.y,x-m.x);return m.body.acceleration.setToPolar(A,y),T!==void 0&&C!==void 0&&m.body.maxVelocity.set(T,C),A},accelerateToObject:function(m,x,g,y,T){return this.accelerateTo(m,x.x,x.y,g,y,T)},closest:function(m,x){x||(x=this.world.bodies.entries);for(var g=Number.MAX_VALUE,y=null,T=m.x,C=m.y,A=x.length,w=0;w<A;w++){var E=x[w],P=E.body||E;if(!(m===E||m===P||m===P.gameObject||m===P.center)){var B=r(T,C,P.center.x,P.center.y);B<g&&(y=E,g=B)}}return y},furthest:function(m,x){x||(x=this.world.bodies.entries);for(var g=-1,y=null,T=m.x,C=m.y,A=x.length,w=0;w<A;w++){var E=x[w],P=E.body||E;if(!(m===E||m===P||m===P.gameObject||m===P.center)){var B=r(T,C,P.center.x,P.center.y);B>g&&(y=E,g=B)}}return y},moveTo:function(m,x,g,y,T){y===void 0&&(y=60),T===void 0&&(T=0);var C=Math.atan2(g-m.y,x-m.x);return T>0&&(y=o(m.x,m.y,x,g)/(T/1e3)),m.body.velocity.setToPolar(C,y),C},moveToObject:function(m,x,g,y){return this.moveTo(m,x.x,x.y,g,y)},velocityFromAngle:function(m,x,g){return x===void 0&&(x=60),g===void 0&&(g=new l),g.setToPolar(v(m),x)},velocityFromRotation:function(m,x,g){return x===void 0&&(x=60),g===void 0&&(g=new l),g.setToPolar(m,x)},overlapRect:function(m,x,g,y,T,C){return i(this.world,m,x,g,y,T,C)},overlapCirc:function(m,x,g,y,T){return h(this.world,m,x,g,y,T)},shutdown:function(){if(this.world){var m=this.systems.events;m.off(u.UPDATE,this.world.update,this.world),m.off(u.POST_UPDATE,this.world.postUpdate,this.world),m.off(u.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});a.register("ArcadePhysics",c,"arcadePhysics"),p.exports=c},25084:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(7864),o=t(13747),r=new d({Extends:o,Mixins:[v.Acceleration,v.Angular,v.Bounce,v.Debug,v.Drag,v.Enable,v.Friction,v.Gravity,v.Immovable,v.Mass,v.Pushable,v.Size,v.Velocity],initialize:function(e,s,h,i,a){o.call(this,e,s,h,i,a),this.body=null}});p.exports=r},97602:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(47401),o=t(27037),r=t(23701),n=t(74118),e=t(94287),s=t(93736),h=new d({initialize:function(a,u){var l=64,f=64,c={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},m=u!==void 0;m&&u.displayWidth&&(l=u.displayWidth,f=u.displayHeight),m||(u=c),this.world=a,this.gameObject=m?u:void 0,this.isBody=!0,this.transform={x:u.x,y:u.y,rotation:u.angle,scaleX:u.scaleX,scaleY:u.scaleY,displayOriginX:u.displayOriginX,displayOriginY:u.displayOriginY},this.debugShowBody=a.defaults.debugShowBody,this.debugShowVelocity=a.defaults.debugShowVelocity,this.debugBodyColor=a.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(u.x-u.scaleX*u.displayOriginX,u.y-u.scaleY*u.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=u.angle,this.preRotation=u.angle,this.width=l,this.height=f,this.sourceWidth=l,this.sourceHeight=f,u.frame&&(this.sourceWidth=u.frame.realWidth,this.sourceHeight=u.frame.realHeight),this.halfWidth=Math.abs(l/2),this.halfHeight=Math.abs(f/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new s,this.newVelocity=new s,this.deltaMax=new s,this.acceleration=new s,this.allowDrag=!0,this.drag=new s,this.allowGravity=!0,this.gravity=new s,this.bounce=new s,this.worldBounce=null,this.customBoundsRectangle=a.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new s(1e4,1e4),this.maxSpeed=-1,this.friction=new s(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=v.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=v.DYNAMIC_BODY,this._sx=u.scaleX,this._sy=u.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new n},updateBounds:function(){var i=this.gameObject,a=this.transform;if(i.parentContainer){var u=i.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);a.x=u.tx,a.y=u.ty,a.rotation=r(u.rotation),a.scaleX=u.scaleX,a.scaleY=u.scaleY,a.displayOriginX=i.displayOriginX,a.displayOriginY=i.displayOriginY}else a.x=i.x,a.y=i.y,a.rotation=i.angle,a.scaleX=i.scaleX,a.scaleY=i.scaleY,a.displayOriginX=i.displayOriginX,a.displayOriginY=i.displayOriginY;var l=!1;if(this.syncBounds){var f=i.getBounds(this._bounds);this.width=f.width,this.height=f.height,l=!0}else{var c=Math.abs(a.scaleX),m=Math.abs(a.scaleY);(this._sx!==c||this._sy!==m)&&(this.width=this.sourceWidth*c,this.height=this.sourceHeight*m,this._sx=c,this._sy=m,l=!0)}l&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var i=this.transform;this.position.x=i.x+i.scaleX*(this.offset.x-i.displayOriginX),this.position.y=i.y+i.scaleY*(this.offset.y-i.displayOriginY),this.updateCenter()},resetFlags:function(i){i===void 0&&(i=!1);var a=this.wasTouching,u=this.touching,l=this.blocked;i?(a.none=!0,a.up=!1,a.down=!1,a.left=!1,a.right=!1):(a.none=u.none,a.up=u.up,a.down=u.down,a.left=u.left,a.right=u.right),u.none=!0,u.up=!1,u.down=!1,u.left=!1,u.right=!1,l.none=!0,l.up=!1,l.down=!1,l.left=!1,l.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(i,a){i&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),i&&this.update(a)},update:function(i){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,i);var a=this.velocity.x,u=this.velocity.y;this.newVelocity.set(a*i,u*i),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(u,a),this.speed=Math.sqrt(a*a+u*u),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(o.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var i=this.position.x-this.prevFrame.x,a=this.position.y-this.prevFrame.y,u=this.gameObject;if(this.moves){var l=this.deltaMax.x,f=this.deltaMax.y;l!==0&&i!==0&&(i<0&&i<-l?i=-l:i>0&&i>l&&(i=l)),f!==0&&a!==0&&(a<0&&a<-f?a=-f:a>0&&a>f&&(a=f)),u&&(u.x+=i,u.y+=a)}i<0?this.facing=v.FACING_LEFT:i>0&&(this.facing=v.FACING_RIGHT),a<0?this.facing=v.FACING_UP:a>0&&(this.facing=v.FACING_DOWN),this.allowRotation&&u&&(u.angle+=this.deltaZ()),this._tx=i,this._ty=a},setBoundsRectangle:function(i){return this.customBoundsRectangle=i||this.world.bounds,this},checkWorldBounds:function(){var i=this.position,a=this.customBoundsRectangle,u=this.world.checkCollision,l=this.worldBounce?-this.worldBounce.x:-this.bounce.x,f=this.worldBounce?-this.worldBounce.y:-this.bounce.y,c=!1;return i.x<a.x&&u.left?(i.x=a.x,this.velocity.x*=l,this.blocked.left=!0,c=!0):this.right>a.right&&u.right&&(i.x=a.right-this.width,this.velocity.x*=l,this.blocked.right=!0,c=!0),i.y<a.y&&u.up?(i.y=a.y,this.velocity.y*=f,this.blocked.up=!0,c=!0):this.bottom>a.bottom&&u.down&&(i.y=a.bottom-this.height,this.velocity.y*=f,this.blocked.down=!0,c=!0),c&&(this.blocked.none=!1,this.updateCenter()),c},setOffset:function(i,a){return a===void 0&&(a=i),this.offset.set(i,a),this},setGameObject:function(i,a){return a===void 0&&(a=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=i,i.body&&(i.body=this),this.setSize(),this.world.add(this),this.enable=a,this},setSize:function(i,a,u){u===void 0&&(u=!0);var l=this.gameObject;if(l&&(!i&&l.frame&&(i=l.frame.realWidth),!a&&l.frame&&(a=l.frame.realHeight)),this.sourceWidth=i,this.sourceHeight=a,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),u&&l&&l.getCenter){var f=(l.width-i)/2,c=(l.height-a)/2;this.offset.set(f,c)}return this.isCircle=!1,this.radius=0,this},setCircle:function(i,a,u){return a===void 0&&(a=this.offset.x),u===void 0&&(u=this.offset.y),i>0?(this.isCircle=!0,this.radius=i,this.sourceWidth=i*2,this.sourceHeight=i*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(a,u),this.updateCenter()):this.isCircle=!1,this},reset:function(i,a){this.stop();var u=this.gameObject;u&&(u.setPosition(i,a),this.rotation=u.angle,this.preRotation=u.angle);var l=this.position;u&&u.getTopLeft?u.getTopLeft(l):l.set(i,a),this.prev.copy(l),this.prevFrame.copy(l),u&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(i){return i.x=this.x,i.y=this.y,i.right=this.right,i.bottom=this.bottom,i},hitTest:function(i,a){if(!this.isCircle)return e(this,i,a);if(this.radius>0&&i>=this.left&&i<=this.right&&a>=this.top&&a<=this.bottom){var u=(this.center.x-i)*(this.center.x-i),l=(this.center.y-a)*(this.center.y-a);return u+l<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(i){var a=this.position,u=a.x+this.halfWidth,l=a.y+this.halfHeight;this.debugShowBody&&(i.lineStyle(i.defaultStrokeWidth,this.debugBodyColor),this.isCircle?i.strokeCircle(u,l,this.width/2):(this.checkCollision.up&&i.lineBetween(a.x,a.y,a.x+this.width,a.y),this.checkCollision.right&&i.lineBetween(a.x+this.width,a.y,a.x+this.width,a.y+this.height),this.checkCollision.down&&i.lineBetween(a.x,a.y+this.height,a.x+this.width,a.y+this.height),this.checkCollision.left&&i.lineBetween(a.x,a.y,a.x,a.y+this.height))),this.debugShowVelocity&&(i.lineStyle(i.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),i.lineBetween(u,l,u+this.velocity.x/2,l+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(i,a,u,l){i===void 0&&(i=!0),this.collideWorldBounds=i;var f=a!==void 0,c=u!==void 0;return(f||c)&&(this.worldBounce||(this.worldBounce=new s),f&&(this.worldBounce.x=a),c&&(this.worldBounce.y=u)),l!==void 0&&(this.onWorldBounds=l),this},setVelocity:function(i,a){return this.velocity.set(i,a),i=this.velocity.x,a=this.velocity.y,this.speed=Math.sqrt(i*i+a*a),this},setVelocityX:function(i){return this.setVelocity(i,this.velocity.y)},setVelocityY:function(i){return this.setVelocity(this.velocity.x,i)},setMaxVelocity:function(i,a){return this.maxVelocity.set(i,a),this},setMaxVelocityX:function(i){return this.maxVelocity.x=i,this},setMaxVelocityY:function(i){return this.maxVelocity.y=i,this},setMaxSpeed:function(i){return this.maxSpeed=i,this},setBounce:function(i,a){return this.bounce.set(i,a),this},setBounceX:function(i){return this.bounce.x=i,this},setBounceY:function(i){return this.bounce.y=i,this},setAcceleration:function(i,a){return this.acceleration.set(i,a),this},setAccelerationX:function(i){return this.acceleration.x=i,this},setAccelerationY:function(i){return this.acceleration.y=i,this},setAllowDrag:function(i){return i===void 0&&(i=!0),this.allowDrag=i,this},setAllowGravity:function(i){return i===void 0&&(i=!0),this.allowGravity=i,this},setAllowRotation:function(i){return i===void 0&&(i=!0),this.allowRotation=i,this},setDrag:function(i,a){return this.drag.set(i,a),this},setDamping:function(i){return this.useDamping=i,this},setDragX:function(i){return this.drag.x=i,this},setDragY:function(i){return this.drag.y=i,this},setGravity:function(i,a){return this.gravity.set(i,a),this},setGravityX:function(i){return this.gravity.x=i,this},setGravityY:function(i){return this.gravity.y=i,this},setFriction:function(i,a){return this.friction.set(i,a),this},setFrictionX:function(i){return this.friction.x=i,this},setFrictionY:function(i){return this.friction.y=i,this},setAngularVelocity:function(i){return this.angularVelocity=i,this},setAngularAcceleration:function(i){return this.angularAcceleration=i,this},setAngularDrag:function(i){return this.angularDrag=i,this},setMass:function(i){return this.mass=i,this},setImmovable:function(i){return i===void 0&&(i=!0),this.immovable=i,this},setEnable:function(i){return i===void 0&&(i=!0),this.enable=i,this},processX:function(i,a,u,l){this.x+=i,this.updateCenter(),a!==null&&(this.velocity.x=a);var f=this.blocked;u&&(f.left=!0,f.none=!1),l&&(f.right=!0,f.none=!1)},processY:function(i,a,u,l){this.y+=i,this.updateCenter(),a!==null&&(this.velocity.y=a);var f=this.blocked;u&&(f.up=!0,f.none=!1),l&&(f.down=!0,f.none=!1)},x:{get:function(){return this.position.x},set:function(i){this.position.x=i}},y:{get:function(){return this.position.y},set:function(i){this.position.y=i}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});p.exports=h},3909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=new d({initialize:function(r,n,e,s,h,i,a){this.world=r,this.name="",this.active=!0,this.overlapOnly=n,this.object1=e,this.object2=s,this.collideCallback=h,this.processCallback=i,this.callbackContext=a},setName:function(o){return this.name=o,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});p.exports=v},99523:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(62832),v=t(25084),o=t(97602),r=t(56694),n=t(47401),e=t(10481),s=t(66634),h=t(46346),i=new r({initialize:function(u){this.world=u,this.scene=u.scene,this.sys=u.scene.sys},collider:function(a,u,l,f,c){return this.world.addCollider(a,u,l,f,c)},overlap:function(a,u,l,f,c){return this.world.addOverlap(a,u,l,f,c)},existing:function(a,u){var l=u?n.STATIC_BODY:n.DYNAMIC_BODY;return this.world.enableBody(a,l),a},staticImage:function(a,u,l,f){var c=new d(this.scene,a,u,l,f);return this.sys.displayList.add(c),this.world.enableBody(c,n.STATIC_BODY),c},image:function(a,u,l,f){var c=new d(this.scene,a,u,l,f);return this.sys.displayList.add(c),this.world.enableBody(c,n.DYNAMIC_BODY),c},staticSprite:function(a,u,l,f){var c=new v(this.scene,a,u,l,f);return this.sys.displayList.add(c),this.sys.updateList.add(c),this.world.enableBody(c,n.STATIC_BODY),c},sprite:function(a,u,l,f){var c=new v(this.scene,a,u,l,f);return this.sys.displayList.add(c),this.sys.updateList.add(c),this.world.enableBody(c,n.DYNAMIC_BODY),c},staticGroup:function(a,u){return this.sys.updateList.add(new h(this.world,this.world.scene,a,u))},group:function(a,u){return this.sys.updateList.add(new e(this.world,this.world.scene,a,u))},body:function(a,u,l,f){var c=new o(this.world);return c.position.set(a,u),l&&f&&c.setSize(l,f),this.world.add(c,n.DYNAMIC_BODY),c},staticBody:function(a,u,l,f){var c=new s(this.world);return c.position.set(a,u),l&&f&&c.setSize(l,f),this.world.add(c,n.STATIC_BODY),c},destroy:function(){this.world=null,this.scene=null,this.sys=null}});p.exports=i},75671:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(47401),v=function(o,r,n,e){var s=0,h=o.deltaAbsX()+r.deltaAbsX()+e;return o._dx===0&&r._dx===0?(o.embedded=!0,r.embedded=!0):o._dx>r._dx?(s=o.right-r.x,s>h&&!n||o.checkCollision.right===!1||r.checkCollision.left===!1?s=0:(o.touching.none=!1,o.touching.right=!0,r.touching.none=!1,r.touching.left=!0,r.physicsType===d.STATIC_BODY&&!n&&(o.blocked.none=!1,o.blocked.right=!0),o.physicsType===d.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.left=!0))):o._dx<r._dx&&(s=o.x-r.width-r.x,-s>h&&!n||o.checkCollision.left===!1||r.checkCollision.right===!1?s=0:(o.touching.none=!1,o.touching.left=!0,r.touching.none=!1,r.touching.right=!0,r.physicsType===d.STATIC_BODY&&!n&&(o.blocked.none=!1,o.blocked.left=!0),o.physicsType===d.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.right=!0))),o.overlapX=s,r.overlapX=s,s};p.exports=v},66185:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(47401),v=function(o,r,n,e){var s=0,h=o.deltaAbsY()+r.deltaAbsY()+e;return o._dy===0&&r._dy===0?(o.embedded=!0,r.embedded=!0):o._dy>r._dy?(s=o.bottom-r.y,s>h&&!n||o.checkCollision.down===!1||r.checkCollision.up===!1?s=0:(o.touching.none=!1,o.touching.down=!0,r.touching.none=!1,r.touching.up=!0,r.physicsType===d.STATIC_BODY&&!n&&(o.blocked.none=!1,o.blocked.down=!0),o.physicsType===d.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.up=!0))):o._dy<r._dy&&(s=o.y-r.bottom,-s>h&&!n||o.checkCollision.up===!1||r.checkCollision.down===!1?s=0:(o.touching.none=!1,o.touching.up=!0,r.touching.none=!1,r.touching.down=!0,r.physicsType===d.STATIC_BODY&&!n&&(o.blocked.none=!1,o.blocked.up=!0),o.physicsType===d.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.down=!0))),o.overlapY=s,r.overlapY=s,s};p.exports=v},10481:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(25084),v=t(56694),o=t(47401),r=t(72632),n=t(59192),e=t(42911),s=new v({Extends:n,initialize:function(i,a,u,l){if(!u&&!l)l={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(e(u))l=u,u=null,l.internalCreateCallback=this.createCallbackHandler,l.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(u)&&e(u[0])){l=u[0];var f=this;u.forEach(function(c){c.internalCreateCallback=f.createCallbackHandler,c.internalRemoveCallback=f.removeCallbackHandler}),u=null}else l={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=i,l.classType=r(l,"classType",d),this.physicsType=o.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:r(l,"collideWorldBounds",!1),setBoundsRectangle:r(l,"customBoundsRectangle",null),setAccelerationX:r(l,"accelerationX",0),setAccelerationY:r(l,"accelerationY",0),setAllowDrag:r(l,"allowDrag",!0),setAllowGravity:r(l,"allowGravity",!0),setAllowRotation:r(l,"allowRotation",!0),setDamping:r(l,"useDamping",!1),setBounceX:r(l,"bounceX",0),setBounceY:r(l,"bounceY",0),setDragX:r(l,"dragX",0),setDragY:r(l,"dragY",0),setEnable:r(l,"enable",!0),setGravityX:r(l,"gravityX",0),setGravityY:r(l,"gravityY",0),setFrictionX:r(l,"frictionX",0),setFrictionY:r(l,"frictionY",0),setMaxSpeed:r(l,"maxSpeed",-1),setMaxVelocityX:r(l,"maxVelocityX",1e4),setMaxVelocityY:r(l,"maxVelocityY",1e4),setVelocityX:r(l,"velocityX",0),setVelocityY:r(l,"velocityY",0),setAngularVelocity:r(l,"angularVelocity",0),setAngularAcceleration:r(l,"angularAcceleration",0),setAngularDrag:r(l,"angularDrag",0),setMass:r(l,"mass",1),setImmovable:r(l,"immovable",!1)},n.call(this,a,u,l),this.type="PhysicsGroup"},createCallbackHandler:function(h){h.body||this.world.enableBody(h,o.DYNAMIC_BODY);var i=h.body;for(var a in this.defaults)i[a](this.defaults[a])},removeCallbackHandler:function(h){h.body&&this.world.disableBody(h)},setVelocity:function(h,i,a){a===void 0&&(a=0);for(var u=this.getChildren(),l=0;l<u.length;l++)u[l].body.velocity.set(h+l*a,i+l*a);return this},setVelocityX:function(h,i){i===void 0&&(i=0);for(var a=this.getChildren(),u=0;u<a.length;u++)a[u].body.velocity.x=h+u*i;return this},setVelocityY:function(h,i){i===void 0&&(i=0);for(var a=this.getChildren(),u=0;u<a.length;u++)a[u].body.velocity.y=h+u*i;return this}});p.exports=s},22916:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,t,d,v,o,r,n,e,s,h,i,a,u,l,f,c,m,x=function(w,E,P){S=w,t=E;var B=S.velocity.x,R=t.velocity.x;return d=S.pushable,s=S._dx<0,h=S._dx>0,i=S._dx===0,f=Math.abs(S.right-t.x)<=Math.abs(t.right-S.x),n=R-B*S.bounce.x,v=t.pushable,a=t._dx<0,u=t._dx>0,l=t._dx===0,c=!f,e=B-R*t.bounce.x,m=Math.abs(P),g()},g=function(){return h&&f&&t.blocked.right?(S.processX(-m,n,!1,!0),1):s&&c&&t.blocked.left?(S.processX(m,n,!0),1):u&&c&&S.blocked.right?(t.processX(-m,e,!1,!0),2):a&&f&&S.blocked.left?(t.processX(m,e,!0),2):0},y=function(){var w=S.velocity.x,E=t.velocity.x,P=Math.sqrt(E*E*t.mass/S.mass)*(E>0?1:-1),B=Math.sqrt(w*w*S.mass/t.mass)*(w>0?1:-1),R=(P+B)*.5;return P-=R,B-=R,o=R+P*S.bounce.x,r=R+B*t.bounce.x,s&&c?T(0):a&&f?T(1):h&&f?T(2):u&&c?T(3):!1},T=function(w){if(d&&v)m*=.5,w===0||w===3?(S.processX(m,o),t.processX(-m,r)):(S.processX(-m,o),t.processX(m,r));else if(d&&!v)w===0||w===3?S.processX(m,n,!0):S.processX(-m,n,!1,!0);else if(!d&&v)w===0||w===3?t.processX(-m,e,!1,!0):t.processX(m,e,!0);else{var E=m*.5;w===0?l?(S.processX(m,0,!0),t.processX(0,null,!1,!0)):u?(S.processX(E,0,!0),t.processX(-E,0,!1,!0)):(S.processX(E,t.velocity.x,!0),t.processX(-E,null,!1,!0)):w===1?i?(S.processX(0,null,!1,!0),t.processX(m,0,!0)):h?(S.processX(-E,0,!1,!0),t.processX(E,0,!0)):(S.processX(-E,null,!1,!0),t.processX(E,S.velocity.x,!0)):w===2?l?(S.processX(-m,0,!1,!0),t.processX(0,null,!0)):a?(S.processX(-E,0,!1,!0),t.processX(E,0,!0)):(S.processX(-E,t.velocity.x,!1,!0),t.processX(E,null,!0)):w===3&&(i?(S.processX(0,null,!0),t.processX(-m,0,!1,!0)):s?(S.processX(E,0,!0),t.processX(-E,0,!1,!0)):(S.processX(E,t.velocity.y,!0),t.processX(-E,null,!1,!0)))}return!0},C=function(w){w===1?t.velocity.x=0:f?t.processX(m,e,!0):t.processX(-m,e,!1,!0),S.moves&&(t.y+=(S.y-S.prev.y)*S.friction.y,t._dy=t.y-t.prev.y)},A=function(w){w===2?S.velocity.x=0:c?S.processX(m,n,!0):S.processX(-m,n,!1,!0),t.moves&&(S.y+=(t.y-t.prev.y)*t.friction.y,S._dy=S.y-S.prev.y)};p.exports={BlockCheck:g,Check:y,Set:x,Run:T,RunImmovableBody1:C,RunImmovableBody2:A}},67050:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,t,d,v,o,r,n,e,s,h,i,a,u,l,f,c,m,x=function(w,E,P){S=w,t=E;var B=S.velocity.y,R=t.velocity.y;return d=S.pushable,s=S._dy<0,h=S._dy>0,i=S._dy===0,f=Math.abs(S.bottom-t.y)<=Math.abs(t.bottom-S.y),n=R-B*S.bounce.y,v=t.pushable,a=t._dy<0,u=t._dy>0,l=t._dy===0,c=!f,e=B-R*t.bounce.y,m=Math.abs(P),g()},g=function(){return h&&f&&t.blocked.down?(S.processY(-m,n,!1,!0),1):s&&c&&t.blocked.up?(S.processY(m,n,!0),1):u&&c&&S.blocked.down?(t.processY(-m,e,!1,!0),2):a&&f&&S.blocked.up?(t.processY(m,e,!0),2):0},y=function(){var w=S.velocity.y,E=t.velocity.y,P=Math.sqrt(E*E*t.mass/S.mass)*(E>0?1:-1),B=Math.sqrt(w*w*S.mass/t.mass)*(w>0?1:-1),R=(P+B)*.5;return P-=R,B-=R,o=R+P*S.bounce.y,r=R+B*t.bounce.y,s&&c?T(0):a&&f?T(1):h&&f?T(2):u&&c?T(3):!1},T=function(w){if(d&&v)m*=.5,w===0||w===3?(S.processY(m,o),t.processY(-m,r)):(S.processY(-m,o),t.processY(m,r));else if(d&&!v)w===0||w===3?S.processY(m,n,!0):S.processY(-m,n,!1,!0);else if(!d&&v)w===0||w===3?t.processY(-m,e,!1,!0):t.processY(m,e,!0);else{var E=m*.5;w===0?l?(S.processY(m,0,!0),t.processY(0,null,!1,!0)):u?(S.processY(E,0,!0),t.processY(-E,0,!1,!0)):(S.processY(E,t.velocity.y,!0),t.processY(-E,null,!1,!0)):w===1?i?(S.processY(0,null,!1,!0),t.processY(m,0,!0)):h?(S.processY(-E,0,!1,!0),t.processY(E,0,!0)):(S.processY(-E,null,!1,!0),t.processY(E,S.velocity.y,!0)):w===2?l?(S.processY(-m,0,!1,!0),t.processY(0,null,!0)):a?(S.processY(-E,0,!1,!0),t.processY(E,0,!0)):(S.processY(-E,t.velocity.y,!1,!0),t.processY(E,null,!0)):w===3&&(i?(S.processY(0,null,!0),t.processY(-m,0,!1,!0)):s?(S.processY(E,0,!0),t.processY(-E,0,!1,!0)):(S.processY(E,t.velocity.y,!0),t.processY(-E,null,!1,!0)))}return!0},C=function(w){w===1?t.velocity.y=0:f?t.processY(m,e,!0):t.processY(-m,e,!1,!0),S.moves&&(t.x+=(S.x-S.prev.x)*S.friction.x,t._dx=t.x-t.prev.x)},A=function(w){w===2?S.velocity.y=0:c?S.processY(m,n,!0):S.processY(-m,n,!1,!0),t.moves&&(S.x+=(t.x-t.prev.x)*t.friction.x,S._dx=S.x-S.prev.x)};p.exports={BlockCheck:g,Check:y,Set:x,Run:T,RunImmovableBody1:C,RunImmovableBody2:A}},61777:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(75671),v=t(22916),o=function(r,n,e,s,h){h===void 0&&(h=d(r,n,e,s));var i=r.immovable,a=n.immovable;if(e||h===0||i&&a||r.customSeparateX||n.customSeparateX)return h!==0||r.embedded&&n.embedded;var u=v.Set(r,n,h);return!i&&!a?u>0?!0:v.Check():(i?v.RunImmovableBody1(u):a&&v.RunImmovableBody2(u),!0)};p.exports=o},25299:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(66185),v=t(67050),o=function(r,n,e,s,h){h===void 0&&(h=d(r,n,e,s));var i=r.immovable,a=n.immovable;if(e||h===0||i&&a||r.customSeparateY||n.customSeparateY)return h!==0||r.embedded&&n.embedded;var u=v.Set(r,n,h);return!i&&!a?u>0?!0:v.Check():(i?v.RunImmovableBody1(u):a&&v.RunImmovableBody2(u),!0)};p.exports=o},66634:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(65650),v=t(56694),o=t(47401),r=t(94287),n=t(93736),e=new v({initialize:function(h,i){var a=64,u=64,l={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},f=i!==void 0;f&&i.displayWidth&&(a=i.displayWidth,u=i.displayHeight),f||(i=l),this.world=h,this.gameObject=f?i:void 0,this.isBody=!0,this.debugShowBody=h.defaults.debugShowStaticBody,this.debugBodyColor=h.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new n,this.position=new n(i.x-a*i.originX,i.y-u*i.originY),this.width=a,this.height=u,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new n(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=n.ZERO,this.allowGravity=!1,this.gravity=n.ZERO,this.bounce=n.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=o.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(s,h){return s&&s!==this.gameObject&&(this.gameObject.body=null,s.body=this,this.gameObject=s),h&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var s=this.gameObject;return s.getTopLeft(this.position),this.width=s.displayWidth,this.height=s.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(s,h){return h===void 0&&(h=s),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(s,h),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(s,h,i){i===void 0&&(i=!0);var a=this.gameObject;if(!s&&a.frame&&(s=a.frame.realWidth),!h&&a.frame&&(h=a.frame.realHeight),this.world.staticTree.remove(this),this.width=s,this.height=h,this.halfWidth=Math.floor(s/2),this.halfHeight=Math.floor(h/2),i&&a.getCenter){var u=a.displayWidth/2,l=a.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(u-this.halfWidth,l-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(s,h,i){return h===void 0&&(h=this.offset.x),i===void 0&&(i=this.offset.y),s>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=s,this.width=s*2,this.height=s*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(h,i),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(s,h){var i=this.gameObject;s===void 0&&(s=i.x),h===void 0&&(h=i.y),this.world.staticTree.remove(this),i.setPosition(s,h),i.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(s){return s.x=this.x,s.y=this.y,s.right=this.right,s.bottom=this.bottom,s},hitTest:function(s,h){return this.isCircle?d(this,s,h):r(this,s,h)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(s){var h=this.position,i=h.x+this.halfWidth,a=h.y+this.halfHeight;this.debugShowBody&&(s.lineStyle(s.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?s.strokeCircle(i,a,this.width/2):s.strokeRect(h.x,h.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(s){return s<=0&&(s=.1),this.mass=s,this},x:{get:function(){return this.position.x},set:function(s){this.world.staticTree.remove(this),this.position.x=s,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(s){this.world.staticTree.remove(this),this.position.y=s,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});p.exports=e},46346:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(25084),v=t(56694),o=t(47401),r=t(72632),n=t(59192),e=t(42911),s=new v({Extends:n,initialize:function(i,a,u,l){!u&&!l?l={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:d}:e(u)?(l=u,u=null,l.internalCreateCallback=this.createCallbackHandler,l.internalRemoveCallback=this.removeCallbackHandler,l.createMultipleCallback=this.createMultipleCallbackHandler,l.classType=r(l,"classType",d)):Array.isArray(u)&&e(u[0])?(l=u,u=null,l.forEach(function(f){f.internalCreateCallback=this.createCallbackHandler,f.internalRemoveCallback=this.removeCallbackHandler,f.createMultipleCallback=this.createMultipleCallbackHandler,f.classType=r(f,"classType",d)})):l={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=i,this.physicsType=o.STATIC_BODY,n.call(this,a,u,l),this.type="StaticPhysicsGroup"},createCallbackHandler:function(h){h.body||this.world.enableBody(h,o.STATIC_BODY)},removeCallbackHandler:function(h){h.body&&this.world.disableBody(h)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var h=this.children.entries,i=0;i<h.length;i++)h[i].body.reset();return this}});p.exports=s},85233:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(94240),v=t(97602),o=t(82897),r=t(56694),n=t(3909),e=t(47401),s=t(53996),h=t(92951),i=t(6659),a=t(27037),u=t(88456),l=t(41935),f=t(54726),c=t(75671),m=t(66185),x=t(44662),g=t(10850),y=t(83392),T=t(74623),C=t(25163),A=t(74118),w=t(68687),E=t(27354),P=t(61777),B=t(25299),R=t(58403),I=t(66634),N=t(28808),X=t(69360),Y=t(93736),O=t(1071),D=new r({Extends:i,initialize:function(M,L){i.call(this),this.scene=M,this.bodies=new R,this.staticBodies=new R,this.pendingDestroy=new R,this.colliders=new T,this.gravity=new Y(g(L,"gravity.x",0),g(L,"gravity.y",0)),this.bounds=new A(g(L,"x",0),g(L,"y",0),g(L,"width",M.sys.scale.width),g(L,"height",M.sys.scale.height)),this.checkCollision={up:g(L,"checkCollision.up",!0),down:g(L,"checkCollision.down",!0),left:g(L,"checkCollision.left",!0),right:g(L,"checkCollision.right",!0)},this.fps=g(L,"fps",60),this.fixedStep=g(L,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=g(L,"timeScale",1),this.OVERLAP_BIAS=g(L,"overlapBias",4),this.TILE_BIAS=g(L,"tileBias",16),this.forceX=g(L,"forceX",!1),this.isPaused=g(L,"isPaused",!1),this._total=0,this.drawDebug=g(L,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:g(L,"debugShowBody",!0),debugShowStaticBody:g(L,"debugShowStaticBody",!0),debugShowVelocity:g(L,"debugShowVelocity",!0),bodyDebugColor:g(L,"debugBodyColor",16711935),staticBodyDebugColor:g(L,"debugStaticBodyColor",255),velocityDebugColor:g(L,"debugVelocityColor",65280)},this.maxEntries=g(L,"maxEntries",16),this.useTree=g(L,"useTree",!0),this.tree=new w(this.maxEntries),this.staticTree=new w(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new X,this._tempMatrix2=new X,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(F,M){M===void 0&&(M=e.DYNAMIC_BODY),Array.isArray(F)||(F=[F]);for(var L=0;L<F.length;L++){var G=F[L];if(G.isParent)for(var U=G.getChildren(),W=0;W<U.length;W++){var H=U[W];H.isParent?this.enable(H,M):this.enableBody(H,M)}else this.enableBody(G,M)}},enableBody:function(F,M){return M===void 0&&(M=e.DYNAMIC_BODY),F.hasTransformComponent&&(F.body||(M===e.DYNAMIC_BODY?F.body=new v(this,F):M===e.STATIC_BODY&&(F.body=new I(this,F))),this.add(F.body)),F},add:function(F){return F.physicsType===e.DYNAMIC_BODY?this.bodies.set(F):F.physicsType===e.STATIC_BODY&&(this.staticBodies.set(F),this.staticTree.insert(F)),F.enable=!0,F},disable:function(F){Array.isArray(F)||(F=[F]);for(var M=0;M<F.length;M++){var L=F[M];if(L.isParent)for(var G=L.getChildren(),U=0;U<G.length;U++){var W=G[U];W.isParent?this.disable(W):this.disableBody(W.body)}else this.disableBody(L.body)}},disableBody:function(F){this.remove(F),F.enable=!1},remove:function(F){F.physicsType===e.DYNAMIC_BODY?(this.tree.remove(F),this.bodies.delete(F)):F.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(F),this.staticTree.remove(F))},createDebugGraphic:function(){var F=this.scene.sys.add.graphics({x:0,y:0});return F.setDepth(Number.MAX_VALUE),this.debugGraphic=F,this.drawDebug=!0,F},setBounds:function(F,M,L,G,U,W,H,J){return this.bounds.setTo(F,M,L,G),U!==void 0&&this.setBoundsCollision(U,W,H,J),this},setBoundsCollision:function(F,M,L,G){return F===void 0&&(F=!0),M===void 0&&(M=!0),L===void 0&&(L=!0),G===void 0&&(G=!0),this.checkCollision.left=F,this.checkCollision.right=M,this.checkCollision.up=L,this.checkCollision.down=G,this},pause:function(){return this.isPaused=!0,this.emit(a.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(a.RESUME),this},addCollider:function(F,M,L,G,U){L===void 0&&(L=null),G===void 0&&(G=null),U===void 0&&(U=L);var W=new n(this,!1,F,M,L,G,U);return this.colliders.add(W),W},addOverlap:function(F,M,L,G,U){L===void 0&&(L=null),G===void 0&&(G=null),U===void 0&&(U=L);var W=new n(this,!0,F,M,L,G,U);return this.colliders.add(W),W},removeCollider:function(F){return this.colliders.remove(F),this},setFPS:function(F){return this.fps=F,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(F,M){if(!(this.isPaused||this.bodies.size===0)){var L,G=this._frameTime,U=this._frameTimeMS*this.timeScale;this._elapsed+=M;var W,H=this.bodies.entries,J=this._elapsed>=U;for(this.fixedStep||(G=M*.001,J=!0,this._elapsed=0),L=0;L<H.length;L++)W=H[L],W.enable&&W.preUpdate(J,G);if(J){this._elapsed-=U,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(H));var Q=this.colliders.update();for(L=0;L<Q.length;L++){var $=Q[L];$.active&&$.update()}this.emit(a.WORLD_STEP,G)}for(;this._elapsed>=U;)this._elapsed-=U,this.step(G)}},step:function(F){var M,L,G=this.bodies.entries,U=G.length;for(M=0;M<U;M++)L=G[M],L.enable&&L.update(F);this.useTree&&(this.tree.clear(),this.tree.load(G));var W=this.colliders.update();for(M=0;M<W.length;M++){var H=W[M];H.active&&H.update()}this.emit(a.WORLD_STEP,F),this.stepsLastFrame++},postUpdate:function(){var F,M,L=this.bodies.entries,G=L.length,U=this.bodies,W=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,F=0;F<G;F++)M=L[F],M.enable&&M.postUpdate();if(this.drawDebug){var H=this.debugGraphic;for(H.clear(),F=0;F<G;F++)M=L[F],M.willDrawDebug()&&M.drawDebug(H);for(L=W.entries,G=L.length,F=0;F<G;F++)M=L[F],M.willDrawDebug()&&M.drawDebug(H)}var J=this.pendingDestroy;if(J.size>0){var Q=this.tree,$=this.staticTree;for(L=J.entries,G=L.length,F=0;F<G;F++)M=L[F],M.physicsType===e.DYNAMIC_BODY?(Q.remove(M),U.delete(M)):M.physicsType===e.STATIC_BODY&&($.remove(M),W.delete(M)),M.world=void 0,M.gameObject=void 0;J.clear()}},updateMotion:function(F,M){F.allowRotation&&this.computeAngularVelocity(F,M),this.computeVelocity(F,M)},computeAngularVelocity:function(F,M){var L=F.angularVelocity,G=F.angularAcceleration,U=F.angularDrag,W=F.maxAngular;G?L+=G*M:F.allowDrag&&U&&(U*=M,l(L-U,0,.1)?L-=U:f(L+U,0,.1)?L+=U:L=0),L=o(L,-W,W);var H=L-F.angularVelocity;F.angularVelocity+=H,F.rotation+=F.angularVelocity*M},computeVelocity:function(F,M){var L=F.velocity.x,G=F.acceleration.x,U=F.drag.x,W=F.maxVelocity.x,H=F.velocity.y,J=F.acceleration.y,Q=F.drag.y,$=F.maxVelocity.y,k=F.speed,_=F.maxSpeed,q=F.allowDrag,et=F.useDamping;F.allowGravity&&(L+=(this.gravity.x+F.gravity.x)*M,H+=(this.gravity.y+F.gravity.y)*M),G?L+=G*M:q&&U&&(et?(U=Math.pow(U,M),L*=U,k=Math.sqrt(L*L+H*H),u(k,0,.001)&&(L=0)):(U*=M,l(L-U,0,.01)?L-=U:f(L+U,0,.01)?L+=U:L=0)),J?H+=J*M:q&&Q&&(et?(Q=Math.pow(Q,M),H*=Q,k=Math.sqrt(L*L+H*H),u(k,0,.001)&&(H=0)):(Q*=M,l(H-Q,0,.01)?H-=Q:f(H+Q,0,.01)?H+=Q:H=0)),L=o(L,-W,W),H=o(H,-$,$),F.velocity.set(L,H),_>-1&&F.velocity.length()>_&&(F.velocity.normalize().scale(_),k=_),F.speed=k},separate:function(F,M,L,G,U){var W,H,J=!1,Q=!0;if(!F.enable||!M.enable||F.checkCollision.none||M.checkCollision.none||!this.intersects(F,M)||L&&L.call(G,F.gameObject,M.gameObject)===!1)return J;if(F.isCircle||M.isCircle){var $=this.separateCircle(F,M,U);$.result?(J=!0,Q=!1):(W=$.x,H=$.y,Q=!0)}if(Q){var k=!1,_=!1,q=this.OVERLAP_BIAS;U?(k=P(F,M,U,q,W),_=B(F,M,U,q,H)):this.forceX||Math.abs(this.gravity.y+F.gravity.y)<Math.abs(this.gravity.x+F.gravity.x)?(k=P(F,M,U,q,W),this.intersects(F,M)&&(_=B(F,M,U,q,H))):(_=B(F,M,U,q,H),this.intersects(F,M)&&(k=P(F,M,U,q,W))),J=k||_}return J&&(U?(F.onOverlap||M.onOverlap)&&this.emit(a.OVERLAP,F.gameObject,M.gameObject,F,M):(F.onCollide||M.onCollide)&&this.emit(a.COLLIDE,F.gameObject,M.gameObject,F,M)),J},separateCircle:function(F,M,L){c(F,M,!1,0),m(F,M,!1,0);var G=F.isCircle,U=M.isCircle,W=F.center,H=M.center,J=F.immovable,Q=M.immovable,$=F.velocity,k=M.velocity,_=0,q=!0;if(G!==U){q=!1;var et=W.x,ot=W.y,lt=F.halfWidth,ht=M.position.x,tt=M.position.y,at=M.right,rt=M.bottom;U&&(et=H.x,ot=H.y,lt=M.halfWidth,ht=F.position.x,tt=F.position.y,at=F.right,rt=F.bottom),ot<tt?et<ht?_=s(et,ot,ht,tt)-lt:et>at&&(_=s(et,ot,at,tt)-lt):ot>rt&&(et<ht?_=s(et,ot,ht,rt)-lt:et>at&&(_=s(et,ot,at,rt)-lt)),_*=-1}else _=F.halfWidth+M.halfWidth-h(W,H);F.overlapR=_,M.overlapR=_;var dt=d(W,H),ut=(_+y.EPSILON)*Math.cos(dt),mt=(_+y.EPSILON)*Math.sin(dt),pt={overlap:_,result:!1,x:ut,y:mt};if(L&&(!q||q&&_!==0))return pt.result=!0,pt;if(!q&&_===0||J&&Q||F.customSeparateX||M.customSeparateX)return pt.x=void 0,pt.y=void 0,pt;var ct=!F.pushable&&!M.pushable;if(q){var ft=W.x-H.x,gt=W.y-H.y,yt=Math.sqrt(Math.pow(ft,2)+Math.pow(gt,2)),Tt=(H.x-W.x)/yt||0,St=(H.y-W.y)/yt||0,Ct=2*($.x*Tt+$.y*St-k.x*Tt-k.y*St)/(F.mass+M.mass);(J||Q)&&(Ct*=2),J||($.x=$.x-Ct/F.mass*Tt,$.y=$.y-Ct/F.mass*St,$.multiply(F.bounce)),Q||(k.x=k.x+Ct/M.mass*Tt,k.y=k.y+Ct/M.mass*St,k.multiply(M.bounce)),!J&&!Q&&(ut*=.5,mt*=.5),J||(F.x-=ut,F.y-=mt,F.updateCenter()),Q||(M.x+=ut,M.y+=mt,M.updateCenter()),pt.result=!0}else!J||F.pushable||ct?(F.x-=ut,F.y-=mt,F.updateCenter()):(!Q||M.pushable||ct)&&(M.x+=ut,M.y+=mt,M.updateCenter()),pt.x=void 0,pt.y=void 0;return pt},intersects:function(F,M){return F===M?!1:!F.isCircle&&!M.isCircle?!(F.right<=M.left||F.bottom<=M.top||F.left>=M.right||F.top>=M.bottom):F.isCircle?M.isCircle?h(F.center,M.center)<=F.halfWidth+M.halfWidth:this.circleBodyIntersects(F,M):this.circleBodyIntersects(M,F)},circleBodyIntersects:function(F,M){var L=o(F.center.x,M.left,M.right),G=o(F.center.y,M.top,M.bottom),U=(F.center.x-L)*(F.center.x-L),W=(F.center.y-G)*(F.center.y-G);return U+W<=F.halfWidth*F.halfWidth},overlap:function(F,M,L,G,U){return L===void 0&&(L=null),G===void 0&&(G=null),U===void 0&&(U=L),this.collideObjects(F,M,L,G,U,!0)},collide:function(F,M,L,G,U){return L===void 0&&(L=null),G===void 0&&(G=null),U===void 0&&(U=L),this.collideObjects(F,M,L,G,U,!1)},collideObjects:function(F,M,L,G,U,W){var H,J;F.isParent&&(F.physicsType===void 0||M===void 0||F===M)&&(F=F.children.entries),M&&M.isParent&&M.physicsType===void 0&&(M=M.children.entries);var Q=Array.isArray(F),$=Array.isArray(M);if(this._total=0,!Q&&!$)this.collideHandler(F,M,L,G,U,W);else if(!Q&&$)for(H=0;H<M.length;H++)this.collideHandler(F,M[H],L,G,U,W);else if(Q&&!$)if(M)for(H=0;H<F.length;H++)this.collideHandler(F[H],M,L,G,U,W);else for(H=0;H<F.length;H++){var k=F[H];for(J=H+1;J<F.length;J++)H!==J&&this.collideHandler(k,F[J],L,G,U,W)}else for(H=0;H<F.length;H++)for(J=0;J<M.length;J++)this.collideHandler(F[H],M[J],L,G,U,W);return this._total>0},collideHandler:function(F,M,L,G,U,W){if(M===void 0&&F.isParent)return this.collideGroupVsGroup(F,F,L,G,U,W);if(!F||!M)return!1;if(F.body||F.isBody){if(M.body||M.isBody)return this.collideSpriteVsSprite(F,M,L,G,U,W);if(M.isParent)return this.collideSpriteVsGroup(F,M,L,G,U,W);if(M.isTilemap)return this.collideSpriteVsTilemapLayer(F,M,L,G,U,W)}else if(F.isParent){if(M.body||M.isBody)return this.collideSpriteVsGroup(M,F,L,G,U,W);if(M.isParent)return this.collideGroupVsGroup(F,M,L,G,U,W);if(M.isTilemap)return this.collideGroupVsTilemapLayer(F,M,L,G,U,W)}else if(F.isTilemap){if(M.body||M.isBody)return this.collideSpriteVsTilemapLayer(M,F,L,G,U,W);if(M.isParent)return this.collideGroupVsTilemapLayer(M,F,L,G,U,W)}},collideSpriteVsSprite:function(F,M,L,G,U,W){var H=F.isBody?F:F.body,J=M.isBody?M:M.body;return!H||!J?!1:(this.separate(H,J,G,U,W)&&(L&&L.call(U,F,M),this._total++),!0)},collideSpriteVsGroup:function(F,M,L,G,U,W){var H=F.isBody?F:F.body;if(!(M.length===0||!H||!H.enable||H.checkCollision.none)){var J,Q,$;if(this.useTree||M.physicsType===e.STATIC_BODY){var k=this.treeMinMax;k.minX=H.left,k.minY=H.top,k.maxX=H.right,k.maxY=H.bottom;var _=M.physicsType===e.DYNAMIC_BODY?this.tree.search(k):this.staticTree.search(k);for(Q=_.length,J=0;J<Q;J++)$=_[J],!(H===$||!$.enable||$.checkCollision.none||!M.contains($.gameObject))&&this.separate(H,$,G,U,W)&&(L&&L.call(U,H.gameObject,$.gameObject),this._total++)}else{var q=M.getChildren(),et=M.children.entries.indexOf(F);for(Q=q.length,J=0;J<Q;J++)$=q[J].body,!(!$||J===et||!$.enable)&&this.separate(H,$,G,U,W)&&(L&&L.call(U,H.gameObject,$.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(F,M,L,G,U,W){var H=F.getChildren();if(H.length===0)return!1;for(var J=!1,Q=0;Q<H.length;Q++)(H[Q].body||H[Q].isBody)&&this.collideSpriteVsTilemapLayer(H[Q],M,L,G,U,W)&&(J=!0);return J},collideTiles:function(F,M,L,G,U){return M.length===0||F.body&&!F.body.enable||F.isBody&&!F.enable?!1:this.collideSpriteVsTilesHandler(F,M,L,G,U,!1,!1)},overlapTiles:function(F,M,L,G,U){return M.length===0||F.body&&!F.body.enable||F.isBody&&!F.enable?!1:this.collideSpriteVsTilesHandler(F,M,L,G,U,!0,!1)},collideSpriteVsTilemapLayer:function(F,M,L,G,U,W){var H=F.isBody?F:F.body;if(!H.enable||H.checkCollision.none)return!1;var J=H.x,Q=H.y,$=H.width,k=H.height,_=M.layer;if(_.tileWidth>_.baseTileWidth){var q=(_.tileWidth-_.baseTileWidth)*M.scaleX;J-=q,$+=q}if(_.tileHeight>_.baseTileHeight){var et=(_.tileHeight-_.baseTileHeight)*M.scaleY;k+=et}var ot=W?null:this.tileFilterOptions,lt=x(J,Q,$,k,ot,M.scene.cameras.main,M.layer);return lt.length===0?!1:this.collideSpriteVsTilesHandler(F,lt,L,G,U,W,!0)},collideSpriteVsTilesHandler:function(F,M,L,G,U,W,H){for(var J=F.isBody?F:F.body,Q,$={left:0,right:0,top:0,bottom:0},k,_=!1,q=0;q<M.length;q++){Q=M[q],k=Q.tilemapLayer;var et=k.tileToWorldXY(Q.x,Q.y);$.left=et.x,$.top=et.y,Q.baseHeight!==Q.height&&($.top-=(Q.height-Q.baseHeight)*k.scaleY),$.right=$.left+Q.width*k.scaleX,$.bottom=$.top+Q.height*k.scaleY,N($,J)&&(!G||G.call(U,F,Q))&&C(Q,F)&&(W||E(q,J,Q,$,k,this.TILE_BIAS,H))&&(this._total++,_=!0,L&&L.call(U,F,Q),W&&J.onOverlap?this.emit(a.TILE_OVERLAP,F,Q,J):J.onCollide&&this.emit(a.TILE_COLLIDE,F,Q,J))}return _},collideGroupVsGroup:function(F,M,L,G,U,W){if(!(F.length===0||M.length===0))for(var H=F.getChildren(),J=0;J<H.length;J++)this.collideSpriteVsGroup(H[J],M,L,G,U,W)},wrap:function(F,M){F.body?this.wrapObject(F,M):F.getChildren?this.wrapArray(F.getChildren(),M):Array.isArray(F)?this.wrapArray(F,M):this.wrapObject(F,M)},wrapArray:function(F,M){for(var L=0;L<F.length;L++)this.wrapObject(F[L],M)},wrapObject:function(F,M){M===void 0&&(M=0),F.x=O(F.x,this.bounds.left-M,this.bounds.right+M),F.y=O(F.y,this.bounds.top-M,this.bounds.bottom+M)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});p.exports=D},5321:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAcceleration:function(t,d){return this.body.acceleration.set(t,d),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};p.exports=S},29257:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};p.exports=S},62122:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(t,d){return this.body.bounce.set(t,d),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,d,v,o){return this.body.setCollideWorldBounds(t,d,v,o),this}};p.exports=S},99803:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDebug:function(t,d,v){return this.debugShowBody=t,this.debugShowVelocity=d,this.debugBodyColor=v,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};p.exports=S},87145:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDrag:function(t,d){return this.body.drag.set(t,d),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};p.exports=S},96174:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={enableBody:function(t,d,v,o,r){return t&&this.body.reset(d,v),o&&(this.body.gameObject.active=!0),r&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,d){return t===void 0&&(t=!1),d===void 0&&(d=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),d&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};p.exports=S},51702:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(t,d){return this.body.friction.set(t,d),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};p.exports=S},25578:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setGravity:function(t,d){return this.body.gravity.set(t,d),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};p.exports=S},72029:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};p.exports=S},34566:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setMass:function(t){return this.body.mass=t,this}};p.exports=S},2732:(p,S,t)=>{var d=t(15147),v=t(26673),o=t(22184),r=t(26535),n=function(e,s,h,i,a,u){var l=d(e,s-i,h-i,2*i,2*i,a,u);if(l.length===0)return l;for(var f=new v(s,h,i),c=new v,m=[],x=0;x<l.length;x++){var g=l[x];g.isCircle?(c.setTo(g.center.x,g.center.y,g.halfWidth),o(f,c)&&m.push(g)):r(f,g)&&m.push(g)}return m};p.exports=n},15147:p=>{var S=function(t,d,v,o,r,n,e){n===void 0&&(n=!0),e===void 0&&(e=!1);var s=[],h=[],i=t.treeMinMax;if(i.minX=d,i.minY=v,i.maxX=d+o,i.maxY=v+r,e&&(h=t.staticTree.search(i)),n&&t.useTree)s=t.tree.search(i);else if(n){var a=t.bodies,u={position:{x:d,y:v},left:d,top:v,right:d+o,bottom:v+r,isCircle:!1},l=t.intersects;a.iterate(function(f){l(f,u)&&s.push(f)})}return h.concat(s)};p.exports=S},57527:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};p.exports=S},77687:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setOffset:function(t,d){return this.body.setOffset(t,d),this},setSize:function(t,d,v){return this.body.setSize(t,d,v),this},setBodySize:function(t,d,v){return this.body.setSize(t,d,v),this},setCircle:function(t,d,v){return this.body.setCircle(t,d,v),this}};p.exports=S},66536:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setVelocity:function(t,d){return this.body.setVelocity(t,d),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,d){return this.body.maxVelocity.set(t,d),this}};p.exports=S},7864:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Acceleration:t(5321),Angular:t(29257),Bounce:t(62122),Debug:t(99803),Drag:t(87145),Enable:t(96174),Friction:t(51702),Gravity:t(25578),Immovable:t(72029),Mass:t(34566),OverlapCirc:t(2732),OverlapRect:t(15147),Pushable:t(57527),Size:t(77687),Velocity:t(66536)}},47401:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};p.exports=S},22346:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collide"},95092:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="overlap"},15775:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},74142:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},22825:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="tilecollide"},10851:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="tileoverlap"},7543:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="worldbounds"},1487:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="worldstep"},27037:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COLLIDE:t(22346),OVERLAP:t(95092),PAUSE:t(15775),RESUME:t(74142),TILE_COLLIDE:t(22825),TILE_OVERLAP:t(10851),WORLD_BOUNDS:t(7543),WORLD_STEP:t(1487)}},39977:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(47401),v=t(98611),o={ArcadePhysics:t(66150),Body:t(97602),Collider:t(3909),Components:t(7864),Events:t(27037),Factory:t(99523),GetOverlapX:t(75671),GetOverlapY:t(66185),SeparateX:t(61777),SeparateY:t(25299),Group:t(10481),Image:t(62832),Sprite:t(25084),StaticBody:t(66634),StaticGroup:t(46346),Tilemap:t(8413),World:t(85233)};o=v(!1,o,d),p.exports=o},25163:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,d,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,d,t):!0};p.exports=S},98209:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){d<0?(t.blocked.none=!1,t.blocked.left=!0):d>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=d,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};p.exports=S},72792:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){d<0?(t.blocked.none=!1,t.blocked.up=!0):d>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=d,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};p.exports=S},27354:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(14405),v=t(52926),o=t(28808),r=function(n,e,s,h,i,a,u){var l=h.left,f=h.top,c=h.right,m=h.bottom,x=s.faceLeft||s.faceRight,g=s.faceTop||s.faceBottom;if(u||(x=!0,g=!0),!x&&!g)return!1;var y=0,T=0,C=0,A=1;if(e.deltaAbsX()>e.deltaAbsY()?C=-1:e.deltaAbsX()<e.deltaAbsY()&&(A=-1),e.deltaX()!==0&&e.deltaY()!==0&&x&&g&&(C=Math.min(Math.abs(e.position.x-c),Math.abs(e.right-l)),A=Math.min(Math.abs(e.position.y-m),Math.abs(e.bottom-f))),C<A){if(x&&(y=d(e,s,l,c,a,u),y!==0&&!o(h,e)))return!0;g&&(T=v(e,s,f,m,a,u))}else{if(g&&(T=v(e,s,f,m,a,u),T!==0&&!o(h,e)))return!0;x&&(y=d(e,s,l,c,a,u))}return y!==0||T!==0};p.exports=r},14405:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(98209),v=function(o,r,n,e,s,h){var i=0,a=r.faceLeft,u=r.faceRight,l=r.collideLeft,f=r.collideRight;return h||(a=!0,u=!0,l=!0,f=!0),o.deltaX()<0&&f&&o.checkCollision.left?u&&o.x<e&&(i=o.x-e,i<-s&&(i=0)):o.deltaX()>0&&l&&o.checkCollision.right&&a&&o.right>n&&(i=o.right-n,i>s&&(i=0)),i!==0&&(o.customSeparateX?o.overlapX=i:d(o,i)),i};p.exports=v},52926:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72792),v=function(o,r,n,e,s,h){var i=0,a=r.faceTop,u=r.faceBottom,l=r.collideUp,f=r.collideDown;return h||(a=!0,u=!0,l=!0,f=!0),o.deltaY()<0&&f&&o.checkCollision.up?u&&o.y<e&&(i=o.y-e,i<-s&&(i=0)):o.deltaY()>0&&l&&o.checkCollision.down&&a&&o.bottom>n&&(i=o.bottom-n,i>s&&(i=0)),i!==0&&(o.customSeparateY?o.overlapY=i:d(o,i)),i};p.exports=v},28808:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return!(d.right<=t.left||d.bottom<=t.top||d.position.x>=t.right||d.position.y>=t.bottom)};p.exports=S},8413:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={ProcessTileCallbacks:t(25163),ProcessTileSeparationX:t(98209),ProcessTileSeparationY:t(72792),SeparateTile:t(27354),TileCheckX:t(14405),TileCheckY:t(52926),TileIntersectsBody:t(28808)};p.exports=d},53954:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Arcade:t(39977),Matter:t(45949)}},63568:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(93736),o=new d({initialize:function(){this.boundsCenter=new v,this.centerDiff=new v},parseBody:function(r){if(r=r.hasOwnProperty("body")?r.body:r,!r.hasOwnProperty("bounds")||!r.hasOwnProperty("centerOfMass"))return!1;var n=this.boundsCenter,e=this.centerDiff,s=r.bounds.max.x-r.bounds.min.x,h=r.bounds.max.y-r.bounds.min.y,i=s*r.centerOfMass.x,a=h*r.centerOfMass.y;return n.set(s/2,h/2),e.set(i-n.x,a-n.y),!0},getTopLeft:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,h=this.centerDiff;return new v(n+s.x+h.x,e+s.y+h.y)}return!1},getTopCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,h=this.centerDiff;return new v(n+h.x,e+s.y+h.y)}return!1},getTopRight:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,h=this.centerDiff;return new v(n-(s.x-h.x),e+s.y+h.y)}return!1},getLeftCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,h=this.centerDiff;return new v(n+s.x+h.x,e+h.y)}return!1},getCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.centerDiff;return new v(n+s.x,e+s.y)}return!1},getRightCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,h=this.centerDiff;return new v(n-(s.x-h.x),e+h.y)}return!1},getBottomLeft:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,h=this.centerDiff;return new v(n+s.x+h.x,e-(s.y-h.y))}return!1},getBottomCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,h=this.centerDiff;return new v(n+h.x,e-(s.y-h.y))}return!1},getBottomRight:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,h=this.centerDiff;return new v(n-(s.x-h.x),e-(s.y-h.y))}return!1}});p.exports=o},18171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(16929);d.Body=t(84125),d.Composite=t(11299),d.World=t(72005),d.Collision=t(63454),d.Detector=t(13657),d.Pairs=t(91327),d.Pair=t(70584),d.Query=t(13390),d.Resolver=t(44272),d.Constraint=t(52838),d.Common=t(68758),d.Engine=t(45775),d.Events=t(39073),d.Sleeping=t(22806),d.Plugin=t(84474),d.Bodies=t(68516),d.Composites=t(56643),d.Axes=t(50658),d.Bounds=t(84091),d.Svg=t(92765),d.Vector=t(10438),d.Vertices=t(39745),d.World.add=d.Composite.add,d.World.remove=d.Composite.remove,d.World.addComposite=d.Composite.addComposite,d.World.addBody=d.Composite.addBody,d.World.addConstraint=d.Composite.addConstraint,d.World.clear=d.Composite.clear,p.exports=d},72653:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(68516),v=t(56694),o=t(56643),r=t(52838),n=t(92765),e=t(3860),s=t(7030),h=t(73658),i=t(84720),a=t(10998),u=t(72829),l=t(88596),f=t(39745),c=new v({initialize:function(x){this.world=x,this.scene=x.scene,this.sys=x.scene.sys},rectangle:function(m,x,g,y,T){var C=d.rectangle(m,x,g,y,T);return this.world.add(C),C},trapezoid:function(m,x,g,y,T,C){var A=d.trapezoid(m,x,g,y,T,C);return this.world.add(A),A},circle:function(m,x,g,y,T){var C=d.circle(m,x,g,y,T);return this.world.add(C),C},polygon:function(m,x,g,y,T){var C=d.polygon(m,x,g,y,T);return this.world.add(C),C},fromVertices:function(m,x,g,y,T,C,A){typeof g=="string"&&(g=f.fromPath(g));var w=d.fromVertices(m,x,g,y,T,C,A);return this.world.add(w),w},fromPhysicsEditor:function(m,x,g,y,T){T===void 0&&(T=!0);var C=a.parseBody(m,x,g,y);return T&&!this.world.has(C)&&this.world.add(C),C},fromSVG:function(m,x,g,y,T,C){y===void 0&&(y=1),T===void 0&&(T={}),C===void 0&&(C=!0);for(var A=g.getElementsByTagName("path"),w=[],E=0;E<A.length;E++){var P=n.pathToVertices(A[E],30);y!==1&&f.scale(P,y,y),w.push(P)}var B=d.fromVertices(m,x,w,T);return C&&this.world.add(B),B},fromJSON:function(m,x,g,y,T){y===void 0&&(y={}),T===void 0&&(T=!0);var C=u.parseBody(m,x,g,y);return C&&T&&this.world.add(C),C},imageStack:function(m,x,g,y,T,C,A,w,E){A===void 0&&(A=0),w===void 0&&(w=0),E===void 0&&(E={});var P=this.world,B=this.sys.displayList;E.addToWorld=!1;var R=o.stack(g,y,T,C,A,w,function(I,N){var X=new s(P,I,N,m,x,E);return B.add(X),X.body});return P.add(R),R},stack:function(m,x,g,y,T,C,A){var w=o.stack(m,x,g,y,T,C,A);return this.world.add(w),w},pyramid:function(m,x,g,y,T,C,A){var w=o.pyramid(m,x,g,y,T,C,A);return this.world.add(w),w},chain:function(m,x,g,y,T,C){return o.chain(m,x,g,y,T,C)},mesh:function(m,x,g,y,T){return o.mesh(m,x,g,y,T)},newtonsCradle:function(m,x,g,y,T){var C=o.newtonsCradle(m,x,g,y,T);return this.world.add(C),C},car:function(m,x,g,y,T){var C=o.car(m,x,g,y,T);return this.world.add(C),C},softBody:function(m,x,g,y,T,C,A,w,E,P){var B=o.softBody(m,x,g,y,T,C,A,w,E,P);return this.world.add(B),B},joint:function(m,x,g,y,T){return this.constraint(m,x,g,y,T)},spring:function(m,x,g,y,T){return this.constraint(m,x,g,y,T)},constraint:function(m,x,g,y,T){y===void 0&&(y=1),T===void 0&&(T={}),T.bodyA=m.type==="body"?m:m.body,T.bodyB=x.type==="body"?x:x.body,isNaN(g)||(T.length=g),T.stiffness=y;var C=r.create(T);return this.world.add(C),C},worldConstraint:function(m,x,g,y){g===void 0&&(g=1),y===void 0&&(y={}),y.bodyB=m.type==="body"?m:m.body,isNaN(x)||(y.length=x),y.stiffness=g;var T=r.create(y);return this.world.add(T),T},mouseSpring:function(m){return this.pointerConstraint(m)},pointerConstraint:function(m){m===void 0&&(m={}),m.hasOwnProperty("render")||(m.render={visible:!1});var x=new l(this.scene,this.world,m);return this.world.add(x.constraint),x},image:function(m,x,g,y,T){var C=new s(this.world,m,x,g,y,T);return this.sys.displayList.add(C),C},tileBody:function(m,x){return new i(this.world,m,x)},sprite:function(m,x,g,y,T){var C=new h(this.world,m,x,g,y,T);return this.sys.displayList.add(C),this.sys.updateList.add(C),C},gameObject:function(m,x,g){return e(this.world,m,x,g)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});p.exports=c},3860:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(74527),v=t(72632),o=t(93736);function r(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var n=function(e,s,h,i){h===void 0&&(h={}),i===void 0&&(i=!0);var a=s.x,u=s.y;s.body={temp:!0,position:{x:a,y:u}};var l=[d.Bounce,d.Collision,d.Force,d.Friction,d.Gravity,d.Mass,d.Sensor,d.SetBody,d.Sleep,d.Static,d.Transform,d.Velocity];if(l.forEach(function(c){for(var m in c)r(c[m])?Object.defineProperty(s,m,{get:c[m].get,set:c[m].set}):Object.defineProperty(s,m,{value:c[m]})}),s.world=e,s._tempVec2=new o(a,u),h.hasOwnProperty("type")&&h.type==="body")s.setExistingBody(h,i);else{var f=v(h,"shape",null);f||(f="rectangle"),h.addToWorld=i,s.setBody(f,h)}return s};p.exports=n},7030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(74527),o=t(89980),r=t(72632),n=t(1539),e=t(58210),s=t(93736),h=new d({Extends:n,Mixins:[v.Bounce,v.Collision,v.Force,v.Friction,v.Gravity,v.Mass,v.Sensor,v.SetBody,v.Sleep,v.Static,v.Transform,v.Velocity,e],initialize:function(a,u,l,f,c,m){o.call(this,a.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(f,c),this.setSizeToFrame(),this.setOrigin(),this.world=a,this._tempVec2=new s(u,l);var x=r(m,"shape",null);x?this.setBody(x,m):this.setRectangle(this.width,this.height,m),this.setPosition(u,l),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=h},50583:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(84093),v=t(50658),o=t(68516),r=t(84125),n=t(63568),e=t(84091),s=t(56694),h=t(63454),i=t(68758),a=t(11299),u=t(56643),l=t(52838),f=t(13657),c=t(53996),m=t(72653),x=t(72632),g=t(10850),y=t(1675),T=t(80391),C=t(16929),A=t(44097),w=t(30657),E=t(70584),P=t(91327),B=t(84474),R=t(91963),I=t(13390),N=t(44272),X=t(7599),Y=t(92765),O=t(10438),D=t(39745),F=t(31468);i.setDecomp(t(81084));var M=new s({initialize:function(G){this.scene=G,this.systems=G.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=r,this.composite=a,this.collision=h,this.detector=f,this.pair=E,this.pairs=P,this.query=I,this.resolver=N,this.constraint=l,this.bodies=o,this.composites=u,this.axes=v,this.bounds=e,this.svg=Y,this.vector=O,this.vertices=D,this.verts=D,this._tempVec2=O.create(),g(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),g(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),g(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),N._restingThresh=g(this.config,"restingThresh",4),N._restingThreshTangent=g(this.config,"restingThreshTangent",6),N._positionDampen=g(this.config,"positionDampen",.9),N._positionWarming=g(this.config,"positionWarming",.8),N._frictionNormalMultiplier=g(this.config,"frictionNormalMultiplier",5),G.sys.events.once(X.BOOT,this.boot,this),G.sys.events.on(X.START,this.start,this)},boot:function(){this.world=new F(this.scene,this.config),this.add=new m(this.world),this.bodyBounds=new n,this.systems.events.once(X.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new F(this.scene,this.config),this.add=new m(this.world));var L=this.systems.events;L.on(X.UPDATE,this.world.update,this.world),L.on(X.POST_UPDATE,this.world.postUpdate,this.world),L.once(X.SHUTDOWN,this.shutdown,this)},getConfig:function(){var L=this.systems.game.config.physics,G=this.systems.settings.physics,U=w(x(G,"matter",{}),x(L,"matter",{}));return U},enableAttractorPlugin:function(){return B.register(y),B.use(C,y),this},enableWrapPlugin:function(){return B.register(A),B.use(C,A),this},enableCollisionEventsPlugin:function(){return B.register(T),B.use(C,T),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(L,G){this.world.step(L,G)},containsPoint:function(L,G,U){L=this.getMatterBodies(L);var W=O.create(G,U),H=I.point(L,W);return H.length>0},intersectPoint:function(L,G,U){U=this.getMatterBodies(U);var W=O.create(L,G),H=[],J=I.point(U,W);return J.forEach(function(Q){H.indexOf(Q)===-1&&H.push(Q)}),H},intersectRect:function(L,G,U,W,H,J){H===void 0&&(H=!1),J=this.getMatterBodies(J);var Q={min:{x:L,y:G},max:{x:L+U,y:G+W}},$=[],k=I.region(J,Q,H);return k.forEach(function(_){$.indexOf(_)===-1&&$.push(_)}),$},intersectRay:function(L,G,U,W,H,J){H===void 0&&(H=1),J=this.getMatterBodies(J);for(var Q=[],$=I.ray(J,O.create(L,G),O.create(U,W),H),k=0;k<$.length;k++)Q.push($[k].body);return Q},intersectBody:function(L,G){G=this.getMatterBodies(G);for(var U=[],W=I.collides(L,G),H=0;H<W.length;H++){var J=W[H];J.bodyA===L?U.push(J.bodyB):U.push(J.bodyA)}return U},overlap:function(L,G,U,W,H){U===void 0&&(U=null),W===void 0&&(W=null),H===void 0&&(H=U),Array.isArray(L)||(L=[L]),L=this.getMatterBodies(L),G=this.getMatterBodies(G);for(var J=!1,Q=0;Q<L.length;Q++)for(var $=L[Q],k=I.collides($,G),_=0;_<k.length;_++){var q=k[_],et=q.bodyA.id===$.id?q.bodyB:q.bodyA;if(!W||W.call(H,$,et,q)){if(J=!0,U)U.call(H,$,et,q);else if(!W)return!0}}return J},setCollisionCategory:function(L,G){return L=this.getMatterBodies(L),L.forEach(function(U){U.collisionFilter.category=G}),this},setCollisionGroup:function(L,G){return L=this.getMatterBodies(L),L.forEach(function(U){U.collisionFilter.group=G}),this},setCollidesWith:function(L,G){L=this.getMatterBodies(L);var U=0;if(!Array.isArray(G))U=G;else for(var W=0;W<G.length;W++)U|=G[W];return L.forEach(function(H){H.collisionFilter.mask=U}),this},getMatterBodies:function(L){if(!L)return this.world.getAllBodies();Array.isArray(L)||(L=[L]);for(var G=[],U=0;U<L.length;U++){var W=L[U].hasOwnProperty("body")?L[U].body:L[U];G.push(W)}return G},setVelocity:function(L,G,U){L=this.getMatterBodies(L);var W=this._tempVec2;return W.x=G,W.y=U,L.forEach(function(H){r.setVelocity(H,W)}),this},setVelocityX:function(L,G){L=this.getMatterBodies(L);var U=this._tempVec2;return U.x=G,L.forEach(function(W){U.y=W.velocity.y,r.setVelocity(W,U)}),this},setVelocityY:function(L,G){L=this.getMatterBodies(L);var U=this._tempVec2;return U.y=G,L.forEach(function(W){U.x=W.velocity.x,r.setVelocity(W,U)}),this},setAngularVelocity:function(L,G){return L=this.getMatterBodies(L),L.forEach(function(U){r.setAngularVelocity(U,G)}),this},applyForce:function(L,G){L=this.getMatterBodies(L);var U=this._tempVec2;return L.forEach(function(W){U.x=W.position.x,U.y=W.position.y,r.applyForce(W,U,G)}),this},applyForceFromPosition:function(L,G,U,W){L=this.getMatterBodies(L);var H=this._tempVec2;return L.forEach(function(J){W===void 0&&(W=J.angle),H.x=U*Math.cos(W),H.y=U*Math.sin(W),r.applyForce(J,G,H)}),this},applyForceFromAngle:function(L,G,U){L=this.getMatterBodies(L);var W=this._tempVec2;return L.forEach(function(H){U===void 0&&(U=H.angle),W.x=G*Math.cos(U),W.y=G*Math.sin(U),r.applyForce(H,{x:H.position.x,y:H.position.y},W)}),this},getConstraintLength:function(L){var G=L.pointA.x,U=L.pointA.y,W=L.pointB.x,H=L.pointB.y;return L.bodyA&&(G+=L.bodyA.position.x,U+=L.bodyA.position.y),L.bodyB&&(W+=L.bodyB.position.x,H+=L.bodyB.position.y),c(G,U,W,H)},alignBody:function(L,G,U,W){L=L.hasOwnProperty("body")?L.body:L;var H;switch(W){case d.TOP_LEFT:case d.LEFT_TOP:H=this.bodyBounds.getTopLeft(L,G,U);break;case d.TOP_CENTER:H=this.bodyBounds.getTopCenter(L,G,U);break;case d.TOP_RIGHT:case d.RIGHT_TOP:H=this.bodyBounds.getTopRight(L,G,U);break;case d.LEFT_CENTER:H=this.bodyBounds.getLeftCenter(L,G,U);break;case d.CENTER:H=this.bodyBounds.getCenter(L,G,U);break;case d.RIGHT_CENTER:H=this.bodyBounds.getRightCenter(L,G,U);break;case d.LEFT_BOTTOM:case d.BOTTOM_LEFT:H=this.bodyBounds.getBottomLeft(L,G,U);break;case d.BOTTOM_CENTER:H=this.bodyBounds.getBottomCenter(L,G,U);break;case d.BOTTOM_RIGHT:case d.RIGHT_BOTTOM:H=this.bodyBounds.getBottomRight(L,G,U);break}return H&&r.setPosition(L,H),this},shutdown:function(){var L=this.systems.events;this.world&&(L.off(X.UPDATE,this.world.update,this.world),L.off(X.POST_UPDATE,this.world.postUpdate,this.world)),L.off(X.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(X.START,this.start,this),this.scene=null,this.systems=null}});R.register("MatterPhysics",M,"matterPhysics"),p.exports=M},73658:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(16569),v=t(56694),o=t(74527),r=t(89980),n=t(72632),e=t(58210),s=t(13747),h=t(93736),i=new v({Extends:s,Mixins:[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity,e],initialize:function(u,l,f,c,m,x){r.call(this,u.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new d(this),this.setTexture(c,m),this.setSizeToFrame(),this.setOrigin(),this.world=u,this._tempVec2=new h(l,f);var g=n(x,"shape",null);g?this.setBody(g,x):this.setRectangle(this.width,this.height,x),this.setPosition(l,f),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=i},84720:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(68516),v=t(84125),o=t(56694),r=t(74527),n=t(28699),e=t(6659),s=t(72632),h=t(19256),i=t(39745),a=new o({Extends:e,Mixins:[r.Bounce,r.Collision,r.Friction,r.Gravity,r.Mass,r.Sensor,r.Sleep,r.Static],initialize:function(l,f,c){e.call(this),this.tile=f,this.world=l,f.physics.matterBody&&f.physics.matterBody.destroy(),f.physics.matterBody=this;var m=s(c,"body",null),x=s(c,"addToWorld",!0);if(m)this.setBody(m,x);else{var g=f.getCollisionGroup(),y=s(g,"objects",[]);y.length>0?this.setFromTileCollision(c):this.setFromTileRectangle(c)}if(f.flipX||f.flipY){var T={x:f.getCenterX(),y:f.getCenterY()},C=f.flipX?-1:1,A=f.flipY?-1:1;v.scale(m,C,A,T)}},setFromTileRectangle:function(u){u===void 0&&(u={}),h(u,"isStatic")||(u.isStatic=!0),h(u,"addToWorld")||(u.addToWorld=!0);var l=this.tile.getBounds(),f=l.x+l.width/2,c=l.y+l.height/2,m=d.rectangle(f,c,l.width,l.height,u);return this.setBody(m,u.addToWorld),this},setFromTileCollision:function(u){u===void 0&&(u={}),h(u,"isStatic")||(u.isStatic=!0),h(u,"addToWorld")||(u.addToWorld=!0);for(var l=this.tile.tilemapLayer.scaleX,f=this.tile.tilemapLayer.scaleY,c=this.tile.getLeft(),m=this.tile.getTop(),x=this.tile.getCollisionGroup(),g=s(x,"objects",[]),y=[],T=0;T<g.length;T++){var C=g[T],A=c+C.x*l,w=m+C.y*f,E=C.width*l,P=C.height*f,B=null;if(C.rectangle)B=d.rectangle(A+E/2,w+P/2,E,P,u);else if(C.ellipse)B=d.circle(A+E/2,w+P/2,E/2,u);else if(C.polygon||C.polyline){var R=C.polygon?C.polygon:C.polyline,I=R.map(function(O){return{x:O.x*l,y:O.y*f}}),N=i.create(I),X=i.centre(N);A+=X.x,w+=X.y,B=d.fromVertices(A,w,N,u)}B&&y.push(B)}if(y.length===1)this.setBody(y[0],u.addToWorld);else if(y.length>1){var Y=n(u);Y.parts=y,this.setBody(v.create(Y),Y.addToWorld)}return this},setBody:function(u,l){return l===void 0&&(l=!0),this.body&&this.removeBody(),this.body=u,this.body.gameObject=this,l&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});p.exports=a},10998:(p,S,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(68516),v=t(84125),o=t(68758),r=t(72632),n=t(39745),e={parseBody:function(s,h,i,a){a===void 0&&(a={});for(var u=r(i,"fixtures",[]),l=[],f=0;f<u.length;f++)for(var c=this.parseFixture(u[f]),m=0;m<c.length;m++)l.push(c[m]);var x=o.clone(i,!0);o.extend(x,a,!0),delete x.fixtures,delete x.type;var g=v.create(x);return v.setParts(g,l),v.setPosition(g,{x:s,y:h}),g},parseFixture:function(s){var h=o.extend({},!1,s);delete h.circle,delete h.vertices;var i;if(s.circle){var a=r(s.circle,"x"),u=r(s.circle,"y"),l=r(s.circle,"radius");i=[d.circle(a,u,l,h)]}else s.vertices&&(i=this.parseVertices(s.vertices,h));return i},parseVertices:function(s,h){h===void 0&&(h={});for(var i=[],a=0;a<s.length;a++)n.clockwiseSort(s[a]),i.push(v.create(o.extend({position:n.centre(s[a]),vertices:s[a]},h)));return d.flagCoincidentParts(i)}};p.exports=e},72829:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(68516),v=t(84125),o={parseBody:function(r,n,e,s){s===void 0&&(s={});var h,i=e.vertices;if(i.length===1)s.vertices=i[0],h=v.create(s),d.flagCoincidentParts(h.parts);else{for(var a=[],u=0;u<i.length;u++){var l=v.create({vertices:i[u]});a.push(l)}d.flagCoincidentParts(a),s.parts=a,h=v.create(s)}return h.label=e.label,v.setPosition(h,{x:r,y:n}),h}};p.exports=o},88596:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(84091),v=t(56694),o=t(11299),r=t(52838),n=t(13657),e=t(35416),s=t(33963),h=t(30657),i=t(22806),a=t(93736),u=t(39745),l=new v({initialize:function(c,m,x){x===void 0&&(x={});var g={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=c,this.world=m,this.camera=null,this.pointer=null,this.active=!0,this.position=new a,this.body=null,this.part=null,this.constraint=r.create(h(x,g)),this.world.on(e.BEFORE_UPDATE,this.update,this),c.sys.input.on(s.POINTER_DOWN,this.onDown,this),c.sys.input.on(s.POINTER_UP,this.onUp,this)},onDown:function(f){this.pointer||(this.pointer=f,this.camera=f.camera)},onUp:function(f){f===this.pointer&&(this.pointer=null)},getBody:function(f){var c=this.position,m=this.constraint;this.camera.getWorldPoint(f.x,f.y,c);for(var x=o.allBodies(this.world.localWorld),g=0;g<x.length;g++){var y=x[g];if(!y.ignorePointer&&d.contains(y.bounds,c)&&n.canCollide(y.collisionFilter,m.collisionFilter)&&this.hitTestBody(y,c))return this.world.emit(e.DRAG_START,y,this.part,this),!0}return!1},hitTestBody:function(f,c){for(var m=this.constraint,x=f.parts.length,g=x>1?1:0,y=g;y<x;y++){var T=f.parts[y];if(u.contains(T.vertices,c))return m.pointA=c,m.pointB={x:c.x-f.position.x,y:c.y-f.position.y},m.bodyB=f,m.angleB=f.angle,i.set(f,!1),this.part=T,this.body=f,!0}return!1},update:function(){var f=this.pointer,c=this.body;if(!this.active||!f){c&&this.stopDrag();return}if(!f.isDown&&c){this.stopDrag();return}else if(f.isDown){if(!c&&!this.getBody(f))return;c=this.body;var m=this.position,x=this.constraint;this.camera.getWorldPoint(f.x,f.y,m),x.pointA.x=m.x,x.pointA.y=m.y,i.set(c,!1),this.world.emit(e.DRAG,c,this)}},stopDrag:function(){var f=this.body,c=this.constraint;c.bodyB=null,c.pointB=null,this.pointer=null,this.body=null,this.part=null,f&&this.world.emit(e.DRAG_END,f,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(s.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(s.POINTER_UP,this.onUp,this)}});p.exports=l},31468:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(68516),v=t(84125),o=t(56694),r=t(68758),n=t(11299),e=t(45775),s=t(6659),h=t(35416),i=t(72632),a=t(10850),u=t(84125),l=t(39073),f=t(84720),c=t(72005),m=t(10438),x=new o({Extends:s,initialize:function(y,T){s.call(this),this.scene=y,this.engine=e.create(T),this.localWorld=this.engine.world;var C=a(T,"gravity",null);C?this.setGravity(C.x,C.y,C.scale):C===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=a(T,"enabled",!0),this.getDelta=a(T,"getDelta",this.update60Hz);var A=i(T,"runner",{}),w=i(A,"fps",!1),E=i(A,"fps",60),P=i(A,"delta",1e3/E),B=i(A,"deltaMin",1e3/E),R=i(A,"deltaMax",1e3/(E*.5));w||(E=1e3/P),this.runner={fps:E,deltaSampleSize:i(A,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:i(A,"isFixed",!1),delta:P,deltaMin:B,deltaMax:R},this.autoUpdate=a(T,"autoUpdate",!0);var I=a(T,"debug",!1);if(this.drawDebug=typeof I=="object"?!0:I,this.debugGraphic,this.debugConfig={showAxes:i(I,"showAxes",!1),showAngleIndicator:i(I,"showAngleIndicator",!1),angleColor:i(I,"angleColor",15208787),showBroadphase:i(I,"showBroadphase",!1),broadphaseColor:i(I,"broadphaseColor",16757760),showBounds:i(I,"showBounds",!1),boundsColor:i(I,"boundsColor",16777215),showVelocity:i(I,"showVelocity",!1),velocityColor:i(I,"velocityColor",44783),showCollisions:i(I,"showCollisions",!1),collisionColor:i(I,"collisionColor",16094476),showSeparations:i(I,"showSeparations",!1),separationColor:i(I,"separationColor",16753920),showBody:i(I,"showBody",!0),showStaticBody:i(I,"showStaticBody",!0),showInternalEdges:i(I,"showInternalEdges",!1),renderFill:i(I,"renderFill",!1),renderLine:i(I,"renderLine",!0),fillColor:i(I,"fillColor",1075465),fillOpacity:i(I,"fillOpacity",1),lineColor:i(I,"lineColor",2678297),lineOpacity:i(I,"lineOpacity",1),lineThickness:i(I,"lineThickness",1),staticFillColor:i(I,"staticFillColor",857979),staticLineColor:i(I,"staticLineColor",1255396),showSleeping:i(I,"showSleeping",!1),staticBodySleepOpacity:i(I,"staticBodySleepOpacity",.7),sleepFillColor:i(I,"sleepFillColor",4605510),sleepLineColor:i(I,"sleepLineColor",10066585),showSensors:i(I,"showSensors",!0),sensorFillColor:i(I,"sensorFillColor",857979),sensorLineColor:i(I,"sensorLineColor",1255396),showPositions:i(I,"showPositions",!0),positionSize:i(I,"positionSize",4),positionColor:i(I,"positionColor",14697178),showJoint:i(I,"showJoint",!0),jointColor:i(I,"jointColor",14737474),jointLineOpacity:i(I,"jointLineOpacity",1),jointLineThickness:i(I,"jointLineThickness",2),pinSize:i(I,"pinSize",4),pinColor:i(I,"pinColor",4382944),springColor:i(I,"springColor",14697184),anchorColor:i(I,"anchorColor",15724527),anchorSize:i(I,"anchorSize",4),showConvexHulls:i(I,"showConvexHulls",!1),hullColor:i(I,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),i(T,"setBounds",!1)){var N=T.setBounds;if(typeof N=="boolean")this.setBounds();else{var X=i(N,"x",0),Y=i(N,"y",0),O=i(N,"width",y.sys.scale.width),D=i(N,"height",y.sys.scale.height),F=i(N,"thickness",64),M=i(N,"left",!0),L=i(N,"right",!0),G=i(N,"top",!0),U=i(N,"bottom",!0);this.setBounds(X,Y,O,D,F,M,L,G,U)}}},setCompositeRenderStyle:function(g){var y=g.bodies,T=g.constraints,C=g.composites,A,w,E;for(A=0;A<y.length;A++)w=y[A],E=w.render,this.setBodyRenderStyle(w,E.lineColor,E.lineOpacity,E.lineThickness,E.fillColor,E.fillOpacity);for(A=0;A<T.length;A++)w=T[A],E=w.render,this.setConstraintRenderStyle(w,E.lineColor,E.lineOpacity,E.lineThickness,E.pinSize,E.anchorColor,E.anchorSize);for(A=0;A<C.length;A++)w=C[A],this.setCompositeRenderStyle(w);return this},setBodyRenderStyle:function(g,y,T,C,A,w){var E=g.render,P=this.debugConfig;return E?(y==null&&(y=g.isStatic?P.staticLineColor:P.lineColor),T==null&&(T=P.lineOpacity),C==null&&(C=P.lineThickness),A==null&&(A=g.isStatic?P.staticFillColor:P.fillColor),w==null&&(w=P.fillOpacity),y!==!1&&(E.lineColor=y),T!==!1&&(E.lineOpacity=T),C!==!1&&(E.lineThickness=C),A!==!1&&(E.fillColor=A),w!==!1&&(E.fillOpacity=w),this):this},setConstraintRenderStyle:function(g,y,T,C,A,w,E){var P=g.render,B=this.debugConfig;if(!P)return this;if(y==null){var R=P.type;R==="line"?y=B.jointColor:R==="pin"?y=B.pinColor:R==="spring"&&(y=B.springColor)}return T==null&&(T=B.jointLineOpacity),C==null&&(C=B.jointLineThickness),A==null&&(A=B.pinSize),w==null&&(w=B.anchorColor),E==null&&(E=B.anchorSize),y!==!1&&(P.lineColor=y),T!==!1&&(P.lineOpacity=T),C!==!1&&(P.lineThickness=C),A!==!1&&(P.pinSize=A),w!==!1&&(P.anchorColor=w),E!==!1&&(P.anchorSize=E),this},setEventsProxy:function(){var g=this,y=this.engine,T=this.localWorld;this.drawDebug&&(l.on(T,"compositeModified",function(C){g.setCompositeRenderStyle(C)}),l.on(T,"beforeAdd",function(C){for(var A=[].concat(C.object),w=0;w<A.length;w++){var E=A[w],P=E.render;E.type==="body"?g.setBodyRenderStyle(E,P.lineColor,P.lineOpacity,P.lineThickness,P.fillColor,P.fillOpacity):E.type==="composite"?g.setCompositeRenderStyle(E):E.type==="constraint"&&g.setConstraintRenderStyle(E,P.lineColor,P.lineOpacity,P.lineThickness,P.pinSize,P.anchorColor,P.anchorSize)}})),l.on(T,"beforeAdd",function(C){g.emit(h.BEFORE_ADD,C)}),l.on(T,"afterAdd",function(C){g.emit(h.AFTER_ADD,C)}),l.on(T,"beforeRemove",function(C){g.emit(h.BEFORE_REMOVE,C)}),l.on(T,"afterRemove",function(C){g.emit(h.AFTER_REMOVE,C)}),l.on(y,"beforeUpdate",function(C){g.emit(h.BEFORE_UPDATE,C)}),l.on(y,"afterUpdate",function(C){g.emit(h.AFTER_UPDATE,C)}),l.on(y,"collisionStart",function(C){var A=C.pairs,w,E;A.length>0&&(w=A[0].bodyA,E=A[0].bodyB),g.emit(h.COLLISION_START,C,w,E)}),l.on(y,"collisionActive",function(C){var A=C.pairs,w,E;A.length>0&&(w=A[0].bodyA,E=A[0].bodyB),g.emit(h.COLLISION_ACTIVE,C,w,E)}),l.on(y,"collisionEnd",function(C){var A=C.pairs,w,E;A.length>0&&(w=A[0].bodyA,E=A[0].bodyB),g.emit(h.COLLISION_END,C,w,E)})},setBounds:function(g,y,T,C,A,w,E,P,B){return g===void 0&&(g=0),y===void 0&&(y=0),T===void 0&&(T=this.scene.sys.scale.width),C===void 0&&(C=this.scene.sys.scale.height),A===void 0&&(A=64),w===void 0&&(w=!0),E===void 0&&(E=!0),P===void 0&&(P=!0),B===void 0&&(B=!0),this.updateWall(w,"left",g-A,y-A,A,C+A*2),this.updateWall(E,"right",g+T,y-A,A,C+A*2),this.updateWall(P,"top",g,y-A,T,A),this.updateWall(B,"bottom",g,y+C,T,A),this},updateWall:function(g,y,T,C,A,w){var E=this.walls[y];g?(E&&c.remove(this.localWorld,E),T+=A/2,C+=w/2,this.walls[y]=this.create(T,C,A,w,{isStatic:!0,friction:0,frictionStatic:0})):(E&&c.remove(this.localWorld,E),this.walls[y]=null)},createDebugGraphic:function(){var g=this.scene.sys.add.graphics({x:0,y:0});return g.setDepth(Number.MAX_VALUE),this.debugGraphic=g,this.drawDebug=!0,g},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(g,y,T){return g===void 0&&(g=0),y===void 0&&(y=1),T===void 0&&(T=.001),this.localWorld.gravity.x=g,this.localWorld.gravity.y=y,this.localWorld.gravity.scale=T,this},create:function(g,y,T,C,A){var w=d.rectangle(g,y,T,C,A);return c.add(this.localWorld,w),w},add:function(g){return c.add(this.localWorld,g),this},remove:function(g,y){Array.isArray(g)||(g=[g]);for(var T=0;T<g.length;T++){var C=g[T],A=C.body?C.body:C;n.remove(this.localWorld,A,y)}return this},removeConstraint:function(g,y){return n.remove(this.localWorld,g,y),this},convertTilemapLayer:function(g,y){var T=g.layer,C=g.getTilesWithin(0,0,T.width,T.height,{isColliding:!0});return this.convertTiles(C,y),this},convertTiles:function(g,y){if(g.length===0)return this;for(var T=0;T<g.length;T++)new f(this,g[T],y);return this},nextGroup:function(g){return u.nextGroup(g)},nextCategory:function(){return u.nextCategory()},pause:function(){return this.enabled=!1,this.emit(h.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(h.RESUME),this},update:function(g,y){if(!(!this.enabled||!this.autoUpdate)){var T=this.engine,C=this.runner,A=T.timing;C.isFixed?y=this.getDelta(g,y):(y=g-C.timePrev||C.delta,C.timePrev=g,C.deltaHistory.push(y),C.deltaHistory=C.deltaHistory.slice(-C.deltaSampleSize),y=Math.min.apply(null,C.deltaHistory),y=y<C.deltaMin?C.deltaMin:y,y=y>C.deltaMax?C.deltaMax:y,C.delta=y),C.timeScalePrev=A.timeScale,C.frameCounter+=1,g-C.counterTimestamp>=1e3&&(C.fps=C.frameCounter*((g-C.counterTimestamp)/1e3),C.counterTimestamp=g,C.frameCounter=0),e.update(T,y)}},step:function(g){e.update(this.engine,g)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(g){var y=g.hasOwnProperty("body")?g.body:g;return n.get(this.localWorld,y.id,y.type)!==null},getAllBodies:function(){return n.allBodies(this.localWorld)},getAllConstraints:function(){return n.allConstraints(this.localWorld)},getAllComposites:function(){return n.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var g=this.debugConfig,y=this.engine,T=this.debugGraphic,C=n.allBodies(this.localWorld);this.debugGraphic.clear(),g.showBroadphase&&y.broadphase.controller&&this.renderGrid(y.broadphase,T,g.broadphaseColor,.5),g.showBounds&&this.renderBodyBounds(C,T,g.boundsColor,.5),(g.showBody||g.showStaticBody)&&this.renderBodies(C),g.showJoint&&this.renderJoints(),(g.showAxes||g.showAngleIndicator)&&this.renderBodyAxes(C,T,g.showAxes,g.angleColor,.5),g.showVelocity&&this.renderBodyVelocity(C,T,g.velocityColor,1,2),g.showSeparations&&this.renderSeparations(y.pairs.list,T,g.separationColor),g.showCollisions&&this.renderCollisions(y.pairs.list,T,g.collisionColor)}},renderGrid:function(g,y,T,C){y.lineStyle(1,T,C);for(var A=r.keys(g.buckets),w=0;w<A.length;w++){var E=A[w];if(!(g.buckets[E].length<2)){var P=E.split(/C|R/);y.strokeRect(parseInt(P[1],10)*g.bucketWidth,parseInt(P[2],10)*g.bucketHeight,g.bucketWidth,g.bucketHeight)}}return this},renderSeparations:function(g,y,T){y.lineStyle(1,T,1);for(var C=0;C<g.length;C++){var A=g[C];if(A.isActive){var w=A.collision,E=w.bodyA,P=w.bodyB,B=E.position,R=P.position,I=w.penetration,N=!E.isStatic&&!P.isStatic?4:1;P.isStatic&&(N=0),y.lineBetween(R.x,R.y,R.x-I.x*N,R.y-I.y*N),N=!E.isStatic&&!P.isStatic?4:1,E.isStatic&&(N=0),y.lineBetween(B.x,B.y,B.x-I.x*N,B.y-I.y*N)}}return this},renderCollisions:function(g,y,T){y.lineStyle(1,T,.5),y.fillStyle(T,1);var C,A;for(C=0;C<g.length;C++)if(A=g[C],!!A.isActive)for(var w=0;w<A.activeContacts.length;w++){var E=A.activeContacts[w],P=E.vertex;y.fillRect(P.x-2,P.y-2,5,5)}for(C=0;C<g.length;C++)if(A=g[C],!!A.isActive){var B=A.collision,R=A.activeContacts;if(R.length>0){var I=R[0].vertex.x,N=R[0].vertex.y;R.length===2&&(I=(R[0].vertex.x+R[1].vertex.x)/2,N=(R[0].vertex.y+R[1].vertex.y)/2),B.bodyB===B.supports[0].body||B.bodyA.isStatic?y.lineBetween(I-B.normal.x*8,N-B.normal.y*8,I,N):y.lineBetween(I+B.normal.x*8,N+B.normal.y*8,I,N)}}return this},renderBodyBounds:function(g,y,T,C){y.lineStyle(1,T,C);for(var A=0;A<g.length;A++){var w=g[A];if(w.render.visible){var E=w.bounds;if(E)y.strokeRect(E.min.x,E.min.y,E.max.x-E.min.x,E.max.y-E.min.y);else for(var P=w.parts,B=P.length>1?1:0;B<P.length;B++){var R=P[B];y.strokeRect(R.bounds.min.x,R.bounds.min.y,R.bounds.max.x-R.bounds.min.x,R.bounds.max.y-R.bounds.min.y)}}}return this},renderBodyAxes:function(g,y,T,C,A){y.lineStyle(1,C,A);for(var w=0;w<g.length;w++){var E=g[w],P=E.parts;if(E.render.visible){var B,R,I;if(T)for(R=P.length>1?1:0;R<P.length;R++)for(B=P[R],I=0;I<B.axes.length;I++){var N=B.axes[I];y.lineBetween(B.position.x,B.position.y,B.position.x+N.x*20,B.position.y+N.y*20)}else for(R=P.length>1?1:0;R<P.length;R++)for(B=P[R],I=0;I<B.axes.length;I++)y.lineBetween(B.position.x,B.position.y,(B.vertices[0].x+B.vertices[B.vertices.length-1].x)/2,(B.vertices[0].y+B.vertices[B.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(g,y,T,C,A){y.lineStyle(A,T,C);for(var w=0;w<g.length;w++){var E=g[w];E.render.visible&&y.lineBetween(E.position.x,E.position.y,E.position.x+(E.position.x-E.positionPrev.x)*2,E.position.y+(E.position.y-E.positionPrev.y)*2)}return this},renderBodies:function(g){for(var y=this.debugGraphic,T=this.debugConfig,C=T.showBody,A=T.showStaticBody,w=T.showSleeping,E=T.showInternalEdges,P=T.showConvexHulls,B=T.renderFill,R=T.renderLine,I=T.staticBodySleepOpacity,N=T.sleepFillColor,X=T.sleepLineColor,Y=T.hullColor,O=0;O<g.length;O++){var D=g[O];if(D.render.visible&&!(!A&&D.isStatic||!C&&!D.isStatic)){var F=D.render.lineColor,M=D.render.lineOpacity,L=D.render.lineThickness,G=D.render.fillColor,U=D.render.fillOpacity;w&&D.isSleeping&&(D.isStatic?(M*=I,U*=I):(F=X,G=N)),B||(G=null),R||(F=null),this.renderBody(D,y,E,F,M,L,G,U);var W=D.parts.length;P&&W>1&&this.renderConvexHull(D,y,Y,L)}}},renderBody:function(g,y,T,C,A,w,E,P){C===void 0&&(C=null),A===void 0&&(A=null),w===void 0&&(w=1),E===void 0&&(E=null),P===void 0&&(P=null);for(var B=this.debugConfig,R=B.sensorFillColor,I=B.sensorLineColor,N=g.parts,X=N.length,Y=X>1?1:0;Y<X;Y++){var O=N[Y],D=O.render,F=D.opacity;if(!(!D.visible||F===0||O.isSensor&&!B.showSensors)){var M=O.circleRadius;if(y.beginPath(),O.isSensor?(E!==null&&y.fillStyle(R,P*F),C!==null&&y.lineStyle(w,I,A*F)):(E!==null&&y.fillStyle(E,P*F),C!==null&&y.lineStyle(w,C,A*F)),M)y.arc(O.position.x,O.position.y,M,0,2*Math.PI);else{var L=O.vertices,G=L.length;y.moveTo(L[0].x,L[0].y);for(var U=1;U<G;U++){var W=L[U];if(!L[U-1].isInternal||T?y.lineTo(W.x,W.y):y.moveTo(W.x,W.y),U<G&&W.isInternal&&!T){var H=(U+1)%G;y.moveTo(L[H].x,L[H].y)}}y.closePath()}E!==null&&y.fillPath(),C!==null&&y.strokePath()}}if(B.showPositions&&!g.isStatic){var J=g.position.x,Q=g.position.y,$=Math.ceil(B.positionSize/2);y.fillStyle(B.positionColor,1),y.fillRect(J-$,Q-$,B.positionSize,B.positionSize)}return this},renderConvexHull:function(g,y,T,C){C===void 0&&(C=1);var A=g.parts,w=A.length;if(w>1){var E=g.vertices;y.lineStyle(C,T),y.beginPath(),y.moveTo(E[0].x,E[0].y);for(var P=1;P<E.length;P++)y.lineTo(E[P].x,E[P].y);y.lineTo(E[0].x,E[0].y),y.strokePath()}return this},renderJoints:function(){for(var g=this.debugGraphic,y=n.allConstraints(this.localWorld),T=0;T<y.length;T++){var C=y[T].render,A=C.lineColor,w=C.lineOpacity,E=C.lineThickness,P=C.pinSize,B=C.anchorColor,R=C.anchorSize;this.renderConstraint(y[T],g,A,w,E,P,B,R)}},renderConstraint:function(g,y,T,C,A,w,E,P){var B=g.render;if(!B.visible||!g.pointA||!g.pointB)return this;y.lineStyle(A,T,C);var R=g.bodyA,I=g.bodyB,N,X;if(R?N=m.add(R.position,g.pointA):N=g.pointA,B.type==="pin")y.strokeCircle(N.x,N.y,w);else{if(I?X=m.add(I.position,g.pointB):X=g.pointB,y.beginPath(),y.moveTo(N.x,N.y),B.type==="spring")for(var Y=m.sub(X,N),O=m.perp(m.normalise(Y)),D=Math.ceil(r.clamp(g.length/5,12,20)),F,M=1;M<D;M+=1)F=M%2===0?1:-1,y.lineTo(N.x+Y.x*(M/D)+O.x*F*4,N.y+Y.y*(M/D)+O.y*F*4);y.lineTo(X.x,X.y)}return y.strokePath(),B.anchors&&P>0&&(y.fillStyle(E),y.fillCircle(N.x,N.y,P),y.fillCircle(X.x,X.y,P)),this},resetCollisionIDs:function(){return v._nextCollidingGroupId=1,v._nextNonCollidingGroupId=-1,v._nextCategory=1,this},shutdown:function(){l.off(this.engine),this.removeAllListeners(),c.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});p.exports=x},95349:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(t){return this.body.restitution=t,this}};p.exports=S},70679:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var d=0;if(!Array.isArray(t))d=t;else for(var v=0;v<t.length;v++)d|=t[v];return this.body.collisionFilter.mask=d,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,d){Array.isArray(t)||(t=[t]);for(var v=0;v<t.length;v++){var o=t[v].hasOwnProperty("body")?t[v].body:t[v];this.body.setOnCollideWith(o,d)}return this}};p.exports=S},77178:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(84125),v={applyForce:function(o){return this._tempVec2.set(this.body.position.x,this.body.position.y),d.applyForce(this.body,this._tempVec2,o),this},applyForceFrom:function(o,r){return d.applyForce(this.body,o,r),this},thrust:function(o){var r=this.body.angle;return this._tempVec2.set(o*Math.cos(r),o*Math.sin(r)),d.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(o){var r=this.body.angle-Math.PI/2;return this._tempVec2.set(o*Math.cos(r),o*Math.sin(r)),d.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(o){var r=this.body.angle+Math.PI/2;return this._tempVec2.set(o*Math.cos(r),o*Math.sin(r)),d.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(o){var r=this.body.angle-Math.PI;return this._tempVec2.set(o*Math.cos(r),o*Math.sin(r)),d.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};p.exports=v},74015:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(t,d,v){return this.body.friction=t,d!==void 0&&(this.body.frictionAir=d),v!==void 0&&(this.body.frictionStatic=v),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};p.exports=S},11535:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};p.exports=S},74497:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(84125),v=t(93736),o={setMass:function(r){return d.setMass(this.body,r),this},setDensity:function(r){return d.setDensity(this.body,r),this},centerOfMass:{get:function(){return new v(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};p.exports=o},75529:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};p.exports=S},64024:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(68516),v=t(84125),o=t(88456),r=t(72632),n=t(10998),e=t(72829),s=t(39745),h={setRectangle:function(i,a,u){return this.setBody({type:"rectangle",width:i,height:a},u)},setCircle:function(i,a){return this.setBody({type:"circle",radius:i},a)},setPolygon:function(i,a,u){return this.setBody({type:"polygon",sides:a,radius:i},u)},setTrapezoid:function(i,a,u,l){return this.setBody({type:"trapezoid",width:i,height:a,slope:u},l)},setExistingBody:function(i,a){a===void 0&&(a=!0),this.body&&this.world.remove(this.body,!0),this.body=i;for(var u=0;u<i.parts.length;u++)i.parts[u].gameObject=this;var l=this;if(i.destroy=function(){l.world.remove(l.body,!0),l.body.gameObject=null},a&&(this.world.has(i)&&this.world.remove(i,!0),this.world.add(i)),this._originComponent){var f=i.render.sprite.xOffset,c=i.render.sprite.yOffset,m=i.centerOfMass.x,x=i.centerOfMass.y;if(o(m,.5)&&o(x,.5))this.setOrigin(f+.5,c+.5);else{var g=i.centerOffset.x,y=i.centerOffset.y;this.setOrigin(f+g/this.displayWidth,c+y/this.displayHeight)}}return this},setBody:function(i,a){if(!i)return this;var u;typeof i=="string"&&(i={type:i});var l=r(i,"type","rectangle"),f=r(i,"x",this._tempVec2.x),c=r(i,"y",this._tempVec2.y),m=r(i,"width",this.width),x=r(i,"height",this.height);switch(l){case"rectangle":u=d.rectangle(f,c,m,x,a);break;case"circle":var g=r(i,"radius",Math.max(m,x)/2),y=r(i,"maxSides",25);u=d.circle(f,c,g,a,y);break;case"trapezoid":var T=r(i,"slope",.5);u=d.trapezoid(f,c,m,x,T,a);break;case"polygon":var C=r(i,"sides",5),A=r(i,"radius",Math.max(m,x)/2);u=d.polygon(f,c,C,A,a);break;case"fromVertices":case"fromVerts":var w=r(i,"verts",null);if(w)if(typeof w=="string"&&(w=s.fromPath(w)),this.body&&!this.body.hasOwnProperty("temp"))v.setVertices(this.body,w),u=this.body;else{var E=r(i,"flagInternal",!1),P=r(i,"removeCollinear",.01),B=r(i,"minimumArea",10);u=d.fromVertices(f,c,w,a,E,P,B)}break;case"fromPhysicsEditor":u=n.parseBody(f,c,i,a);break;case"fromPhysicsTracer":u=e.parseBody(f,c,i,a);break}return u&&this.setExistingBody(u,i.addToWorld),this}};p.exports=h},25106:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(35416),v=t(22806),o=t(39073),r={setToSleep:function(){return v.set(this.body,!0),this},setAwake:function(){return v.set(this.body,!1),this},setSleepThreshold:function(n){return n===void 0&&(n=60),this.body.sleepThreshold=n,this},setSleepEvents:function(n,e){return this.setSleepStartEvent(n),this.setSleepEndEvent(e),this},setSleepStartEvent:function(n){if(n){var e=this.world;o.on(this.body,"sleepStart",function(s){e.emit(d.SLEEP_START,s,this)})}else o.off(this.body,"sleepStart");return this},setSleepEndEvent:function(n){if(n){var e=this.world;o.on(this.body,"sleepEnd",function(s){e.emit(d.SLEEP_END,s,this)})}else o.off(this.body,"sleepEnd");return this}};p.exports=r},82884:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(84125),v={setStatic:function(o){return d.setStatic(this.body,o),this},isStatic:function(){return this.body.isStatic}};p.exports=v},4753:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(84125),v=t(83392),o=t(35786),r=t(62138),n=4,e={x:{get:function(){return this.body.position.x},set:function(s){this._tempVec2.set(s,this.y),d.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(s){this._tempVec2.set(this.x,s),d.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(s){var h=1/this._scaleX,i=1/this._scaleY;this._scaleX=s,this._scaleX===0?this.renderFlags&=~n:this.renderFlags|=n,d.scale(this.body,h,i),d.scale(this.body,s,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(s){var h=1/this._scaleX,i=1/this._scaleY;this._scaleY=s,this._scaleY===0?this.renderFlags&=~n:this.renderFlags|=n,d.scale(this.body,h,i),d.scale(this.body,this._scaleX,s)}},angle:{get:function(){return r(this.body.angle*v.RAD_TO_DEG)},set:function(s){this.rotation=r(s)*v.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(s){this._rotation=o(s),d.setAngle(this.body,this._rotation)}},setPosition:function(s,h){return s===void 0&&(s=0),h===void 0&&(h=s),this._tempVec2.set(s,h),d.setPosition(this.body,this._tempVec2),this},setRotation:function(s){return s===void 0&&(s=0),this._rotation=o(s),d.setAngle(this.body,s),this},setFixedRotation:function(){return d.setInertia(this.body,1/0),this},setAngle:function(s){return s===void 0&&(s=0),this.angle=s,d.setAngle(this.body,this.rotation),this},setScale:function(s,h,i){s===void 0&&(s=1),h===void 0&&(h=s);var a=1/this._scaleX,u=1/this._scaleY;return this._scaleX=s,this._scaleY=h,d.scale(this.body,a,u,i),d.scale(this.body,s,h,i),this}};p.exports=e},37268:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(84125),v={setVelocityX:function(o){return this._tempVec2.set(o,this.body.velocity.y),d.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(o){return this._tempVec2.set(this.body.velocity.x,o),d.setVelocity(this.body,this._tempVec2),this},setVelocity:function(o,r){return this._tempVec2.set(o,r),d.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return d.getVelocity(this.body)},setAngularVelocity:function(o){return d.setAngularVelocity(this.body,o),this},getAngularVelocity:function(){return d.getAngularVelocity(this.body)},setAngularSpeed:function(o){return d.setAngularSpeed(this.body,o),this},getAngularSpeed:function(){return d.getAngularSpeed(this.body)}};p.exports=v},74527:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Bounce:t(95349),Collision:t(70679),Force:t(77178),Friction:t(74015),Gravity:t(11535),Mass:t(74497),Sensor:t(75529),SetBody:t(64024),Sleep:t(25106),Static:t(82884),Transform:t(4753),Velocity:t(37268)}},63201:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afteradd"},30474:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afterremove"},44822:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afterupdate"},88820:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeadd"},94849:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeremove"},6391:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeupdate"},96738:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionactive"},7916:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionend"},59529:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionstart"},10219:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},183:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},39143:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},16483:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},35806:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},22106:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleepend"},5803:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleepstart"},35416:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AFTER_ADD:t(63201),AFTER_REMOVE:t(30474),AFTER_UPDATE:t(44822),BEFORE_ADD:t(88820),BEFORE_REMOVE:t(94849),BEFORE_UPDATE:t(6391),COLLISION_ACTIVE:t(96738),COLLISION_END:t(7916),COLLISION_START:t(59529),DRAG_END:t(10219),DRAG:t(183),DRAG_START:t(39143),PAUSE:t(16483),RESUME:t(35806),SLEEP_END:t(22106),SLEEP_START:t(5803)}},45949:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BodyBounds:t(63568),Components:t(74527),Events:t(35416),Factory:t(72653),MatterGameObject:t(3860),Image:t(7030),Matter:t(18171),MatterPhysics:t(50583),PolyDecomp:t(81084),Sprite:t(73658),TileBody:t(84720),PhysicsEditorParser:t(10998),PhysicsJSONParser:t(72829),PointerConstraint:t(88596),World:t(31468)}},84125:(p,S,t)=>{var d={};p.exports=d;var v=t(39745),o=t(10438),r=t(22806),n=t(68758),e=t(84091),s=t(50658);(function(){d._timeCorrection=!0,d._inertiaScale=4,d._nextCollidingGroupId=1,d._nextNonCollidingGroupId=-1,d._nextCategory=1,d._baseDelta=16.666666666666668,d.create=function(i){var a={id:n.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!i.hasOwnProperty("position")&&i.hasOwnProperty("vertices")?i.position=v.centre(i.vertices):i.hasOwnProperty("vertices")||(a.vertices=v.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var u=n.extend(a,i);return h(u,i),u.setOnCollideWith=function(l,f){return f?this.onCollideWith[l.id]=f:delete this.onCollideWith[l.id],this},u},d.nextGroup=function(i){return i?d._nextNonCollidingGroupId--:d._nextCollidingGroupId++},d.nextCategory=function(){return d._nextCategory=d._nextCategory<<1,d._nextCategory};var h=function(i,a){if(a=a||{},d.set(i,{bounds:i.bounds||e.create(i.vertices),positionPrev:i.positionPrev||o.clone(i.position),anglePrev:i.anglePrev||i.angle,vertices:i.vertices,parts:i.parts||[i],isStatic:i.isStatic,isSleeping:i.isSleeping,parent:i.parent||i}),v.rotate(i.vertices,i.angle,i.position),s.rotate(i.axes,i.angle),e.update(i.bounds,i.vertices,i.velocity),d.set(i,{axes:a.axes||i.axes,area:a.area||i.area,mass:a.mass||i.mass,inertia:a.inertia||i.inertia}),i.parts.length===1){var u=i.bounds,l=i.centerOfMass,f=i.centerOffset,c=u.max.x-u.min.x,m=u.max.y-u.min.y;l.x=-(u.min.x-i.position.x)/c,l.y=-(u.min.y-i.position.y)/m,f.x=c*l.x,f.y=m*l.y}};d.set=function(i,a,u){var l;typeof a=="string"&&(l=a,a={},a[l]=u);for(l in a)if(Object.prototype.hasOwnProperty.call(a,l))switch(u=a[l],l){case"isStatic":d.setStatic(i,u);break;case"isSleeping":r.set(i,u);break;case"mass":d.setMass(i,u);break;case"density":d.setDensity(i,u);break;case"inertia":d.setInertia(i,u);break;case"vertices":d.setVertices(i,u);break;case"position":d.setPosition(i,u);break;case"angle":d.setAngle(i,u);break;case"velocity":d.setVelocity(i,u);break;case"angularVelocity":d.setAngularVelocity(i,u);break;case"speed":d.setSpeed(i,u);break;case"angularSpeed":d.setAngularSpeed(i,u);break;case"parts":d.setParts(i,u);break;case"centre":d.setCentre(i,u);break;default:i[l]=u}},d.setStatic=function(i,a){for(var u=0;u<i.parts.length;u++){var l=i.parts[u];a?(l.isStatic||(l._original={restitution:l.restitution,friction:l.friction,mass:l.mass,inertia:l.inertia,density:l.density,inverseMass:l.inverseMass,inverseInertia:l.inverseInertia}),l.restitution=0,l.friction=1,l.mass=l.inertia=l.density=1/0,l.inverseMass=l.inverseInertia=0,l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.anglePrev=l.angle,l.angularVelocity=0,l.speed=0,l.angularSpeed=0,l.motion=0):l._original&&(l.restitution=l._original.restitution,l.friction=l._original.friction,l.mass=l._original.mass,l.inertia=l._original.inertia,l.density=l._original.density,l.inverseMass=l._original.inverseMass,l.inverseInertia=l._original.inverseInertia,l._original=null),l.isStatic=a}},d.setMass=function(i,a){var u=i.inertia/(i.mass/6);i.inertia=u*(a/6),i.inverseInertia=1/i.inertia,i.mass=a,i.inverseMass=1/i.mass,i.density=i.mass/i.area},d.setDensity=function(i,a){d.setMass(i,a*i.area),i.density=a},d.setInertia=function(i,a){i.inertia=a,i.inverseInertia=1/i.inertia},d.setVertices=function(i,a){a[0].body===i?i.vertices=a:i.vertices=v.create(a,i),i.axes=s.fromVertices(i.vertices),i.area=v.area(i.vertices),d.setMass(i,i.density*i.area);var u=v.centre(i.vertices);v.translate(i.vertices,u,-1),d.setInertia(i,d._inertiaScale*v.inertia(i.vertices,i.mass)),v.translate(i.vertices,i.position),e.update(i.bounds,i.vertices,i.velocity)},d.setParts=function(i,a,u){var l;for(a=a.slice(0),i.parts.length=0,i.parts.push(i),i.parent=i,l=0;l<a.length;l++){var f=a[l];f!==i&&(f.parent=i,i.parts.push(f))}if(i.parts.length!==1){if(u=typeof u<"u"?u:!0,u){var c=[];for(l=0;l<a.length;l++)c=c.concat(a[l].vertices);v.clockwiseSort(c);var m=v.hull(c),x=v.centre(m);d.setVertices(i,m),v.translate(i.vertices,x)}var g=d._totalProperties(i),y=g.centre.x,T=g.centre.y,C=i.bounds,A=i.centerOfMass,w=i.centerOffset;e.update(C,i.vertices,i.velocity),A.x=-(C.min.x-y)/(C.max.x-C.min.x),A.y=-(C.min.y-T)/(C.max.y-C.min.y),w.x=y,w.y=T,i.area=g.area,i.parent=i,i.position.x=y,i.position.y=T,i.positionPrev.x=y,i.positionPrev.y=T,d.setMass(i,g.mass),d.setInertia(i,g.inertia),d.setPosition(i,g.centre)}},d.setCentre=function(i,a,u){u?(i.positionPrev.x+=a.x,i.positionPrev.y+=a.y,i.position.x+=a.x,i.position.y+=a.y):(i.positionPrev.x=a.x-(i.position.x-i.positionPrev.x),i.positionPrev.y=a.y-(i.position.y-i.positionPrev.y),i.position.x=a.x,i.position.y=a.y)},d.setPosition=function(i,a,u){var l=o.sub(a,i.position);u?(i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.velocity.x=l.x,i.velocity.y=l.y,i.speed=o.magnitude(l)):(i.positionPrev.x+=l.x,i.positionPrev.y+=l.y);for(var f=0;f<i.parts.length;f++){var c=i.parts[f];c.position.x+=l.x,c.position.y+=l.y,v.translate(c.vertices,l),e.update(c.bounds,c.vertices,i.velocity)}},d.setAngle=function(i,a,u){var l=a-i.angle;u?(i.anglePrev=i.angle,i.angularVelocity=l,i.angularSpeed=Math.abs(l)):i.anglePrev+=l;for(var f=0;f<i.parts.length;f++){var c=i.parts[f];c.angle+=l,v.rotate(c.vertices,l,i.position),s.rotate(c.axes,l),e.update(c.bounds,c.vertices,i.velocity),f>0&&o.rotateAbout(c.position,l,i.position,c.position)}},d.setVelocity=function(i,a){var u=i.deltaTime/d._baseDelta;i.positionPrev.x=i.position.x-a.x*u,i.positionPrev.y=i.position.y-a.y*u,i.velocity.x=(i.position.x-i.positionPrev.x)/u,i.velocity.y=(i.position.y-i.positionPrev.y)/u,i.speed=o.magnitude(i.velocity)},d.getVelocity=function(i){var a=d._baseDelta/i.deltaTime;return{x:(i.position.x-i.positionPrev.x)*a,y:(i.position.y-i.positionPrev.y)*a}},d.getSpeed=function(i){return o.magnitude(d.getVelocity(i))},d.setSpeed=function(i,a){d.setVelocity(i,o.mult(o.normalise(d.getVelocity(i)),a))},d.setAngularVelocity=function(i,a){var u=i.deltaTime/d._baseDelta;i.anglePrev=i.angle-a*u,i.angularVelocity=(i.angle-i.anglePrev)/u,i.angularSpeed=Math.abs(i.angularVelocity)},d.getAngularVelocity=function(i){return(i.angle-i.anglePrev)*d._baseDelta/i.deltaTime},d.getAngularSpeed=function(i){return Math.abs(d.getAngularVelocity(i))},d.setAngularSpeed=function(i,a){d.setAngularVelocity(i,n.sign(d.getAngularVelocity(i))*a)},d.translate=function(i,a,u){d.setPosition(i,o.add(i.position,a),u)},d.rotate=function(i,a,u,l){if(!u)d.setAngle(i,i.angle+a,l);else{var f=Math.cos(a),c=Math.sin(a),m=i.position.x-u.x,x=i.position.y-u.y;d.setPosition(i,{x:u.x+(m*f-x*c),y:u.y+(m*c+x*f)},l),d.setAngle(i,i.angle+a,l)}},d.scale=function(i,a,u,l){var f=0,c=0;l=l||i.position;for(var m=0;m<i.parts.length;m++){var x=i.parts[m];x.scale.x=a,x.scale.y=u,v.scale(x.vertices,a,u,l),x.axes=s.fromVertices(x.vertices),x.area=v.area(x.vertices),d.setMass(x,i.density*x.area),v.translate(x.vertices,{x:-x.position.x,y:-x.position.y}),d.setInertia(x,d._inertiaScale*v.inertia(x.vertices,x.mass)),v.translate(x.vertices,{x:x.position.x,y:x.position.y}),m>0&&(f+=x.area,c+=x.inertia),x.position.x=l.x+(x.position.x-l.x)*a,x.position.y=l.y+(x.position.y-l.y)*u,e.update(x.bounds,x.vertices,i.velocity)}i.parts.length>1&&(i.area=f,i.isStatic||(d.setMass(i,i.density*f),d.setInertia(i,c))),i.circleRadius&&(a===u?i.circleRadius*=a:i.circleRadius=null)},d.update=function(i,a){a=(typeof a<"u"?a:16.666666666666668)*i.timeScale;var u=a*a,l=d._timeCorrection?a/(i.deltaTime||a):1,f=1-i.frictionAir*(a/n._baseDelta),c=(i.position.x-i.positionPrev.x)*l,m=(i.position.y-i.positionPrev.y)*l;i.velocity.x=c*f+i.force.x/i.mass*u,i.velocity.y=m*f+i.force.y/i.mass*u,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.position.x+=i.velocity.x,i.position.y+=i.velocity.y,i.deltaTime=a,i.angularVelocity=(i.angle-i.anglePrev)*f*l+i.torque/i.inertia*u,i.anglePrev=i.angle,i.angle+=i.angularVelocity,i.speed=o.magnitude(i.velocity),i.angularSpeed=Math.abs(i.angularVelocity);for(var x=0;x<i.parts.length;x++){var g=i.parts[x];v.translate(g.vertices,i.velocity),x>0&&(g.position.x+=i.velocity.x,g.position.y+=i.velocity.y),i.angularVelocity!==0&&(v.rotate(g.vertices,i.angularVelocity,i.position),s.rotate(g.axes,i.angularVelocity),x>0&&o.rotateAbout(g.position,i.angularVelocity,i.position,g.position)),e.update(g.bounds,g.vertices,i.velocity)}},d.updateVelocities=function(i){var a=d._baseDelta/i.deltaTime,u=i.velocity;u.x=(i.position.x-i.positionPrev.x)*a,u.y=(i.position.y-i.positionPrev.y)*a,i.speed=Math.sqrt(u.x*u.x+u.y*u.y),i.angularVelocity=(i.angle-i.anglePrev)*a,i.angularSpeed=Math.abs(i.angularVelocity)},d.applyForce=function(i,a,u){var l={x:a.x-i.position.x,y:a.y-i.position.y};i.force.x+=u.x,i.force.y+=u.y,i.torque+=l.x*u.y-l.y*u.x},d._totalProperties=function(i){for(var a={mass:0,area:0,inertia:0,centre:{x:0,y:0}},u=i.parts.length===1?0:1;u<i.parts.length;u++){var l=i.parts[u],f=l.mass!==1/0?l.mass:1;a.mass+=f,a.area+=l.area,a.inertia+=l.inertia,a.centre=o.add(a.centre,o.mult(l.position,f))}return a.centre=o.div(a.centre,a.mass),a}})()},11299:(p,S,t)=>{var d={};p.exports=d;var v=t(39073),o=t(68758),r=t(84091),n=t(84125);(function(){d.create=function(e){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},d.setModified=function(e,s,h,i){if(v.trigger(e,"compositeModified",e),e.isModified=s,s&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),h&&e.parent&&d.setModified(e.parent,s,h,i),i)for(var a=0;a<e.composites.length;a++){var u=e.composites[a];d.setModified(u,s,h,i)}},d.add=function(e,s){var h=[].concat(s);v.trigger(e,"beforeAdd",{object:s});for(var i=0;i<h.length;i++){var a=h[i];switch(a.type){case"body":if(a.parent!==a){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}d.addBody(e,a);break;case"constraint":d.addConstraint(e,a);break;case"composite":d.addComposite(e,a);break;case"mouseConstraint":d.addConstraint(e,a.constraint);break}}return v.trigger(e,"afterAdd",{object:s}),e},d.remove=function(e,s,h){var i=[].concat(s);v.trigger(e,"beforeRemove",{object:s});for(var a=0;a<i.length;a++){var u=i[a];switch(u.type){case"body":d.removeBody(e,u,h);break;case"constraint":d.removeConstraint(e,u,h);break;case"composite":d.removeComposite(e,u,h);break;case"mouseConstraint":d.removeConstraint(e,u.constraint);break}}return v.trigger(e,"afterRemove",{object:s}),e},d.addComposite=function(e,s){return e.composites.push(s),s.parent=e,d.setModified(e,!0,!0,!1),e},d.removeComposite=function(e,s,h){var i=o.indexOf(e.composites,s);if(i!==-1&&d.removeCompositeAt(e,i),h)for(var a=0;a<e.composites.length;a++)d.removeComposite(e.composites[a],s,!0);return e},d.removeCompositeAt=function(e,s){return e.composites.splice(s,1),d.setModified(e,!0,!0,!1),e},d.addBody=function(e,s){return e.bodies.push(s),d.setModified(e,!0,!0,!1),e},d.removeBody=function(e,s,h){var i=o.indexOf(e.bodies,s);if(i!==-1&&d.removeBodyAt(e,i),h)for(var a=0;a<e.composites.length;a++)d.removeBody(e.composites[a],s,!0);return e},d.removeBodyAt=function(e,s){return e.bodies.splice(s,1),d.setModified(e,!0,!0,!1),e},d.addConstraint=function(e,s){return e.constraints.push(s),d.setModified(e,!0,!0,!1),e},d.removeConstraint=function(e,s,h){var i=o.indexOf(e.constraints,s);if(i!==-1&&d.removeConstraintAt(e,i),h)for(var a=0;a<e.composites.length;a++)d.removeConstraint(e.composites[a],s,!0);return e},d.removeConstraintAt=function(e,s){return e.constraints.splice(s,1),d.setModified(e,!0,!0,!1),e},d.clear=function(e,s,h){if(h)for(var i=0;i<e.composites.length;i++)d.clear(e.composites[i],s,!0);return s?e.bodies=e.bodies.filter(function(a){return a.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,d.setModified(e,!0,!0,!1),e},d.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var s=[].concat(e.bodies),h=0;h<e.composites.length;h++)s=s.concat(d.allBodies(e.composites[h]));return e.cache&&(e.cache.allBodies=s),s},d.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var s=[].concat(e.constraints),h=0;h<e.composites.length;h++)s=s.concat(d.allConstraints(e.composites[h]));return e.cache&&(e.cache.allConstraints=s),s},d.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var s=[].concat(e.composites),h=0;h<e.composites.length;h++)s=s.concat(d.allComposites(e.composites[h]));return e.cache&&(e.cache.allComposites=s),s},d.get=function(e,s,h){var i,a;switch(h){case"body":i=d.allBodies(e);break;case"constraint":i=d.allConstraints(e);break;case"composite":i=d.allComposites(e).concat(e);break}return i?(a=i.filter(function(u){return u.id.toString()===s.toString()}),a.length===0?null:a[0]):null},d.move=function(e,s,h){return d.remove(e,s),d.add(h,s),e},d.rebase=function(e){for(var s=d.allBodies(e).concat(d.allConstraints(e)).concat(d.allComposites(e)),h=0;h<s.length;h++)s[h].id=o.nextId();return e},d.translate=function(e,s,h){for(var i=h?d.allBodies(e):e.bodies,a=0;a<i.length;a++)n.translate(i[a],s);return e},d.rotate=function(e,s,h,i){for(var a=Math.cos(s),u=Math.sin(s),l=i?d.allBodies(e):e.bodies,f=0;f<l.length;f++){var c=l[f],m=c.position.x-h.x,x=c.position.y-h.y;n.setPosition(c,{x:h.x+(m*a-x*u),y:h.y+(m*u+x*a)}),n.rotate(c,s)}return e},d.scale=function(e,s,h,i,a){for(var u=a?d.allBodies(e):e.bodies,l=0;l<u.length;l++){var f=u[l],c=f.position.x-i.x,m=f.position.y-i.y;n.setPosition(f,{x:i.x+c*s,y:i.y+m*h}),n.scale(f,s,h)}return e},d.bounds=function(e){for(var s=d.allBodies(e),h=[],i=0;i<s.length;i+=1){var a=s[i];h.push(a.bounds.min,a.bounds.max)}return r.create(h)}})()},72005:(p,S,t)=>{var d={};p.exports=d;var v=t(11299);(function(){d.create=v.create,d.add=v.add,d.remove=v.remove,d.clear=v.clear,d.addComposite=v.addComposite,d.addBody=v.addBody,d.addConstraint=v.addConstraint})()},63454:(p,S,t)=>{var d={};p.exports=d;var v=t(39745),o=t(70584);(function(){var r=[],n={overlap:0,axis:null},e={overlap:0,axis:null};d.create=function(s,h){return{pair:null,collided:!1,bodyA:s,bodyB:h,parentA:s.parent,parentB:h.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},d.collides=function(s,h,i){if(d._overlapAxes(n,s.vertices,h.vertices,s.axes),n.overlap<=0||(d._overlapAxes(e,h.vertices,s.vertices,h.axes),e.overlap<=0))return null;var a=i&&i.table[o.id(s,h)],u;a?u=a.collision:(u=d.create(s,h),u.collided=!0,u.bodyA=s.id<h.id?s:h,u.bodyB=s.id<h.id?h:s,u.parentA=u.bodyA.parent,u.parentB=u.bodyB.parent),s=u.bodyA,h=u.bodyB;var l;n.overlap<e.overlap?l=n:l=e;var f=u.normal,c=u.supports,m=l.axis,x=m.x,g=m.y;x*(h.position.x-s.position.x)+g*(h.position.y-s.position.y)<0?(f.x=x,f.y=g):(f.x=-x,f.y=-g),u.tangent.x=-f.y,u.tangent.y=f.x,u.depth=l.overlap,u.penetration.x=f.x*u.depth,u.penetration.y=f.y*u.depth;var y=d._findSupports(s,h,f,1),T=0;if(v.contains(s.vertices,y[0])&&(c[T++]=y[0]),v.contains(s.vertices,y[1])&&(c[T++]=y[1]),T<2){var C=d._findSupports(h,s,f,-1);v.contains(h.vertices,C[0])&&(c[T++]=C[0]),T<2&&v.contains(h.vertices,C[1])&&(c[T++]=C[1])}return T===0&&(c[T++]=y[0]),c.length=T,u},d._overlapAxes=function(s,h,i,a){var u=h.length,l=i.length,f=h[0].x,c=h[0].y,m=i[0].x,x=i[0].y,g=a.length,y=Number.MAX_VALUE,T=0,C,A,w,E,P,B;for(P=0;P<g;P++){var R=a[P],I=R.x,N=R.y,X=f*I+c*N,Y=m*I+x*N,O=X,D=Y;for(B=1;B<u;B+=1)E=h[B].x*I+h[B].y*N,E>O?O=E:E<X&&(X=E);for(B=1;B<l;B+=1)E=i[B].x*I+i[B].y*N,E>D?D=E:E<Y&&(Y=E);if(A=O-Y,w=D-X,C=A<w?A:w,C<y&&(y=C,T=P,C<=0))break}s.axis=a[T],s.overlap=y},d._projectToAxis=function(s,h,i){for(var a=h[0].x*i.x+h[0].y*i.y,u=a,l=1;l<h.length;l+=1){var f=h[l].x*i.x+h[l].y*i.y;f>u?u=f:f<a&&(a=f)}s.min=a,s.max=u},d._findSupports=function(s,h,i,a){var u=h.vertices,l=u.length,f=s.position.x,c=s.position.y,m=i.x*a,x=i.y*a,g=Number.MAX_VALUE,y,T,C,A,w;for(w=0;w<l;w+=1)T=u[w],A=m*(f-T.x)+x*(c-T.y),A<g&&(g=A,y=T);return C=u[(l+y.index-1)%l],g=m*(f-C.x)+x*(c-C.y),T=u[(y.index+1)%l],m*(f-T.x)+x*(c-T.y)<g?(r[0]=y,r[1]=T,r):(r[0]=y,r[1]=C,r)}})()},17319:p=>{var S={};p.exports=S,function(){S.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},13657:(p,S,t)=>{var d={};p.exports=d;var v=t(68758),o=t(63454);(function(){d.create=function(r){var n={bodies:[],pairs:null};return v.extend(n,r)},d.setBodies=function(r,n){r.bodies=n.slice(0)},d.clear=function(r){r.bodies=[]},d.collisions=function(r){var n=[],e=r.pairs,s=r.bodies,h=s.length,i=d.canCollide,a=o.collides,u,l;for(s.sort(d._compareBoundsX),u=0;u<h;u++){var f=s[u],c=f.bounds,m=f.bounds.max.x,x=f.bounds.max.y,g=f.bounds.min.y,y=f.isStatic||f.isSleeping,T=f.parts.length,C=T===1;for(l=u+1;l<h;l++){var A=s[l],w=A.bounds;if(w.min.x>m)break;if(!(x<w.min.y||g>w.max.y)&&!(y&&(A.isStatic||A.isSleeping))&&i(f.collisionFilter,A.collisionFilter)){var E=A.parts.length;if(C&&E===1){var P=a(f,A,e);P&&n.push(P)}else for(var B=T>1?1:0,R=E>1?1:0,I=B;I<T;I++)for(var N=f.parts[I],c=N.bounds,X=R;X<E;X++){var Y=A.parts[X],w=Y.bounds;if(!(c.min.x>w.max.x||c.max.x<w.min.x||c.max.y<w.min.y||c.min.y>w.max.y)){var P=a(N,Y,e);P&&n.push(P)}}}}}return n},d.canCollide=function(r,n){return r.group===n.group&&r.group!==0?r.group>0:(r.mask&n.category)!==0&&(n.mask&r.category)!==0},d._compareBoundsX=function(r,n){return r.bounds.min.x-n.bounds.min.x}})()},70584:(p,S,t)=>{var d={};p.exports=d;var v=t(17319);(function(){d.create=function(o,r){var n=o.bodyA,e=o.bodyB,s={id:d.id(n,e),bodyA:n,bodyB:e,collision:o,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:n.isSensor||e.isSensor,timeCreated:r,timeUpdated:r,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return d.update(s,o,r),s},d.update=function(o,r,n){var e=o.contacts,s=r.supports,h=o.activeContacts,i=r.parentA,a=r.parentB,u=i.vertices.length;o.isActive=!0,o.timeUpdated=n,o.collision=r,o.separation=r.depth,o.inverseMass=i.inverseMass+a.inverseMass,o.friction=i.friction<a.friction?i.friction:a.friction,o.frictionStatic=i.frictionStatic>a.frictionStatic?i.frictionStatic:a.frictionStatic,o.restitution=i.restitution>a.restitution?i.restitution:a.restitution,o.slop=i.slop>a.slop?i.slop:a.slop,r.pair=o,h.length=0;for(var l=0;l<s.length;l++){var f=s[l],c=f.body===i?f.index:u+f.index,m=e[c];m?h.push(m):h.push(e[c]=v.create(f))}},d.setActive=function(o,r,n){r?(o.isActive=!0,o.timeUpdated=n):(o.isActive=!1,o.activeContacts.length=0)},d.id=function(o,r){return o.id<r.id?"A"+o.id+"B"+r.id:"A"+r.id+"B"+o.id}})()},91327:(p,S,t)=>{var d={};p.exports=d;var v=t(70584),o=t(68758);(function(){d.create=function(r){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},r)},d.update=function(r,n,e){var s=r.list,h=s.length,i=r.table,a=n.length,u=r.collisionStart,l=r.collisionEnd,f=r.collisionActive,c,m,x,g;for(u.length=0,l.length=0,f.length=0,g=0;g<h;g++)s[g].confirmedActive=!1;for(g=0;g<a;g++)c=n[g],x=c.pair,x?(x.isActive?f.push(x):u.push(x),v.update(x,c,e),x.confirmedActive=!0):(x=v.create(c,e),i[x.id]=x,u.push(x),s.push(x));var y=[];for(h=s.length,g=0;g<h;g++)x=s[g],x.confirmedActive||(v.setActive(x,!1,e),l.push(x),!x.collision.bodyA.isSleeping&&!x.collision.bodyB.isSleeping&&y.push(g));for(g=0;g<y.length;g++)m=y[g]-g,x=s[m],s.splice(m,1),delete i[x.id]},d.clear=function(r){return r.table={},r.list.length=0,r.collisionStart.length=0,r.collisionActive.length=0,r.collisionEnd.length=0,r}})()},13390:(p,S,t)=>{var d={};p.exports=d;var v=t(10438),o=t(63454),r=t(84091),n=t(68516),e=t(39745);(function(){d.collides=function(s,h){for(var i=[],a=h.length,u=s.bounds,l=o.collides,f=r.overlaps,c=0;c<a;c++){var m=h[c],x=m.parts.length,g=x===1?0:1;if(s!==m&&f(m.bounds,u))for(var y=g;y<x;y++){var T=m.parts[y];if(f(T.bounds,u)){var C=l(T,s);if(C){i.push(C);break}}}}return i},d.ray=function(s,h,i,a){a=a||1e-100;for(var u=v.angle(h,i),l=v.magnitude(v.sub(h,i)),f=(i.x+h.x)*.5,c=(i.y+h.y)*.5,m=n.rectangle(f,c,l,a,{angle:u}),x=d.collides(m,s),g=0;g<x.length;g+=1){var y=x[g];y.body=y.bodyB=y.bodyA}return x},d.region=function(s,h,i){for(var a=[],u=0;u<s.length;u++){var l=s[u],f=r.overlaps(l.bounds,h);(f&&!i||!f&&i)&&a.push(l)}return a},d.point=function(s,h){for(var i=[],a=0;a<s.length;a++){var u=s[a];if(r.contains(u.bounds,h))for(var l=u.parts.length===1?0:1;l<u.parts.length;l++){var f=u.parts[l];if(r.contains(f.bounds,h)&&e.contains(f.vertices,h)){i.push(u);break}}}return i}})()},44272:(p,S,t)=>{var d={};p.exports=d;var v=t(39745),o=t(68758),r=t(84091);(function(){d._restingThresh=2,d._restingThreshTangent=Math.sqrt(6),d._positionDampen=.9,d._positionWarming=.8,d._frictionNormalMultiplier=5,d._frictionMaxStatic=Number.MAX_VALUE,d.preSolvePosition=function(n){var e,s,h,i=n.length;for(e=0;e<i;e++)s=n[e],s.isActive&&(h=s.activeContacts.length,s.collision.parentA.totalContacts+=h,s.collision.parentB.totalContacts+=h)},d.solvePosition=function(n,e,s){var h,i,a,u,l,f,c,m,x=d._positionDampen*(s||1),g=o.clamp(e/o._baseDelta,0,1),y=n.length;for(h=0;h<y;h++)i=n[h],!(!i.isActive||i.isSensor)&&(a=i.collision,u=a.parentA,l=a.parentB,f=a.normal,i.separation=f.x*(l.positionImpulse.x+a.penetration.x-u.positionImpulse.x)+f.y*(l.positionImpulse.y+a.penetration.y-u.positionImpulse.y));for(h=0;h<y;h++)i=n[h],!(!i.isActive||i.isSensor)&&(a=i.collision,u=a.parentA,l=a.parentB,f=a.normal,m=i.separation-i.slop*g,(u.isStatic||l.isStatic)&&(m*=2),u.isStatic||u.isSleeping||(c=x/u.totalContacts,u.positionImpulse.x+=f.x*m*c,u.positionImpulse.y+=f.y*m*c),l.isStatic||l.isSleeping||(c=x/l.totalContacts,l.positionImpulse.x-=f.x*m*c,l.positionImpulse.y-=f.y*m*c))},d.postSolvePosition=function(n){for(var e=d._positionWarming,s=n.length,h=v.translate,i=r.update,a=0;a<s;a++){var u=n[a],l=u.positionImpulse,f=l.x,c=l.y,m=u.velocity;if(u.totalContacts=0,f!==0||c!==0){for(var x=0;x<u.parts.length;x++){var g=u.parts[x];h(g.vertices,l),i(g.bounds,g.vertices,m),g.position.x+=f,g.position.y+=c}u.positionPrev.x+=f,u.positionPrev.y+=c,f*m.x+c*m.y<0?(l.x=0,l.y=0):(l.x*=e,l.y*=e)}}},d.preSolveVelocity=function(n){var e=n.length,s,h;for(s=0;s<e;s++){var i=n[s];if(!(!i.isActive||i.isSensor)){var a=i.activeContacts,u=a.length,l=i.collision,f=l.parentA,c=l.parentB,m=l.normal,x=l.tangent;for(h=0;h<u;h++){var g=a[h],y=g.vertex,T=g.normalImpulse,C=g.tangentImpulse;if(T!==0||C!==0){var A=m.x*T+x.x*C,w=m.y*T+x.y*C;f.isStatic||f.isSleeping||(f.positionPrev.x+=A*f.inverseMass,f.positionPrev.y+=w*f.inverseMass,f.anglePrev+=f.inverseInertia*((y.x-f.position.x)*w-(y.y-f.position.y)*A)),c.isStatic||c.isSleeping||(c.positionPrev.x-=A*c.inverseMass,c.positionPrev.y-=w*c.inverseMass,c.anglePrev-=c.inverseInertia*((y.x-c.position.x)*w-(y.y-c.position.y)*A))}}}}},d.solveVelocity=function(n,e){var s=e/o._baseDelta,h=s*s,i=h*s,a=-d._restingThresh*s,u=d._restingThreshTangent,l=d._frictionNormalMultiplier*s,f=d._frictionMaxStatic,c=n.length,m,x,g,y;for(g=0;g<c;g++){var T=n[g];if(!(!T.isActive||T.isSensor)){var C=T.collision,A=C.parentA,w=C.parentB,E=A.velocity,P=w.velocity,B=C.normal.x,R=C.normal.y,I=C.tangent.x,N=C.tangent.y,X=T.activeContacts,Y=X.length,O=1/Y,D=A.inverseMass+w.inverseMass,F=T.friction*T.frictionStatic*l;for(E.x=A.position.x-A.positionPrev.x,E.y=A.position.y-A.positionPrev.y,P.x=w.position.x-w.positionPrev.x,P.y=w.position.y-w.positionPrev.y,A.angularVelocity=A.angle-A.anglePrev,w.angularVelocity=w.angle-w.anglePrev,y=0;y<Y;y++){var M=X[y],L=M.vertex,G=L.x-A.position.x,U=L.y-A.position.y,W=L.x-w.position.x,H=L.y-w.position.y,J=E.x-U*A.angularVelocity,Q=E.y+G*A.angularVelocity,$=P.x-H*w.angularVelocity,k=P.y+W*w.angularVelocity,_=J-$,q=Q-k,et=B*_+R*q,ot=I*_+N*q,lt=T.separation+et,ht=Math.min(lt,1);ht=lt<0?0:ht;var tt=ht*F;ot<-tt||ot>tt?(x=ot>0?ot:-ot,m=T.friction*(ot>0?1:-1)*i,m<-x?m=-x:m>x&&(m=x)):(m=ot,x=f);var at=G*R-U*B,rt=W*R-H*B,dt=O/(D+A.inverseInertia*at*at+w.inverseInertia*rt*rt),ut=(1+T.restitution)*et*dt;if(m*=dt,et<a)M.normalImpulse=0;else{var mt=M.normalImpulse;M.normalImpulse+=ut,M.normalImpulse>0&&(M.normalImpulse=0),ut=M.normalImpulse-mt}if(ot<-u||ot>u)M.tangentImpulse=0;else{var pt=M.tangentImpulse;M.tangentImpulse+=m,M.tangentImpulse<-x&&(M.tangentImpulse=-x),M.tangentImpulse>x&&(M.tangentImpulse=x),m=M.tangentImpulse-pt}var ct=B*ut+I*m,ft=R*ut+N*m;A.isStatic||A.isSleeping||(A.positionPrev.x+=ct*A.inverseMass,A.positionPrev.y+=ft*A.inverseMass,A.anglePrev+=(G*ft-U*ct)*A.inverseInertia),w.isStatic||w.isSleeping||(w.positionPrev.x-=ct*w.inverseMass,w.positionPrev.y-=ft*w.inverseMass,w.anglePrev-=(W*ft-H*ct)*w.inverseInertia)}}}}})()},52838:(p,S,t)=>{var d={};p.exports=d;var v=t(39745),o=t(10438),r=t(22806),n=t(84091),e=t(50658),s=t(68758);(function(){d._warming=.4,d._torqueDampen=1,d._minLength=1e-6,d.create=function(h){var i=h;i.bodyA&&!i.pointA&&(i.pointA={x:0,y:0}),i.bodyB&&!i.pointB&&(i.pointB={x:0,y:0});var a=i.bodyA?o.add(i.bodyA.position,i.pointA):i.pointA,u=i.bodyB?o.add(i.bodyB.position,i.pointB):i.pointB,l=o.magnitude(o.sub(a,u));i.length=typeof i.length<"u"?i.length:l,i.id=i.id||s.nextId(),i.label=i.label||"Constraint",i.type="constraint",i.stiffness=i.stiffness||(i.length>0?1:.7),i.damping=i.damping||0,i.angularStiffness=i.angularStiffness||0,i.angleA=i.bodyA?i.bodyA.angle:i.angleA,i.angleB=i.bodyB?i.bodyB.angle:i.angleB,i.plugin={};var f={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return i.length===0&&i.stiffness>.1?(f.type="pin",f.anchors=!1):i.stiffness<.9&&(f.type="spring"),i.render=s.extend(f,i.render),i},d.preSolveAll=function(h){for(var i=0;i<h.length;i+=1){var a=h[i],u=a.constraintImpulse;a.isStatic||u.x===0&&u.y===0&&u.angle===0||(a.position.x+=u.x,a.position.y+=u.y,a.angle+=u.angle)}},d.solveAll=function(h,i){for(var a=s.clamp(i/s._baseDelta,0,1),u=0;u<h.length;u+=1){var l=h[u],f=!l.bodyA||l.bodyA&&l.bodyA.isStatic,c=!l.bodyB||l.bodyB&&l.bodyB.isStatic;(f||c)&&d.solve(h[u],a)}for(u=0;u<h.length;u+=1)l=h[u],f=!l.bodyA||l.bodyA&&l.bodyA.isStatic,c=!l.bodyB||l.bodyB&&l.bodyB.isStatic,!f&&!c&&d.solve(h[u],a)},d.solve=function(h,i){var a=h.bodyA,u=h.bodyB,l=h.pointA,f=h.pointB;if(!(!a&&!u)){a&&!a.isStatic&&(o.rotate(l,a.angle-h.angleA,l),h.angleA=a.angle),u&&!u.isStatic&&(o.rotate(f,u.angle-h.angleB,f),h.angleB=u.angle);var c=l,m=f;if(a&&(c=o.add(a.position,l)),u&&(m=o.add(u.position,f)),!(!c||!m)){var x=o.sub(c,m),g=o.magnitude(x);g<d._minLength&&(g=d._minLength);var y=(g-h.length)/g,T=h.stiffness>=1||h.length===0,C=T?h.stiffness*i:h.stiffness*i*i,A=h.damping*i,w=o.mult(x,y*C),E=(a?a.inverseMass:0)+(u?u.inverseMass:0),P=(a?a.inverseInertia:0)+(u?u.inverseInertia:0),B=E+P,R,I,N,X,Y;if(A>0){var O=o.create();N=o.div(x,g),Y=o.sub(u&&o.sub(u.position,u.positionPrev)||O,a&&o.sub(a.position,a.positionPrev)||O),X=o.dot(N,Y)}a&&!a.isStatic&&(I=a.inverseMass/E,a.constraintImpulse.x-=w.x*I,a.constraintImpulse.y-=w.y*I,a.position.x-=w.x*I,a.position.y-=w.y*I,A>0&&(a.positionPrev.x-=A*N.x*X*I,a.positionPrev.y-=A*N.y*X*I),R=o.cross(l,w)/B*d._torqueDampen*a.inverseInertia*(1-h.angularStiffness),a.constraintImpulse.angle-=R,a.angle-=R),u&&!u.isStatic&&(I=u.inverseMass/E,u.constraintImpulse.x+=w.x*I,u.constraintImpulse.y+=w.y*I,u.position.x+=w.x*I,u.position.y+=w.y*I,A>0&&(u.positionPrev.x+=A*N.x*X*I,u.positionPrev.y+=A*N.y*X*I),R=o.cross(f,w)/B*d._torqueDampen*u.inverseInertia*(1-h.angularStiffness),u.constraintImpulse.angle+=R,u.angle+=R)}}},d.postSolveAll=function(h){for(var i=0;i<h.length;i++){var a=h[i],u=a.constraintImpulse;if(!(a.isStatic||u.x===0&&u.y===0&&u.angle===0)){r.set(a,!1);for(var l=0;l<a.parts.length;l++){var f=a.parts[l];v.translate(f.vertices,u),l>0&&(f.position.x+=u.x,f.position.y+=u.y),u.angle!==0&&(v.rotate(f.vertices,u.angle,a.position),e.rotate(f.axes,u.angle),l>0&&o.rotateAbout(f.position,u.angle,a.position,f.position)),n.update(f.bounds,f.vertices,a.velocity)}u.angle*=d._warming,u.x*=d._warming,u.y*=d._warming}}},d.pointAWorld=function(h){return{x:(h.bodyA?h.bodyA.position.x:0)+(h.pointA?h.pointA.x:0),y:(h.bodyA?h.bodyA.position.y:0)+(h.pointA?h.pointA.y:0)}},d.pointBWorld=function(h){return{x:(h.bodyB?h.bodyB.position.x:0)+(h.pointB?h.pointB.x:0),y:(h.bodyB?h.bodyB.position.y:0)+(h.pointB?h.pointB.y:0)}},d.currentLength=function(h){var i=(h.bodyA?h.bodyA.position.x:0)+(h.pointA?h.pointA.x:0),a=(h.bodyA?h.bodyA.position.y:0)+(h.pointA?h.pointA.y:0),u=(h.bodyB?h.bodyB.position.x:0)+(h.pointB?h.pointB.x:0),l=(h.bodyB?h.bodyB.position.y:0)+(h.pointB?h.pointB.y:0),f=i-u,c=a-l;return Math.sqrt(f*f+c*c)}})()},68758:(p,S,t)=>{var d={};p.exports=d,function(){d._baseDelta=16.666666666666668,d._nextId=0,d._seed=0,d._nowStartTime=+new Date,d._warnedOnce={},d._decomp=null,d.extend=function(o,r){var n,e;typeof r=="boolean"?(n=2,e=r):(n=1,e=!0);for(var s=n;s<arguments.length;s++){var h=arguments[s];if(h)for(var i in h)e&&h[i]&&h[i].constructor===Object&&(!o[i]||o[i].constructor===Object)?(o[i]=o[i]||{},d.extend(o[i],e,h[i])):o[i]=h[i]}return o},d.clone=function(o,r){return d.extend({},r,o)},d.keys=function(o){if(Object.keys)return Object.keys(o);var r=[];for(var n in o)r.push(n);return r},d.values=function(o){var r=[];if(Object.keys){for(var n=Object.keys(o),e=0;e<n.length;e++)r.push(o[n[e]]);return r}for(var s in o)r.push(o[s]);return r},d.get=function(o,r,n,e){r=r.split(".").slice(n,e);for(var s=0;s<r.length;s+=1)o=o[r[s]];return o},d.set=function(o,r,n,e,s){var h=r.split(".").slice(e,s);return d.get(o,r,0,-1)[h[h.length-1]]=n,n},d.shuffle=function(o){for(var r=o.length-1;r>0;r--){var n=Math.floor(d.random()*(r+1)),e=o[r];o[r]=o[n],o[n]=e}return o},d.choose=function(o){return o[Math.floor(d.random()*o.length)]},d.isElement=function(o){return typeof HTMLElement<"u"?o instanceof HTMLElement:!!(o&&o.nodeType&&o.nodeName)},d.isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"},d.isFunction=function(o){return typeof o=="function"},d.isPlainObject=function(o){return typeof o=="object"&&o.constructor===Object},d.isString=function(o){return toString.call(o)==="[object String]"},d.clamp=function(o,r,n){return o<r?r:o>n?n:o},d.sign=function(o){return o<0?-1:1},d.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-d._nowStartTime},d.random=function(o,r){return o=typeof o<"u"?o:0,r=typeof r<"u"?r:1,o+v()*(r-o)};var v=function(){return d._seed=(d._seed*9301+49297)%233280,d._seed/233280};d.colorToNumber=function(o){return o=o.replace("#",""),o.length==3&&(o=o.charAt(0)+o.charAt(0)+o.charAt(1)+o.charAt(1)+o.charAt(2)+o.charAt(2)),parseInt(o,16)},d.logLevel=1,d.log=function(){console&&d.logLevel>0&&d.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},d.info=function(){console&&d.logLevel>0&&d.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},d.warn=function(){console&&d.logLevel>0&&d.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},d.warnOnce=function(){var o=Array.prototype.slice.call(arguments).join(" ");d._warnedOnce[o]||(d.warn(o),d._warnedOnce[o]=!0)},d.deprecated=function(o,r,n){o[r]=d.chain(function(){d.warnOnce("🔅 deprecated 🔅",n)},o[r])},d.nextId=function(){return d._nextId++},d.indexOf=function(o,r){if(o.indexOf)return o.indexOf(r);for(var n=0;n<o.length;n++)if(o[n]===r)return n;return-1},d.map=function(o,r){if(o.map)return o.map(r);for(var n=[],e=0;e<o.length;e+=1)n.push(r(o[e]));return n},d.topologicalSort=function(o){var r=[],n=[],e=[];for(var s in o)!n[s]&&!e[s]&&d._topologicalSort(s,n,e,o,r);return r},d._topologicalSort=function(o,r,n,e,s){var h=e[o]||[];n[o]=!0;for(var i=0;i<h.length;i+=1){var a=h[i];n[a]||r[a]||d._topologicalSort(a,r,n,e,s)}n[o]=!1,r[o]=!0,s.push(o)},d.chain=function(){for(var o=[],r=0;r<arguments.length;r+=1){var n=arguments[r];n._chained?o.push.apply(o,n._chained):o.push(n)}var e=function(){for(var s,h=new Array(arguments.length),i=0,a=arguments.length;i<a;i++)h[i]=arguments[i];for(i=0;i<o.length;i+=1){var u=o[i].apply(s,h);typeof u<"u"&&(s=u)}return s};return e._chained=o,e},d.chainPathBefore=function(o,r,n){return d.set(o,r,d.chain(n,d.get(o,r)))},d.chainPathAfter=function(o,r,n){return d.set(o,r,d.chain(d.get(o,r),n))},d.setDecomp=function(o){d._decomp=o},d.getDecomp=function(){var o=d._decomp;try{!o&&typeof window<"u"&&(o=window.decomp),!o&&typeof t.g<"u"&&(o=t.g.decomp)}catch{o=null}return o}}()},45775:(p,S,t)=>{var d={};p.exports=d;var v=t(22806),o=t(44272),r=t(13657),n=t(91327),e=t(39073),s=t(11299),h=t(52838),i=t(68758),a=t(84125);(function(){d.create=function(u){u=u||{};var l={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},f=i.extend(l,u);return f.world=u.world||s.create({label:"World"}),f.pairs=u.pairs||n.create(),f.detector=u.detector||r.create(),f.grid={buckets:[]},f.world.gravity=f.gravity,f.broadphase=f.grid,f.metrics={},f},d.update=function(u,l){var f=i.now(),c=u.world,m=u.detector,x=u.pairs,g=u.timing,y=g.timestamp,T;l=typeof l<"u"?l:i._baseDelta,l*=g.timeScale,g.timestamp+=l,g.lastDelta=l;var C={timestamp:g.timestamp,delta:l};e.trigger(u,"beforeUpdate",C);var A=s.allBodies(c),w=s.allConstraints(c);for(c.isModified&&(r.setBodies(m,A),s.setModified(c,!1,!1,!0)),u.enableSleeping&&v.update(A,l),d._bodiesApplyGravity(A,u.gravity),l>0&&d._bodiesUpdate(A,l),e.trigger(u,"beforeSolve",C),h.preSolveAll(A),T=0;T<u.constraintIterations;T++)h.solveAll(w,l);h.postSolveAll(A),m.pairs=u.pairs;var E=r.collisions(m);n.update(x,E,y),u.enableSleeping&&v.afterCollisions(x.list),x.collisionStart.length>0&&e.trigger(u,"collisionStart",{pairs:x.collisionStart,timestamp:g.timestamp,delta:l});var P=i.clamp(20/u.positionIterations,0,1);for(o.preSolvePosition(x.list),T=0;T<u.positionIterations;T++)o.solvePosition(x.list,l,P);for(o.postSolvePosition(A),h.preSolveAll(A),T=0;T<u.constraintIterations;T++)h.solveAll(w,l);for(h.postSolveAll(A),o.preSolveVelocity(x.list),T=0;T<u.velocityIterations;T++)o.solveVelocity(x.list,l);return d._bodiesUpdateVelocities(A),x.collisionActive.length>0&&e.trigger(u,"collisionActive",{pairs:x.collisionActive,timestamp:g.timestamp,delta:l}),x.collisionEnd.length>0&&e.trigger(u,"collisionEnd",{pairs:x.collisionEnd,timestamp:g.timestamp,delta:l}),d._bodiesClearForces(A),e.trigger(u,"afterUpdate",C),u.timing.lastElapsed=i.now()-f,u},d.merge=function(u,l){if(i.extend(u,l),l.world){u.world=l.world,d.clear(u);for(var f=s.allBodies(u.world),c=0;c<f.length;c++){var m=f[c];v.set(m,!1),m.id=i.nextId()}}},d.clear=function(u){n.clear(u.pairs),r.clear(u.detector)},d._bodiesClearForces=function(u){for(var l=u.length,f=0;f<l;f++){var c=u[f];c.force.x=0,c.force.y=0,c.torque=0}},d._bodiesApplyGravity=function(u,l){var f=typeof l.scale<"u"?l.scale:.001,c=u.length;if(!(l.x===0&&l.y===0||f===0))for(var m=0;m<c;m++){var x=u[m];x.isStatic||x.isSleeping||(x.force.y+=x.mass*l.y*f,x.force.x+=x.mass*l.x*f)}},d._bodiesUpdate=function(u,l){for(var f=u.length,c=0;c<f;c++){var m=u[c];m.isStatic||m.isSleeping||a.update(m,l)}},d._bodiesUpdateVelocities=function(u){for(var l=u.length,f=0;f<l;f++)a.updateVelocities(u[f])}})()},39073:(p,S,t)=>{var d={};p.exports=d;var v=t(68758);(function(){d.on=function(o,r,n){for(var e=r.split(" "),s,h=0;h<e.length;h++)s=e[h],o.events=o.events||{},o.events[s]=o.events[s]||[],o.events[s].push(n);return n},d.off=function(o,r,n){if(!r){o.events={};return}typeof r=="function"&&(n=r,r=v.keys(o.events).join(" "));for(var e=r.split(" "),s=0;s<e.length;s++){var h=o.events[e[s]],i=[];if(n&&h)for(var a=0;a<h.length;a++)h[a]!==n&&i.push(h[a]);o.events[e[s]]=i}},d.trigger=function(o,r,n){var e,s,h,i,a=o.events;if(a&&v.keys(a).length>0){n||(n={}),e=r.split(" ");for(var u=0;u<e.length;u++)if(s=e[u],h=a[s],h){i=v.clone(n,!1),i.name=s,i.source=o;for(var l=0;l<h.length;l++)h[l].apply(o,[i])}}}})()},16929:(p,S,t)=>{var d={};p.exports=d;var v=t(84474),o=t(68758);(function(){d.name="matter-js",d.version="0.19.0",d.uses=[],d.used=[],d.use=function(){v.use(d,Array.prototype.slice.call(arguments))},d.before=function(r,n){return r=r.replace(/^Matter./,""),o.chainPathBefore(d,r,n)},d.after=function(r,n){return r=r.replace(/^Matter./,""),o.chainPathAfter(d,r,n)}})()},84474:(p,S,t)=>{var d={};p.exports=d;var v=t(68758);(function(){d._registry={},d.register=function(o){if(d.isPlugin(o)||v.warn("Plugin.register:",d.toString(o),"does not implement all required fields."),o.name in d._registry){var r=d._registry[o.name],n=d.versionParse(o.version).number,e=d.versionParse(r.version).number;n>e?(v.warn("Plugin.register:",d.toString(r),"was upgraded to",d.toString(o)),d._registry[o.name]=o):n<e?v.warn("Plugin.register:",d.toString(r),"can not be downgraded to",d.toString(o)):o!==r&&v.warn("Plugin.register:",d.toString(o),"is already registered to different plugin object")}else d._registry[o.name]=o;return o},d.resolve=function(o){return d._registry[d.dependencyParse(o).name]},d.toString=function(o){return typeof o=="string"?o:(o.name||"anonymous")+"@"+(o.version||o.range||"0.0.0")},d.isPlugin=function(o){return o&&o.name&&o.version&&o.install},d.isUsed=function(o,r){return o.used.indexOf(r)>-1},d.isFor=function(o,r){var n=o.for&&d.dependencyParse(o.for);return!o.for||r.name===n.name&&d.versionSatisfies(r.version,n.range)},d.use=function(o,r){if(o.uses=(o.uses||[]).concat(r||[]),o.uses.length===0){v.warn("Plugin.use:",d.toString(o),"does not specify any dependencies to install.");return}for(var n=d.dependencies(o),e=v.topologicalSort(n),s=[],h=0;h<e.length;h+=1)if(e[h]!==o.name){var i=d.resolve(e[h]);if(!i){s.push("❌ "+e[h]);continue}d.isUsed(o,i.name)||(d.isFor(i,o)||(v.warn("Plugin.use:",d.toString(i),"is for",i.for,"but installed on",d.toString(o)+"."),i._warned=!0),i.install?i.install(o):(v.warn("Plugin.use:",d.toString(i),"does not specify an install function."),i._warned=!0),i._warned?(s.push("🔶 "+d.toString(i)),delete i._warned):s.push("✅ "+d.toString(i)),o.used.push(i.name))}s.length>0&&!i.silent&&v.info(s.join("  "))},d.dependencies=function(o,r){var n=d.dependencyParse(o),e=n.name;if(r=r||{},!(e in r)){o=d.resolve(o)||o,r[e]=v.map(o.uses||[],function(h){d.isPlugin(h)&&d.register(h);var i=d.dependencyParse(h),a=d.resolve(h);return a&&!d.versionSatisfies(a.version,i.range)?(v.warn("Plugin.dependencies:",d.toString(a),"does not satisfy",d.toString(i),"used by",d.toString(n)+"."),a._warned=!0,o._warned=!0):a||(v.warn("Plugin.dependencies:",d.toString(h),"used by",d.toString(n),"could not be resolved."),o._warned=!0),i.name});for(var s=0;s<r[e].length;s+=1)d.dependencies(r[e][s],r);return r}},d.dependencyParse=function(o){if(v.isString(o)){var r=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return r.test(o)||v.warn("Plugin.dependencyParse:",o,"is not a valid dependency string."),{name:o.split("@")[0],range:o.split("@")[1]||"*"}}return{name:o.name,range:o.range||o.version}},d.versionParse=function(o){var r=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;r.test(o)||v.warn("Plugin.versionParse:",o,"is not a valid version or range.");var n=r.exec(o),e=Number(n[4]),s=Number(n[5]),h=Number(n[6]);return{isRange:!!(n[1]||n[2]),version:n[3],range:o,operator:n[1]||n[2]||"",major:e,minor:s,patch:h,parts:[e,s,h],prerelease:n[7],number:e*1e8+s*1e4+h}},d.versionSatisfies=function(o,r){r=r||"*";var n=d.versionParse(r),e=d.versionParse(o);if(n.isRange){if(n.operator==="*"||o==="*")return!0;if(n.operator===">")return e.number>n.number;if(n.operator===">=")return e.number>=n.number;if(n.operator==="~")return e.major===n.major&&e.minor===n.minor&&e.patch>=n.patch;if(n.operator==="^")return n.major>0?e.major===n.major&&e.number>=n.number:n.minor>0?e.minor===n.minor&&e.patch>=n.patch:e.patch===n.patch}return o===r||o==="*"}})()},22806:(p,S,t)=>{var d={};p.exports=d;var v=t(84125),o=t(39073),r=t(68758);(function(){d._motionWakeThreshold=.18,d._motionSleepThreshold=.08,d._minBias=.9,d.update=function(n,e){for(var s=e/r._baseDelta,h=d._motionSleepThreshold,i=0;i<n.length;i++){var a=n[i],u=v.getSpeed(a),l=v.getAngularSpeed(a),f=u*u+l*l;if(a.force.x!==0||a.force.y!==0){d.set(a,!1);continue}var c=Math.min(a.motion,f),m=Math.max(a.motion,f);a.motion=d._minBias*c+(1-d._minBias)*m,a.sleepThreshold>0&&a.motion<h?(a.sleepCounter+=1,a.sleepCounter>=a.sleepThreshold/s&&d.set(a,!0)):a.sleepCounter>0&&(a.sleepCounter-=1)}},d.afterCollisions=function(n){for(var e=d._motionSleepThreshold,s=0;s<n.length;s++){var h=n[s];if(h.isActive){var i=h.collision,a=i.bodyA.parent,u=i.bodyB.parent;if(!(a.isSleeping&&u.isSleeping||a.isStatic||u.isStatic)&&(a.isSleeping||u.isSleeping)){var l=a.isSleeping&&!a.isStatic?a:u,f=l===a?u:a;!l.isStatic&&f.motion>e&&d.set(l,!1)}}}},d.set=function(n,e){var s=n.isSleeping;e?(n.isSleeping=!0,n.sleepCounter=n.sleepThreshold,n.positionImpulse.x=0,n.positionImpulse.y=0,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.anglePrev=n.angle,n.speed=0,n.angularSpeed=0,n.motion=0,s||o.trigger(n,"sleepStart")):(n.isSleeping=!1,n.sleepCounter=0,s&&o.trigger(n,"sleepEnd"))}})()},68516:(p,S,t)=>{var d={};p.exports=d;var v=t(39745),o=t(68758),r=t(84125),n=t(84091),e=t(10438);(function(){d.rectangle=function(s,h,i,a,u){u=u||{};var l={label:"Rectangle Body",position:{x:s,y:h},vertices:v.fromPath("L 0 0 L "+i+" 0 L "+i+" "+a+" L 0 "+a)};if(u.chamfer){var f=u.chamfer;l.vertices=v.chamfer(l.vertices,f.radius,f.quality,f.qualityMin,f.qualityMax),delete u.chamfer}return r.create(o.extend({},l,u))},d.trapezoid=function(s,h,i,a,u,l){l=l||{},u*=.5;var f=(1-u*2)*i,c=i*u,m=c+f,x=m+c,g;u<.5?g="L 0 0 L "+c+" "+-a+" L "+m+" "+-a+" L "+x+" 0":g="L 0 0 L "+m+" "+-a+" L "+x+" 0";var y={label:"Trapezoid Body",position:{x:s,y:h},vertices:v.fromPath(g)};if(l.chamfer){var T=l.chamfer;y.vertices=v.chamfer(y.vertices,T.radius,T.quality,T.qualityMin,T.qualityMax),delete l.chamfer}return r.create(o.extend({},y,l))},d.circle=function(s,h,i,a,u){a=a||{};var l={label:"Circle Body",circleRadius:i};u=u||25;var f=Math.ceil(Math.max(10,Math.min(u,i)));return f%2===1&&(f+=1),d.polygon(s,h,f,i,o.extend({},l,a))},d.polygon=function(s,h,i,a,u){if(u=u||{},i<3)return d.circle(s,h,a,u);for(var l=2*Math.PI/i,f="",c=l*.5,m=0;m<i;m+=1){var x=c+m*l,g=Math.cos(x)*a,y=Math.sin(x)*a;f+="L "+g.toFixed(3)+" "+y.toFixed(3)+" "}var T={label:"Polygon Body",position:{x:s,y:h},vertices:v.fromPath(f)};if(u.chamfer){var C=u.chamfer;T.vertices=v.chamfer(T.vertices,C.radius,C.quality,C.qualityMin,C.qualityMax),delete u.chamfer}return r.create(o.extend({},T,u))},d.fromVertices=function(s,h,i,a,u,l,f,c){var m=o.getDecomp(),x,g,y,T,C,A,w,E,P,B,R;for(x=!!(m&&m.quickDecomp),a=a||{},y=[],u=typeof u<"u"?u:!1,l=typeof l<"u"?l:.01,f=typeof f<"u"?f:10,c=typeof c<"u"?c:.01,o.isArray(i[0])||(i=[i]),B=0;B<i.length;B+=1)if(A=i[B],T=v.isConvex(A),C=!T,C&&!x&&o.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),T||!x)T?A=v.clockwiseSort(A):A=v.hull(A),y.push({position:{x:s,y:h},vertices:A});else{var I=A.map(function(W){return[W.x,W.y]});m.makeCCW(I),l!==!1&&m.removeCollinearPoints(I,l),c!==!1&&m.removeDuplicatePoints&&m.removeDuplicatePoints(I,c);var N=m.quickDecomp(I);for(w=0;w<N.length;w++){var X=N[w],Y=X.map(function(W){return{x:W[0],y:W[1]}});f>0&&v.area(Y)<f||y.push({position:v.centre(Y),vertices:Y})}}for(w=0;w<y.length;w++)y[w]=r.create(o.extend(y[w],a));if(u){var O=5;for(w=0;w<y.length;w++){var D=y[w];for(E=w+1;E<y.length;E++){var F=y[E];if(n.overlaps(D.bounds,F.bounds)){var M=D.vertices,L=F.vertices;for(P=0;P<D.vertices.length;P++)for(R=0;R<F.vertices.length;R++){var G=e.magnitudeSquared(e.sub(M[(P+1)%M.length],L[R])),U=e.magnitudeSquared(e.sub(M[P],L[(R+1)%L.length]));G<O&&U<O&&(M[P].isInternal=!0,L[R].isInternal=!0)}}}}}return y.length>1?(g=r.create(o.extend({parts:y.slice(0)},a)),r.setPosition(g,{x:s,y:h}),g):y[0]},d.flagCoincidentParts=function(s,h){h===void 0&&(h=5);for(var i=0;i<s.length;i++)for(var a=s[i],u=i+1;u<s.length;u++){var l=s[u];if(n.overlaps(a.bounds,l.bounds))for(var f=a.vertices,c=l.vertices,m=0;m<a.vertices.length;m++)for(var x=0;x<l.vertices.length;x++){var g=e.magnitudeSquared(e.sub(f[(m+1)%f.length],c[x])),y=e.magnitudeSquared(e.sub(f[m],c[(x+1)%c.length]));g<h&&y<h&&(f[m].isInternal=!0,c[x].isInternal=!0)}}return s}})()},56643:(p,S,t)=>{var d={};p.exports=d;var v=t(11299),o=t(52838),r=t(68758),n=t(84125),e=t(68516);(function(){d.stack=function(s,h,i,a,u,l,f){for(var c=v.create({label:"Stack"}),m=s,x=h,g,y=0,T=0;T<a;T++){for(var C=0,A=0;A<i;A++){var w=f(m,x,A,T,g,y);if(w){var E=w.bounds.max.y-w.bounds.min.y,P=w.bounds.max.x-w.bounds.min.x;E>C&&(C=E),n.translate(w,{x:P*.5,y:E*.5}),m=w.bounds.max.x+u,v.addBody(c,w),g=w,y+=1}else m+=u}x+=C+l,m=s}return c},d.chain=function(s,h,i,a,u,l){for(var f=s.bodies,c=1;c<f.length;c++){var m=f[c-1],x=f[c],g=m.bounds.max.y-m.bounds.min.y,y=m.bounds.max.x-m.bounds.min.x,T=x.bounds.max.y-x.bounds.min.y,C=x.bounds.max.x-x.bounds.min.x,A={bodyA:m,pointA:{x:y*h,y:g*i},bodyB:x,pointB:{x:C*a,y:T*u}},w=r.extend(A,l);v.addConstraint(s,o.create(w))}return s.label+=" Chain",s},d.mesh=function(s,h,i,a,u){var l=s.bodies,f,c,m,x,g;for(f=0;f<i;f++){for(c=1;c<h;c++)m=l[c-1+f*h],x=l[c+f*h],v.addConstraint(s,o.create(r.extend({bodyA:m,bodyB:x},u)));if(f>0)for(c=0;c<h;c++)m=l[c+(f-1)*h],x=l[c+f*h],v.addConstraint(s,o.create(r.extend({bodyA:m,bodyB:x},u))),a&&c>0&&(g=l[c-1+(f-1)*h],v.addConstraint(s,o.create(r.extend({bodyA:g,bodyB:x},u)))),a&&c<h-1&&(g=l[c+1+(f-1)*h],v.addConstraint(s,o.create(r.extend({bodyA:g,bodyB:x},u))))}return s.label+=" Mesh",s},d.pyramid=function(s,h,i,a,u,l,f){return d.stack(s,h,i,a,u,l,function(c,m,x,g,y,T){var C=Math.min(a,Math.ceil(i/2)),A=y?y.bounds.max.x-y.bounds.min.x:0;if(!(g>C)){g=C-g;var w=g,E=i-1-g;if(!(x<w||x>E)){T===1&&n.translate(y,{x:(x+(i%2===1?1:-1))*A,y:0});var P=y?x*A:0;return f(s+P+x*u,m,x,g,y,T)}}})},d.newtonsCradle=function(s,h,i,a,u){for(var l=v.create({label:"Newtons Cradle"}),f=0;f<i;f++){var c=1.9,m=e.circle(s+f*(a*c),h+u,a,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),x=o.create({pointA:{x:s+f*(a*c),y:h},bodyB:m});v.addBody(l,m),v.addConstraint(l,x)}return l},d.car=function(s,h,i,a,u){var l=n.nextGroup(!0),f=20,c=-i*.5+f,m=i*.5-f,x=0,g=v.create({label:"Car"}),y=e.rectangle(s,h,i,a,{collisionFilter:{group:l},chamfer:{radius:a*.5},density:2e-4}),T=e.circle(s+c,h+x,u,{collisionFilter:{group:l},friction:.8}),C=e.circle(s+m,h+x,u,{collisionFilter:{group:l},friction:.8}),A=o.create({bodyB:y,pointB:{x:c,y:x},bodyA:T,stiffness:1,length:0}),w=o.create({bodyB:y,pointB:{x:m,y:x},bodyA:C,stiffness:1,length:0});return v.addBody(g,y),v.addBody(g,T),v.addBody(g,C),v.addConstraint(g,A),v.addConstraint(g,w),g},d.softBody=function(s,h,i,a,u,l,f,c,m,x){m=r.extend({inertia:1/0},m),x=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},x);var g=d.stack(s,h,i,a,u,l,function(y,T){return e.circle(y,T,c,m)});return d.mesh(g,i,a,f,x),g.label="Soft Body",g}})()},50658:(p,S,t)=>{var d={};p.exports=d;var v=t(10438),o=t(68758);(function(){d.fromVertices=function(r){for(var n={},e=0;e<r.length;e++){var s=(e+1)%r.length,h=v.normalise({x:r[s].y-r[e].y,y:r[e].x-r[s].x}),i=h.y===0?1/0:h.x/h.y;i=i.toFixed(3).toString(),n[i]=h}return o.values(n)},d.rotate=function(r,n){if(n!==0)for(var e=Math.cos(n),s=Math.sin(n),h=0;h<r.length;h++){var i=r[h],a;a=i.x*e-i.y*s,i.y=i.x*s+i.y*e,i.x=a}}})()},84091:p=>{var S={};p.exports=S,function(){S.create=function(t){var d={min:{x:0,y:0},max:{x:0,y:0}};return t&&S.update(d,t),d},S.update=function(t,d,v){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var o=0;o<d.length;o++){var r=d[o];r.x>t.max.x&&(t.max.x=r.x),r.x<t.min.x&&(t.min.x=r.x),r.y>t.max.y&&(t.max.y=r.y),r.y<t.min.y&&(t.min.y=r.y)}v&&(v.x>0?t.max.x+=v.x:t.min.x+=v.x,v.y>0?t.max.y+=v.y:t.min.y+=v.y)},S.contains=function(t,d){return d.x>=t.min.x&&d.x<=t.max.x&&d.y>=t.min.y&&d.y<=t.max.y},S.overlaps=function(t,d){return t.min.x<=d.max.x&&t.max.x>=d.min.x&&t.max.y>=d.min.y&&t.min.y<=d.max.y},S.translate=function(t,d){t.min.x+=d.x,t.max.x+=d.x,t.min.y+=d.y,t.max.y+=d.y},S.shift=function(t,d){var v=t.max.x-t.min.x,o=t.max.y-t.min.y;t.min.x=d.x,t.max.x=d.x+v,t.min.y=d.y,t.max.y=d.y+o}}()},92765:(p,S,t)=>{var d={};p.exports=d,t(84091);var v=t(68758);(function(){d.pathToVertices=function(o,r){typeof window<"u"&&!("SVGPathSeg"in window)&&v.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,e,s,h,i,a,u,l,f,c,m=[],x,g,y=0,T=0,C=0;r=r||15;var A=function(E,P,B){var R=B%2===1&&B>1;if(!f||E!=f.x||P!=f.y){f&&R?(x=f.x,g=f.y):(x=0,g=0);var I={x:x+E,y:g+P};(R||!f)&&(f=I),m.push(I),T=x+E,C=g+P}},w=function(E){var P=E.pathSegTypeAsLetter.toUpperCase();if(P!=="Z"){switch(P){case"M":case"L":case"T":case"C":case"S":case"Q":T=E.x,C=E.y;break;case"H":T=E.x;break;case"V":C=E.y;break}A(T,C,E.pathSegType)}};for(d._svgPathToAbsolute(o),s=o.getTotalLength(),a=[],n=0;n<o.pathSegList.numberOfItems;n+=1)a.push(o.pathSegList.getItem(n));for(u=a.concat();y<s;){if(c=o.getPathSegAtLength(y),i=a[c],i!=l){for(;u.length&&u[0]!=i;)w(u.shift());l=i}switch(i.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":h=o.getPointAtLength(y),A(h.x,h.y,0);break}y+=r}for(n=0,e=u.length;n<e;++n)w(u[n]);return m},d._svgPathToAbsolute=function(o){for(var r,n,e,s,h,i,a=o.pathSegList,u=0,l=0,f=a.numberOfItems,c=0;c<f;++c){var m=a.getItem(c),x=m.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(x))"x"in m&&(u=m.x),"y"in m&&(l=m.y);else switch("x1"in m&&(e=u+m.x1),"x2"in m&&(h=u+m.x2),"y1"in m&&(s=l+m.y1),"y2"in m&&(i=l+m.y2),"x"in m&&(u+=m.x),"y"in m&&(l+=m.y),x){case"m":a.replaceItem(o.createSVGPathSegMovetoAbs(u,l),c);break;case"l":a.replaceItem(o.createSVGPathSegLinetoAbs(u,l),c);break;case"h":a.replaceItem(o.createSVGPathSegLinetoHorizontalAbs(u),c);break;case"v":a.replaceItem(o.createSVGPathSegLinetoVerticalAbs(l),c);break;case"c":a.replaceItem(o.createSVGPathSegCurvetoCubicAbs(u,l,e,s,h,i),c);break;case"s":a.replaceItem(o.createSVGPathSegCurvetoCubicSmoothAbs(u,l,h,i),c);break;case"q":a.replaceItem(o.createSVGPathSegCurvetoQuadraticAbs(u,l,e,s),c);break;case"t":a.replaceItem(o.createSVGPathSegCurvetoQuadraticSmoothAbs(u,l),c);break;case"a":a.replaceItem(o.createSVGPathSegArcAbs(u,l,m.r1,m.r2,m.angle,m.largeArcFlag,m.sweepFlag),c);break;case"z":case"Z":u=r,l=n;break}(x=="M"||x=="m")&&(r=u,n=l)}}})()},10438:p=>{var S={};p.exports=S,function(){S.create=function(t,d){return{x:t||0,y:d||0}},S.clone=function(t){return{x:t.x,y:t.y}},S.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},S.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},S.rotate=function(t,d,v){var o=Math.cos(d),r=Math.sin(d);v||(v={});var n=t.x*o-t.y*r;return v.y=t.x*r+t.y*o,v.x=n,v},S.rotateAbout=function(t,d,v,o){var r=Math.cos(d),n=Math.sin(d);o||(o={});var e=v.x+((t.x-v.x)*r-(t.y-v.y)*n);return o.y=v.y+((t.x-v.x)*n+(t.y-v.y)*r),o.x=e,o},S.normalise=function(t){var d=S.magnitude(t);return d===0?{x:0,y:0}:{x:t.x/d,y:t.y/d}},S.dot=function(t,d){return t.x*d.x+t.y*d.y},S.cross=function(t,d){return t.x*d.y-t.y*d.x},S.cross3=function(t,d,v){return(d.x-t.x)*(v.y-t.y)-(d.y-t.y)*(v.x-t.x)},S.add=function(t,d,v){return v||(v={}),v.x=t.x+d.x,v.y=t.y+d.y,v},S.sub=function(t,d,v){return v||(v={}),v.x=t.x-d.x,v.y=t.y-d.y,v},S.mult=function(t,d){return{x:t.x*d,y:t.y*d}},S.div=function(t,d){return{x:t.x/d,y:t.y/d}},S.perp=function(t,d){return d=d===!0?-1:1,{x:d*-t.y,y:d*t.x}},S.neg=function(t){return{x:-t.x,y:-t.y}},S.angle=function(t,d){return Math.atan2(d.y-t.y,d.x-t.x)},S._temp=[S.create(),S.create(),S.create(),S.create(),S.create(),S.create()]}()},39745:(p,S,t)=>{var d={};p.exports=d;var v=t(10438),o=t(68758);(function(){d.create=function(r,n){for(var e=[],s=0;s<r.length;s++){var h=r[s],i={x:h.x,y:h.y,index:s,body:n,isInternal:!1};e.push(i)}return e},d.fromPath=function(r,n){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,s=[];return r.replace(e,function(h,i,a){s.push({x:parseFloat(i),y:parseFloat(a)})}),d.create(s,n)},d.centre=function(r){for(var n=d.area(r,!0),e={x:0,y:0},s,h,i,a=0;a<r.length;a++)i=(a+1)%r.length,s=v.cross(r[a],r[i]),h=v.mult(v.add(r[a],r[i]),s),e=v.add(e,h);return v.div(e,6*n)},d.mean=function(r){for(var n={x:0,y:0},e=0;e<r.length;e++)n.x+=r[e].x,n.y+=r[e].y;return v.div(n,r.length)},d.area=function(r,n){for(var e=0,s=r.length-1,h=0;h<r.length;h++)e+=(r[s].x-r[h].x)*(r[s].y+r[h].y),s=h;return n?e/2:Math.abs(e)/2},d.inertia=function(r,n){for(var e=0,s=0,h=r,i,a,u=0;u<h.length;u++)a=(u+1)%h.length,i=Math.abs(v.cross(h[a],h[u])),e+=i*(v.dot(h[a],h[a])+v.dot(h[a],h[u])+v.dot(h[u],h[u])),s+=i;return n/6*(e/s)},d.translate=function(r,n,e){e=typeof e<"u"?e:1;var s=r.length,h=n.x*e,i=n.y*e,a;for(a=0;a<s;a++)r[a].x+=h,r[a].y+=i;return r},d.rotate=function(r,n,e){if(n!==0){var s=Math.cos(n),h=Math.sin(n),i=e.x,a=e.y,u=r.length,l,f,c,m;for(m=0;m<u;m++)l=r[m],f=l.x-i,c=l.y-a,l.x=i+(f*s-c*h),l.y=a+(f*h+c*s);return r}},d.contains=function(r,n){for(var e=n.x,s=n.y,h=r.length,i=r[h-1],a,u=0;u<h;u++){if(a=r[u],(e-i.x)*(a.y-i.y)+(s-i.y)*(i.x-a.x)>0)return!1;i=a}return!0},d.scale=function(r,n,e,s){if(n===1&&e===1)return r;s=s||d.centre(r);for(var h,i,a=0;a<r.length;a++)h=r[a],i=v.sub(h,s),r[a].x=s.x+i.x*n,r[a].y=s.y+i.y*e;return r},d.chamfer=function(r,n,e,s,h){typeof n=="number"?n=[n]:n=n||[8],e=typeof e<"u"?e:-1,s=s||2,h=h||14;for(var i=[],a=0;a<r.length;a++){var u=r[a-1>=0?a-1:r.length-1],l=r[a],f=r[(a+1)%r.length],c=n[a<n.length?a:n.length-1];if(c===0){i.push(l);continue}var m=v.normalise({x:l.y-u.y,y:u.x-l.x}),x=v.normalise({x:f.y-l.y,y:l.x-f.x}),g=Math.sqrt(2*Math.pow(c,2)),y=v.mult(o.clone(m),c),T=v.normalise(v.mult(v.add(m,x),.5)),C=v.sub(l,v.mult(T,g)),A=e;e===-1&&(A=Math.pow(c,.32)*1.75),A=o.clamp(A,s,h),A%2===1&&(A+=1);for(var w=Math.acos(v.dot(m,x)),E=w/A,P=0;P<A;P++)i.push(v.add(v.rotate(y,E*P),C))}return i},d.clockwiseSort=function(r){var n=d.mean(r);return r.sort(function(e,s){return v.angle(n,e)-v.angle(n,s)}),r},d.isConvex=function(r){var n=0,e=r.length,s,h,i,a;if(e<3)return null;for(s=0;s<e;s++)if(h=(s+1)%e,i=(s+2)%e,a=(r[h].x-r[s].x)*(r[i].y-r[h].y),a-=(r[h].y-r[s].y)*(r[i].x-r[h].x),a<0?n|=1:a>0&&(n|=2),n===3)return!1;return n!==0?!0:null},d.hull=function(r){var n=[],e=[],s,h;for(r=r.slice(0),r.sort(function(i,a){var u=i.x-a.x;return u!==0?u:i.y-a.y}),h=0;h<r.length;h+=1){for(s=r[h];e.length>=2&&v.cross3(e[e.length-2],e[e.length-1],s)<=0;)e.pop();e.push(s)}for(h=r.length-1;h>=0;h-=1){for(s=r[h];n.length>=2&&v.cross3(n[n.length-2],n[n.length-1],s)<=0;)n.pop();n.push(s)}return n.pop(),e.pop(),n.concat(e)}})()},1675:(p,S,t)=>{var d=t(18171),v={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(o){o.after("Body.create",function(){v.Body.init(this)}),o.before("Engine.update",function(r){v.Engine.update(r)})},Body:{init:function(o){o.plugin.attractors=o.plugin.attractors||[]}},Engine:{update:function(o){for(var r=d.Composite.allBodies(o.world),n=0;n<r.length;n++){var e=r[n],s=e.plugin.attractors;if(s&&s.length>0)for(var h=0;h<r.length;h++){var i=r[h];if(n!==h)for(var a=0;a<s.length;a++){var u=s[a],l=u;d.Common.isFunction(u)&&(l=u(e,i)),l&&d.Body.applyForce(i,i.position,l)}}}}},Attractors:{gravityConstant:.001,gravity:function(o,r){var n=d.Vector.sub(r.position,o.position),e=d.Vector.magnitudeSquared(n)||1e-4,s=d.Vector.normalise(n),h=-v.Attractors.gravityConstant*(o.mass*r.mass/e),i=d.Vector.mult(s,h);d.Body.applyForce(o,o.position,d.Vector.neg(i)),d.Body.applyForce(r,r.position,i)}}};p.exports=v},80391:p=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@photonstorm.com>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(t){t.after("Engine.create",function(){t.Events.on(this,"collisionStart",function(d){d.pairs.map(function(v){var o=v.bodyA,r=v.bodyB;o.gameObject&&o.gameObject.emit("collide",o,r,v),r.gameObject&&r.gameObject.emit("collide",r,o,v),t.Events.trigger(o,"onCollide",{pair:v}),t.Events.trigger(r,"onCollide",{pair:v}),o.onCollideCallback&&o.onCollideCallback(v),r.onCollideCallback&&r.onCollideCallback(v),o.onCollideWith[r.id]&&o.onCollideWith[r.id](r,v),r.onCollideWith[o.id]&&r.onCollideWith[o.id](o,v)})}),t.Events.on(this,"collisionActive",function(d){d.pairs.map(function(v){var o=v.bodyA,r=v.bodyB;o.gameObject&&o.gameObject.emit("collideActive",o,r,v),r.gameObject&&r.gameObject.emit("collideActive",r,o,v),t.Events.trigger(o,"onCollideActive",{pair:v}),t.Events.trigger(r,"onCollideActive",{pair:v}),o.onCollideActiveCallback&&o.onCollideActiveCallback(v),r.onCollideActiveCallback&&r.onCollideActiveCallback(v)})}),t.Events.on(this,"collisionEnd",function(d){d.pairs.map(function(v){var o=v.bodyA,r=v.bodyB;o.gameObject&&o.gameObject.emit("collideEnd",o,r,v),r.gameObject&&r.gameObject.emit("collideEnd",r,o,v),t.Events.trigger(o,"onCollideEnd",{pair:v}),t.Events.trigger(r,"onCollideEnd",{pair:v}),o.onCollideEndCallback&&o.onCollideEndCallback(v),r.onCollideEndCallback&&r.onCollideEndCallback(v)})})})}};p.exports=S},44097:(p,S,t)=>{var d=t(18171),v={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(o){o.after("Engine.update",function(){v.Engine.update(this)})},Engine:{update:function(o){for(var r=o.world,n=d.Composite.allBodies(r),e=d.Composite.allComposites(r),s=0;s<n.length;s+=1){var h=n[s];h.plugin.wrap&&v.Body.wrap(h,h.plugin.wrap)}for(s=0;s<e.length;s+=1){var i=e[s];i.plugin.wrap&&v.Composite.wrap(i,i.plugin.wrap)}}},Bounds:{wrap:function(o,r){var n=null,e=null;if(typeof r.min.x<"u"&&typeof r.max.x<"u"&&(o.min.x>r.max.x?n=r.min.x-o.max.x:o.max.x<r.min.x&&(n=r.max.x-o.min.x)),typeof r.min.y<"u"&&typeof r.max.y<"u"&&(o.min.y>r.max.y?e=r.min.y-o.max.y:o.max.y<r.min.y&&(e=r.max.y-o.min.y)),n!==null||e!==null)return{x:n||0,y:e||0}}},Body:{wrap:function(o,r){var n=v.Bounds.wrap(o.bounds,r);return n&&d.Body.translate(o,n),n}},Composite:{bounds:function(o){for(var r=d.Composite.allBodies(o),n=[],e=0;e<r.length;e+=1){var s=r[e];n.push(s.bounds.min,s.bounds.max)}return d.Bounds.create(n)},wrap:function(o,r){var n=v.Bounds.wrap(v.Composite.bounds(o),r);return n&&d.Composite.translate(o,n),n}}};p.exports=v},81084:p=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={decomp:w,quickDecomp:R,isSimple:P,removeCollinearPoints:I,removeDuplicatePoints:N,makeCCW:f};function S(O,D,F){F=F||0;var M=[0,0],L,G,U,W,H,J,Q;return L=O[1][1]-O[0][1],G=O[0][0]-O[1][0],U=L*O[0][0]+G*O[0][1],W=D[1][1]-D[0][1],H=D[0][0]-D[1][0],J=W*D[0][0]+H*D[0][1],Q=L*H-W*G,X(Q,0,F)||(M[0]=(H*U-G*J)/Q,M[1]=(L*J-W*U)/Q),M}function t(O,D,F,M){var L=D[0]-O[0],G=D[1]-O[1],U=M[0]-F[0],W=M[1]-F[1];if(U*G-W*L===0)return!1;var H=(L*(F[1]-O[1])+G*(O[0]-F[0]))/(U*G-W*L),J=(U*(O[1]-F[1])+W*(F[0]-O[0]))/(W*L-U*G);return H>=0&&H<=1&&J>=0&&J<=1}function d(O,D,F){return(D[0]-O[0])*(F[1]-O[1])-(F[0]-O[0])*(D[1]-O[1])}function v(O,D,F){return d(O,D,F)>0}function o(O,D,F){return d(O,D,F)>=0}function r(O,D,F){return d(O,D,F)<0}function n(O,D,F){return d(O,D,F)<=0}var e=[],s=[];function h(O,D,F,M){if(M){var L=e,G=s;L[0]=D[0]-O[0],L[1]=D[1]-O[1],G[0]=F[0]-D[0],G[1]=F[1]-D[1];var U=L[0]*G[0]+L[1]*G[1],W=Math.sqrt(L[0]*L[0]+L[1]*L[1]),H=Math.sqrt(G[0]*G[0]+G[1]*G[1]),J=Math.acos(U/(W*H));return J<M}else return d(O,D,F)===0}function i(O,D){var F=D[0]-O[0],M=D[1]-O[1];return F*F+M*M}function a(O,D){var F=O.length;return O[D<0?D%F+F:D%F]}function u(O){O.length=0}function l(O,D,F,M){for(var L=F;L<M;L++)O.push(D[L])}function f(O){for(var D=0,F=O,M=1;M<O.length;++M)(F[M][1]<F[D][1]||F[M][1]===F[D][1]&&F[M][0]>F[D][0])&&(D=M);return v(a(O,D-1),a(O,D),a(O,D+1))?!1:(c(O),!0)}function c(O){for(var D=[],F=O.length,M=0;M!==F;M++)D.push(O.pop());for(var M=0;M!==F;M++)O[M]=D[M]}function m(O,D){return r(a(O,D-1),a(O,D),a(O,D+1))}var x=[],g=[];function y(O,D,F){var M,L,G=x,U=g;if(o(a(O,D+1),a(O,D),a(O,F))&&n(a(O,D-1),a(O,D),a(O,F)))return!1;L=i(a(O,D),a(O,F));for(var W=0;W!==O.length;++W)if(!((W+1)%O.length===D||W===D)&&o(a(O,D),a(O,F),a(O,W+1))&&n(a(O,D),a(O,F),a(O,W))&&(G[0]=a(O,D),G[1]=a(O,F),U[0]=a(O,W),U[1]=a(O,W+1),M=S(G,U),i(a(O,D),M)<L))return!1;return!0}function T(O,D,F){for(var M=0;M!==O.length;++M)if(!(M===D||M===F||(M+1)%O.length===D||(M+1)%O.length===F)&&t(a(O,D),a(O,F),a(O,M),a(O,M+1)))return!1;return!0}function C(O,D,F,M){var L=M||[];if(u(L),D<F)for(var G=D;G<=F;G++)L.push(O[G]);else{for(var G=0;G<=F;G++)L.push(O[G]);for(var G=D;G<O.length;G++)L.push(O[G])}return L}function A(O){for(var D=[],F=[],M=[],L=[],G=Number.MAX_VALUE,U=0;U<O.length;++U)if(m(O,U)){for(var W=0;W<O.length;++W)if(y(O,U,W)){F=A(C(O,U,W,L)),M=A(C(O,W,U,L));for(var H=0;H<M.length;H++)F.push(M[H]);F.length<G&&(D=F,G=F.length,D.push([a(O,U),a(O,W)]))}}return D}function w(O){var D=A(O);return D.length>0?E(O,D):[O]}function E(O,D){if(D.length===0)return[O];if(D instanceof Array&&D.length&&D[0]instanceof Array&&D[0].length===2&&D[0][0]instanceof Array){for(var F=[O],M=0;M<D.length;M++)for(var L=D[M],G=0;G<F.length;G++){var U=F[G],W=E(U,L);if(W){F.splice(G,1),F.push(W[0],W[1]);break}}return F}else{var L=D,M=O.indexOf(L[0]),G=O.indexOf(L[1]);return M!==-1&&G!==-1?[C(O,M,G),C(O,G,M)]:!1}}function P(O){var D=O,F;for(F=0;F<D.length-1;F++)for(var M=0;M<F-1;M++)if(t(D[F],D[F+1],D[M],D[M+1]))return!1;for(F=1;F<D.length-2;F++)if(t(D[0],D[D.length-1],D[F],D[F+1]))return!1;return!0}function B(O,D,F,M,L){L=L||0;var G=D[1]-O[1],U=O[0]-D[0],W=G*O[0]+U*O[1],H=M[1]-F[1],J=F[0]-M[0],Q=H*F[0]+J*F[1],$=G*J-H*U;return X($,0,L)?[0,0]:[(J*W-U*Q)/$,(G*Q-H*W)/$]}function R(O,D,F,M,L,G,U){G=G||100,U=U||0,L=L||25,D=typeof D<"u"?D:[],F=F||[],M=M||[];var W=[0,0],H=[0,0],J=[0,0],Q=0,$=0,k=0,_=0,q=0,et=0,ot=0,lt=[],ht=[],tt=O,at=O;if(at.length<3)return D;if(U++,U>G)return console.warn("quickDecomp: max level ("+G+") reached."),D;for(var rt=0;rt<O.length;++rt)if(m(tt,rt)){F.push(tt[rt]),Q=$=Number.MAX_VALUE;for(var dt=0;dt<O.length;++dt)v(a(tt,rt-1),a(tt,rt),a(tt,dt))&&n(a(tt,rt-1),a(tt,rt),a(tt,dt-1))&&(J=B(a(tt,rt-1),a(tt,rt),a(tt,dt),a(tt,dt-1)),r(a(tt,rt+1),a(tt,rt),J)&&(k=i(tt[rt],J),k<$&&($=k,H=J,et=dt))),v(a(tt,rt+1),a(tt,rt),a(tt,dt+1))&&n(a(tt,rt+1),a(tt,rt),a(tt,dt))&&(J=B(a(tt,rt+1),a(tt,rt),a(tt,dt),a(tt,dt+1)),v(a(tt,rt-1),a(tt,rt),J)&&(k=i(tt[rt],J),k<Q&&(Q=k,W=J,q=dt)));if(et===(q+1)%O.length)J[0]=(H[0]+W[0])/2,J[1]=(H[1]+W[1])/2,M.push(J),rt<q?(l(lt,tt,rt,q+1),lt.push(J),ht.push(J),et!==0&&l(ht,tt,et,tt.length),l(ht,tt,0,rt+1)):(rt!==0&&l(lt,tt,rt,tt.length),l(lt,tt,0,q+1),lt.push(J),ht.push(J),l(ht,tt,et,rt+1));else{if(et>q&&(q+=O.length),_=Number.MAX_VALUE,q<et)return D;for(var dt=et;dt<=q;++dt)o(a(tt,rt-1),a(tt,rt),a(tt,dt))&&n(a(tt,rt+1),a(tt,rt),a(tt,dt))&&(k=i(a(tt,rt),a(tt,dt)),k<_&&T(tt,rt,dt)&&(_=k,ot=dt%O.length));rt<ot?(l(lt,tt,rt,ot+1),ot!==0&&l(ht,tt,ot,at.length),l(ht,tt,0,rt+1)):(rt!==0&&l(lt,tt,rt,at.length),l(lt,tt,0,ot+1),l(ht,tt,ot,rt+1))}return lt.length<ht.length?(R(lt,D,F,M,L,G,U),R(ht,D,F,M,L,G,U)):(R(ht,D,F,M,L,G,U),R(lt,D,F,M,L,G,U)),D}return D.push(O),D}function I(O,D){for(var F=0,M=O.length-1;O.length>3&&M>=0;--M)h(a(O,M-1),a(O,M),a(O,M+1),D)&&(O.splice(M%O.length,1),F++);return F}function N(O,D){for(var F=O.length-1;F>=1;--F)for(var M=O[F],L=F-1;L>=0;--L)if(Y(M,O[L],D)){O.splice(F,1);continue}}function X(O,D,F){return F=F||0,Math.abs(O-D)<=F}function Y(O,D,F){return X(O[0],D[0],F)&&X(O[1],D[1],F)}},88257:(p,S,t)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var d=t(56694),v=new d({initialize:function(r){this.pluginManager=r,this.game=r.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});p.exports=v},18360:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};p.exports=S},91963:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},t={},d={};d.register=function(v,o,r,n){n===void 0&&(n=!1),S[v]={plugin:o,mapping:r,custom:n}},d.registerCustom=function(v,o,r,n){t[v]={plugin:o,mapping:r,data:n}},d.hasCore=function(v){return S.hasOwnProperty(v)},d.hasCustom=function(v){return t.hasOwnProperty(v)},d.getCore=function(v){return S[v]},d.getCustom=function(v){return t[v]},d.getCustomClass=function(v){return t.hasOwnProperty(v)?t[v].plugin:null},d.remove=function(v){S.hasOwnProperty(v)&&delete S[v]},d.removeCustom=function(v){t.hasOwnProperty(v)&&delete t[v]},d.destroyCorePlugins=function(){for(var v in S)S.hasOwnProperty(v)&&delete S[v]},d.destroyCustomPlugins=function(){for(var v in t)t.hasOwnProperty(v)&&delete t[v]},p.exports=d},49274:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(97081),o=t(6659),r=t(76846),n=t(99325),e=t(61286),s=t(72632),h=t(91963),i=t(66458),a=new d({Extends:o,initialize:function(l){o.call(this),this.game=l,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],l.isBooted?this.boot():l.events.once(v.BOOT,this.boot,this)},boot:function(){var u,l,f,c,m,x,g,y=this.game.config,T=y.installGlobalPlugins;for(T=T.concat(this._pendingGlobal),u=0;u<T.length;u++)l=T[u],f=s(l,"key",null),c=s(l,"plugin",null),m=s(l,"start",!1),x=s(l,"mapping",null),g=s(l,"data",null),f&&(c?this.install(f,c,m,x,g):console.warn("Missing `plugin` for key: "+f));for(T=y.installScenePlugins,T=T.concat(this._pendingScene),u=0;u<T.length;u++)l=T[u],f=s(l,"key",null),c=s(l,"plugin",null),x=s(l,"mapping",null),f&&(c?this.installScenePlugin(f,c,x):console.warn("Missing `plugin` for key: "+f));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(v.DESTROY,this.destroy,this)},addToScene:function(u,l,f){var c,m,x,g=this.game,y=u.scene,T=u.settings.map,C=u.settings.isBooted;for(c=0;c<l.length;c++)m=l[c],g[m]?(u[m]=g[m],T.hasOwnProperty(m)&&(y[T[m]]=u[m])):m==="game"&&T.hasOwnProperty(m)&&(y[T[m]]=g);for(var A=0;A<f.length;A++)for(x=f[A],c=0;c<x.length;c++)if(m=x[c],!!h.hasCore(m)){var w=h.getCore(m),E=w.mapping,P=new w.plugin(y,this,E);u[E]=P,w.custom?y[E]=P:T.hasOwnProperty(E)&&(y[T[E]]=P),C&&P.boot()}for(x=this.plugins,c=0;c<x.length;c++){var B=x[c];B.mapping&&(y[B.mapping]=B.plugin)}},getDefaultScenePlugins:function(){var u=this.game.config.defaultPlugins;return u=u.concat(this.scenePlugins),u},installScenePlugin:function(u,l,f,c,m){if(m===void 0&&(m=!1),typeof l!="function"){console.warn("Invalid Scene Plugin: "+u);return}if(h.hasCore(u)||h.register(u,l,f,!0),this.scenePlugins.indexOf(u)===-1)this.scenePlugins.push(u);else if(!m&&h.hasCore(u)){console.warn("Scene Plugin key in use: "+u);return}if(c){var x=new l(c,this,u);c.sys[u]=x,f&&f!==""&&(c[f]=x),x.boot()}},install:function(u,l,f,c,m){if(f===void 0&&(f=!1),c===void 0&&(c=null),m===void 0&&(m=null),typeof l!="function")return console.warn("Invalid Plugin: "+u),null;if(h.hasCustom(u))return console.warn("Plugin key in use: "+u),null;if(c!==null&&(f=!0),!this.game.isBooted)this._pendingGlobal.push({key:u,plugin:l,start:f,mapping:c,data:m});else if(h.registerCustom(u,l,c,m),f)return this.start(u);return null},getIndex:function(u){for(var l=this.plugins,f=0;f<l.length;f++){var c=l[f];if(c.key===u)return f}return-1},getEntry:function(u){var l=this.getIndex(u);if(l!==-1)return this.plugins[l]},isActive:function(u){var l=this.getEntry(u);return l&&l.active},start:function(u,l){l===void 0&&(l=u);var f=this.getEntry(l);return f&&!f.active?(f.active=!0,f.plugin.start()):f||(f=this.createEntry(u,l)),f?f.plugin:null},createEntry:function(u,l){var f=h.getCustom(u);if(f){var c=new f.plugin(this);f={key:l,plugin:c,active:!0,mapping:f.mapping,data:f.data},this.plugins.push(f),c.init(f.data),c.start()}return f},stop:function(u){var l=this.getEntry(u);return l&&l.active&&(l.active=!1,l.plugin.stop()),this},get:function(u,l){l===void 0&&(l=!0);var f=this.getEntry(u);if(f)return f.plugin;var c=this.getClass(u);return c&&l?(f=this.createEntry(u,u),f?f.plugin:null):c||null},getClass:function(u){return h.getCustomClass(u)},removeGlobalPlugin:function(u){var l=this.getEntry(u);l&&i(this.plugins,l),h.removeCustom(u)},removeScenePlugin:function(u){i(this.scenePlugins,u),h.remove(u)},registerGameObject:function(u,l,f){return l&&e.register(u,l),f&&n.register(u,f),this},removeGameObject:function(u,l,f){return l===void 0&&(l=!0),f===void 0&&(f=!0),l&&e.remove(u),f&&n.remove(u),this},registerFileType:function(u,l,f){r.register(u,l),f&&f.sys.load&&(f.sys.load[u]=l)},destroy:function(){for(var u=0;u<this.plugins.length;u++)this.plugins[u].plugin.destroy();h.destroyCustomPlugins(),this.game.noReturn&&h.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});p.exports=a},39283:(p,S,t)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var d=t(88257),v=t(56694),o=t(7599),r=new v({Extends:d,initialize:function(e,s,h){d.call(this,s),this.scene=e,this.systems=e.sys,this.pluginKey=h,e.sys.events.once(o.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});p.exports=r},45615:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BasePlugin:t(88257),DefaultPlugins:t(18360),PluginCache:t(91963),PluginManager:t(49274),ScenePlugin:t(39283)}},75205:()=>{!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(p){const S=performance.now(),t=this.getVideoPlaybackQuality(),d=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,v=(o,r)=>{const n=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||n.totalVideoFrames-n.droppedVideoFrames;if(e>d){const s=this.mozFrameDelay||n.totalFrameDelay-t.totalFrameDelay||0,h=r-o;p(r,{presentationTime:r+s*1e3,expectedDisplayTime:r+h,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+h/1e3,presentedFrames:e,processingDuration:s}),delete this._rvfcpolyfillmap[S]}else this._rvfcpolyfillmap[S]=requestAnimationFrame(s=>v(r,s))};return this._rvfcpolyfillmap[S]=requestAnimationFrame(o=>v(S,o)),S},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(p){cancelAnimationFrame(this._rvfcpolyfillmap[p]),delete this._rvfcpolyfillmap[p]})},95723:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},27394:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DEFAULT:0,LINEAR:0,NEAREST:1};p.exports=S},91135:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(89787),v=t(61840),o=t(56694),r=t(86459),n=t(6659),e=t(81044),s=t(32834),h=t(40444),i=t(38203),a=t(69360),u=new o({Extends:n,initialize:function(f){n.call(this);var c=f.config;this.config={clearBeforeRender:c.clearBeforeRender,backgroundColor:c.backgroundColor,antialias:c.antialias,roundPixels:c.roundPixels},this.game=f,this.type=r.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=f.canvas;var m={alpha:f.config.transparent,desynchronized:f.config.desynchronized,willReadFrequently:!1};this.gameContext=c.context?c.context:this.gameCanvas.getContext("2d",m),this.currentContext=this.gameContext,this.antialias=f.config.antialias,this.blendModes=s(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new a,this._tempMatrix2=new a,this._tempMatrix3=new a,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(i.READY,this.boot,this)},boot:function(){var l=this.game,f=l.scale.baseSize;this.width=f.width,this.height=f.height,this.isBooted=!0,l.scale.on(h.RESIZE,this.onResize,this),this.resize(f.width,f.height)},onResize:function(l,f){(f.width!==this.width||f.height!==this.height)&&this.resize(f.width,f.height)},resize:function(l,f){this.width=l,this.height=f,this.emit(e.RESIZE,l,f)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(l){return this.currentContext.globalCompositeOperation=l,this},setContext:function(l){return this.currentContext=l||this.gameContext,this},setAlpha:function(l){return this.currentContext.globalAlpha=l,this},preRender:function(){var l=this.gameContext,f=this.config,c=this.width,m=this.height;l.globalAlpha=1,l.globalCompositeOperation="source-over",l.setTransform(1,0,0,1,0,0),f.clearBeforeRender&&(l.clearRect(0,0,c,m),f.transparent||(l.fillStyle=f.backgroundColor.rgba,l.fillRect(0,0,c,m))),l.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(l,f,c){var m=f.length;this.emit(e.RENDER,l,c);var x=c.x,g=c.y,y=c.width,T=c.height,C=c.renderToTexture?c.context:l.sys.context;C.save(),this.game.scene.customViewports&&(C.beginPath(),C.rect(x,g,y,T),C.clip()),c.emit(d.PRE_RENDER,c),this.currentContext=C;var A=c.mask;A&&A.preRenderCanvas(this,null,c._maskCamera),c.transparent||(C.fillStyle=c.backgroundColor.rgba,C.fillRect(x,g,y,T)),C.globalAlpha=c.alpha,C.globalCompositeOperation="source-over",this.drawCount+=m,c.renderToTexture&&c.emit(d.PRE_RENDER,c),c.matrix.copyToContext(C);for(var w=0;w<m;w++){var E=f[w];E.mask&&E.mask.preRenderCanvas(this,E,c),E.renderCanvas(this,E,c),E.mask&&E.mask.postRenderCanvas(this,E,c)}C.setTransform(1,0,0,1,0,0),C.globalCompositeOperation="source-over",C.globalAlpha=1,c.flashEffect.postRenderCanvas(C),c.fadeEffect.postRenderCanvas(C),c.dirty=!1,A&&A.postRenderCanvas(this),C.restore(),c.renderToTexture&&(c.emit(d.POST_RENDER,c),c.renderToGame&&l.sys.context.drawImage(c.canvas,x,g)),c.emit(d.POST_RENDER,c)},postRender:function(){var l=this.gameContext;l.restore(),this.emit(e.POST_RENDER);var f=this.snapshotState;f.callback&&(v(this.gameCanvas,f),f.callback=null)},snapshotCanvas:function(l,f,c,m,x,g,y,T,C){c===void 0&&(c=!1),this.snapshotArea(m,x,g,y,f,T,C);var A=this.snapshotState;return A.getPixel=c,v(l,A),A.callback=null,this},snapshot:function(l,f,c){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,l,f,c)},snapshotArea:function(l,f,c,m,x,g,y){var T=this.snapshotState;return T.callback=x,T.type=g,T.encoder=y,T.getPixel=!1,T.x=l,T.y=f,T.width=Math.min(c,this.gameCanvas.width),T.height=Math.min(m,this.gameCanvas.height),this},snapshotPixel:function(l,f,c){return this.snapshotArea(l,f,1,1,c),this.snapshotState.getPixel=!0,this},batchSprite:function(l,f,c,m){var x=c.alpha*l.alpha;if(x!==0){var g=this.currentContext,y=this._tempMatrix1,T=this._tempMatrix2,C=f.canvasData,A=C.x,w=C.y,E=f.cutWidth,P=f.cutHeight,B=f.customPivot,R=f.source.resolution,I=l.displayOriginX,N=l.displayOriginY,X=-I+f.x,Y=-N+f.y;if(l.isCropped){var O=l._crop;(O.flipX!==l.flipX||O.flipY!==l.flipY)&&f.updateCropUVs(O,l.flipX,l.flipY),E=O.cw,P=O.ch,A=O.cx,w=O.cy,X=-I+O.x,Y=-N+O.y,l.flipX&&(X>=0?X=-(X+E):X<0&&(X=Math.abs(X)-E)),l.flipY&&(Y>=0?Y=-(Y+P):Y<0&&(Y=Math.abs(Y)-P))}var D=1,F=1;l.flipX&&(B||(X+=-f.realWidth+I*2),D=-1),l.flipY&&(B||(Y+=-f.realHeight+N*2),F=-1);var M=l.x,L=l.y;c.roundPixels&&(M=Math.floor(M),L=Math.floor(L)),T.applyITRS(M,L,l.rotation,l.scaleX*D,l.scaleY*F),y.copyFrom(c.matrix),m?(y.multiplyWithOffset(m,-c.scrollX*l.scrollFactorX,-c.scrollY*l.scrollFactorY),T.e=M,T.f=L):(T.e-=c.scrollX*l.scrollFactorX,T.f-=c.scrollY*l.scrollFactorY),y.multiply(T),c.roundPixels&&(y.e=Math.round(y.e),y.f=Math.round(y.f)),g.save(),y.setToContext(g),g.globalCompositeOperation=this.blendModes[l.blendMode],g.globalAlpha=x,g.imageSmoothingEnabled=!f.source.scaleMode,l.mask&&l.mask.preRenderCanvas(this,l,c),E>0&&P>0&&g.drawImage(f.source.image,A,w,E,P,X,Y,E/R,P/R),l.mask&&l.mask.postRenderCanvas(this,l,c),g.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});p.exports=u},6046:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CanvasRenderer:t(91135),GetBlendModes:t(32834),SetTransform:t(49584)}},32834:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(95723),v=t(98581),o=function(){var r=[],n=v.supportNewBlendModes,e="source-over";return r[d.NORMAL]=e,r[d.ADD]="lighter",r[d.MULTIPLY]=n?"multiply":e,r[d.SCREEN]=n?"screen":e,r[d.OVERLAY]=n?"overlay":e,r[d.DARKEN]=n?"darken":e,r[d.LIGHTEN]=n?"lighten":e,r[d.COLOR_DODGE]=n?"color-dodge":e,r[d.COLOR_BURN]=n?"color-burn":e,r[d.HARD_LIGHT]=n?"hard-light":e,r[d.SOFT_LIGHT]=n?"soft-light":e,r[d.DIFFERENCE]=n?"difference":e,r[d.EXCLUSION]=n?"exclusion":e,r[d.HUE]=n?"hue":e,r[d.SATURATION]=n?"saturation":e,r[d.COLOR]=n?"color":e,r[d.LUMINOSITY]=n?"luminosity":e,r[d.ERASE]="destination-out",r[d.SOURCE_IN]="source-in",r[d.SOURCE_OUT]="source-out",r[d.SOURCE_ATOP]="source-atop",r[d.DESTINATION_OVER]="destination-over",r[d.DESTINATION_IN]="destination-in",r[d.DESTINATION_OUT]="destination-out",r[d.DESTINATION_ATOP]="destination-atop",r[d.LIGHTER]="lighter",r[d.COPY]="copy",r[d.XOR]="xor",r};p.exports=o},49584:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(73329),v=function(o,r,n,e,s){var h=e.alpha*n.alpha;if(h<=0)return!1;var i=d(n,e,s).calc;return r.globalCompositeOperation=o.blendModes[n.blendMode],r.globalAlpha=h,r.save(),i.setToContext(r),r.imageSmoothingEnabled=n.frame?!n.frame.source.scaleMode:o.antialias,!0};p.exports=v},70936:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},99298:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},7743:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="render"},99519:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resize"},81044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={POST_RENDER:t(70936),PRE_RENDER:t(99298),RENDER:t(7743),RESIZE:t(99519)}},42069:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Canvas:t(6046),Events:t(81044),Snapshot:t(95528),WebGL:t(55478)}},61840:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(61068),v=t(27119),o=t(72632),r=function(n,e){var s=o(e,"callback"),h=o(e,"type","image/png"),i=o(e,"encoder",.92),a=Math.abs(Math.round(o(e,"x",0))),u=Math.abs(Math.round(o(e,"y",0))),l=Math.floor(o(e,"width",n.width)),f=Math.floor(o(e,"height",n.height)),c=o(e,"getPixel",!1);if(c){var m=n.getContext("2d",{willReadFrequently:!1}),x=m.getImageData(a,u,1,1),g=x.data;s.call(null,new v(g[0],g[1],g[2],g[3]))}else if(a!==0||u!==0||l!==n.width||f!==n.height){var y=d.createWebGL(this,l,f),T=y.getContext("2d",{willReadFrequently:!0});l>0&&f>0&&T.drawImage(n,a,u,l,f,0,0,l,f);var C=new Image;C.onerror=function(){s.call(null),d.remove(y)},C.onload=function(){s.call(null,C),d.remove(y)},C.src=y.toDataURL(h,i)}else{var A=new Image;A.onerror=function(){s.call(null)},A.onload=function(){s.call(null,A)},A.src=n.toDataURL(h,i)}};p.exports=r},1217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(61068),v=t(27119),o=t(72632),r=function(n,e){var s=n,h=o(e,"callback"),i=o(e,"type","image/png"),a=o(e,"encoder",.92),u=Math.abs(Math.round(o(e,"x",0))),l=Math.abs(Math.round(o(e,"y",0))),f=o(e,"getPixel",!1),c=o(e,"isFramebuffer",!1),m=c?o(e,"bufferWidth",1):s.drawingBufferWidth,x=c?o(e,"bufferHeight",1):s.drawingBufferHeight;if(f){var g=new Uint8Array(4),y=c?l:x-l;s.readPixels(u,y,1,1,s.RGBA,s.UNSIGNED_BYTE,g),h.call(null,new v(g[0],g[1],g[2],g[3]))}else{var T=Math.floor(o(e,"width",m)),C=Math.floor(o(e,"height",x)),A=T*C*4,w=new Uint8Array(A);s.readPixels(u,x-l-C,T,C,s.RGBA,s.UNSIGNED_BYTE,w);for(var E=d.createWebGL(this,T,C),P=E.getContext("2d",{willReadFrequently:!0}),B=P.getImageData(0,0,T,C),R=B.data,I=0;I<C;I++)for(var N=0;N<T;N++){var X=((C-I-1)*T+N)*4,Y=c?A-(I*T+(T-N))*4:(I*T+N)*4;R[Y+0]=w[X+0],R[Y+1]=w[X+1],R[Y+2]=w[X+2],R[Y+3]=w[X+3]}P.putImageData(B,0,0);var O=new Image;O.onerror=function(){h.call(null),d.remove(E)},O.onload=function(){h.call(null,O),d.remove(E)},O.src=E.toDataURL(i,a)}};p.exports=r},95528:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Canvas:t(61840),WebGL:t(1217)}},35217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(65641),o=t(33885),r=t(77290),n=t(72632),e=t(37410),s=t(82127),h=t(5583),i=t(58136),a=t(47406),u=t(81828),l=t(66901),f=t(71264),c=t(77310),m=t(10919),x=t(21213),g=t(51212),y=t(60848),T=new d({initialize:function(A){this.game=A.game,this.renderer=A,this.classes=new o([[v.UTILITY_PIPELINE,y],[v.MULTI_PIPELINE,c],[v.BITMAPMASK_PIPELINE,h],[v.SINGLE_PIPELINE,g],[v.ROPE_PIPELINE,x],[v.LIGHT_PIPELINE,l],[v.POINTLIGHT_PIPELINE,m],[v.MOBILE_PIPELINE,f],[v.FX_PIPELINE,u]]),this.postPipelineClasses=new o([[String(a.BARREL),i.Barrel],[String(a.BLOOM),i.Bloom],[String(a.BLUR),i.Blur],[String(a.BOKEH),i.Bokeh],[String(a.CIRCLE),i.Circle],[String(a.COLOR_MATRIX),i.ColorMatrix],[String(a.DISPLACEMENT),i.Displacement],[String(a.GLOW),i.Glow],[String(a.GRADIENT),i.Gradient],[String(a.PIXELATE),i.Pixelate],[String(a.SHADOW),i.Shadow],[String(a.SHINE),i.Shine],[String(a.VIGNETTE),i.Vignette],[String(a.WIPE),i.Wipe]]),this.pipelines=new o,this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(C,A,w){var E=this.renderer,P=this.renderTargets;this.frameInc=Math.floor(n(C,"frameInc",32));for(var B=E.width,R=E.height,I=Math.min(B,R),N=Math.ceil(I/this.frameInc),X=1;X<N;X++){var Y=X*this.frameInc;P.push(new e(E,Y,Y)),P.push(new e(E,Y,Y)),P.push(new e(E,Y,Y)),this.maxDimension=Y}P.push(new e(E,B,R,1,0,!0,!0)),P.push(new e(E,B,R,1,0,!0,!0)),P.push(new e(E,B,R,1,0,!0,!0));var O,D,F=this,M=this.game;if(this.classes.each(function(G,U){O=F.add(G,new U({game:M})),G===v.UTILITY_PIPELINE&&(F.UTILITY_PIPELINE=O,F.fullFrame1=O.fullFrame1,F.fullFrame2=O.fullFrame2,F.halfFrame1=O.halfFrame1,F.halfFrame2=O.halfFrame2)}),this.MULTI_PIPELINE=this.get(v.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(v.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(v.MOBILE_PIPELINE),this.FX_PIPELINE=this.get(v.FX_PIPELINE),C)for(D in C){var L=C[D];O=new L(M),O.name=D,O.isPostFX?this.postPipelineClasses.set(D,L):this.has(D)||(this.classes.set(D,L),this.add(D,O))}this.default=this.get(A),w&&!r.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(C){var A=this.get(C);return A&&(this.default=A),A},add:function(C,A){if(A.isPostFX){console.warn(C+" is a Post Pipeline. Use `addPostPipeline` instead");return}var w=this.pipelines,E=this.renderer;return w.has(C)?console.warn("Pipeline exists: "+C):(A.name=C,A.manager=this,w.set(C,A)),A.hasBooted||A.boot(),E.width!==0&&E.height!==0&&!A.isPreFX&&A.resize(E.width,E.height),A},addPostPipeline:function(C,A){this.postPipelineClasses.has(C)||this.postPipelineClasses.set(C,A)},flush:function(){this.current&&this.current.flush()},has:function(C){var A=this.pipelines;return typeof C=="string"?A.has(C):!!A.contains(C)},get:function(C){var A=this.pipelines;if(typeof C=="string")return A.get(C);if(A.contains(C))return C},getPostPipeline:function(C,A,w){var E=this.postPipelineClasses,P,B="",R=typeof C;if(R==="string"||R==="number"?(P=E.get(C),B=C):R==="function"?(E.contains(C)&&(P=C),B=C.name):R==="object"&&(P=E.get(C.name),B=C.name),P){var I=new P(this.game,w);return I.name=B,A&&(I.gameObject=A),I}},remove:function(C,A,w){A===void 0&&(A=!0),w===void 0&&(w=!0),this.pipelines.delete(C),A&&this.classes.delete(C),w&&this.postPipelineClasses.delete(C)},set:function(C,A,w){if(!C.isPostFX)return this.isCurrent(C,w)||(this.flush(),this.current&&this.current.unbind(),this.current=C,C.bind(w)),C.updateProjectionMatrix(),C.onBind(A),C},preBatch:function(C){if(C.hasPostPipeline){this.flush();for(var A=C.postPipelines,w=A.length-1;w>=0;w--){var E=A[w];E.active&&E.preBatch(C)}}},postBatch:function(C){if(C.hasPostPipeline){this.flush();for(var A=C.postPipelines,w=0;w<A.length;w++){var E=A[w];E.active&&E.postBatch(C)}}},preBatchCamera:function(C){if(C.hasPostPipeline){this.flush();for(var A=C.postPipelines,w=A.length-1;w>=0;w--){var E=A[w];E.active&&E.preBatch(C)}}},postBatchCamera:function(C){if(C.hasPostPipeline){this.flush();for(var A=C.postPipelines,w=0;w<A.length;w++){var E=A[w];E.active&&E.postBatch(C)}}},isCurrent:function(C,A){var w=this.renderer,E=this.current;return E&&!A&&(A=E.currentShader),!(E!==C||A.program!==w.currentProgram)},copyFrame:function(C,A,w,E,P){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(C,A,w,E,P),this},copyToGame:function(C){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(C),this},drawFrame:function(C,A,w,E){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(C,A,w,E),this},blendFrames:function(C,A,w,E,P){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(C,A,w,E,P),this},blendFramesAdditive:function(C,A,w,E,P){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(C,A,w,E,P),this},clearFrame:function(C,A){return this.UTILITY_PIPELINE.clearFrame(C,A),this},blitFrame:function(C,A,w,E,P,B){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(C,A,w,E,P,B),this},copyFrameRect:function(C,A,w,E,P,B,R,I){return this.UTILITY_PIPELINE.copyFrameRect(C,A,w,E,P,B,R,I),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(C){return this.UTILITY_PIPELINE.bind(C)},setFX:function(){return this.set(this.FX_PIPELINE)},rebind:function(C){C===void 0&&this.previous&&(C=this.previous);var A=this.renderer,w=A.gl;w.disable(w.DEPTH_TEST),w.disable(w.CULL_FACE),A.hasActiveStencilMask()?w.clear(w.DEPTH_BUFFER_BIT):(w.disable(w.STENCIL_TEST),w.clear(w.DEPTH_BUFFER_BIT|w.STENCIL_BUFFER_BIT)),w.viewport(0,0,A.width,A.height),A.currentProgram=null,A.setBlendMode(0,!0);var E=A.vaoExtension;E&&E.bindVertexArrayOES(null);var P=this.pipelines.entries;for(var B in P)P[B].glReset=!0;C&&(this.current=C,C.rebind())},clear:function(){var C=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,C.currentProgram=null,C.setBlendMode(0,!0);var A=C.vaoExtension;A&&A.bindVertexArrayOES(null)},getRenderTarget:function(C){var A=this.renderTargets,w=3;if(C>this.maxDimension)return this.targetIndex=A.length-w,A[this.targetIndex];var E=(s(C,this.frameInc,0,!0)-1)*w;return this.targetIndex=E,A[E]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});p.exports=T},37410:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(81044),o=new d({initialize:function(n,e,s,h,i,a,u,l,f){h===void 0&&(h=1),i===void 0&&(i=0),a===void 0&&(a=!0),u===void 0&&(u=!1),l===void 0&&(l=!0),f===void 0&&(f=!0),this.renderer=n,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=h,this.minFilter=i,this.autoClear=a,this.autoResize=!0,this.hasDepthBuffer=l,this.forceClamp=f,this.resize(e,s),u?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(r){return r&&!this.autoResize?(this.renderer.on(v.RESIZE,this.resize,this),this.autoResize=!0):!r&&this.autoResize&&(this.renderer.off(v.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(r,n){var e=r*this.scale,s=n*this.scale;if(this.autoResize&&(e!==this.width||s!==this.height)){var h=this.renderer;h.deleteFramebuffer(this.framebuffer),h.deleteTexture(this.texture),r*=this.scale,n*=this.scale,r=Math.round(r),n=Math.round(n),r<=0&&(r=1),n<=0&&(n=1),this.texture=h.createTextureFromSource(null,r,n,this.minFilter,this.forceClamp),this.framebuffer=h.createFramebuffer(r,n,this.texture,this.hasDepthBuffer),this.width=r,this.height=n}return this},bind:function(r,n,e){r===void 0&&(r=!1);var s=this.renderer;if(r&&s.flush(),n&&e&&this.resize(n,e),s.pushFramebuffer(this.framebuffer,!1,!1),r&&this.adjustViewport(),this.autoClear){var h=this.renderer.gl;h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT)}s.clearStencilMask()},adjustViewport:function(){var r=this.renderer.gl;r.viewport(0,0,this.width,this.height),r.disable(r.SCISSOR_TEST)},clear:function(){var r=this.renderer,n=r.gl;r.pushFramebuffer(this.framebuffer),n.disable(n.SCISSOR_TEST),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),r.popFramebuffer(),r.resetScissor()},unbind:function(r){r===void 0&&(r=!1);var n=this.renderer;return r&&n.flush(),n.popFramebuffer()},destroy:function(){var r=this.renderer;r.deleteFramebuffer(this.framebuffer),r.deleteTexture(this.texture),r.off(v.RESIZE,this.resize,this),this.renderer=null,this.framebuffer=null,this.texture=null}});p.exports=o},75512:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={getTintFromFloats:function(S,t,d,v){var o=(S*255|0)&255,r=(t*255|0)&255,n=(d*255|0)&255,e=(v*255|0)&255;return(e<<24|o<<16|r<<8|n)>>>0},getTintAppendFloatAlpha:function(S,t){var d=(t*255|0)&255;return(d<<24|S)>>>0},getTintAppendFloatAlphaAndSwap:function(S,t){var d=(S>>16|0)&255,v=(S>>8|0)&255,o=(S|0)&255,r=(t*255|0)&255;return(r<<24|o<<16|v<<8|d)>>>0},getFloatsFromUintRGB:function(S){var t=(S>>16|0)&255,d=(S>>8|0)&255,v=(S|0)&255;return[t/255,d/255,v/255]},checkShaderMax:function(S,t){var d=Math.min(16,S.getParameter(S.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?d:Math.min(d,t)},parseFragmentShaderMaxTextures:function(S,t){if(!S)return"";for(var d="",v=0;v<t;v++)v>0&&(d+=`
	else `),v<t-1&&(d+="if (outTexId < "+v+".5)"),d+=`
	{`,d+=`
		texture = texture2D(uMainSampler[`+v+"], outTexCoord);",d+=`
	}`;return S=S.replace(/%count%/gi,t.toString()),S.replace(/%forloop%/gi,d)},setGlowQuality:function(S,t,d,v){return d===void 0&&(d=t.config.glowFXQuality),v===void 0&&(v=t.config.glowFXDistance),S=S.replace(/__SIZE__/gi,(1/d/v).toFixed(7)),S=S.replace(/__DIST__/gi,v.toFixed(0)+".0"),S}}},44775:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(28699),o=t(6659),r=t(18970),n=t(72632),e=t(16650),s=t(81044),h=t(37410),i=t(75512),a=t(71305),u=new d({Extends:o,initialize:function(f){o.call(this);var c=f.game,m=c.renderer,x=m.gl;this.name=n(f,"name","WebGLPipeline"),this.game=c,this.renderer=m,this.manager,this.gl=x,this.view=c.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=n(f,"topology",x.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=n(f,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=f,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[]},boot:function(){var l,f=this.gl,c=this.config,m=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var x=this.renderTargets,g=n(c,"renderTarget",!1);typeof g=="boolean"&&g&&(g=1);var y=m.width,T=m.height;if(typeof g=="number")for(l=0;l<g;l++)x.push(new h(m,y,T,1,0,!0));else if(Array.isArray(g))for(l=0;l<g.length;l++){var C=n(g[l],"scale",1),A=n(g[l],"minFilter",0),w=n(g[l],"autoClear",1),E=n(g[l],"width",null),P=n(g[l],"height",E);E?x.push(new h(m,E,P,1,A,w)):x.push(new h(m,y,T,C,A,w))}x.length&&(this.currentRenderTarget=x[0]),this.setShadersFromConfig(c);var B=this.shaders,R=0;for(l=0;l<B.length;l++)B[l].vertexSize>R&&(R=B[l].vertexSize);var I=n(c,"batchSize",m.config.batchSize);this.vertexCapacity=I*6;var N=new ArrayBuffer(this.vertexCapacity*R);this.vertexData=N,this.bytes=new Uint8Array(N),this.vertexViewF32=new Float32Array(N),this.vertexViewU32=new Uint32Array(N);var X=n(c,"vertices",null);for(X?(this.vertexViewF32.set(X),this.vertexBuffer=m.createVertexBuffer(N,f.STATIC_DRAW)):this.vertexBuffer=m.createVertexBuffer(N.byteLength,f.DYNAMIC_DRAW),this.setVertexBuffer(),l=B.length-1;l>=0;l--)B[l].rebind();this.hasBooted=!0,m.on(s.RESIZE,this.resize,this),m.on(s.PRE_RENDER,this.onPreRender,this),m.on(s.RENDER,this.onRender,this),m.on(s.POST_RENDER,this.onPostRender,this),this.emit(r.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(l,f,c){var m=this.renderer;if(l!==this.currentShader||m.currentProgram!==this.currentShader.program){this.flush();var x=this.setVertexBuffer(c);x&&!f&&(f=!0),l.bind(f,!1),this.currentShader=l}return this},getShaderByName:function(l){for(var f=this.shaders,c=0;c<f.length;c++)if(f[c].name===l)return f[c]},setShadersFromConfig:function(l){var f,c=this.shaders,m=this.renderer;for(f=0;f<c.length;f++)c[f].destroy();var x="vertShader",g="fragShader",y="attributes",T=n(l,x,null),C=i.parseFragmentShaderMaxTextures(n(l,g,null),m.maxTextures),A=n(l,y,null),w=n(l,"shaders",[]),E=w.length;if(E===0)T&&C&&(this.shaders=[new a(this,"default",T,C,v(A))]);else{var P=[];for(f=0;f<E;f++){var B=w[f],R,I,N,X;if(typeof B=="string"?(R="default",I=T,N=i.parseFragmentShaderMaxTextures(B,m.maxTextures),X=A):(R=n(B,"name","default"),I=n(B,x,T),N=i.parseFragmentShaderMaxTextures(n(B,g,C),m.maxTextures),X=n(B,y,A)),R==="default"){var Y=N.split(`
`),O=Y[0].trim();O.indexOf("#define SHADER_NAME")>-1&&(R=O.substring(20))}I&&N&&P.push(new a(this,R,I,N,v(X)))}this.shaders=P}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(l){return this.currentBatch={start:this.vertexCount,count:0,texture:[l],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=l,this.batch.push(this.currentBatch),0},addTextureToBatch:function(l){var f=this.currentBatch;f&&(f.texture.push(l),f.unit++,f.maxUnit++)},pushBatch:function(l){if(!this.currentBatch||this.forceZero&&l!==this.currentTexture)return this.createBatch(l);if(l===this.currentTexture)return this.currentUnit;var f=this.currentBatch,c=f.texture.indexOf(l);return c===-1?f.texture.length===this.renderer.maxTextures?this.createBatch(l):(f.unit++,f.maxUnit++,f.texture.push(l),this.currentUnit=f.unit,this.currentTexture=l,f.unit):(this.currentUnit=c,this.currentTexture=l,c)},setGameObject:function(l,f){return f===void 0&&(f=l.frame),this.pushBatch(f.source.glTexture)},shouldFlush:function(l){return l===void 0&&(l=0),this.vertexCount+l>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(l,f){(l!==this.width||f!==this.height)&&this.flush(),this.width=l,this.height=f;for(var c=this.renderTargets,m=0;m<c.length;m++)c[m].resize(l,f);return this.setProjectionMatrix(l,f),this.emit(r.RESIZE,l,f,this),this.onResize(l,f),this},setProjectionMatrix:function(l,f){var c=this.projectionMatrix;if(!c)return this;this.projectionWidth=l,this.projectionHeight=f,c.ortho(0,l,f,0,-1e3,1e3);for(var m=this.shaders,x="uProjectionMatrix",g=0;g<m.length;g++){var y=m[g];y.hasUniform(x)&&(y.resetUniform(x),y.setMatrix4fv(x,!1,c.val,y))}return this},flipProjectionMatrix:function(l){l===void 0&&(l=!0);var f=this.projectionMatrix;if(!f)return this;var c=this.projectionWidth,m=this.projectionHeight;l?f.ortho(0,c,0,m,-1e3,1e3):f.ortho(0,c,m,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,f.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var l=this.renderer.projectionWidth,f=this.renderer.projectionHeight;(this.projectionWidth!==l||this.projectionHeight!==f)&&this.setProjectionMatrix(l,f)}},bind:function(l){if(l===void 0&&(l=this.currentShader),this.glReset)return this.rebind(l);var f=!1,c=this.gl;return c.getParameter(c.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(c.bindBuffer(c.ARRAY_BUFFER,this.vertexBuffer),this.activeBuffer=this.vertexBuffer,f=!0),l.bind(f),this.currentShader=l,this.activeTextures.length=0,this.emit(r.BIND,this,l),this.onActive(l),this},rebind:function(l){this.activeBuffer=null,this.setVertexBuffer();for(var f=this.shaders,c=f.length-1;c>=0;c--){var m=f[c].rebind();(!l||m===l)&&(this.currentShader=m)}return this.activeTextures.length=0,this.emit(r.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(l){if(l===void 0&&(l=this.vertexBuffer),l!==this.activeBuffer){var f=this.gl;return this.gl.bindBuffer(f.ARRAY_BUFFER,l),this.activeBuffer=l,!0}return!1},preBatch:function(l){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(l),this},postBatch:function(l){return this.onDraw(this.currentRenderTarget),this.onPostBatch(l),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(l){if(l===void 0&&(l=!1),this.vertexCount>0){this.emit(r.BEFORE_FLUSH,this,l),this.onBeforeFlush(l);var f=this.gl,c=this.vertexCount,m=this.currentShader.vertexSize,x=this.topology;if(this.active){this.setVertexBuffer(),c===this.vertexCapacity?f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.DYNAMIC_DRAW):f.bufferSubData(f.ARRAY_BUFFER,0,this.bytes.subarray(0,c*m));var g,y,T,C=this.batch,A=this.activeTextures;if(this.forceZero)for(A[0]||f.activeTexture(f.TEXTURE0),g=0;g<C.length;g++)y=C[g],T=y.texture[0],A[0]!==T&&(f.bindTexture(f.TEXTURE_2D,T),A[0]=T),f.drawArrays(x,y.start,y.count);else for(g=0;g<C.length;g++){y=C[g];for(var w=0;w<=y.maxUnit;w++)T=y.texture[w],A[w]!==T&&(f.activeTexture(f.TEXTURE0+w),f.bindTexture(f.TEXTURE_2D,T),A[w]=T);f.drawArrays(x,y.start,y.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(r.AFTER_FLUSH,this,l),this.onAfterFlush(l)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(l,f,c,m,x,g,y){var T=this.vertexViewF32,C=this.vertexViewU32,A=this.vertexCount*this.currentShader.vertexComponentCount-1;T[++A]=l,T[++A]=f,T[++A]=c,T[++A]=m,T[++A]=x,T[++A]=g,C[++A]=y,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(l,f,c,m,x,g,y,T,C,A,w,E,P,B,R,I,N,X,Y,O){O===void 0&&(O=this.currentUnit);var D=!1;this.shouldFlush(6)&&(this.flush(),D=!0),this.currentBatch||(O=this.setTexture2D(Y));var F=this.vertexViewF32,M=this.vertexViewU32,L=this.vertexCount*this.currentShader.vertexComponentCount-1;return F[++L]=f,F[++L]=c,F[++L]=A,F[++L]=w,F[++L]=O,F[++L]=X,M[++L]=B,F[++L]=m,F[++L]=x,F[++L]=A,F[++L]=P,F[++L]=O,F[++L]=X,M[++L]=I,F[++L]=g,F[++L]=y,F[++L]=E,F[++L]=P,F[++L]=O,F[++L]=X,M[++L]=N,F[++L]=f,F[++L]=c,F[++L]=A,F[++L]=w,F[++L]=O,F[++L]=X,M[++L]=B,F[++L]=g,F[++L]=y,F[++L]=E,F[++L]=P,F[++L]=O,F[++L]=X,M[++L]=N,F[++L]=T,F[++L]=C,F[++L]=E,F[++L]=w,F[++L]=O,F[++L]=X,M[++L]=R,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(l),D},batchTri:function(l,f,c,m,x,g,y,T,C,A,w,E,P,B,R,I,N){N===void 0&&(N=this.currentUnit);var X=!1;this.shouldFlush(3)&&(this.flush(),X=!0),this.currentBatch||(N=this.setTexture2D(I));var Y=this.vertexViewF32,O=this.vertexViewU32,D=this.vertexCount*this.currentShader.vertexComponentCount-1;return Y[++D]=f,Y[++D]=c,Y[++D]=T,Y[++D]=C,Y[++D]=N,Y[++D]=R,O[++D]=E,Y[++D]=m,Y[++D]=x,Y[++D]=T,Y[++D]=w,Y[++D]=N,Y[++D]=R,O[++D]=P,Y[++D]=g,Y[++D]=y,Y[++D]=A,Y[++D]=w,Y[++D]=N,Y[++D]=R,O[++D]=B,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(l),X},drawFillRect:function(l,f,c,m,x,g,y,T){y===void 0&&(y=this.renderer.whiteTexture),T===void 0&&(T=!0),l=Math.floor(l),f=Math.floor(f);var C=Math.floor(l+c),A=Math.floor(f+m),w=this.setTexture2D(y),E=i.getTintAppendFloatAlphaAndSwap(x,g),P=0,B=0,R=1,I=1;T&&(B=1,I=0),this.batchQuad(null,l,f,l,A,C,A,C,f,P,B,R,I,E,E,E,E,0,y,w)},setTexture2D:function(l){return l===void 0&&(l=this.renderer.whiteTexture),this.pushBatch(l)},bindTexture:function(l,f){f===void 0&&(f=0);var c=this.gl;return c.activeTexture(c.TEXTURE0+f),c.bindTexture(c.TEXTURE_2D,l),this},bindRenderTarget:function(l,f){return this.bindTexture(l.texture,f)},setTime:function(l,f){return this.set1f(l,this.game.loop.getDuration(),f),this},setBoolean:function(l,f,c){return c===void 0&&(c=this.currentShader),c.setBoolean(l,f),this},set1f:function(l,f,c){return c===void 0&&(c=this.currentShader),c.set1f(l,f),this},set2f:function(l,f,c,m){return m===void 0&&(m=this.currentShader),m.set2f(l,f,c),this},set3f:function(l,f,c,m,x){return x===void 0&&(x=this.currentShader),x.set3f(l,f,c,m),this},set4f:function(l,f,c,m,x,g){return g===void 0&&(g=this.currentShader),g.set4f(l,f,c,m,x),this},set1fv:function(l,f,c){return c===void 0&&(c=this.currentShader),c.set1fv(l,f),this},set2fv:function(l,f,c){return c===void 0&&(c=this.currentShader),c.set2fv(l,f),this},set3fv:function(l,f,c){return c===void 0&&(c=this.currentShader),c.set3fv(l,f),this},set4fv:function(l,f,c){return c===void 0&&(c=this.currentShader),c.set4fv(l,f),this},set1iv:function(l,f,c){return c===void 0&&(c=this.currentShader),c.set1iv(l,f),this},set2iv:function(l,f,c){return c===void 0&&(c=this.currentShader),c.set2iv(l,f),this},set3iv:function(l,f,c){return c===void 0&&(c=this.currentShader),c.set3iv(l,f),this},set4iv:function(l,f,c){return c===void 0&&(c=this.currentShader),c.set4iv(l,f),this},set1i:function(l,f,c){return c===void 0&&(c=this.currentShader),c.set1i(l,f),this},set2i:function(l,f,c,m){return m===void 0&&(m=this.currentShader),m.set2i(l,f,c),this},set3i:function(l,f,c,m,x){return x===void 0&&(x=this.currentShader),x.set3i(l,f,c,m),this},set4i:function(l,f,c,m,x,g){return g===void 0&&(g=this.currentShader),g.set4i(l,f,c,m,x),this},setMatrix2fv:function(l,f,c,m){return m===void 0&&(m=this.currentShader),m.setMatrix2fv(l,f,c),this},setMatrix3fv:function(l,f,c,m){return m===void 0&&(m=this.currentShader),m.setMatrix3fv(l,f,c),this},setMatrix4fv:function(l,f,c,m){return m===void 0&&(m=this.currentShader),m.setMatrix4fv(l,f,c),this},destroy:function(){this.emit(r.DESTROY,this);var l,f=this.shaders;for(l=0;l<f.length;l++)f[l].destroy();var c=this.renderTargets;for(l=0;l<c.length;l++)c[l].destroy();this.gl.deleteBuffer(this.vertexBuffer);var m=this.renderer;return m.off(s.RESIZE,this.resize,this),m.off(s.PRE_RENDER,this.onPreRender,this),m.off(s.RENDER,this.onRender,this),m.off(s.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});p.exports=u},11857:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(66458),v=t(89787),o=t(56694),r=t(86459),n=t(6659),e=t(81044),s=t(28621),h=t(16650),i=t(72283),a=t(35217),u=t(37410),l=t(40444),f=t(38203),c=t(75512),m=t(1217),x=new o({Extends:n,initialize:function(y){n.call(this);var T=y.config,C={alpha:T.transparent,desynchronized:T.desynchronized,depth:!0,antialias:T.antialiasGL,premultipliedAlpha:T.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:T.failIfMajorPerformanceCaveat,powerPreference:T.powerPreference,preserveDrawingBuffer:T.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:T.clearBeforeRender,antialias:T.antialias,backgroundColor:T.backgroundColor,contextCreation:C,roundPixels:T.roundPixels,maxTextures:T.maxTextures,maxTextureSize:T.maxTextureSize,batchSize:T.batchSize,maxLights:T.maxLights,mipmapFilter:T.mipmapFilter},this.game=y,this.type=r.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=y.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=i,this.contextRestoredHandler=i,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(g){var y,T=this.game,C=this.canvas,A=g.backgroundColor;if(T.config.context?y=T.config.context:y=C.getContext("webgl",g.contextCreation)||C.getContext("experimental-webgl",g.contextCreation),!y||y.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=y;var w=this;this.contextLostHandler=function(X){w.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),X.preventDefault()},C.addEventListener("webglcontextlost",this.contextLostHandler,!1),T.context=y;for(var E=0;E<=27;E++)this.blendModes.push({func:[y.ONE,y.ONE_MINUS_SRC_ALPHA],equation:y.FUNC_ADD});this.blendModes[1].func=[y.ONE,y.DST_ALPHA],this.blendModes[2].func=[y.DST_COLOR,y.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[y.ONE,y.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[y.ZERO,y.ONE_MINUS_SRC_ALPHA],equation:y.FUNC_REVERSE_SUBTRACT},this.glFormats=[y.BYTE,y.SHORT,y.UNSIGNED_BYTE,y.UNSIGNED_SHORT,y.FLOAT],this.glFuncMap={mat2:{func:y.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:y.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:y.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:y.uniform1f,length:1},"1fv":{func:y.uniform1fv,length:1},"1i":{func:y.uniform1i,length:1},"1iv":{func:y.uniform1iv,length:1},"2f":{func:y.uniform2f,length:2},"2fv":{func:y.uniform2fv,length:1},"2i":{func:y.uniform2i,length:2},"2iv":{func:y.uniform2iv,length:1},"3f":{func:y.uniform3f,length:3},"3fv":{func:y.uniform3fv,length:1},"3i":{func:y.uniform3i,length:3},"3iv":{func:y.uniform3iv,length:1},"4f":{func:y.uniform4f,length:4},"4fv":{func:y.uniform4fv,length:1},"4i":{func:y.uniform4i,length:4},"4iv":{func:y.uniform4iv,length:1}};var P=y.getSupportedExtensions();(!g.maxTextures||g.maxTextures===-1)&&(g.maxTextures=y.getParameter(y.MAX_TEXTURE_IMAGE_UNITS)),g.maxTextureSize||(g.maxTextureSize=y.getParameter(y.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),this.supportedExtensions=P;var B="ANGLE_instanced_arrays";this.instancedArraysExtension=P.indexOf(B)>-1?y.getExtension(B):null;var R="OES_vertex_array_object";this.vaoExtension=P.indexOf(R)>-1?y.getExtension(R):null,y.disable(y.DEPTH_TEST),y.disable(y.CULL_FACE),y.enable(y.BLEND),y.clearColor(A.redGL,A.greenGL,A.blueGL,A.alphaGL),g.mipmapFilter!==""&&(this.mipmapFilter=y[g.mipmapFilter]),this.maxTextures=c.checkShaderMax(y,g.maxTextures),this.textureIndexes=[];for(var I=0;I<this.maxTextures;I++){var N=y.createTexture();y.activeTexture(y.TEXTURE0+I),y.bindTexture(y.TEXTURE_2D,N),y.texImage2D(y.TEXTURE_2D,0,y.RGBA,1,1,0,y.RGBA,y.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(I)}return this.pipelines=new a(this),this.setBlendMode(r.BlendModes.NORMAL),this.projectionMatrix=new h().identity(),T.textures.once(f.READY,this.boot,this),this},boot:function(){var g=this.game,y=this.pipelines,T=g.scale.baseSize,C=T.width,A=T.height;this.width=C,this.height=A,this.isBooted=!0,this.renderTarget=new u(this,C,A,1,0,!0,!0),this.maskTarget=new u(this,C,A,1,0,!0,!0),this.maskSource=new u(this,C,A,1,0,!0,!0);var w=g.config;y.boot(w.pipeline,w.defaultPipeline,w.autoMobilePipeline),this.blankTexture=g.textures.getFrame("__DEFAULT").glTexture,this.whiteTexture=g.textures.getFrame("__WHITE").glTexture;var E=this.gl;E.bindFramebuffer(E.FRAMEBUFFER,null),E.enable(E.SCISSOR_TEST),g.scale.on(l.RESIZE,this.onResize,this),this.resize(C,A)},captureFrame:function(g,y){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(g,y,T){},stopCapture:function(){},onCapture:function(g){},onResize:function(g,y){(y.width!==this.width||y.height!==this.height)&&this.resize(y.width,y.height)},beginCapture:function(g,y){g===void 0&&(g=this.width),y===void 0&&(y=this.height),this.renderTarget.bind(!0,g,y),this.setProjectionMatrix(g,y)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(g,y){var T=this.gl;return this.width=g,this.height=y,this.setProjectionMatrix(g,y),T.viewport(0,0,g,y),this.drawingBufferHeight=T.drawingBufferHeight,T.scissor(0,T.drawingBufferHeight-y,g,y),this.defaultScissor[2]=g,this.defaultScissor[3]=y,this.emit(e.RESIZE,g,y),this},getCompressedTextures:function(){var g="WEBGL_compressed_texture_",y="WEBKIT_"+g,T=function(A,w){var E=A.getExtension(g+w)||A.getExtension(y+w);if(E){var P={};for(var B in E)P[E[B]]=B;return P}},C=this.gl;return{ETC:T(C,"etc"),ETC1:T(C,"etc1"),ATC:T(C,"atc"),ASTC:T(C,"astc"),BPTC:T(C,"bptc"),RGTC:T(C,"rgtc"),PVRTC:T(C,"pvrtc"),S3TC:T(C,"s3tc"),S3TCSRGB:T(C,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(g,y){var T=this.compression[g.toUpperCase()];if(y in T)return T[y]},supportsCompressedTexture:function(g,y){var T=this.compression[g.toUpperCase()];return T?y?y in T:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(g,y){return(g!==this.projectionWidth||y!==this.projectionHeight)&&(this.projectionWidth=g,this.projectionHeight=y,this.projectionMatrix.ortho(0,g,y,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(g){return this.supportedExtensions?this.supportedExtensions.indexOf(g):!1},getExtension:function(g){return this.hasExtension(g)?(g in this.extensions||(this.extensions[g]=this.gl.getExtension(g)),this.extensions[g]):null},flush:function(){this.pipelines.flush()},pushScissor:function(g,y,T,C,A){A===void 0&&(A=this.drawingBufferHeight);var w=this.scissorStack,E=[g,y,T,C];return w.push(E),this.setScissor(g,y,T,C,A),this.currentScissor=E,E},setScissor:function(g,y,T,C,A){A===void 0&&(A=this.drawingBufferHeight);var w=this.gl,E=this.currentScissor,P=T>0&&C>0;if(E&&P){var B=E[0],R=E[1],I=E[2],N=E[3];P=B!==g||R!==y||I!==T||N!==C}P&&(this.flush(),w.scissor(g,A-y-C,T,C))},resetScissor:function(){var g=this.gl;g.enable(g.SCISSOR_TEST);var y=this.currentScissor;if(y){var T=y[0],C=y[1],A=y[2],w=y[3];A>0&&w>0&&g.scissor(T,this.drawingBufferHeight-C-w,A,w)}},popScissor:function(){var g=this.scissorStack;g.pop();var y=g[g.length-1];y&&this.setScissor(y[0],y[1],y[2],y[3]),this.currentScissor=y},hasActiveStencilMask:function(){var g=this.currentMask.mask,y=this.currentCameraMask.mask;return g&&g.isStencil||y&&y.isStencil},resetViewport:function(){var g=this.gl;g.viewport(0,0,this.width,this.height),this.drawingBufferHeight=g.drawingBufferHeight},setBlendMode:function(g,y){y===void 0&&(y=!1);var T=this.gl,C=this.blendModes[g];return y||g!==r.BlendModes.SKIP_CHECK&&this.currentBlendMode!==g?(this.flush(),T.enable(T.BLEND),T.blendEquation(C.equation),C.func.length>2?T.blendFuncSeparate(C.func[0],C.func[1],C.func[2],C.func[3]):T.blendFunc(C.func[0],C.func[1]),this.currentBlendMode=g,!0):!1},addBlendMode:function(g,y){var T=this.blendModes.push({func:g,equation:y});return T-1},updateBlendMode:function(g,y,T){return this.blendModes[g]&&(this.blendModes[g].func=y,T&&(this.blendModes[g].equation=T)),this},removeBlendMode:function(g){return g>17&&this.blendModes[g]&&this.blendModes.splice(g,1),this},pushFramebuffer:function(g,y,T,C,A){return g===this.currentFramebuffer?this:(this.fboStack.push(g),this.setFramebuffer(g,y,T,C,A))},setFramebuffer:function(g,y,T,C,A){if(y===void 0&&(y=!1),T===void 0&&(T=!0),C===void 0&&(C=null),A===void 0&&(A=!1),g===this.currentFramebuffer)return this;var w=this.gl,E=this.width,P=this.height;return g&&g.renderTexture&&T?(E=g.renderTexture.width,P=g.renderTexture.height):this.flush(),w.bindFramebuffer(w.FRAMEBUFFER,g),T&&w.viewport(0,0,E,P),C&&w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,C,0),A&&(w.clearColor(0,0,0,0),w.clear(w.COLOR_BUFFER_BIT)),y&&(g?(this.drawingBufferHeight=P,this.pushScissor(0,0,E,P)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=g,this},popFramebuffer:function(g,y){g===void 0&&(g=!1),y===void 0&&(y=!0);var T=this.fboStack;T.pop();var C=T[T.length-1];return C||(C=null),this.setFramebuffer(C,g,y),C},restoreFramebuffer:function(g,y){g===void 0&&(g=!1),y===void 0&&(y=!0);var T=this.fboStack,C=T[T.length-1];C||(C=null),this.currentFramebuffer=null,this.setFramebuffer(C,g,y)},setProgram:function(g){return g!==this.currentProgram?(this.flush(),this.gl.useProgram(g),this.currentProgram=g,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(g,y,T,C,A){A===void 0&&(A=!1);var w=this.gl,E=w.NEAREST,P=w.NEAREST,B=w.CLAMP_TO_EDGE,R=null;y=g?g.width:y,T=g?g.height:T;var I=s(y,T);return I&&!A&&(B=w.REPEAT),C===r.ScaleModes.LINEAR&&this.config.antialias&&(E=I&&this.mipmapFilter?this.mipmapFilter:w.LINEAR,P=w.LINEAR),g&&g.compressed&&(E=w.LINEAR,P=w.LINEAR),!g&&typeof y=="number"&&typeof T=="number"?R=this.createTexture2D(0,E,P,B,B,w.RGBA,null,y,T):R=this.createTexture2D(0,E,P,B,B,w.RGBA,g),R},createTexture2D:function(g,y,T,C,A,w,E,P,B,R,I,N){R=R??!0,I===void 0&&(I=!1),N===void 0&&(N=!1);var X=this.gl,Y=X.createTexture();X.activeTexture(X.TEXTURE0);var O=X.getParameter(X.TEXTURE_BINDING_2D);X.bindTexture(X.TEXTURE_2D,Y),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MIN_FILTER,y),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MAG_FILTER,T),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_S,A),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_T,C),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,R),N&&X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,!0);var D=!1;if(E==null)X.texImage2D(X.TEXTURE_2D,g,w,P,B,0,w,X.UNSIGNED_BYTE,null),D=s(P,B);else if(E.compressed){P=E.width,B=E.height,D=E.generateMipmap;for(var F=0;F<E.mipmaps.length;F++)X.compressedTexImage2D(X.TEXTURE_2D,F,E.internalFormat,E.mipmaps[F].width,E.mipmaps[F].height,0,E.mipmaps[F].data)}else I||(P=E.width,B=E.height),X.texImage2D(X.TEXTURE_2D,g,w,w,X.UNSIGNED_BYTE,E),D=s(P,B);return D&&X.generateMipmap(X.TEXTURE_2D),O&&X.bindTexture(X.TEXTURE_2D,O),Y.isAlphaPremultiplied=R,Y.isRenderTexture=!1,Y.width=P,Y.height=B,Y},createFramebuffer:function(g,y,T,C){C===void 0&&(C=!0);var A=this.gl,w=A.createFramebuffer(),E=0;if(this.setFramebuffer(w),T.isRenderTexture=!0,T.isAlphaPremultiplied=!1,A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,T,0),E=A.checkFramebufferStatus(A.FRAMEBUFFER),E!==A.FRAMEBUFFER_COMPLETE){var P={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer status: "+(P[E]||E))}if(w.renderTexture=T,C){var B=A.createRenderbuffer();A.bindRenderbuffer(A.RENDERBUFFER,B),A.renderbufferStorage(A.RENDERBUFFER,A.DEPTH_STENCIL,g,y),A.framebufferRenderbuffer(A.FRAMEBUFFER,A.DEPTH_STENCIL_ATTACHMENT,A.RENDERBUFFER,B)}return this.setFramebuffer(null),w},beginBitmapMask:function(g,y){var T=this.gl;T&&(this.flush(),this.maskTarget.bind(),this.currentCameraMask.mask!==g&&(this.currentMask.mask=g,this.currentMask.camera=y))},drawBitmapMask:function(g,y,T){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),g.renderWebGL(this,g,y),this.maskSource.unbind(!0),this.maskTarget.unbind();var C=this.gl,A=this.getCurrentStencilMask();A?(C.enable(C.STENCIL_TEST),A.mask.applyStencil(this,A.camera,!0)):this.currentMask.mask=null,this.pipelines.set(T),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,this.maskTarget.texture),C.activeTexture(C.TEXTURE1),C.bindTexture(C.TEXTURE_2D,this.maskSource.texture)},createProgram:function(g,y){var T=this.gl,C=T.createProgram(),A=T.createShader(T.VERTEX_SHADER),w=T.createShader(T.FRAGMENT_SHADER);T.shaderSource(A,g),T.shaderSource(w,y),T.compileShader(A),T.compileShader(w);var E=`Shader failed:
`;if(!T.getShaderParameter(A,T.COMPILE_STATUS))throw new Error("Vertex "+E+T.getShaderInfoLog(A));if(!T.getShaderParameter(w,T.COMPILE_STATUS))throw new Error("Fragment "+E+T.getShaderInfoLog(w));if(T.attachShader(C,A),T.attachShader(C,w),T.linkProgram(C),!T.getProgramParameter(C,T.LINK_STATUS))throw new Error("Link "+E+T.getProgramInfoLog(C));return T.useProgram(C),C},createVertexBuffer:function(g,y){var T=this.gl,C=T.createBuffer();return T.bindBuffer(T.ARRAY_BUFFER,C),T.bufferData(T.ARRAY_BUFFER,g,y),T.bindBuffer(T.ARRAY_BUFFER,null),C},createIndexBuffer:function(g,y){var T=this.gl,C=T.createBuffer();return T.bindBuffer(T.ELEMENT_ARRAY_BUFFER,C),T.bufferData(T.ELEMENT_ARRAY_BUFFER,g,y),T.bindBuffer(T.ELEMENT_ARRAY_BUFFER,null),C},deleteTexture:function(g){return g&&this.gl.deleteTexture(g),this},deleteFramebuffer:function(g){if(g){var y=this.gl;y.bindFramebuffer(y.FRAMEBUFFER,g);var T=y.getParameter(y.RENDERBUFFER_BINDING);T&&y.deleteRenderbuffer(T),y.bindFramebuffer(y.FRAMEBUFFER,null),y.deleteFramebuffer(g),d(this.fboStack,g),this.currentFramebuffer===g&&(this.currentFramebuffer=null)}return this},deleteProgram:function(g){return g&&this.gl.deleteProgram(g),this},deleteBuffer:function(g){return this.gl.deleteBuffer(g),this},preRenderCamera:function(g){var y=g.x,T=g.y,C=g.width,A=g.height,w=g.backgroundColor;if(g.emit(v.PRE_RENDER,g),this.pipelines.preBatchCamera(g),this.pushScissor(y,T,C,A),g.mask&&(this.currentCameraMask.mask=g.mask,this.currentCameraMask.camera=g._maskCamera,g.mask.preRenderWebGL(this,g,g._maskCamera)),w.alphaGL>0){var E=this.pipelines.setMulti();E.drawFillRect(y,T,C,A,c.getTintFromFloats(w.blueGL,w.greenGL,w.redGL,1),w.alphaGL)}},getCurrentStencilMask:function(){var g=null,y=this.maskStack,T=this.currentCameraMask;return y.length>0?g=y[y.length-1]:T.mask&&T.mask.isStencil&&(g=T),g},postRenderCamera:function(g){var y=g.flashEffect,T=g.fadeEffect;if(y.isRunning||T.isRunning||T.isComplete){var C=this.pipelines.setMulti();y.postRenderWebGL(C,c.getTintFromFloats),T.postRenderWebGL(C,c.getTintFromFloats)}g.dirty=!1,this.popScissor(),g.mask&&(this.currentCameraMask.mask=null,g.mask.postRenderWebGL(this,g._maskCamera)),this.pipelines.postBatchCamera(g),g.emit(v.POST_RENDER,g)},preRender:function(){if(!this.contextLost){var g=this.gl;if(g.bindFramebuffer(g.FRAMEBUFFER,null),this.config.clearBeforeRender){var y=this.config.backgroundColor;g.clearColor(y.redGL,y.greenGL,y.blueGL,y.alphaGL),g.clear(g.COLOR_BUFFER_BIT|g.DEPTH_BUFFER_BIT|g.STENCIL_BUFFER_BIT)}g.enable(g.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&g.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(e.PRE_RENDER)}},render:function(g,y,T){if(!this.contextLost){var C=y.length;if(this.emit(e.RENDER,g,T),this.preRenderCamera(T),C===0){this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(T);return}this.currentType="";for(var A=this.currentMask,w=0;w<C;w++){this.finalType=w===C-1;var E=y[w],P=E.mask;A=this.currentMask,A.mask&&A.mask!==P&&A.mask.postRenderWebGL(this,A.camera),P&&A.mask!==P&&P.preRenderWebGL(this,E,T),E.blendMode!==this.currentBlendMode&&this.setBlendMode(E.blendMode);var B=E.type;B!==this.currentType&&(this.newType=!0,this.currentType=B),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=y[w+1].type===this.currentType,E.renderWebGL(this,E,T),this.newType=!1}A=this.currentMask,A.mask&&A.mask.postRenderWebGL(this,A.camera),this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(T)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(e.POST_RENDER);var g=this.snapshotState;g.callback&&(m(this.gl,g),g.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var g=this.gl,y=this.getCurrentStencilMask();if(y){var T=y.mask;g.enable(g.STENCIL_TEST),T.invertAlpha?g.stencilFunc(g.NOTEQUAL,T.level,255):g.stencilFunc(g.EQUAL,T.level,255)}},snapshot:function(g,y,T){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,g,y,T)},snapshotArea:function(g,y,T,C,A,w,E){var P=this.snapshotState;return P.callback=A,P.type=w,P.encoder=E,P.getPixel=!1,P.x=g,P.y=y,P.width=T,P.height=C,this},snapshotPixel:function(g,y,T){return this.snapshotArea(g,y,1,1,T),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(g,y,T,C,A,w,E,P,B,R,I){A===void 0&&(A=!1),w===void 0&&(w=0),E===void 0&&(E=0),P===void 0&&(P=y),B===void 0&&(B=T),R==="pixel"&&(A=!0,R="image/png");var N=this.currentFramebuffer;this.snapshotArea(w,E,P,B,C,R,I);var X=this.snapshotState;return X.getPixel=A,X.isFramebuffer=!0,X.bufferWidth=y,X.bufferHeight=T,X.width=Math.min(X.width,y),X.height=Math.min(X.height,T),this.setFramebuffer(g),m(this.gl,X),this.setFramebuffer(N),X.callback=null,X.isFramebuffer=!1,this},canvasToTexture:function(g,y,T,C){return T===void 0&&(T=!1),C===void 0&&(C=!1),y?this.updateCanvasTexture(g,y,C):this.createCanvasTexture(g,T,C)},createCanvasTexture:function(g,y,T){y===void 0&&(y=!1),T===void 0&&(T=!1);var C=this.gl,A=C.NEAREST,w=C.NEAREST,E=g.width,P=g.height,B=C.CLAMP_TO_EDGE,R=s(E,P);return!y&&R&&(B=C.REPEAT),this.config.antialias&&(A=R&&this.mipmapFilter?this.mipmapFilter:C.LINEAR,w=C.LINEAR),this.createTexture2D(0,A,w,B,B,C.RGBA,g,E,P,!0,!1,T)},updateCanvasTexture:function(g,y,T){T===void 0&&(T=!1);var C=this.gl,A=g.width,w=g.height;if(A>0&&w>0){C.activeTexture(C.TEXTURE0);var E=C.getParameter(C.TEXTURE_BINDING_2D);C.bindTexture(C.TEXTURE_2D,y),T&&C.pixelStorei(C.UNPACK_FLIP_Y_WEBGL,!0),C.pixelStorei(C.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),C.texImage2D(C.TEXTURE_2D,0,C.RGBA,C.RGBA,C.UNSIGNED_BYTE,g),y.width=A,y.height=w,E&&C.bindTexture(C.TEXTURE_2D,E)}return y},createVideoTexture:function(g,y,T){y===void 0&&(y=!1),T===void 0&&(T=!1);var C=this.gl,A=C.NEAREST,w=C.NEAREST,E=g.videoWidth,P=g.videoHeight,B=C.CLAMP_TO_EDGE,R=s(E,P);return!y&&R&&(B=C.REPEAT),this.config.antialias&&(A=R&&this.mipmapFilter?this.mipmapFilter:C.LINEAR,w=C.LINEAR),this.createTexture2D(0,A,w,B,B,C.RGBA,g,E,P,!0,!0,T)},updateVideoTexture:function(g,y,T){T===void 0&&(T=!1);var C=this.gl,A=g.videoWidth,w=g.videoHeight;if(A>0&&w>0){C.activeTexture(C.TEXTURE0);var E=C.getParameter(C.TEXTURE_BINDING_2D);C.bindTexture(C.TEXTURE_2D,y),C.pixelStorei(C.UNPACK_FLIP_Y_WEBGL,T),C.texImage2D(C.TEXTURE_2D,0,C.RGBA,C.RGBA,C.UNSIGNED_BYTE,g),y.width=A,y.height=w,E&&C.bindTexture(C.TEXTURE_2D,E)}return y},setTextureFilter:function(g,y){var T=this.gl,C=[T.LINEAR,T.NEAREST][y];T.activeTexture(T.TEXTURE0);var A=T.getParameter(T.TEXTURE_BINDING_2D);return T.bindTexture(T.TEXTURE_2D,g),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,C),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,C),A&&T.bindTexture(T.TEXTURE_2D,A),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});p.exports=x},71305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(72632),o=t(71402),r=new d({initialize:function(e,s,h,i,a){this.pipeline=e,this.name=s,this.renderer=e.renderer,this.gl=this.renderer.gl,this.fragSrc=i,this.vertSrc=h,this.program=this.renderer.createProgram(h,i),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(a),this.createUniforms()},createAttributes:function(n){var e=0,s=0,h=[];this.vertexComponentCount=0;for(var i=0;i<n.length;i++){var a=n[i],u=a.name,l=v(a,"size",1),f=v(a,"type",o.FLOAT),c=f.enum,m=f.size,x=!!a.normalized;h.push({name:u,size:l,type:c,normalized:x,offset:s,enabled:!1,location:-1}),m===4?e+=l:e++,s+=l*m}this.vertexSize=s,this.vertexComponentCount=e,this.attributes=h},bind:function(n,e){return n===void 0&&(n=!1),e===void 0&&(e=!1),e&&this.pipeline.flush(),this.renderer.setProgram(this.program),n&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(n){n===void 0&&(n=!1);for(var e=this.gl,s=this.vertexSize,h=this.attributes,i=this.program,a=0;a<h.length;a++){var u=h[a],l=u.size,f=u.type,c=u.offset,m=u.enabled,x=u.location,g=!!u.normalized;if(n){var y=e.getAttribLocation(i,u.name);y>=0?(e.enableVertexAttribArray(y),e.vertexAttribPointer(y,l,f,g,s,c),u.enabled=!0,u.location=y):y!==-1&&e.disableVertexAttribArray(y)}else m?e.vertexAttribPointer(x,l,f,g,s,c):!m&&x>-1&&(e.disableVertexAttribArray(x),u.location=-1)}return this},createUniforms:function(){var n=this.gl,e=this.program,s=this.uniforms,h,i,a,u=n.getProgramParameter(e,n.ACTIVE_UNIFORMS);for(h=0;h<u;h++){var l=n.getActiveUniform(e,h);if(l){i=l.name,a=n.getUniformLocation(e,i),a!==null&&(s[i]={name:i,location:a,value1:null,value2:null,value3:null,value4:null});var f=i.indexOf("[");f>0&&(i=i.substr(0,f),s.hasOwnProperty(i)||(a=n.getUniformLocation(e,i),a!==null&&(s[i]={name:i,location:a,value1:null,value2:null,value3:null,value4:null})))}}return this},hasUniform:function(n){return this.uniforms.hasOwnProperty(n)},resetUniform:function(n){var e=this.uniforms[n];return e&&(e.value1=null,e.value2=null,e.value3=null,e.value4=null),this},setUniform1:function(n,e,s,h){var i=this.uniforms[e];return i?((h||i.value1!==s)&&(i.value1=s,this.renderer.setProgram(this.program),n.call(this.gl,i.location,s),this.pipeline.currentShader=this),this):this},setUniform2:function(n,e,s,h,i){var a=this.uniforms[e];return a?((i||a.value1!==s||a.value2!==h)&&(a.value1=s,a.value2=h,this.renderer.setProgram(this.program),n.call(this.gl,a.location,s,h),this.pipeline.currentShader=this),this):this},setUniform3:function(n,e,s,h,i,a){var u=this.uniforms[e];return u?((a||u.value1!==s||u.value2!==h||u.value3!==i)&&(u.value1=s,u.value2=h,u.value3=i,this.renderer.setProgram(this.program),n.call(this.gl,u.location,s,h,i),this.pipeline.currentShader=this),this):this},setUniform4:function(n,e,s,h,i,a,u){var l=this.uniforms[e];return l?((u||l.value1!==s||l.value2!==h||l.value3!==i||l.value4!==a)&&(l.value1=s,l.value2=h,l.value3=i,l.value4=a,this.renderer.setProgram(this.program),n.call(this.gl,l.location,s,h,i,a),this.pipeline.currentShader=this),this):this},setBoolean:function(n,e){return this.setUniform1(this.gl.uniform1i,n,Number(e))},set1f:function(n,e){return this.setUniform1(this.gl.uniform1f,n,e)},set2f:function(n,e,s){return this.setUniform2(this.gl.uniform2f,n,e,s)},set3f:function(n,e,s,h){return this.setUniform3(this.gl.uniform3f,n,e,s,h)},set4f:function(n,e,s,h,i){return this.setUniform4(this.gl.uniform4f,n,e,s,h,i)},set1fv:function(n,e){return this.setUniform1(this.gl.uniform1fv,n,e,!0)},set2fv:function(n,e){return this.setUniform1(this.gl.uniform2fv,n,e,!0)},set3fv:function(n,e){return this.setUniform1(this.gl.uniform3fv,n,e,!0)},set4fv:function(n,e){return this.setUniform1(this.gl.uniform4fv,n,e,!0)},set1iv:function(n,e){return this.setUniform1(this.gl.uniform1iv,n,e,!0)},set2iv:function(n,e){return this.setUniform1(this.gl.uniform2iv,n,e,!0)},set3iv:function(n,e){return this.setUniform1(this.gl.uniform3iv,n,e,!0)},set4iv:function(n,e){return this.setUniform1(this.gl.uniform4iv,n,e,!0)},set1i:function(n,e){return this.setUniform1(this.gl.uniform1i,n,e)},set2i:function(n,e,s){return this.setUniform2(this.gl.uniform2i,n,e,s)},set3i:function(n,e,s,h){return this.setUniform3(this.gl.uniform3i,n,e,s,h)},set4i:function(n,e,s,h,i){return this.setUniform4(this.gl.uniform4i,n,e,s,h,i)},setMatrix2fv:function(n,e,s){return this.setUniform2(this.gl.uniformMatrix2fv,n,e,s,!0)},setMatrix3fv:function(n,e,s){return this.setUniform2(this.gl.uniformMatrix3fv,n,e,s,!0)},setMatrix4fv:function(n,e,s){return this.setUniform2(this.gl.uniformMatrix4fv,n,e,s,!0)},createProgram:function(n,e){n===void 0&&(n=this.vertSrc),e===void 0&&(e=this.fragSrc);var s=this.gl;return this.program&&s.deleteProgram(this.program),this.vertSrc=n,this.fragSrc=e,this.program=this.renderer.createProgram(n,e),this.createUniforms(),this.rebind()},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});p.exports=r},71402:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};p.exports=S},55478:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(71402),v=t(98611),o={PipelineManager:t(35217),Pipelines:t(62253),RenderTarget:t(37410),Utils:t(75512),WebGLPipeline:t(44775),WebGLRenderer:t(11857),WebGLShader:t(71305)};o=v(!1,o,d),p.exports=o},5583:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(72632),o=t(91679),r=t(89053),n=t(71402),e=t(44775),s=new d({Extends:e,initialize:function(i){i.fragShader=v(i,"fragShader",o),i.vertShader=v(i,"vertShader",r),i.batchSize=v(i,"batchSize",1),i.vertices=v(i,"vertices",[-1,1,-1,-7,7,1]),i.attributes=v(i,"attributes",[{name:"inPosition",size:2,type:n.FLOAT}]),e.call(this,i)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(h,i){e.prototype.resize.call(this,h,i),this.set2f("uResolution",h,i)},beginMask:function(h,i,a){this.renderer.beginBitmapMask(h,a)},endMask:function(h,i,a){var u=this.gl,l=this.renderer,f=h.bitmapMask;f&&u&&(l.drawBitmapMask(f,i,this),a&&this.set2f("uResolution",a.width,a.height),this.set1i("uInvertMaskAlpha",h.invertAlpha),u.drawArrays(this.topology,0,3),a&&this.set2f("uResolution",this.width,this.height),u.bindTexture(u.TEXTURE_2D,null))}});p.exports=s},81828:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(58136),o=t(47406),r=t(72632),n=t(87228),e=t(92462),s=t(75512),h=new d({Extends:n,initialize:function(a){a.shaders=[s.setGlowQuality(e.FXGlowFrag,a.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],n.call(this,a);var u=this.game;this.glow=new v.Glow(u),this.shadow=new v.Shadow(u),this.pixelate=new v.Pixelate(u),this.vignette=new v.Vignette(u),this.shine=new v.Shine(u),this.gradient=new v.Gradient(u),this.circle=new v.Circle(u),this.barrel=new v.Barrel(u),this.wipe=new v.Wipe(u),this.bokeh=new v.Bokeh(u);var l=[];l[o.GLOW]=this.onGlow,l[o.SHADOW]=this.onShadow,l[o.PIXELATE]=this.onPixelate,l[o.VIGNETTE]=this.onVignette,l[o.SHINE]=this.onShine,l[o.BLUR]=this.onBlur,l[o.GRADIENT]=this.onGradient,l[o.BLOOM]=this.onBloom,l[o.COLOR_MATRIX]=this.onColorMatrix,l[o.CIRCLE]=this.onCircle,l[o.BARREL]=this.onBarrel,l[o.DISPLACEMENT]=this.onDisplacement,l[o.WIPE]=this.onWipe,l[o.BOKEH]=this.onBokeh,this.fxHandlers=l,this.source,this.target,this.swap},onDraw:function(i,a,u){this.source=i,this.target=a,this.swap=u;var l=i.width,f=i.height,c=this.tempSprite,m=this.fxHandlers;if(c&&c.preFX)for(var x=c.preFX.list,g=0;g<x.length;g++){var y=x[g];y.active&&m[y.type].call(this,y,l,f)}this.drawToGame(this.source)},runDraw:function(){var i=this.source,a=this.target;this.copy(i,a),this.source=a,this.target=i},onGlow:function(i,a,u){var l=this.shaders[o.GLOW];this.setShader(l),this.glow.onPreRender(i,l,a,u),this.runDraw()},onShadow:function(i){var a=this.shaders[o.SHADOW];this.setShader(a),this.shadow.onPreRender(i,a),this.runDraw()},onPixelate:function(i,a,u){var l=this.shaders[o.PIXELATE];this.setShader(l),this.pixelate.onPreRender(i,l,a,u),this.runDraw()},onVignette:function(i){var a=this.shaders[o.VIGNETTE];this.setShader(a),this.vignette.onPreRender(i,a),this.runDraw()},onShine:function(i,a,u){var l=this.shaders[o.SHINE];this.setShader(l),this.shine.onPreRender(i,l,a,u),this.runDraw()},onBlur:function(i,a,u){var l=r(i,"quality"),f=this.shaders[o.BLUR+l];this.setShader(f),this.set1i("uMainSampler",0),this.set2f("resolution",a,u),this.set1f("strength",r(i,"strength")),this.set3fv("color",r(i,"glcolor"));for(var c=r(i,"x"),m=r(i,"y"),x=r(i,"steps"),g=0;g<x;g++)this.set2f("offset",c,0),this.runDraw(),this.set2f("offset",0,m),this.runDraw()},onGradient:function(i){var a=this.shaders[o.GRADIENT];this.setShader(a),this.gradient.onPreRender(i,a),this.runDraw()},onBloom:function(i,a,u){var l=this.shaders[o.BLOOM];this.copySprite(this.source,this.swap),this.setShader(l),this.set1i("uMainSampler",0),this.set1f("strength",r(i,"blurStrength")),this.set3fv("color",r(i,"glcolor"));for(var f=2/a*r(i,"offsetX"),c=2/u*r(i,"offsetY"),m=r(i,"steps"),x=0;x<m;x++)this.set2f("offset",f,0),this.runDraw(),this.set2f("offset",0,c),this.runDraw();this.blendFrames(this.swap,this.source,this.target,r(i,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(i){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",i.getData()),this.set1f("uAlpha",i.alpha),this.runDraw()},onCircle:function(i,a,u){var l=this.shaders[o.CIRCLE];this.setShader(l),this.circle.onPreRender(i,l,a,u),this.runDraw()},onBarrel:function(i){var a=this.shaders[o.BARREL];this.setShader(a),this.barrel.onPreRender(i,a),this.runDraw()},onDisplacement:function(i){this.setShader(this.shaders[o.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",i.x,i.y),this.bindTexture(i.glTexture,1),this.runDraw()},onWipe:function(i){var a=this.shaders[o.WIPE];this.setShader(a),this.wipe.onPreRender(i,a),this.runDraw()},onBokeh:function(i,a,u){var l=this.shaders[o.BOKEH];this.setShader(l),this.bokeh.onPreRender(i,l,a,u),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,n.prototype.destroy.call(this),this}});p.exports=h},66901:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(72632),o=t(65045),r=t(77310),n=t(69360),e=t(93736),s=t(44775),h=new d({Extends:r,initialize:function(a){var u=v(a,"fragShader",o);a.fragShader=u.replace("%LIGHT_COUNT%",a.game.renderer.config.maxLights),r.call(this,a),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new n,this._tempMatrix2=new n},boot:function(){s.prototype.boot.call(this);var i=this.gl,a=i.createTexture();i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,a),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:a}},onRender:function(i,a){var u=i.sys.lights;if(this.lightsActive=!1,!(!u||!u.active)){var l=u.getLights(a),f=l.length;this.lightsActive=!0;var c,m=this.renderer,x=m.height,g=a.matrix,y=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",a.x,a.y,a.rotation,a.zoom),this.set3f("uAmbientLightColor",u.ambientColor.r,u.ambientColor.g,u.ambientColor.b),this.set1i("uLightCount",f),c=0;c<f;c++){var T=l[c].light,C=T.color,A="uLights["+c+"].";g.transformPoint(T.x,T.y,y),this.set2f(A+"position",y.x-a.scrollX*T.scrollFactorX*a.zoom,x-(y.y-a.scrollY*T.scrollFactorY*a.zoom)),this.set3f(A+"color",C.r,C.g,C.b),this.set1f(A+"intensity",T.intensity),this.set1f(A+"radius",T.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(i){if(i!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var a=this.inverseRotationMatrix;if(i){var u=-i,l=Math.cos(u),f=Math.sin(u);a[1]=f,a[3]=-f,a[0]=a[4]=l}else a[0]=a[4]=1,a[1]=a[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,a),this.currentNormalMapRotation=i}},setTexture2D:function(i,a){var u=this.renderer;i===void 0&&(i=u.whiteTexture);var l=this.getNormalMap(a);this.isNewNormalMap(i,l)&&(this.flush(),this.createBatch(i),this.addTextureToBatch(l),this.currentNormalMap=l);var f=0;if(a&&a.parentContainer){var c=a.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);f=c.rotationNormalized}else a&&(f=a.rotation);return this.setNormalMapRotation(f),0},setGameObject:function(i,a){a===void 0&&(a=i.frame);var u=a.glTexture,l=this.getNormalMap(i);if(this.isNewNormalMap(u,l)&&(this.flush(),this.createBatch(u),this.addTextureToBatch(l),this.currentNormalMap=l),i.parentContainer){var f=i.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(f.rotationNormalized)}else this.setNormalMapRotation(i.rotation);return 0},isNewNormalMap:function(i,a){return this.currentTexture!==i||this.currentNormalMap!==a},getNormalMap:function(i){var a;return i?i.displayTexture?a=i.displayTexture.dataSource[i.displayFrame.sourceIndex]:i.texture?a=i.texture.dataSource[i.frame.sourceIndex]:i.tileset&&(Array.isArray(i.tileset)?a=i.tileset[0].image.dataSource[0]:a=i.tileset.image.dataSource[0]):a=this.defaultNormalMap,a||(a=this.defaultNormalMap),a.glTexture},batchSprite:function(i,a,u){this.lightsActive&&r.prototype.batchSprite.call(this,i,a,u)},batchTexture:function(i,a,u,l,f,c,m,x,g,y,T,C,A,w,E,P,B,R,I,N,X,Y,O,D,F,M,L,G,U,W,H,J){this.lightsActive&&r.prototype.batchTexture.call(this,i,a,u,l,f,c,m,x,g,y,T,C,A,w,E,P,B,R,I,N,X,Y,O,D,F,M,L,G,U,W,H,J)},batchTextureFrame:function(i,a,u,l,f,c,m){this.lightsActive&&r.prototype.batchTextureFrame.call(this,i,a,u,l,f,c,m)}});p.exports=h},71264:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(72632),o=t(77310),r=t(85060),n=t(18166),e=t(71402),s=t(44775),h=new d({Extends:o,initialize:function(a){a.fragShader=v(a,"fragShader",r),a.vertShader=v(a,"vertShader",n),a.attributes=v(a,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),a.forceZero=!0,o.call(this,a)},boot:function(){s.prototype.boot.call(this),this.set1i("uMainSampler",0)}});p.exports=h},77310:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(11117),o=t(72632),r=t(53787),n=t(15968),e=t(69360),s=t(75512),h=t(71402),i=t(44775),a=new d({Extends:i,initialize:function(l){var f=l.game.renderer,c=o(l,"fragShader",r);l.fragShader=s.parseFragmentShaderMaxTextures(c,f.maxTextures),l.vertShader=o(l,"vertShader",n),l.attributes=o(l,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:h.UNSIGNED_BYTE,normalized:!0}]),i.call(this,l),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){i.prototype.boot.call(this),this.currentShader.set1iv("uMainSampler",this.renderer.textureIndexes)},batchSprite:function(u,l,f){this.manager.set(this,u);var c=this._tempMatrix1,m=this._tempMatrix2,x=this._tempMatrix3,g=u.frame,y=g.glTexture,T=g.u0,C=g.v0,A=g.u1,w=g.v1,E=g.x,P=g.y,B=g.cutWidth,R=g.cutHeight,I=g.customPivot,N=u.displayOriginX,X=u.displayOriginY,Y=-N+E,O=-X+P;if(u.isCropped){var D=u._crop;(D.flipX!==u.flipX||D.flipY!==u.flipY)&&g.updateCropUVs(D,u.flipX,u.flipY),T=D.u0,C=D.v0,A=D.u1,w=D.v1,B=D.width,R=D.height,E=D.x,P=D.y,Y=-N+E,O=-X+P}var F=1,M=1;u.flipX&&(I||(Y+=-g.realWidth+N*2),F=-1),(u.flipY||g.source.isGLTexture&&!y.flipY)&&(I||(O+=-g.realHeight+X*2),M=-1);var L=u.x,G=u.y;m.applyITRS(L,G,u.rotation,u.scaleX*F,u.scaleY*M),c.copyFrom(l.matrix),f?(c.multiplyWithOffset(f,-l.scrollX*u.scrollFactorX,-l.scrollY*u.scrollFactorY),m.e=L,m.f=G):(m.e-=l.scrollX*u.scrollFactorX,m.f-=l.scrollY*u.scrollFactorY),c.multiply(m,x);var U=x.setQuad(Y,O,Y+B,O+R,l.roundPixels),W=s.getTintAppendFloatAlpha,H=l.alpha,J=W(u.tintTopLeft,H*u._alphaTL),Q=W(u.tintTopRight,H*u._alphaTR),$=W(u.tintBottomLeft,H*u._alphaBL),k=W(u.tintBottomRight,H*u._alphaBR);this.shouldFlush(6)&&this.flush();var _=this.setGameObject(u,g);this.manager.preBatch(u),this.batchQuad(u,U[0],U[1],U[2],U[3],U[4],U[5],U[6],U[7],T,C,A,w,J,Q,$,k,u.tintFill,y,_),this.manager.postBatch(u)},batchTexture:function(u,l,f,c,m,x,g,y,T,C,A,w,E,P,B,R,I,N,X,Y,O,D,F,M,L,G,U,W,H,J,Q,$){this.manager.set(this,u);var k=this._tempMatrix1,_=this._tempMatrix2,q=this._tempMatrix3,et=N/f+U,ot=X/c+W,lt=(N+Y)/f+U,ht=(X+O)/c+W,tt=g,at=y,rt=-R,dt=-I;if(u.isCropped){var ut=u._crop,mt=ut.width,pt=ut.height;tt=mt,at=pt,g=mt,y=pt,N=ut.x,X=ut.y;var ct=N,ft=X;w&&(ct=Y-ut.x-mt),E&&(ft=O-ut.y-pt),et=ct/f+U,ot=ft/c+W,lt=(ct+mt)/f+U,ht=(ft+pt)/c+W,rt=-R+N,dt=-I+X}E=E^(!Q&&l.isRenderTexture?1:0),w&&(tt*=-1,rt+=g),E&&(at*=-1,dt+=y),_.applyITRS(m,x,A,T,C),k.copyFrom(H.matrix),J?(k.multiplyWithOffset(J,-H.scrollX*P,-H.scrollY*B),_.e=m,_.f=x):(_.e-=H.scrollX*P,_.f-=H.scrollY*B),k.multiply(_,q);var gt=q.setQuad(rt,dt,rt+tt,dt+at,H.roundPixels);$===void 0&&($=this.setTexture2D(l)),u&&this.manager.preBatch(u),this.batchQuad(u,gt[0],gt[1],gt[2],gt[3],gt[4],gt[5],gt[6],gt[7],et,ot,lt,ht,D,F,M,L,G,l,$),u&&this.manager.postBatch(u)},batchTextureFrame:function(u,l,f,c,m,x,g){this.manager.set(this);var y=this._tempMatrix1.copyFrom(x),T=this._tempMatrix2;g?y.multiply(g,T):T=y;var C=T.setQuad(l,f,l+u.width,f+u.height,!1),A=this.setTexture2D(u.source.glTexture);c=s.getTintAppendFloatAlpha(c,m),this.batchQuad(null,C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],u.u0,u.v0,u.u1,u.v1,c,c,c,c,0,u.glTexture,A)},batchFillRect:function(u,l,f,c,m,x){this.renderer.pipelines.set(this);var g=this.calcMatrix;x&&x.multiply(m,g);var y=g.setQuad(u,l,u+f,l+c,!1),T=this.fillTint;this.batchQuad(null,y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],0,0,1,1,T.TL,T.TR,T.BL,T.BR,2)},batchFillTriangle:function(u,l,f,c,m,x,g,y){this.renderer.pipelines.set(this);var T=this.calcMatrix;y&&y.multiply(g,T);var C=T.getX(u,l),A=T.getY(u,l),w=T.getX(f,c),E=T.getY(f,c),P=T.getX(m,x),B=T.getY(m,x),R=this.fillTint;this.batchTri(null,C,A,w,E,P,B,0,0,1,1,R.TL,R.TR,R.BL,2)},batchStrokeTriangle:function(u,l,f,c,m,x,g,y,T){var C=this.tempTriangle;C[0].x=u,C[0].y=l,C[0].width=g,C[1].x=f,C[1].y=c,C[1].width=g,C[2].x=m,C[2].y=x,C[2].width=g,C[3].x=u,C[3].y=l,C[3].width=g,this.batchStrokePath(C,g,!1,y,T)},batchFillPath:function(u,l,f){this.renderer.pipelines.set(this);var c=this.calcMatrix;f&&f.multiply(l,c);for(var m=u.length,x=this.polygonCache,g,y,T=this.fillTint.TL,C=this.fillTint.TR,A=this.fillTint.BL,w=0;w<m;++w)y=u[w],x.push(y.x,y.y);g=v(x),m=g.length;for(var E=0;E<m;E+=3){var P=g[E+0]*2,B=g[E+1]*2,R=g[E+2]*2,I=x[P+0],N=x[P+1],X=x[B+0],Y=x[B+1],O=x[R+0],D=x[R+1],F=c.getX(I,N),M=c.getY(I,N),L=c.getX(X,Y),G=c.getY(X,Y),U=c.getX(O,D),W=c.getY(O,D);this.batchTri(null,F,M,L,G,U,W,0,0,1,1,T,C,A,2)}x.length=0},batchStrokePath:function(u,l,f,c,m){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var x=u.length-1,g=0;g<x;g++){var y=u[g],T=u[g+1];this.batchLine(y.x,y.y,T.x,T.y,y.width/2,T.width/2,l,g,!f&&g===x-1,c,m)}},batchLine:function(u,l,f,c,m,x,g,y,T,C,A){this.renderer.pipelines.set(this);var w=this.calcMatrix;A&&A.multiply(C,w);var E=f-u,P=c-l,B=Math.sqrt(E*E+P*P);if(B!==0){var R=m*(c-l)/B,I=m*(u-f)/B,N=x*(c-l)/B,X=x*(u-f)/B,Y=f-N,O=c-X,D=u-R,F=l-I,M=f+N,L=c+X,G=u+R,U=l+I,W=w.getX(Y,O),H=w.getY(Y,O),J=w.getX(D,F),Q=w.getY(D,F),$=w.getX(M,L),k=w.getY(M,L),_=w.getX(G,U),q=w.getY(G,U),et=this.strokeTint,ot=et.TL,lt=et.TR,ht=et.BL,tt=et.BR;if(this.batchQuad(null,_,q,J,Q,W,H,$,k,0,0,1,1,ot,lt,ht,tt,2),!(g<=2)){var at=this.prevQuad,rt=this.firstQuad;y>0&&at[4]?this.batchQuad(null,_,q,J,Q,at[0],at[1],at[2],at[3],0,0,1,1,ot,lt,ht,tt,2):(rt[0]=_,rt[1]=q,rt[2]=J,rt[3]=Q,rt[4]=1),T&&rt[4]?this.batchQuad(null,W,H,$,k,rt[0],rt[1],rt[2],rt[3],0,0,1,1,ot,lt,ht,tt,2):(at[0]=W,at[1]=H,at[2]=$,at[3]=k,at[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,i.prototype.destroy.call(this),this}});p.exports=a},10919:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(72632),o=t(83327),r=t(54677),n=t(44775),e=new d({Extends:n,initialize:function(h){h.vertShader=v(h,"vertShader",r),h.fragShader=v(h,"fragShader",o),h.attributes=v(h,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),n.call(this,h)},onRender:function(s,h){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",h.zoom)},batchPointLight:function(s,h,i,a,u,l,f,c,m,x,g,y){var T=s.color,C=s.intensity,A=s.radius,w=s.attenuation,E=T.r*C,P=T.g*C,B=T.b*C,R=h.alpha*s.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(i,a,g,y,A,w,E,P,B,R),this.batchLightVert(u,l,g,y,A,w,E,P,B,R),this.batchLightVert(f,c,g,y,A,w,E,P,B,R),this.batchLightVert(i,a,g,y,A,w,E,P,B,R),this.batchLightVert(f,c,g,y,A,w,E,P,B,R),this.batchLightVert(m,x,g,y,A,w,E,P,B,R),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(s,h,i,a,u,l,f,c,m,x){var g=this.vertexViewF32,y=this.vertexCount*this.currentShader.vertexComponentCount-1;g[++y]=s,g[++y]=h,g[++y]=i,g[++y]=a,g[++y]=u,g[++y]=l,g[++y]=f,g[++y]=c,g[++y]=m,g[++y]=x,this.vertexCount++}});p.exports=e},80486:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(65246),o=t(72632),r=t(12569),n=t(99365),e=t(44775),s=new d({Extends:e,initialize:function(i){i.renderTarget=o(i,"renderTarget",1),i.fragShader=o(i,"fragShader",r),i.vertShader=o(i,"vertShader",n),i.attributes=o(i,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),i.batchSize=1,i.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,i),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new v,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){e.prototype.boot.call(this);var h=this.manager.UTILITY_PIPELINE;this.fullFrame1=h.fullFrame1,this.fullFrame2=h.fullFrame2,this.halfFrame1=h.halfFrame1,this.halfFrame2=h.halfFrame2,this.set1i("uMainSampler",0)},onDraw:function(h){this.bindAndDraw(h)},getController:function(h){return h!==void 0?h:this.controller?this.controller:this},copySprite:function(h,i,a){a===void 0&&(a=!1);var u=this.gl;u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,h.texture);var l=u.getParameter(u.FRAMEBUFFER_BINDING);u.bindFramebuffer(u.FRAMEBUFFER,i.framebuffer),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,i.texture,0),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),u.bufferData(u.ARRAY_BUFFER,this.vertexData,u.STATIC_DRAW),u.drawArrays(u.TRIANGLES,0,6),a&&(u.bindTexture(u.TEXTURE_2D,null),u.bindFramebuffer(u.FRAMEBUFFER,l))},copyFrame:function(h,i,a,u,l){this.manager.copyFrame(h,i,a,u,l)},copyToGame:function(h){this.manager.copyToGame(h)},drawFrame:function(h,i,a){this.manager.drawFrame(h,i,a,this.colorMatrix)},blendFrames:function(h,i,a,u,l){this.manager.blendFrames(h,i,a,u,l)},blendFramesAdditive:function(h,i,a,u,l){this.manager.blendFramesAdditive(h,i,a,u,l)},clearFrame:function(h,i){this.manager.clearFrame(h,i)},blitFrame:function(h,i,a,u,l,f){this.manager.blitFrame(h,i,a,u,l,f)},copyFrameRect:function(h,i,a,u,l,f,c,m){this.manager.copyFrameRect(h,i,a,u,l,f,c,m)},bindAndDraw:function(h,i,a,u,l){a===void 0&&(a=!0),u===void 0&&(u=!0);var f=this.gl,c=this.renderer;this.bind(l),this.set1i("uMainSampler",0),i?(f.viewport(0,0,i.width,i.height),f.bindFramebuffer(f.FRAMEBUFFER,i.framebuffer),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,i.texture,0),a&&(u?f.clearColor(0,0,0,0):f.clearColor(0,0,0,1),f.clear(f.COLOR_BUFFER_BIT))):(c.popFramebuffer(!1,!1),c.currentFramebuffer||f.viewport(0,0,c.width,c.height)),c.restoreStencilMask(),f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,h.texture),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),i&&(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,c.currentFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,e.prototype.destroy.call(this),this}});p.exports=s},87228:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(95723),v=t(79993),o=t(56694),r=t(37486),n=t(72632),e=t(77310),s=t(12569),h=t(74118),i=t(37410),a=t(85060),u=t(18166),l=t(44775),f=new o({Extends:e,initialize:function(m){var x=n(m,"fragShader",s),g=n(m,"vertShader",u),y=n(m,"drawShader",s),T=[{name:"DrawSprite",fragShader:a,vertShader:u},{name:"CopySprite",fragShader:x,vertShader:g},{name:"DrawGame",fragShader:y,vertShader:u},{name:"ColorMatrix",fragShader:r}],C=n(m,"shaders",[]);m.shaders=T.concat(C),m.vertShader||(m.vertShader=g),m.batchSize=1,e.call(this,m),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new h,this.targetBounds=new h,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){l.prototype.boot.call(this);var c=this.shaders,m=this.renderer;this.drawSpriteShader=c[0],this.copyShader=c[1],this.gameShader=c[2],this.colorMatrixShader=c[3],this.fsTarget=new i(m,m.width,m.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var x=new ArrayBuffer(168);this.quadVertexData=x,this.quadVertexViewF32=new Float32Array(x),this.quadVertexBuffer=m.createVertexBuffer(x,this.gl.STATIC_DRAW),this.onResize(m.width,m.height),this.currentShader=this.copyShader},onResize:function(c,m){var x=this.quadVertexViewF32;x[1]=m,x[22]=m,x[14]=c,x[28]=c,x[35]=c,x[36]=m},batchQuad:function(c,m,x,g,y,T,C,A,w,E,P,B,R,I,N,X,Y,O,D){var F=Math.min(m,g,T,A),M=Math.min(x,y,C,w),L=Math.max(m,g,T,A),G=Math.max(x,y,C,w),U=L-F,W=G-M,H=this.spriteBounds.setTo(F,M,U,W),J=c?c.preFX.padding:0,Q=U+J*2,$=W+J*2,k=Math.abs(Math.max(Q,$)),_=this.manager.getRenderTarget(k),q=this.targetBounds.setTo(0,0,_.width,_.height);v(q,H.centerX,H.centerY),this.tempSprite=c;var et=this.gl,ot=this.renderer;ot.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.flipProjectionMatrix(!0),c&&(this.onDrawSprite(c,_),c.preFX.onFX(this));var lt=this.fsTarget;return this.flush(),et.viewport(0,0,ot.width,ot.height),et.bindFramebuffer(et.FRAMEBUFFER,lt.framebuffer),et.framebufferTexture2D(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.TEXTURE_2D,lt.texture,0),et.clearColor(0,0,0,0),et.clear(et.COLOR_BUFFER_BIT),this.setTexture2D(D),this.batchVert(m,x,E,P,0,O,I),this.batchVert(g,y,E,R,0,O,X),this.batchVert(T,C,B,R,0,O,Y),this.batchVert(m,x,E,P,0,O,I),this.batchVert(T,C,B,R,0,O,Y),this.batchVert(A,w,B,P,0,O,N),this.flush(),this.flipProjectionMatrix(!1),et.activeTexture(et.TEXTURE0),et.bindTexture(et.TEXTURE_2D,_.texture),et.copyTexSubImage2D(et.TEXTURE_2D,0,0,0,q.x,q.y,q.width,q.height),et.bindFramebuffer(et.FRAMEBUFFER,null),et.bindTexture(et.TEXTURE_2D,null),this.onBatch(c),this.currentShader=this.copyShader,this.onDraw(_,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(c,m,x,g,y,T,C){x===void 0&&(x=!0),g===void 0&&(g=!0),y===void 0&&(y=!1),C===void 0&&(C=this.copyShader);var A=this.gl,w=this.tempSprite;T&&(C=this.colorMatrixShader),this.currentShader=C;var E=this.setVertexBuffer(this.quadVertexBuffer);if(C.bind(E,!1),this.set1i("uMainSampler",0),w.preFX.onFXCopy(this),this.onCopySprite(c,m,w),T&&(this.set1fv("uColorMatrix",T.getData()),this.set1f("uAlpha",T.alpha)),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,c.texture),c.height>m.height)A.viewport(0,0,c.width,c.height),this.setTargetUVs(c,m);else{var P=m.height-c.height;A.viewport(0,P,c.width,c.height),this.resetUVs()}if(A.bindFramebuffer(A.FRAMEBUFFER,m.framebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,m.texture,0),x&&(A.clearColor(0,0,0,+!g),A.clear(A.COLOR_BUFFER_BIT)),y){var B=this.renderer.currentBlendMode;this.renderer.setBlendMode(d.ERASE)}A.bufferData(A.ARRAY_BUFFER,this.quadVertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),y&&this.renderer.setBlendMode(B),A.bindFramebuffer(A.FRAMEBUFFER,null)},copy:function(c,m){var x=this.gl;this.set1i("uMainSampler",0),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,c.texture),x.viewport(0,0,c.width,c.height),this.setUVs(0,0,0,1,1,1,1,0),x.bindFramebuffer(x.FRAMEBUFFER,m.framebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,m.texture,0),x.clearColor(0,0,0,0),x.clear(x.COLOR_BUFFER_BIT),x.bufferData(x.ARRAY_BUFFER,this.quadVertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),x.bindFramebuffer(x.FRAMEBUFFER,null)},blendFrames:function(c,m,x,g,y){this.manager.blendFrames(c,m,x,g,y)},blendFramesAdditive:function(c,m,x,g,y){this.manager.blendFramesAdditive(c,m,x,g,y)},drawToGame:function(c){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(c)},copyToGame:function(c){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(c)},bindAndDraw:function(c){var m=this.gl,x=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(c.texture);var g=this._tempMatrix1.loadIdentity(),y=this.targetBounds.x,T=this.targetBounds.y,C=y+c.width,A=T+c.height,w=g.getX(y,T),E=g.getX(y,A),P=g.getX(C,A),B=g.getX(C,T),R=g.getY(y,T),I=g.getY(y,A),N=g.getY(C,A),X=g.getY(C,T),Y=16777215;this.batchVert(w,R,0,0,0,0,Y),this.batchVert(E,I,0,1,0,0,Y),this.batchVert(P,N,1,1,0,0,Y),this.batchVert(w,R,0,0,0,0,Y),this.batchVert(P,N,1,1,0,0,Y),this.batchVert(B,X,1,0,0,0,Y),x.restoreFramebuffer(!1,!0),x.currentFramebuffer||m.viewport(0,0,x.width,x.height),x.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(c){this.drawToGame(c)},setUVs:function(c,m,x,g,y,T,C,A){var w=this.quadVertexViewF32;w[2]=c,w[3]=m,w[9]=x,w[10]=g,w[16]=y,w[17]=T,w[23]=c,w[24]=m,w[30]=y,w[31]=T,w[37]=C,w[38]=A},setTargetUVs:function(c,m){var x=m.height/c.height;x>.5?x=.5-(x-.5):x=.5+(.5-x),this.setUVs(0,x,0,1+x,1,1+x,1,x)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.gl.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});p.exports=f},21213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(72632),o=t(77310),r=new d({Extends:o,initialize:function(e){e.topology=5,e.batchSize=v(e,"batchSize",256),o.call(this,e)}});p.exports=r},51212:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(72632),o=t(77310),r=t(85060),n=t(18166),e=t(44775),s=new d({Extends:o,initialize:function(i){i.fragShader=v(i,"fragShader",r),i.vertShader=v(i,"vertShader",n),i.forceZero=!0,o.call(this,i)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0)}});p.exports=s},60848:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(2529),v=t(95723),o=t(56694),r=t(65246),n=t(37486),e=t(79060),s=t(72632),h=t(98921),i=t(99365),a=t(44775),u=new o({Extends:a,initialize:function(f){f.renderTarget=s(f,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),f.vertShader=s(f,"vertShader",i),f.shaders=s(f,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:d},{name:"LinearBlend",fragShader:h},{name:"ColorMatrix",fragShader:n}]),f.attributes=s(f,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),f.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],f.batchSize=1,a.call(this,f),this.colorMatrix=new r,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){a.prototype.boot.call(this);var l=this.shaders,f=this.renderTargets;this.copyShader=l[0],this.addShader=l[1],this.linearShader=l[2],this.colorMatrixShader=l[3],this.fullFrame1=f[0],this.fullFrame2=f[1],this.halfFrame1=f[2],this.halfFrame2=f[3]},copyFrame:function(l,f,c,m,x){c===void 0&&(c=1),m===void 0&&(m=!0),x===void 0&&(x=!0);var g=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",c),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,l.texture),f?(g.viewport(0,0,f.width,f.height),g.bindFramebuffer(g.FRAMEBUFFER,f.framebuffer),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,f.texture,0)):g.viewport(0,0,l.width,l.height),m&&(x?g.clearColor(0,0,0,0):g.clearColor(0,0,0,1),g.clear(g.COLOR_BUFFER_BIT)),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),g.bindFramebuffer(g.FRAMEBUFFER,null),g.bindTexture(g.TEXTURE_2D,null)},blitFrame:function(l,f,c,m,x,g,y){c===void 0&&(c=1),m===void 0&&(m=!0),x===void 0&&(x=!0),g===void 0&&(g=!1),y===void 0&&(y=!1);var T=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",c),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,l.texture),l.height>f.height)T.viewport(0,0,l.width,l.height),this.setTargetUVs(l,f);else{var C=f.height-l.height;T.viewport(0,C,l.width,l.height)}if(T.bindFramebuffer(T.FRAMEBUFFER,f.framebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,f.texture,0),m&&(x?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT)),g){var A=this.renderer.currentBlendMode;this.renderer.setBlendMode(v.ERASE)}y&&this.flipY(),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),g&&this.renderer.setBlendMode(A),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(l,f,c,m,x,g,y,T){y===void 0&&(y=!0),T===void 0&&(T=!0);var C=this.gl;C.bindFramebuffer(C.FRAMEBUFFER,l.framebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,l.texture,0),y&&(T?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT)),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,f.texture),C.copyTexSubImage2D(C.TEXTURE_2D,0,0,0,c,m,x,g),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null)},copyToGame:function(l){var f=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,l.texture),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6)},drawFrame:function(l,f,c,m){c===void 0&&(c=!0),m===void 0&&(m=this.colorMatrix);var x=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",m.getData()),this.set1f("uAlpha",m.alpha),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,l.texture),f?(x.viewport(0,0,f.width,f.height),x.bindFramebuffer(x.FRAMEBUFFER,f.framebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,f.texture,0)):x.viewport(0,0,l.width,l.height),c?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),x.bindFramebuffer(x.FRAMEBUFFER,null),x.bindTexture(x.TEXTURE_2D,null)},blendFrames:function(l,f,c,m,x,g){m===void 0&&(m=1),x===void 0&&(x=!0),g===void 0&&(g=this.linearShader);var y=this.gl;this.setShader(g),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",m),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,l.texture),y.activeTexture(y.TEXTURE1),y.bindTexture(y.TEXTURE_2D,f.texture),c?(y.bindFramebuffer(y.FRAMEBUFFER,c.framebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,c.texture,0),y.viewport(0,0,c.width,c.height)):y.viewport(0,0,l.width,l.height),x?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),y.bindFramebuffer(y.FRAMEBUFFER,null),y.bindTexture(y.TEXTURE_2D,null)},blendFramesAdditive:function(l,f,c,m,x){this.blendFrames(l,f,c,m,x,this.addShader)},clearFrame:function(l,f){f===void 0&&(f=!0);var c=this.gl;c.viewport(0,0,l.width,l.height),c.bindFramebuffer(c.FRAMEBUFFER,l.framebuffer),f?c.clearColor(0,0,0,0):c.clearColor(0,0,0,1),c.clear(c.COLOR_BUFFER_BIT);var m=this.renderer.currentFramebuffer;c.bindFramebuffer(c.FRAMEBUFFER,m)},setUVs:function(l,f,c,m,x,g,y,T){var C=this.vertexViewF32;C[2]=l,C[3]=f,C[6]=c,C[7]=m,C[10]=x,C[11]=g,C[14]=l,C[15]=f,C[18]=x,C[19]=g,C[22]=y,C[23]=T},setTargetUVs:function(l,f){var c=f.height/l.height;c>.5?c=.5-(c-.5):c=.5+(.5-c),this.setUVs(0,c,0,1+c,1,1+c,1,c)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});p.exports=u},65641:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};p.exports=S},68726:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineafterflush"},67186:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinebeforeflush"},22709:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinebind"},74469:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineboot"},93953:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinedestroy"},51687:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinerebind"},25034:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineresize"},18970:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AFTER_FLUSH:t(68726),BEFORE_FLUSH:t(67186),BIND:t(22709),BOOT:t(74469),DESTROY:t(93953),REBIND:t(51687),RESIZE:t(25034)}},32469:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(87751),o=t(80486),r=new d({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:v}),this.amount=1},onPreRender:function(n,e){n=this.getController(n),this.set1f("amount",n.amount,e)}});p.exports=r},2134:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(88222),o=t(80486),r=new d({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:v}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(n){n=this.getController(n),this.set1f("strength",n.blurStrength),this.set3fv("color",n.glcolor)},onDraw:function(n){var e=this.getController(),s=this.fullFrame1,h=this.fullFrame2;this.copyFrame(n,h);for(var i=2/n.width*e.offsetX,a=2/n.height*e.offsetY,u=0;u<e.steps;u++)this.set2f("offset",i,0),this.copySprite(n,s),this.set2f("offset",0,a),this.copySprite(s,n);this.blendFrames(h,n,s,e.strength),this.copyToGame(s)}});p.exports=r},63377:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(35491),o=t(75568),r=t(44481),n=t(80486),e=new d({Extends:n,initialize:function(h){n.call(this,{game:h,shaders:[{name:"Gaussian5",fragShader:v},{name:"Gaussian9",fragShader:o},{name:"Gaussian13",fragShader:r}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(s){var h=this.getController(),i=this.gl,a=this.fullFrame1,u=i.getParameter(i.FRAMEBUFFER_BINDING);this.bind(this.activeShader),i.activeTexture(i.TEXTURE0),i.viewport(0,0,s.width,s.height),this.set1i("uMainSampler",0),this.set2f("resolution",s.width,s.height),this.set1f("strength",h.strength),this.set3fv("color",h.glcolor);for(var l=0;l<h.steps;l++)this.set2f("offset",h.x,0),this.copySprite(s,a),this.set2f("offset",0,h.y),this.copySprite(a,s);i.bindFramebuffer(i.FRAMEBUFFER,u),i.bindTexture(i.TEXTURE_2D,null),this.copyToGame(s)}});p.exports=e},49745:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(69960),o=t(80486),r=new d({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:v}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(n,e,s,h){n=this.getController(n),this.set1f("radius",n.radius,e),this.set1f("amount",n.amount,e),this.set1f("contrast",n.contrast,e),this.set1f("strength",n.strength,e),this.set2f("blur",n.blurX,n.blurY,e),this.setBoolean("isTiltShift",n.isTiltShift,e),s&&h&&this.set2f("resolution",s,h,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});p.exports=r},4323:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(33754),o=t(80486),r=new d({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:v}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(n,e,s,h){n=this.getController(n),this.set1f("scale",n.scale,e),this.set1f("feather",n.feather,e),this.set1f("thickness",n.thickness,e),this.set3fv("color",n.glcolor,e),this.set4fv("backgroundColor",n.glcolor2,e),s&&h&&this.set2f("resolution",s,h,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});p.exports=r},92066:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(80486),o=new d({Extends:v,initialize:function(n){v.call(this,{game:n})},onDraw:function(r){var n=this.fullFrame1;this.controller?this.manager.drawFrame(r,n,!0,this.controller):this.drawFrame(r,n),this.copyToGame(n)}});p.exports=o},89581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(35668),o=t(80486),r=new d({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:v}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(n){var e=this.game.textures.getFrame(n);e&&(this.glTexture=e.glTexture)},onDraw:function(n){var e=this.getController(),s=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(n,s),this.copyToGame(s)}});p.exports=r},55084:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(72632),o=t(69675),r=t(80486),n=t(75512),e=new d({Extends:r,initialize:function(h,i){var a=v(i,"quality",.1),u=v(i,"distance",10);r.call(this,{game:h,fragShader:n.setGlowQuality(o,h,a,u)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(s,h,i,a){s=this.getController(s),this.set1f("outerStrength",s.outerStrength,h),this.set1f("innerStrength",s.innerStrength,h),this.set4fv("glowColor",s.glcolor,h),this.setBoolean("knockout",s.knockout,h),i&&a&&this.set2f("resolution",i,a,h)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});p.exports=e},41653:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(90993),o=t(80486),r=new d({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:v}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(n,e){n=this.getController(n),this.set1f("alpha",n.alpha,e),this.set1i("size",n.size,e),this.set3fv("color1",n.glcolor1,e),this.set3fv("color2",n.glcolor2,e),this.set2f("positionFrom",n.fromX,n.fromY,e),this.set2f("positionTo",n.toX,n.toY,e)}});p.exports=r},73416:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(37945),o=t(80486),r=new d({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:v}),this.amount=1},onPreRender:function(n,e,s,h){n=this.getController(n),this.set1f("amount",n.amount,e),s&&h&&this.set2f("resolution",s,h,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});p.exports=r},58049:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(85718),o=t(80486),r=new d({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:v}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(n,e){n=this.getController(n);var s=n.samples;this.set1i("samples",s,e),this.set1f("intensity",n.intensity,e),this.set1f("decay",n.decay,e),this.set1f("power",n.power/s,e),this.set2f("lightPosition",n.x,n.y,e),this.set4fv("color",n.glcolor,e)}});p.exports=r},18026:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(13740),o=t(80486),r=new d({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:v}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(n,e,s,h){n=this.getController(n),this.setTime("time",e),this.set1f("speed",n.speed,e),this.set1f("lineWidth",n.lineWidth,e),this.set1f("gradient",n.gradient,e),this.setBoolean("reveal",n.reveal,e),s&&h&&this.set2f("resolution",s,h,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});p.exports=r},72381:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(80617),o=t(80486),r=new d({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:v}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(n,e){n=this.getController(n),this.set1f("radius",n.radius,e),this.set1f("strength",n.strength,e),this.set2f("position",n.x,n.y,e)}});p.exports=r},80542:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(62879),o=t(80486),r=new d({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:v}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(n,e){n=this.getController(n);var s=n.progress,h=n.wipeWidth,i=n.direction,a=n.axis;this.set4f("config",s,h,i,a,e),this.setBoolean("reveal",n.reveal,e)}});p.exports=r},58136:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={Barrel:t(32469),Bloom:t(2134),Blur:t(63377),Bokeh:t(49745),Circle:t(4323),ColorMatrix:t(92066),Displacement:t(89581),Glow:t(55084),Gradient:t(41653),Pixelate:t(73416),Shadow:t(58049),Shine:t(18026),Vignette:t(72381),Wipe:t(80542)};p.exports=d},62253:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(65641),v=t(98611),o={FX:t(58136),BitmapMaskPipeline:t(5583),Events:t(18970),FXPipeline:t(81828),LightPipeline:t(66901),MobilePipeline:t(71264),MultiPipeline:t(77310),PointLightPipeline:t(10919),PostFXPipeline:t(80486),PreFXPipeline:t(87228),RopePipeline:t(21213),SinglePipeline:t(51212),UtilityPipeline:t(60848)};o=v(!1,o,d),p.exports=o},2529:p=>{p.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},91679:p=>{p.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},89053:p=>{p.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},37486:p=>{p.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},79060:p=>{p.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},87751:p=>{p.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},88222:p=>{p.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},44481:p=>{p.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},35491:p=>{p.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},75568:p=>{p.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},69960:p=>{p.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},33754:p=>{p.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},35668:p=>{p.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},69675:p=>{p.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},90993:p=>{p.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},37945:p=>{p.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},85718:p=>{p.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},13740:p=>{p.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},80617:p=>{p.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},62879:p=>{p.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},65045:p=>{p.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},98921:p=>{p.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},25005:p=>{p.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},94914:p=>{p.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},11263:p=>{p.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},51852:p=>{p.exports=["#define SHADER_NAME PHASER_MOBILE_VS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},53787:p=>{p.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},15968:p=>{p.exports=["#define SHADER_NAME PHASER_MULTI_VS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},83327:p=>{p.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},54677:p=>{p.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},12569:p=>{p.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},99365:p=>{p.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},85060:p=>{p.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},18166:p=>{p.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},92462:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AddBlendFrag:t(2529),BitmapMaskFrag:t(91679),BitmapMaskVert:t(89053),ColorMatrixFrag:t(37486),CopyFrag:t(79060),FXBarrelFrag:t(87751),FXBloomFrag:t(88222),FXBlurHighFrag:t(44481),FXBlurLowFrag:t(35491),FXBlurMedFrag:t(75568),FXBokehFrag:t(69960),FXCircleFrag:t(33754),FXDisplacementFrag:t(35668),FXGlowFrag:t(69675),FXGradientFrag:t(90993),FXPixelateFrag:t(37945),FXShadowFrag:t(85718),FXShineFrag:t(13740),FXVignetteFrag:t(80617),FXWipeFrag:t(62879),LightFrag:t(65045),LinearBlendFrag:t(98921),MeshFrag:t(25005),MeshVert:t(94914),MobileFrag:t(11263),MobileVert:t(51852),MultiFrag:t(53787),MultiVert:t(15968),PointLightFrag:t(83327),PointLightVert:t(54677),PostFXFrag:t(12569),QuadVert:t(99365),SingleFrag:t(85060),SingleVert:t(18166)}},756:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(55301),v=t(56694),o=t(6659),r=t(40444),n=t(97081),e=t(74181),s=t(2893),h=t(9229),i=t(72283),a=t(74118),u=t(90881),l=t(84314),f=t(93736),c=t(47751),m=new v({Extends:o,initialize:function(g){o.call(this),this.game=g,this.canvas,this.canvasBounds=new a,this.parent=null,this.parentIsWindow=!1,this.parentSize=new u,this.gameSize=new u,this.baseSize=new u,this.displaySize=new u,this.scaleMode=d.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new f(1,1),this.autoRound=!1,this.autoCenter=d.CENTER.NO_CENTER,this.orientation=d.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:i,windowResize:i,fullScreenChange:i,fullScreenError:i}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(n.BOOT,this.boot,this)},boot:function(){var x=this.game;this.canvas=x.canvas,this.fullscreen=x.device.fullscreen,this.scaleMode!==d.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===d.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),x.events.on(n.PRE_STEP,this.step,this),x.events.once(n.READY,this.refresh,this),x.events.once(n.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(x){this.getParent(x),this.getParentBounds();var g=x.width,y=x.height,T=x.scaleMode,C=x.zoom,A=x.autoRound;if(typeof g=="string"){var w=this.parentSize.width;w===0&&(w=window.innerWidth);var E=parseInt(g,10)/100;g=Math.floor(w*E)}if(typeof y=="string"){var P=this.parentSize.height;P===0&&(P=window.innerHeight);var B=parseInt(y,10)/100;y=Math.floor(P*B)}this.scaleMode=T,this.autoRound=A,this.autoCenter=x.autoCenter,this.resizeInterval=x.resizeInterval,A&&(g=Math.floor(g),y=Math.floor(y)),this.gameSize.setSize(g,y),C===d.ZOOM.MAX_ZOOM&&(C=this.getMaxZoom()),this.zoom=C,C!==1&&(this._resetZoom=!0),this.baseSize.setSize(g,y),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),x.minWidth>0&&this.displaySize.setMin(x.minWidth*C,x.minHeight*C),x.maxWidth>0&&this.displaySize.setMax(x.maxWidth*C,x.maxHeight*C),this.displaySize.setSize(g,y),this.orientation=h(g,y)},getParent:function(x){var g=x.parent;if(g!==null){if(this.parent=s(g),this.parentIsWindow=this.parent===document.body,x.expandParent&&x.scaleMode!==d.SCALE_MODE.NONE){var y=this.parent.getBoundingClientRect();(this.parentIsWindow||y.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",y=this.parent.getBoundingClientRect(),!this.parentIsWindow&&y.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}x.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=s(x.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var x=this.parentSize,g=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(g.height=e(!0));var y=g.width,T=g.height;if(x.width!==y||x.height!==T)return x.setSize(y,T),!0;if(this.canvas){var C=this.canvasBounds,A=this.canvas.getBoundingClientRect();if(A.x!==C.x||A.y!==C.y)return!0}return!1},lockOrientation:function(x){var g=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return g?g.call(screen,x):!1},setParentSize:function(x,g){return this.parentSize.setSize(x,g),this.refresh()},setGameSize:function(x,g){var y=this.autoRound;y&&(x=Math.floor(x),g=Math.floor(g));var T=this.width,C=this.height;return this.gameSize.resize(x,g),this.baseSize.resize(x,g),y&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(x/g),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(T,C)},resize:function(x,g){var y=this.zoom,T=this.autoRound;T&&(x=Math.floor(x),g=Math.floor(g));var C=this.width,A=this.height;this.gameSize.resize(x,g),this.baseSize.resize(x,g),T&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(x*y,g*y),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var w=this.canvas.style,E=x*y,P=g*y;return T&&(E=Math.floor(E),P=Math.floor(P)),(E!==x||P!==g)&&(w.width=E+"px",w.height=P+"px"),this.refresh(C,A)},setZoom:function(x){return this.zoom=x,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(x,g){x===void 0&&(x=this.width),g===void 0&&(g=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var y=this.game.domContainer;if(y){this.baseSize.setCSS(y);var T=this.canvas.style,C=y.style;C.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",C.marginLeft=T.marginLeft,C.marginTop=T.marginTop}return this.emit(r.RESIZE,this.gameSize,this.baseSize,this.displaySize,x,g),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var x=h(this.width,this.height);x!==this.orientation&&(this.orientation=x,this.emit(r.ORIENTATION_CHANGE,x))}},updateScale:function(){var x=this.canvas.style,g=this.gameSize.width,y=this.gameSize.height,T,C,A=this.zoom,w=this.autoRound;this.scaleMode===d.SCALE_MODE.NONE?(this.displaySize.setSize(g*A,y*A),T=this.displaySize.width,C=this.displaySize.height,w&&(T=Math.floor(T),C=Math.floor(C)),this._resetZoom&&(x.width=T+"px",x.height=C+"px",this._resetZoom=!1)):this.scaleMode===d.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),T=this.displaySize.width,C=this.displaySize.height,w&&(T=Math.floor(T),C=Math.floor(C)),this.canvas.width=T,this.canvas.height=C):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),T=this.displaySize.width,C=this.displaySize.height,w&&(T=Math.floor(T),C=Math.floor(C)),x.width=T+"px",x.height=C+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var x=l(this.parentSize.width,this.gameSize.width,0,!0),g=l(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(x,g),1)},updateCenter:function(){var x=this.autoCenter;if(x!==d.CENTER.NO_CENTER){var g=this.canvas,y=g.style,T=g.getBoundingClientRect(),C=T.width,A=T.height,w=Math.floor((this.parentSize.width-C)/2),E=Math.floor((this.parentSize.height-A)/2);x===d.CENTER.CENTER_HORIZONTALLY?E=0:x===d.CENTER.CENTER_VERTICALLY&&(w=0),y.marginLeft=w+"px",y.marginTop=E+"px"}},updateBounds:function(){var x=this.canvasBounds,g=this.canvas.getBoundingClientRect();x.x=g.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),x.y=g.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),x.width=g.width,x.height=g.height},transformX:function(x){return(x-this.canvasBounds.left)*this.displayScale.x},transformY:function(x){return(x-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(x){x===void 0&&(x={navigationUI:"hide"});var g=this.fullscreen;if(!g.available){this.emit(r.FULLSCREEN_UNSUPPORTED);return}if(!g.active){var y=this.getFullscreenTarget();g.keyboard?y[g.request](Element.ALLOW_KEYBOARD_INPUT):y[g.request](x)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(r.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(x){this.removeFullscreenTarget(),this.emit(r.FULLSCREEN_FAILED,x)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var x=document.createElement("div");x.style.margin="0",x.style.padding="0",x.style.width="100%",x.style.height="100%",this.fullscreenTarget=x,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var g=this.canvas.parentNode;g.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var x=this.fullscreenTarget;if(x&&x.parentNode){var g=x.parentNode;g.insertBefore(this.canvas,x),g.removeChild(x)}}},stopFullscreen:function(){var x=this.fullscreen;if(!x.available)return this.emit(r.FULLSCREEN_UNSUPPORTED),!1;x.active&&document[x.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(r.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(x){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(x)},startListeners:function(){var x=this,g=this.domlisteners;if(g.orientationChange=function(){x.updateBounds(),x._checkOrientation=!0,x.dirty=!0},g.windowResize=function(){x.updateBounds(),x.dirty=!0},window.addEventListener("orientationchange",g.orientationChange,!1),window.addEventListener("resize",g.windowResize,!1),this.fullscreen.available){g.fullScreenChange=function(T){return x.onFullScreenChange(T)},g.fullScreenError=function(T){return x.onFullScreenError(T)};var y=["webkit","moz",""];y.forEach(function(T){document.addEventListener(T+"fullscreenchange",g.fullScreenChange,!1),document.addEventListener(T+"fullscreenerror",g.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",g.fullScreenChange,!1),document.addEventListener("MSFullscreenError",g.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(x,g){x instanceof c||(g=x,x=void 0),g===void 0&&(g=new a);var y=this.baseSize,T=this.parentSize,C=this.canvasBounds,A=this.displayScale,w=C.x>=0?0:-(C.x*A.x),E=C.y>=0?0:-(C.y*A.y),P;T.width>=C.width?P=y.width:P=y.width-(C.width-T.width)*A.x;var B;return T.height>=C.height?B=y.height:B=y.height-(C.height-T.height)*A.y,g.setTo(w,E,P,B),x&&(g.width/=x.zoomX,g.height/=x.zoomY,g.centerX=x.centerX+x.scrollX,g.centerY=x.centerY+x.scrollY),g},step:function(x,g){this.parent&&(this._lastCheck+=g,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var x=this.domlisteners;window.removeEventListener("orientationchange",x.orientationChange,!1),window.removeEventListener("resize",x.windowResize,!1);var g=["webkit","moz",""];g.forEach(function(y){document.removeEventListener(y+"fullscreenchange",x.fullScreenChange,!1),document.removeEventListener(y+"fullscreenerror",x.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",x.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",x.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===d.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===d.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});p.exports=m},35098:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},53539:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},12637:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},10217:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},55301:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={CENTER:t(35098),ORIENTATION:t(53539),SCALE_MODE:t(12637),ZOOM:t(10217)};p.exports=d},82085:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="enterfullscreen"},11826:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fullscreenfailed"},56691:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fullscreenunsupported"},34739:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="leavefullscreen"},26681:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="orientationchange"},11428:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resize"},40444:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ENTER_FULLSCREEN:t(82085),FULLSCREEN_FAILED:t(11826),FULLSCREEN_UNSUPPORTED:t(56691),LEAVE_FULLSCREEN:t(34739),ORIENTATION_CHANGE:t(26681),RESIZE:t(11428)}},86754:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(98611),v=t(55301),o={Center:t(35098),Events:t(40444),Orientation:t(53539),ScaleManager:t(756),ScaleModes:t(12637),Zoom:t(10217)};o=d(!1,o,v.CENTER),o=d(!1,o,v.ORIENTATION),o=d(!1,o,v.SCALE_MODE),o=d(!1,o,v.ZOOM),p.exports=o},47736:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72632),v=t(40587),o=function(r){var n=r.game.config.defaultPhysicsSystem,e=d(r.settings,"physics",!1);if(!(!n&&!e)){var s=[];if(n&&s.push(v(n+"Physics")),e)for(var h in e)h=v(h.concat("Physics")),s.indexOf(h)===-1&&s.push(h);return s}};p.exports=o},91088:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72632),v=function(o){var r=o.plugins.getDefaultScenePlugins(),n=d(o.settings,"plugins",!1);return Array.isArray(n)?n:r||[]};p.exports=v},90415:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};p.exports=S},87157:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(63946),o=new d({initialize:function(n){this.sys=new v(this,n),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});p.exports=o},13553:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(92980),o=t(7599),r=t(97081),n=t(10850),e=t(683),s=t(72283),h=t(87157),i=t(63946),a=new d({initialize:function(l,f){if(this.game=l,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,f){Array.isArray(f)||(f=[f]);for(var c=0;c<f.length;c++)this._pending.push({key:"default",scene:f[c],autoStart:c===0,data:{}})}l.events.once(r.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new h);var u,l,f,c;for(u=0;u<this._pending.length;u++){l=this._pending[u],f=l.key,c=l.scene;var m;c instanceof h?m=this.createSceneFromInstance(f,c):typeof c=="object"?m=this.createSceneFromObject(f,c):typeof c=="function"&&(m=this.createSceneFromFunction(f,c)),f=m.sys.settings.key,this.keys[f]=m,this.scenes.push(m),this._data[f]&&(m.sys.settings.data=this._data[f].data,this._data[f].autoStart&&(l.autoStart=!0)),(l.autoStart||m.sys.settings.active)&&this._start.push(f)}for(this._pending.length=0,this._data={},this.isBooted=!0,u=0;u<this._start.length;u++)l=this._start[u],this.start(l);this._start.length=0}},processQueue:function(){var u=this._pending.length,l=this._queue.length;if(!(u===0&&l===0)){var f,c;if(u){for(f=0;f<u;f++)c=this._pending[f],this.add(c.key,c.scene,c.autoStart,c.data);for(f=0;f<this._start.length;f++)c=this._start[f],this.start(c);this._start.length=0,this._pending.length=0}for(f=0;f<this._queue.length;f++)c=this._queue[f],this[c.op](c.keyA,c.keyB);this._queue.length=0}},add:function(u,l,f,c){if(f===void 0&&(f=!1),c===void 0&&(c={}),this.isProcessing||!this.isBooted)return this._pending.push({key:u,scene:l,autoStart:f,data:c}),this.isBooted||(this._data[u]={data:c}),null;u=this.getKey(u,l);var m;return l instanceof h?m=this.createSceneFromInstance(u,l):typeof l=="object"?(l.key=u,m=this.createSceneFromObject(u,l)):typeof l=="function"&&(m=this.createSceneFromFunction(u,l)),m.sys.settings.data=c,u=m.sys.settings.key,this.keys[u]=m,this.scenes.push(m),(f||m.sys.settings.active)&&(this._pending.length?this._start.push(u):this.start(u)),m},remove:function(u){if(this.isProcessing)this._queue.push({op:"remove",keyA:u,keyB:null});else{var l=this.getScene(u);if(!l||l.sys.isTransitioning())return this;var f=this.scenes.indexOf(l),c=l.sys.settings.key;f>-1&&(delete this.keys[c],this.scenes.splice(f,1),this._start.indexOf(c)>-1&&(f=this._start.indexOf(c),this._start.splice(f,1)),l.sys.destroy())}return this},bootScene:function(u){var l=u.sys,f=l.settings;l.sceneUpdate=s,u.init&&(u.init.call(u,f.data),f.status=v.INIT,f.isTransition&&l.events.emit(o.TRANSITION_INIT,f.transitionFrom,f.transitionDuration));var c;l.load&&(c=l.load,c.reset()),c&&u.preload?(u.preload.call(u),f.status=v.LOADING,c.once(e.COMPLETE,this.loadComplete,this),c.start()):this.create(u)},loadComplete:function(u){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(u.scene)},payloadComplete:function(u){this.bootScene(u.scene)},update:function(u,l){this.processQueue(),this.isProcessing=!0;for(var f=this.scenes.length-1;f>=0;f--){var c=this.scenes[f].sys;c.settings.status>v.START&&c.settings.status<=v.RUNNING&&c.step(u,l),c.scenePlugin._target&&c.scenePlugin.step(u,l)}},render:function(u){for(var l=0;l<this.scenes.length;l++){var f=this.scenes[l].sys;f.settings.visible&&f.settings.status>=v.LOADING&&f.settings.status<v.SLEEPING&&f.render(u)}this.isProcessing=!1},create:function(u){var l=u.sys,f=l.settings;u.create&&(f.status=v.CREATING,u.create.call(u,f.data),f.status===v.DESTROYED)||(f.isTransition&&l.events.emit(o.TRANSITION_START,f.transitionFrom,f.transitionDuration),u.update&&(l.sceneUpdate=u.update),f.status=v.RUNNING,l.events.emit(o.CREATE,u))},createSceneFromFunction:function(u,l){var f=new l;if(f instanceof h){var c=f.sys.settings.key;if(c!==""&&(u=c),this.keys.hasOwnProperty(u))throw new Error("Cannot add a Scene with duplicate key: "+u);return this.createSceneFromInstance(u,f)}else return f.sys=new i(f),f.sys.settings.key=u,f.sys.init(this.game),f},createSceneFromInstance:function(u,l){var f=l.sys.settings.key;return f===""&&(l.sys.settings.key=u),l.sys.init(this.game),l},createSceneFromObject:function(u,l){var f=new h(l),c=f.sys.settings.key;c!==""?u=c:f.sys.settings.key=u,f.sys.init(this.game);for(var m=["init","preload","create","update","render"],x=0;x<m.length;x++){var g=n(l,m[x],null);g&&(f[m[x]]=g)}if(l.hasOwnProperty("extend")){for(var y in l.extend)if(l.extend.hasOwnProperty(y)){var T=l.extend[y];y==="data"&&f.hasOwnProperty("data")&&typeof T=="object"?f.data.merge(T):y!=="sys"&&(f[y]=T)}}return f},getKey:function(u,l){if(u||(u="default"),typeof l=="function")return u;if(l instanceof h?u=l.sys.settings.key:typeof l=="object"&&l.hasOwnProperty("key")&&(u=l.key),this.keys.hasOwnProperty(u))throw new Error("Cannot add a Scene with duplicate key: "+u);return u},getScenes:function(u,l){u===void 0&&(u=!0),l===void 0&&(l=!1);for(var f=[],c=this.scenes,m=0;m<c.length;m++){var x=c[m];x&&(!u||u&&x.sys.isActive())&&f.push(x)}return l?f.reverse():f},getScene:function(u){if(typeof u=="string"){if(this.keys[u])return this.keys[u]}else for(var l=0;l<this.scenes.length;l++)if(u===this.scenes[l])return u;return null},isActive:function(u){var l=this.getScene(u);return l?l.sys.isActive():null},isPaused:function(u){var l=this.getScene(u);return l?l.sys.isPaused():null},isVisible:function(u){var l=this.getScene(u);return l?l.sys.isVisible():null},isSleeping:function(u){var l=this.getScene(u);return l?l.sys.isSleeping():null},pause:function(u,l){var f=this.getScene(u);return f&&f.sys.pause(l),this},resume:function(u,l){var f=this.getScene(u);return f&&f.sys.resume(l),this},sleep:function(u,l){var f=this.getScene(u);return f&&!f.sys.isTransitioning()&&f.sys.sleep(l),this},wake:function(u,l){var f=this.getScene(u);return f&&f.sys.wake(l),this},run:function(u,l){var f=this.getScene(u);if(!f){for(var c=0;c<this._pending.length;c++)if(this._pending[c].key===u){this.queueOp("start",u,l);break}return this}f.sys.isSleeping()?f.sys.wake(l):f.sys.isPaused()?f.sys.resume(l):this.start(u,l)},start:function(u,l){if(!this.isBooted)return this._data[u]={autoStart:!0,data:l},this;var f=this.getScene(u);if(!f)return console.warn("Scene not found for key: "+u),this;var c=f.sys,m=c.settings.status;if(m>=v.START&&m<=v.CREATING)return this;if(m>=v.RUNNING&&m<=v.SLEEPING)c.shutdown(),c.sceneUpdate=s,c.start(l);else{c.sceneUpdate=s,c.start(l);var x;if(c.load&&(x=c.load),x&&c.settings.hasOwnProperty("pack")&&(x.reset(),x.addPack({payload:c.settings.pack})))return c.settings.status=v.LOADING,x.once(e.COMPLETE,this.payloadComplete,this),x.start(),this}return this.bootScene(f),this},stop:function(u,l){var f=this.getScene(u);if(f&&!f.sys.isTransitioning()&&f.sys.settings.status!==v.SHUTDOWN){var c=f.sys.load;c&&(c.off(e.COMPLETE,this.loadComplete,this),c.off(e.COMPLETE,this.payloadComplete,this)),f.sys.shutdown(l)}return this},switch:function(u,l){var f=this.getScene(u),c=this.getScene(l);return f&&c&&f!==c&&(this.sleep(u),this.isSleeping(l)?this.wake(l):this.start(l)),this},getAt:function(u){return this.scenes[u]},getIndex:function(u){var l=this.getScene(u);return this.scenes.indexOf(l)},bringToTop:function(u){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:u,keyB:null});else{var l=this.getIndex(u);if(l!==-1&&l<this.scenes.length){var f=this.getScene(u);this.scenes.splice(l,1),this.scenes.push(f)}}return this},sendToBack:function(u){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:u,keyB:null});else{var l=this.getIndex(u);if(l!==-1&&l>0){var f=this.getScene(u);this.scenes.splice(l,1),this.scenes.unshift(f)}}return this},moveDown:function(u){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:u,keyB:null});else{var l=this.getIndex(u);if(l>0){var f=l-1,c=this.getScene(u),m=this.getAt(f);this.scenes[l]=m,this.scenes[f]=c}}return this},moveUp:function(u){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:u,keyB:null});else{var l=this.getIndex(u);if(l<this.scenes.length-1){var f=l+1,c=this.getScene(u),m=this.getAt(f);this.scenes[l]=m,this.scenes[f]=c}}return this},moveAbove:function(u,l){if(u===l)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:u,keyB:l});else{var f=this.getIndex(u),c=this.getIndex(l);if(f!==-1&&c!==-1&&c<f){var m=this.getAt(c);this.scenes.splice(c,1),this.scenes.splice(f+(c>f),0,m)}}return this},moveBelow:function(u,l){if(u===l)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:u,keyB:l});else{var f=this.getIndex(u),c=this.getIndex(l);if(f!==-1&&c!==-1&&c>f){var m=this.getAt(c);this.scenes.splice(c,1),f===0?this.scenes.unshift(m):this.scenes.splice(f-(c<f),0,m)}}return this},queueOp:function(u,l,f){return this._queue.push({op:u,keyA:l,keyB:f}),this},swapPosition:function(u,l){if(u===l)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:u,keyB:l});else{var f=this.getIndex(u),c=this.getIndex(l);if(f!==c&&f!==-1&&c!==-1){var m=this.getAt(f);this.scenes[f]=this.scenes[c],this.scenes[c]=m}}return this},dump:function(){for(var u=[],l=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],f=0;f<this.scenes.length;f++){var c=this.scenes[f].sys,m=c.settings.visible&&(c.settings.status===v.RUNNING||c.settings.status===v.PAUSED)?"[*] ":"[-] ";m+=c.settings.key+" ("+l[c.settings.status]+")",u.push(m)}console.log(u.join(`
`))},destroy:function(){for(var u=0;u<this.scenes.length;u++){var l=this.scenes[u].sys;l.destroy()}this.systemScene.sys.destroy(),this.update=s,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});p.exports=a},64051:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(82897),v=t(56694),o=t(7599),r=t(72632),n=t(91963),e=new v({initialize:function(h){this.scene=h,this.systems=h.sys,this.settings=h.sys.settings,this.key=h.sys.settings.key,this.manager=h.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,h.sys.events.once(o.BOOT,this.boot,this),h.sys.events.on(o.START,this.pluginStart,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},start:function(s,h){return s===void 0&&(s=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",s,h),this},restart:function(s){var h=this.key;return this.manager.queueOp("stop",h),this.manager.queueOp("start",h,s),this},transition:function(s){s===void 0&&(s={});var h=r(s,"target",!1),i=this.manager.getScene(h);if(!h||!this.checkValidTransition(i))return!1;var a=r(s,"duration",1e3);this._elapsed=0,this._target=i,this._duration=a,this._willSleep=r(s,"sleep",!1),this._willRemove=r(s,"remove",!1);var u=r(s,"onUpdate",null);u&&(this._onUpdate=u,this._onUpdateScope=r(s,"onUpdateScope",this.scene));var l=r(s,"allowInput",!1);this.settings.transitionAllowInput=l;var f=i.sys.settings;f.isTransition=!0,f.transitionFrom=this.scene,f.transitionDuration=a,f.transitionAllowInput=l,r(s,"moveAbove",!1)?this.manager.moveAbove(this.key,h):r(s,"moveBelow",!1)&&this.manager.moveBelow(this.key,h),i.sys.isSleeping()?i.sys.wake(r(s,"data")):this.manager.start(h,r(s,"data"));var c=r(s,"onStart",null),m=r(s,"onStartScope",this.scene);return c&&c.call(m,this.scene,i,a),this.systems.events.emit(o.TRANSITION_OUT,i,a),!0},checkValidTransition:function(s){return!(!s||s.sys.isActive()||s.sys.isTransitioning()||s===this.scene||this.systems.isTransitioning())},step:function(s,h){this._elapsed+=h,this.transitionProgress=d(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var s=this._target.sys,h=this._target.sys.settings;s.events.emit(o.TRANSITION_COMPLETE,this.scene),h.isTransition=!1,h.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(s,h,i,a){return this.manager.add(s,h,i,a)},launch:function(s,h){return s&&s!==this.key&&this.manager.queueOp("start",s,h),this},run:function(s,h){return s&&s!==this.key&&this.manager.queueOp("run",s,h),this},pause:function(s,h){return s===void 0&&(s=this.key),this.manager.queueOp("pause",s,h),this},resume:function(s,h){return s===void 0&&(s=this.key),this.manager.queueOp("resume",s,h),this},sleep:function(s,h){return s===void 0&&(s=this.key),this.manager.queueOp("sleep",s,h),this},wake:function(s,h){return s===void 0&&(s=this.key),this.manager.queueOp("wake",s,h),this},switch:function(s){return s!==this.key&&this.manager.queueOp("switch",this.key,s),this},stop:function(s,h){return s===void 0&&(s=this.key),this.manager.queueOp("stop",s,h),this},setActive:function(s,h,i){h===void 0&&(h=this.key);var a=this.manager.getScene(h);return a&&a.sys.setActive(s,i),this},setVisible:function(s,h){h===void 0&&(h=this.key);var i=this.manager.getScene(h);return i&&i.sys.setVisible(s),this},isSleeping:function(s){return s===void 0&&(s=this.key),this.manager.isSleeping(s)},isActive:function(s){return s===void 0&&(s=this.key),this.manager.isActive(s)},isPaused:function(s){return s===void 0&&(s=this.key),this.manager.isPaused(s)},isVisible:function(s){return s===void 0&&(s=this.key),this.manager.isVisible(s)},swapPosition:function(s,h){return h===void 0&&(h=this.key),s!==h&&this.manager.swapPosition(s,h),this},moveAbove:function(s,h){return h===void 0&&(h=this.key),s!==h&&this.manager.moveAbove(s,h),this},moveBelow:function(s,h){return h===void 0&&(h=this.key),s!==h&&this.manager.moveBelow(s,h),this},remove:function(s){return s===void 0&&(s=this.key),this.manager.remove(s),this},moveUp:function(s){return s===void 0&&(s=this.key),this.manager.moveUp(s),this},moveDown:function(s){return s===void 0&&(s=this.key),this.manager.moveDown(s),this},bringToTop:function(s){return s===void 0&&(s=this.key),this.manager.bringToTop(s),this},sendToBack:function(s){return s===void 0&&(s=this.key),this.manager.sendToBack(s),this},get:function(s){return this.manager.getScene(s)},getStatus:function(s){var h=this.manager.getScene(s);if(h)return h.sys.getStatus()},getIndex:function(s){return s===void 0&&(s=this.key),this.manager.getIndex(s)},shutdown:function(){var s=this.systems.events;s.off(o.SHUTDOWN,this.shutdown,this),s.off(o.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});n.register("ScenePlugin",e,"scenePlugin"),p.exports=e},36765:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(92980),v=t(10850),o=t(30657),r=t(90415),n={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:d.PENDING,key:v(e,"key",""),active:v(e,"active",!1),visible:v(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:v(e,"pack",!1),cameras:v(e,"cameras",null),map:v(e,"map",o(r,v(e,"mapAdd",{}))),physics:v(e,"physics",{}),loader:v(e,"loader",{}),plugins:v(e,"plugins",!1),input:v(e,"input",{})}}};p.exports=n},63946:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(92980),o=t(18360),r=t(7599),n=t(47736),e=t(91088),s=t(72283),h=t(36765),i=new d({initialize:function(u,l){this.scene=u,this.game,this.renderer,this.config=l,this.settings=h.create(l),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=s},init:function(a){this.settings.status=v.INIT,this.sceneUpdate=s,this.game=a,this.renderer=a.renderer,this.canvas=a.canvas,this.context=a.context;var u=a.plugins;this.plugins=u,u.addToScene(this,o.Global,[o.CoreScene,e(this),n(this)]),this.events.emit(r.BOOT,this),this.settings.isBooted=!0},step:function(a,u){var l=this.events;l.emit(r.PRE_UPDATE,a,u),l.emit(r.UPDATE,a,u),this.sceneUpdate.call(this.scene,a,u),l.emit(r.POST_UPDATE,a,u)},render:function(a){var u=this.displayList;u.depthSort(),this.events.emit(r.PRE_RENDER,a),this.cameras.render(a,u),this.events.emit(r.RENDER,a)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(a){var u=this.settings,l=this.getStatus();return l!==v.CREATING&&l!==v.RUNNING?console.warn("Cannot pause non-running Scene",u.key):this.settings.active&&(u.status=v.PAUSED,u.active=!1,this.events.emit(r.PAUSE,this,a)),this},resume:function(a){var u=this.events,l=this.settings;return this.settings.active||(l.status=v.RUNNING,l.active=!0,u.emit(r.RESUME,this,a)),this},sleep:function(a){var u=this.settings,l=this.getStatus();return l!==v.CREATING&&l!==v.RUNNING?console.warn("Cannot sleep non-running Scene",u.key):(u.status=v.SLEEPING,u.active=!1,u.visible=!1,this.events.emit(r.SLEEP,this,a)),this},wake:function(a){var u=this.events,l=this.settings;return l.status=v.RUNNING,l.active=!0,l.visible=!0,u.emit(r.WAKE,this,a),l.isTransition&&u.emit(r.TRANSITION_WAKE,l.transitionFrom,l.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var a=this.settings.status;return a>v.PENDING&&a<=v.RUNNING},isSleeping:function(){return this.settings.status===v.SLEEPING},isActive:function(){return this.settings.status===v.RUNNING},isPaused:function(){return this.settings.status===v.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(a){return this.settings.visible=a,this},setActive:function(a,u){return a?this.resume(u):this.pause(u)},start:function(a){var u=this.events,l=this.settings;a&&(l.data=a),l.status=v.START,l.active=!0,l.visible=!0,u.emit(r.START,this),u.emit(r.READY,this,a)},shutdown:function(a){var u=this.events,l=this.settings;u.off(r.TRANSITION_INIT),u.off(r.TRANSITION_START),u.off(r.TRANSITION_COMPLETE),u.off(r.TRANSITION_OUT),l.status=v.SHUTDOWN,l.active=!1,l.visible=!1,u.emit(r.SHUTDOWN,this,a)},destroy:function(){var a=this.events,u=this.settings;u.status=v.DESTROYED,u.active=!1,u.visible=!1,a.emit(r.DESTROY,this),a.removeAllListeners();for(var l=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],f=0;f<l.length;f++)this[l[f]]=null}});p.exports=i},92980:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};p.exports=S},31803:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addedtoscene"},94817:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},28977:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="create"},91959:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},363:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},15643:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postupdate"},17058:p=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},77125:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="preupdate"},76018:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},28620:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedfromscene"},41538:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="render"},34268:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},2342:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="shutdown"},96541:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleep"},74244:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},17046:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitioncomplete"},13637:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitioninit"},14733:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionout"},33899:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionstart"},52418:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionwake"},31735:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},8470:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wake"},7599:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADDED_TO_SCENE:t(31803),BOOT:t(94817),CREATE:t(28977),DESTROY:t(91959),PAUSE:t(363),POST_UPDATE:t(15643),PRE_RENDER:t(17058),PRE_UPDATE:t(77125),READY:t(76018),REMOVED_FROM_SCENE:t(28620),RENDER:t(41538),RESUME:t(34268),SHUTDOWN:t(2342),SLEEP:t(96541),START:t(74244),TRANSITION_COMPLETE:t(17046),TRANSITION_INIT:t(13637),TRANSITION_OUT:t(14733),TRANSITION_START:t(33899),TRANSITION_WAKE:t(52418),UPDATE:t(31735),WAKE:t(8470)}},20436:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(92980),v=t(98611),o={Events:t(7599),GetPhysicsPlugins:t(47736),GetScenePlugins:t(91088),SceneManager:t(13553),ScenePlugin:t(64051),Settings:t(36765),Systems:t(63946)};o=v(!1,o,d),p.exports=o},25798:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(6659),o=t(76038),r=t(98611),n=t(72283),e=new d({Extends:v,initialize:function(h,i,a){v.call(this),this.manager=h,this.key=i,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=r(this.config,a),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(console.error("addMarker "+s.name+" already exists in Sound"),!1):(s=r(!0,{name:"",start:0,duration:this.totalDuration-(s.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},s),this.markers[s.name]=s,!0)},updateMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(this.markers[s.name]=r(!0,this.markers[s.name],s),!0):(console.warn("Audio Marker: "+s.name+" missing in Sound: "+this.key),!1)},removeMarker:function(s){var h=this.markers[s];return h?(this.markers[s]=null,h):null},play:function(s,h){if(s===void 0&&(s=""),typeof s=="object"&&(h=s,s=""),typeof s!="string")return!1;if(!s)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[s])return console.warn("Marker: "+s+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[s],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=r(this.currentConfig,h),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:n,calculateRate:function(){var s=1.0005777895065548,h=this.currentConfig.detune+this.manager.detune,i=Math.pow(s,h);this.totalRate=this.currentConfig.rate*this.manager.rate*i},destroy:function(){this.pendingRemove||(this.emit(o.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});p.exports=e},12486:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(32742),o=t(6659),r=t(76038),n=t(97081),e=t(71608),s=t(51463),h=t(72283),i=t(93736),a=new d({Extends:o,initialize:function(l){o.call(this),this.game=l,this.jsonCache=l.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new i,l.events.on(n.BLUR,this.onGameBlur,this),l.events.on(n.FOCUS,this.onGameFocus,this),l.events.on(n.PRE_STEP,this.update,this),l.events.once(n.DESTROY,this.destroy,this)},add:h,addAudioSprite:function(u,l){l===void 0&&(l={});var f=this.add(u,l);f.spritemap=this.jsonCache.get(u).spritemap;for(var c in f.spritemap)if(f.spritemap.hasOwnProperty(c)){var m=v(l),x=f.spritemap[c];m.loop=x.hasOwnProperty("loop")?x.loop:!1,f.addMarker({name:c,start:x.start,duration:x.end-x.start,config:m})}return f},get:function(u){return s(this.sounds,"key",u)},getAll:function(u){return u?e(this.sounds,"key",u):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(u,l){var f=this.add(u);return f.once(r.COMPLETE,f.destroy,f),l?l.name?(f.addMarker(l),f.play(l.name)):f.play(l):f.play()},playAudioSprite:function(u,l,f){var c=this.addAudioSprite(u);return c.once(r.COMPLETE,c.destroy,c),c.play(l,f)},remove:function(u){var l=this.sounds.indexOf(u);return l!==-1?(u.destroy(),this.sounds.splice(l,1),!0):!1},removeAll:function(){this.sounds.forEach(function(u){u.destroy()}),this.sounds.length=0},removeByKey:function(u){for(var l=0,f=this.sounds.length-1;f>=0;f--){var c=this.sounds[f];c.key===u&&(c.destroy(),this.sounds.splice(f,1),l++)}return l},pauseAll:function(){this.forEachActiveSound(function(u){u.pause()}),this.emit(r.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(u){u.resume()}),this.emit(r.RESUME_ALL,this)},setListenerPosition:h,stopAll:function(){this.forEachActiveSound(function(u){u.stop()}),this.emit(r.STOP_ALL,this)},stopByKey:function(u){var l=0;return this.getAll(u).forEach(function(f){f.stop()&&l++}),l},unlock:h,onBlur:h,onFocus:h,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(u,l){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(r.UNLOCKED,this));for(var f=this.sounds.length-1;f>=0;f--)this.sounds[f].pendingRemove&&this.sounds.splice(f,1);this.sounds.forEach(function(c){c.update(u,l)})},destroy:function(){this.game.events.off(n.BLUR,this.onGameBlur,this),this.game.events.off(n.FOCUS,this.onGameFocus,this),this.game.events.off(n.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(u,l){var f=this;this.sounds.forEach(function(c,m){c&&!c.pendingRemove&&u.call(l||f,c,m,f.sounds)})},setRate:function(u){return this.rate=u,this},rate:{get:function(){return this._rate},set:function(u){this._rate=u,this.forEachActiveSound(function(l){l.calculateRate()}),this.emit(r.GLOBAL_RATE,this,u)}},setDetune:function(u){return this.detune=u,this},detune:{get:function(){return this._detune},set:function(u){this._detune=u,this.forEachActiveSound(function(l){l.calculateRate()}),this.emit(r.GLOBAL_DETUNE,this,u)}}});p.exports=a},84191:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(27622),v=t(17546),o=t(55491),r={create:function(n){var e=n.config.audio,s=n.device.audio;return e.noAudio||!s.webAudio&&!s.audioData?new v(n):s.webAudio&&!e.disableWebAudio?new o(n):new d(n)}};p.exports=r},77578:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},19679:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="decodedall"},56951:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="decoded"},16436:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},55154:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="detune"},57818:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="detune"},57890:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="mute"},83022:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="rate"},99170:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="volume"},64289:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="looped"},67214:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},53128:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="mute"},73078:p=>{/**
 * @author       pi-kei
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pan"},76763:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pauseall"},88426:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},13765:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="play"},80291:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="rate"},11124:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resumeall"},55382:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},71157:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seek"},31776:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stopall"},39450:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},21939:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unlocked"},33019:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="volume"},76038:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(77578),DECODED:t(56951),DECODED_ALL:t(19679),DESTROY:t(16436),DETUNE:t(55154),GLOBAL_DETUNE:t(57818),GLOBAL_MUTE:t(57890),GLOBAL_RATE:t(83022),GLOBAL_VOLUME:t(99170),LOOP:t(67214),LOOPED:t(64289),MUTE:t(53128),PAN:t(73078),PAUSE_ALL:t(76763),PAUSE:t(88426),PLAY:t(13765),RATE:t(80291),RESUME_ALL:t(11124),RESUME:t(55382),SEEK:t(71157),STOP_ALL:t(31776),STOP:t(39450),UNLOCKED:t(21939),VOLUME:t(33019)}},34350:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(25798),v=t(56694),o=t(76038),r=t(82897),n=new v({Extends:d,initialize:function(s,h,i){if(i===void 0&&(i={}),this.tags=s.game.cache.audio.get(h),!this.tags)throw new Error('No cached audio asset with key "'+h);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,d.call(this,s,h,i)},play:function(e,s){return this.manager.isLocked(this,"play",[e,s])||!d.prototype.play.call(this,e,s)||!this.pickAndPlayAudioTag()?!1:(this.emit(o.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!d.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(o.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!d.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(o.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!d.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(o.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,s=this.currentConfig.delay,h=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=h,this.audio.currentTime=h,this.applyConfig(),s===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+s*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var s=this.tags[e];if(s.dataset.used==="false")return s.dataset.used="true",this.audio=s,!0}if(!this.manager.override)return!1;var h=[];this.manager.forEachActiveSound(function(a){a.key===this.key&&a.audio&&h.push(a)},this),h.sort(function(a,u){return a.loop===u.loop?u.seek/u.duration-a.seek/a.duration:a.loop?1:-1});var i=h[0];return this.audio=i.audio,i.reset(),i.audio=null,i.startTime=0,i.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(s){console.warn(s)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){d.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var s=this.currentMarker?this.currentMarker.start:0,h=s+this.duration,i=this.audio.currentTime;if(this.currentConfig.loop)i>=h-this.manager.loopEndOffset?(this.audio.currentTime=s+Math.max(0,i-h),i=this.audio.currentTime):i<s&&(this.audio.currentTime+=s,i=this.audio.currentTime),i<this.previousTime&&this.emit(o.LOOPED,this);else if(i>=h){this.reset(),this.stopAndReleaseAudioTag(),this.emit(o.COMPLETE,this);return}this.previousTime=i}},destroy:function(){d.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=r(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){d.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(o.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(o.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,o.RATE,e)&&(this.calculateRate(),this.emit(o.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,o.DETUNE,e)&&(this.calculateRate(),this.emit(o.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(o.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(o.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(o.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});p.exports=n},27622:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(12486),v=t(56694),o=t(76038),r=t(34350),n=new v({Extends:d,initialize:function(s){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,d.call(this,s)},add:function(e,s){var h=new r(this,e,s);return this.sounds.push(h),h},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(a,u){for(var l=0;l<u.length;l++)if(u[l].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var s=!1,h=function(){s=!0},i=function(){if(s){s=!1;return}document.body.removeEventListener("touchmove",h),document.body.removeEventListener("touchend",i);var a=[];if(e.game.cache.audio.entries.each(function(l,f){for(var c=0;c<f.length;c++){var m=f[c];m.dataset.locked==="true"&&a.push(m)}return!0}),a.length!==0){var u=a[a.length-1];u.oncanplaythrough=function(){u.oncanplaythrough=null,a.forEach(function(l){l.dataset.locked="false"}),e.unlocked=!0},a.forEach(function(l){l.load()})}};this.once(o.UNLOCKED,function(){for(this.forEachActiveSound(function(u){u.currentMarker===null&&u.duration===0&&(u.duration=u.tags[0].duration),u.totalDuration=u.tags[0].duration});this.lockedActionsQueue.length;){var a=this.lockedActionsQueue.shift();a.sound[a.prop].apply?a.sound[a.prop].apply(a.sound,a.value||[]):a.sound[a.prop]=a.value}},this),document.body.addEventListener("touchmove",h,!1),document.body.addEventListener("touchend",i,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){d.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,s,h){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:s,value:h}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(s){s.updateMute()}),this.emit(o.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(s){s.updateVolume()}),this.emit(o.GLOBAL_VOLUME,this,e)}}});p.exports=n},56751:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={SoundManagerCreator:t(84191),Events:t(76038),BaseSound:t(25798),BaseSoundManager:t(12486),WebAudioSound:t(96008),WebAudioSoundManager:t(55491),HTML5AudioSound:t(34350),HTML5AudioSoundManager:t(27622),NoAudioSound:t(38662),NoAudioSoundManager:t(17546)}},38662:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(25798),v=t(56694),o=t(6659),r=t(98611),n=t(72283),e=function(){return!1},s=function(){return null},h=function(){return this},i=new v({Extends:o,initialize:function(u,l,f){f===void 0&&(f={}),o.call(this),this.manager=u,this.key=l,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=r({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},f),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:s,play:e,pause:e,resume:e,stop:e,setMute:h,setVolume:h,setRate:h,setDetune:h,setSeek:h,setLoop:h,setPan:h,applyConfig:s,resetConfig:s,update:n,calculateRate:s,destroy:function(){d.prototype.destroy.call(this)}});p.exports=i},17546:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(12486),v=t(56694),o=t(6659),r=t(38662),n=t(72283),e=new v({Extends:o,initialize:function(h){o.call(this),this.game=h,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(s,h){var i=new r(this,s,h);return this.sounds.push(i),i},addAudioSprite:function(s,h){var i=this.add(s,h);return i.spritemap={},i},get:function(s){return d.prototype.get.call(this,s)},getAll:function(s){return d.prototype.getAll.call(this,s)},play:function(s,h){return!1},playAudioSprite:function(s,h,i){return!1},remove:function(s){return d.prototype.remove.call(this,s)},removeAll:function(){return d.prototype.removeAll.call(this)},removeByKey:function(s){return d.prototype.removeByKey.call(this,s)},stopByKey:function(s){return d.prototype.stopByKey.call(this,s)},onBlur:n,onFocus:n,onGameBlur:n,onGameFocus:n,pauseAll:n,resumeAll:n,stopAll:n,update:n,setRate:n,setDetune:n,setMute:n,setVolume:n,unlock:n,forEachActiveSound:function(s,h){d.prototype.forEachActiveSound.call(this,s,h)},destroy:function(){d.prototype.destroy.call(this)}});p.exports=e},96008:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(25798),v=t(56694),o=t(76038),r=t(72632),n=new v({Extends:d,initialize:function(s,h,i){if(i===void 0&&(i={}),this.audioBuffer=s.game.cache.audio.get(h),!this.audioBuffer)throw new Error('Audio key "'+h+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=s.context.createGain(),this.volumeNode=s.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),s.context.createPanner&&(this.spatialNode=s.context.createPanner(),this.volumeNode.connect(this.spatialNode)),s.context.createStereoPanner?(this.pannerNode=s.context.createStereoPanner(),s.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(s.destination)):s.context.createPanner?this.spatialNode.connect(s.destination):this.volumeNode.connect(s.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,d.call(this,s,h,i)},play:function(e,s){return d.prototype.play.call(this,e,s)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(o.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!d.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(o.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!d.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(o.RESUME,this),!0)},stop:function(){return d.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(o.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,s=this.currentConfig.delay,h=this.manager.context.currentTime+s,i=(this.currentMarker?this.currentMarker.start:0)+e,a=this.duration-e;this.playTime=h-e,this.startTime=h,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,h),Math.max(0,i),Math.max(0,a)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),s=this.currentMarker?this.currentMarker.start:0,h=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,s),Math.max(0,h))},createBufferSource:function(){var e=this,s=this.manager.context.createBufferSource();return s.buffer=this.audioBuffer,s.connect(this.muteNode),s.onended=function(h){h.target===e.source&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},s},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var s=this.spatialNode;s.panningModel=r(e,"panningModel","equalpower"),s.distanceModel=r(e,"distanceModel","inverse"),s.orientationX.value=r(e,"orientationX",0),s.orientationY.value=r(e,"orientationY",0),s.orientationZ.value=r(e,"orientationZ",-1),s.refDistance=r(e,"refDistance",1),s.maxDistance=r(e,"maxDistance",1e4),s.rolloffFactor=r(e,"rolloffFactor",1),s.coneInnerAngle=r(e,"coneInnerAngle",360),s.coneOuterAngle=r(e,"coneOuterAngle",0),s.coneOuterGain=r(e,"coneOuterGain",0),this.spatialSource=r(e,"follow",null),this.spatialSource||(s.positionX.value=r(e,"x",0),s.positionY.value=r(e,"y",0),s.positionZ.value=r(e,"z",0))}d.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=r(this.spatialSource,"x",null),s=r(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),s&&s!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=s)}this.hasEnded?(this.hasEnded=!1,d.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(o.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(o.LOOPED,this))},destroy:function(){this.pendingRemove||(d.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){d.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,s=0;s<this.rateUpdates.length;s++){var h=0;s<this.rateUpdates.length-1?h=this.rateUpdates[s+1].time:h=this.manager.context.currentTime-this.playTime,e+=(h-this.rateUpdates[s].time)*this.rateUpdates[s].rate}return e},getLoopTime:function(){for(var e=0,s=0;s<this.rateUpdates.length-1;s++)e+=(this.rateUpdates[s+1].time-this.rateUpdates[s].time)*this.rateUpdates[s].rate;var h=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+h.time+(this.duration-e)/h.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(o.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(o.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(o.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(o.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(o.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(o.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(o.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});p.exports=n},55491:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(82329),v=t(12486),o=t(56694),r=t(76038),n=t(97081),e=t(96008),s=t(72632),h=new o({Extends:v,initialize:function(a){this.context=this.createAudioContext(a),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),v.call(this,a),this.locked&&a.isBooted?this.unlock():a.events.once(n.BOOT,this.unlock,this)},createAudioContext:function(i){var a=i.config.audio;if(a.context)return a.context.resume(),a.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(i){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=i,this.masterMuteNode=i.createGain(),this.masterVolumeNode=i.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(i.destination),this.destination=this.masterMuteNode,this},add:function(i,a){var u=new e(this,i,a);return this.sounds.push(u),u},decodeAudio:function(i,a){var u;Array.isArray(i)?u=i:u=[{key:i,data:a}];for(var l=this.game.cache.audio,f=u.length,c=0;c<u.length;c++){var m=u[c],x=m.key,g=m.data;typeof g=="string"&&(g=d(g));var y=(function(C,A){l.add(C,A),this.emit(r.DECODED,C),f--,f===0&&this.emit(r.DECODED_ALL)}).bind(this,x),T=(function(C,A){console.error("Error decoding audio: "+C+" - ",A?A.message:""),f--,f===0&&this.emit(r.DECODED_ALL)}).bind(this,x);this.context.decodeAudioData(g,y,T)}},setListenerPosition:function(i,a){return i===void 0&&(i=this.game.scale.width/2),a===void 0&&(a=this.game.scale.height/2),this.listenerPosition.set(i,a),this},unlock:function(){var i=this,a=document.body,u=function l(){if(i.context&&a){var f=a.removeEventListener;i.context.resume().then(function(){f("touchstart",l),f("touchend",l),f("click",l),f("keydown",l),i.unlocked=!0},function(){f("touchstart",l),f("touchend",l),f("click",l),f("keydown",l)})}};a&&(a.addEventListener("touchstart",u,!1),a.addEventListener("touchend",u,!1),a.addEventListener("click",u,!1),a.addEventListener("keydown",u,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var i=this.context;i&&!this.locked&&(i.state==="suspended"||i.state==="interrupted")&&i.resume()},update:function(i,a){var u=this.context.listener;if(u&&u.positionX!==void 0){var l=s(this.listenerPosition,"x",null),f=s(this.listenerPosition,"y",null);l&&l!==this._spatialx&&(this._spatialx=u.positionX.value=l),f&&f!==this._spatialy&&(this._spatialy=u.positionY.value=f)}v.prototype.update.call(this,i,a),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var i=this;this.context.close().then(function(){i.context=null})}v.prototype.destroy.call(this)},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(i){this.masterMuteNode.gain.setValueAtTime(i?0:1,0),this.emit(r.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(i){this.masterVolumeNode.gain.setValueAtTime(i,0),this.emit(r.GLOBAL_VOLUME,this,i)}}});p.exports=h},71207:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(59959),v=t(56694),o=t(72283),r=t(17922),n=new v({initialize:function(s){this.parent=s,this.list=[],this.position=0,this.addCallback=o,this.removeCallback=o,this._sortKey=""},add:function(e,s){return s?d.Add(this.list,e):d.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,s,h){return h?d.AddAt(this.list,e,s):d.AddAt(this.list,e,s,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,s){return e?(s===void 0&&(s=function(h,i){return h[e]-i[e]}),r(this.list,s),this):this},getByName:function(e){return d.GetFirst(this.list,"name",e)},getRandom:function(e,s){return d.GetRandom(this.list,e,s)},getFirst:function(e,s,h,i){return d.GetFirst(this.list,e,s,h,i)},getAll:function(e,s,h,i){return d.GetAll(this.list,e,s,h,i)},count:function(e,s){return d.CountAllMatching(this.list,e,s)},swap:function(e,s){d.Swap(this.list,e,s)},moveTo:function(e,s){return d.MoveTo(this.list,e,s)},moveAbove:function(e,s){return d.MoveAbove(this.list,e,s)},moveBelow:function(e,s){return d.MoveBelow(this.list,e,s)},remove:function(e,s){return s?d.Remove(this.list,e):d.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,s){return s?d.RemoveAt(this.list,e):d.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,s,h){return h?d.RemoveBetween(this.list,e,s):d.RemoveBetween(this.list,e,s,this.removeCallback,this)},removeAll:function(e){for(var s=this.list.length;s--;)this.remove(this.list[s],e);return this},bringToTop:function(e){return d.BringToTop(this.list,e)},sendToBack:function(e){return d.SendToBack(this.list,e)},moveUp:function(e){return d.MoveUp(this.list,e),e},moveDown:function(e){return d.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return d.Shuffle(this.list),this},replace:function(e,s){return d.Replace(this.list,e,s)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,s,h,i){return d.SetAll(this.list,e,s,h,i),this},each:function(e,s){for(var h=[null],i=2;i<arguments.length;i++)h.push(arguments[i]);for(i=0;i<this.list.length;i++)h[0]=this.list[i],e.apply(s,h)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});p.exports=n},33885:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=new d({initialize:function(r){if(this.entries={},this.size=0,Array.isArray(r))for(var n=0;n<r.length;n++)this.set(r[n][0],r[n][1])},set:function(o,r){return this.has(o)||this.size++,this.entries[o]=r,this},get:function(o){if(this.has(o))return this.entries[o]},getArray:function(){var o=[],r=this.entries;for(var n in r)o.push(r[n]);return o},has:function(o){return this.entries.hasOwnProperty(o)},delete:function(o){return this.has(o)&&(delete this.entries[o],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(o){delete this.entries[o]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var o=[],r=this.entries;for(var n in r)o.push(r[n]);return o},dump:function(){var o=this.entries;console.group("Map");for(var r in o)console.log(r,o[r]);console.groupEnd()},each:function(o){var r=this.entries;for(var n in r)if(o(n,r[n])===!1)break;return this},contains:function(o){var r=this.entries;for(var n in r)if(r[n]===o)return!0;return!1},merge:function(o,r){r===void 0&&(r=!1);var n=this.entries,e=o.entries;for(var s in e)n.hasOwnProperty(s)&&r?n[s]=e[s]:this.set(s,e[s]);return this}});p.exports=v},74623:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(6659),o=t(36716),r=new d({Extends:v,initialize:function(){v.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(n){return this._active.indexOf(n)>-1},isPending:function(n){return this._toProcess>0&&this._pending.indexOf(n)>-1},isDestroying:function(n){return this._destroy.indexOf(n)>-1},add:function(n){return this.checkQueue&&this.isActive()&&!this.isDestroying()||this.isPending()||(this._pending.push(n),this._toProcess++),n},remove:function(n){if(this.isPending(n)){var e=this._pending,s=e.indexOf(n);s!==-1&&e.splice(s,1)}else this.isActive(n)&&(this._destroy.push(n),this._toProcess++);return n},removeAll:function(){for(var n=this._active,e=this._destroy,s=n.length;s--;)e.push(n[s]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var n=this._destroy,e=this._active,s,h;for(s=0;s<n.length;s++){h=n[s];var i=e.indexOf(h);i!==-1&&(e.splice(i,1),this.emit(o.PROCESS_QUEUE_REMOVE,h))}for(n.length=0,n=this._pending,s=0;s<n.length;s++)h=n[s],(!this.checkQueue||this.checkQueue&&e.indexOf(h)===-1)&&(e.push(h),this.emit(o.PROCESS_QUEUE_ADD,h));return n.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});p.exports=r},68687:(p,S,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(53466);function v(g){if(!(this instanceof v))return new v(g);this._maxEntries=Math.max(4,g||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}v.prototype={all:function(){return this._all(this.data,[])},search:function(g){var y=this.data,T=[],C=this.toBBox;if(!c(g,y))return T;for(var A=[],w,E,P,B;y;){for(w=0,E=y.children.length;w<E;w++)P=y.children[w],B=y.leaf?C(P):P,c(g,B)&&(y.leaf?T.push(P):f(g,B)?this._all(P,T):A.push(P));y=A.pop()}return T},collides:function(g){var y=this.data,T=this.toBBox;if(!c(g,y))return!1;for(var C=[],A,w,E,P;y;){for(A=0,w=y.children.length;A<w;A++)if(E=y.children[A],P=y.leaf?T(E):E,c(g,P)){if(y.leaf||f(g,P))return!0;C.push(E)}y=C.pop()}return!1},load:function(g){if(!(g&&g.length))return this;if(g.length<this._minEntries){for(var y=0,T=g.length;y<T;y++)this.insert(g[y]);return this}var C=this._build(g.slice(),0,g.length-1,0);if(!this.data.children.length)this.data=C;else if(this.data.height===C.height)this._splitRoot(this.data,C);else{if(this.data.height<C.height){var A=this.data;this.data=C,C=A}this._insert(C,this.data.height-C.height-1,!0)}return this},insert:function(g){return g&&this._insert(g,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(g,y){if(!g)return this;for(var T=this.data,C=this.toBBox(g),A=[],w=[],E,P,B,R;T||A.length;){if(T||(T=A.pop(),P=A[A.length-1],E=w.pop(),R=!0),T.leaf&&(B=o(g,T.children,y),B!==-1))return T.children.splice(B,1),A.push(T),this._condense(A),this;!R&&!T.leaf&&f(T,C)?(A.push(T),w.push(E),E=0,P=T,T=T.children[0]):P?(E++,T=P.children[E],R=!1):T=null}return this},toBBox:function(g){return g},compareMinX:s,compareMinY:h,toJSON:function(){return this.data},fromJSON:function(g){return this.data=g,this},_all:function(g,y){for(var T=[];g;)g.leaf?y.push.apply(y,g.children):T.push.apply(T,g.children),g=T.pop();return y},_build:function(g,y,T,C){var A=T-y+1,w=this._maxEntries,E;if(A<=w)return E=m(g.slice(y,T+1)),r(E,this.toBBox),E;C||(C=Math.ceil(Math.log(A)/Math.log(w)),w=Math.ceil(A/Math.pow(w,C-1))),E=m([]),E.leaf=!1,E.height=C;var P=Math.ceil(A/w),B=P*Math.ceil(Math.sqrt(w)),R,I,N,X;for(x(g,y,T,B,this.compareMinX),R=y;R<=T;R+=B)for(N=Math.min(R+B-1,T),x(g,R,N,P,this.compareMinY),I=R;I<=N;I+=P)X=Math.min(I+P-1,N),E.children.push(this._build(g,I,X,C-1));return r(E,this.toBBox),E},_chooseSubtree:function(g,y,T,C){for(var A,w,E,P,B,R,I,N;C.push(y),!(y.leaf||C.length-1===T);){for(I=N=1/0,A=0,w=y.children.length;A<w;A++)E=y.children[A],B=i(E),R=u(g,E)-B,R<N?(N=R,I=B<I?B:I,P=E):R===N&&B<I&&(I=B,P=E);y=P||y.children[0]}return y},_insert:function(g,y,T){var C=this.toBBox,A=T?g:C(g),w=[],E=this._chooseSubtree(A,this.data,y,w);for(E.children.push(g),e(E,A);y>=0&&w[y].children.length>this._maxEntries;)this._split(w,y),y--;this._adjustParentBBoxes(A,w,y)},_split:function(g,y){var T=g[y],C=T.children.length,A=this._minEntries;this._chooseSplitAxis(T,A,C);var w=this._chooseSplitIndex(T,A,C),E=m(T.children.splice(w,T.children.length-w));E.height=T.height,E.leaf=T.leaf,r(T,this.toBBox),r(E,this.toBBox),y?g[y-1].children.push(E):this._splitRoot(T,E)},_splitRoot:function(g,y){this.data=m([g,y]),this.data.height=g.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(g,y,T){var C,A,w,E,P,B,R,I;for(B=R=1/0,C=y;C<=T-y;C++)A=n(g,0,C,this.toBBox),w=n(g,C,T,this.toBBox),E=l(A,w),P=i(A)+i(w),E<B?(B=E,I=C,R=P<R?P:R):E===B&&P<R&&(R=P,I=C);return I},_chooseSplitAxis:function(g,y,T){var C=g.leaf?this.compareMinX:s,A=g.leaf?this.compareMinY:h,w=this._allDistMargin(g,y,T,C),E=this._allDistMargin(g,y,T,A);w<E&&g.children.sort(C)},_allDistMargin:function(g,y,T,C){g.children.sort(C);var A=this.toBBox,w=n(g,0,y,A),E=n(g,T-y,T,A),P=a(w)+a(E),B,R;for(B=y;B<T-y;B++)R=g.children[B],e(w,g.leaf?A(R):R),P+=a(w);for(B=T-y-1;B>=y;B--)R=g.children[B],e(E,g.leaf?A(R):R),P+=a(E);return P},_adjustParentBBoxes:function(g,y,T){for(var C=T;C>=0;C--)e(y[C],g)},_condense:function(g){for(var y=g.length-1,T;y>=0;y--)g[y].children.length===0?y>0?(T=g[y-1].children,T.splice(T.indexOf(g[y]),1)):this.clear():r(g[y],this.toBBox)},compareMinX:function(g,y){return g.left-y.left},compareMinY:function(g,y){return g.top-y.top},toBBox:function(g){return{minX:g.left,minY:g.top,maxX:g.right,maxY:g.bottom}}};function o(g,y,T){if(!T)return y.indexOf(g);for(var C=0;C<y.length;C++)if(T(g,y[C]))return C;return-1}function r(g,y){n(g,0,g.children.length,y,g)}function n(g,y,T,C,A){A||(A=m(null)),A.minX=1/0,A.minY=1/0,A.maxX=-1/0,A.maxY=-1/0;for(var w=y,E;w<T;w++)E=g.children[w],e(A,g.leaf?C(E):E);return A}function e(g,y){return g.minX=Math.min(g.minX,y.minX),g.minY=Math.min(g.minY,y.minY),g.maxX=Math.max(g.maxX,y.maxX),g.maxY=Math.max(g.maxY,y.maxY),g}function s(g,y){return g.minX-y.minX}function h(g,y){return g.minY-y.minY}function i(g){return(g.maxX-g.minX)*(g.maxY-g.minY)}function a(g){return g.maxX-g.minX+(g.maxY-g.minY)}function u(g,y){return(Math.max(y.maxX,g.maxX)-Math.min(y.minX,g.minX))*(Math.max(y.maxY,g.maxY)-Math.min(y.minY,g.minY))}function l(g,y){var T=Math.max(g.minX,y.minX),C=Math.max(g.minY,y.minY),A=Math.min(g.maxX,y.maxX),w=Math.min(g.maxY,y.maxY);return Math.max(0,A-T)*Math.max(0,w-C)}function f(g,y){return g.minX<=y.minX&&g.minY<=y.minY&&y.maxX<=g.maxX&&y.maxY<=g.maxY}function c(g,y){return y.minX<=g.maxX&&y.minY<=g.maxY&&y.maxX>=g.minX&&y.maxY>=g.minY}function m(g){return{children:g,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function x(g,y,T,C,A){for(var w=[y,T],E;w.length;)T=w.pop(),y=w.pop(),!(T-y<=C)&&(E=y+Math.ceil((T-y)/C/2)*C,d(g,E,y,T,A),w.push(y,E,E,T))}p.exports=v},58403:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=new d({initialize:function(r){if(this.entries=[],Array.isArray(r))for(var n=0;n<r.length;n++)this.set(r[n])},set:function(o){return this.entries.indexOf(o)===-1&&this.entries.push(o),this},get:function(o,r){for(var n=0;n<this.entries.length;n++){var e=this.entries[n];if(e[o]===r)return e}},getArray:function(){return this.entries.slice(0)},delete:function(o){var r=this.entries.indexOf(o);return r>-1&&this.entries.splice(r,1),this},dump:function(){console.group("Set");for(var o=0;o<this.entries.length;o++){var r=this.entries[o];console.log(r)}console.groupEnd()},each:function(o,r){var n,e=this.entries.slice(),s=e.length;if(r)for(n=0;n<s&&o.call(r,e[n],n)!==!1;n++);else for(n=0;n<s&&o(e[n],n)!==!1;n++);return this},iterate:function(o,r){var n,e=this.entries.length;if(r)for(n=0;n<e&&o.call(r,this.entries[n],n)!==!1;n++);else for(n=0;n<e&&o(this.entries[n],n)!==!1;n++);return this},iterateLocal:function(o){var r,n=[];for(r=1;r<arguments.length;r++)n.push(arguments[r]);var e=this.entries.length;for(r=0;r<e;r++){var s=this.entries[r];s[o].apply(s,n)}return this},clear:function(){return this.entries.length=0,this},contains:function(o){return this.entries.indexOf(o)>-1},union:function(o){var r=new v;return o.entries.forEach(function(n){r.set(n)}),this.entries.forEach(function(n){r.set(n)}),r},intersect:function(o){var r=new v;return this.entries.forEach(function(n){o.contains(n)&&r.set(n)}),r},difference:function(o){var r=new v;return this.entries.forEach(function(n){o.contains(n)||r.set(n)}),r},size:{get:function(){return this.entries.length},set:function(o){return o<this.entries.length?this.entries.length=o:this.entries.length}}});p.exports=v},90881:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(82897),v=t(56694),o=t(84314),r=t(93736),n=new v({initialize:function(s,h,i,a){s===void 0&&(s=0),h===void 0&&(h=s),i===void 0&&(i=0),a===void 0&&(a=null),this._width=s,this._height=h,this._parent=a,this.aspectMode=i,this.aspectRatio=h===0?1:s/h,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new r},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,s){return e===void 0&&(e=0),s===void 0&&(s=e),this.snapTo.set(e,s),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,s){return e===void 0&&(e=0),s===void 0&&(s=e),this.minWidth=d(e,0,this.maxWidth),this.minHeight=d(s,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,s){return e===void 0&&(e=Number.MAX_VALUE),s===void 0&&(s=e),this.maxWidth=d(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=d(s,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,s){switch(e===void 0&&(e=0),s===void 0&&(s=e),this.aspectMode){case n.NONE:this._width=this.getNewWidth(o(e,this.snapTo.x)),this._height=this.getNewHeight(o(s,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case n.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(o(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case n.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(o(s,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case n.FIT:this.constrain(e,s,!0);break;case n.ENVELOP:this.constrain(e,s,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,s){return this._width=this.getNewWidth(o(e,this.snapTo.x)),this._height=this.getNewHeight(o(s,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,s){return s===void 0&&(s=!0),e=d(e,this.minWidth,this.maxWidth),s&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,s){return s===void 0&&(s=!0),e=d(e,this.minHeight,this.maxHeight),s&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,s,h){e===void 0&&(e=0),s===void 0&&(s=e),h===void 0&&(h=!0),e=this.getNewWidth(e),s=this.getNewHeight(s);var i=this.snapTo,a=s===0?1:e/s;return h&&this.aspectRatio>a||!h&&this.aspectRatio<a?(e=o(e,i.x),s=e/this.aspectRatio,i.y>0&&(s=o(s,i.y),e=s*this.aspectRatio)):(h&&this.aspectRatio<a||!h&&this.aspectRatio>a)&&(s=o(s,i.y),e=s*this.aspectRatio,i.x>0&&(e=o(e,i.x),s=e*(1/this.aspectRatio))),this._width=e,this._height=s,this},fitTo:function(e,s){return this.constrain(e,s,!0)},envelop:function(e,s){return this.constrain(e,s,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});n.NONE=0,n.WIDTH_CONTROLS_HEIGHT=1,n.HEIGHT_CONTROLS_WIDTH=2,n.FIT=3,n.ENVELOP=4,p.exports=n},94160:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},95393:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},36716:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={PROCESS_QUEUE_ADD:t(94160),PROCESS_QUEUE_REMOVE:t(95393)}},20010:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(36716),List:t(71207),Map:t(33885),ProcessQueue:t(74623),RTree:t(68687),Set:t(58403),Size:t(90881)}},17487:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(82897),o=t(27119),r=t(86459),n=t(28621),e=t(31673),s=new d({Extends:e,initialize:function(i,a,u,l,f){e.call(this,i,a,u,l,f),this.add("__BASE",0,0,0,l,f),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=l,this.height=f,this.imageData=this.context.getImageData(0,0,l,f),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===r.WEBGL&&this.refresh(),this},draw:function(h,i,a,u){return u===void 0&&(u=!0),this.context.drawImage(a,h,i),u&&this.update(),this},drawFrame:function(h,i,a,u,l){a===void 0&&(a=0),u===void 0&&(u=0),l===void 0&&(l=!0);var f=this.manager.getFrame(h,i);if(f){var c=f.canvasData,m=f.cutWidth,x=f.cutHeight,g=f.source.resolution;this.context.drawImage(f.source.image,c.x,c.y,m,x,a,u,m/g,x/g),l&&this.update()}return this},setPixel:function(h,i,a,u,l,f){f===void 0&&(f=255),h=Math.abs(Math.floor(h)),i=Math.abs(Math.floor(i));var c=this.getIndex(h,i);if(c>-1){var m=this.context.getImageData(h,i,1,1);m.data[0]=a,m.data[1]=u,m.data[2]=l,m.data[3]=f,this.context.putImageData(m,h,i)}return this},putData:function(h,i,a,u,l,f,c){return u===void 0&&(u=0),l===void 0&&(l=0),f===void 0&&(f=h.width),c===void 0&&(c=h.height),this.context.putImageData(h,i,a,u,l,f,c),this},getData:function(h,i,a,u){h=v(Math.floor(h),0,this.width-1),i=v(Math.floor(i),0,this.height-1),a=v(a,1,this.width-h),u=v(u,1,this.height-i);var l=this.context.getImageData(h,i,a,u);return l},getPixel:function(h,i,a){a||(a=new o);var u=this.getIndex(h,i);if(u>-1){var l=this.data,f=l[u+0],c=l[u+1],m=l[u+2],x=l[u+3];a.setTo(f,c,m,x)}return a},getPixels:function(h,i,a,u){h===void 0&&(h=0),i===void 0&&(i=0),a===void 0&&(a=this.width),u===void 0&&(u=a),h=Math.abs(Math.round(h)),i=Math.abs(Math.round(i));for(var l=v(h,0,this.width),f=v(h+a,0,this.width),c=v(i,0,this.height),m=v(i+u,0,this.height),x=new o,g=[],y=c;y<m;y++){for(var T=[],C=l;C<f;C++)x=this.getPixel(C,y,x),T.push({x:C,y,color:x.color,alpha:x.alphaGL});g.push(T)}return g},getIndex:function(h,i){return h=Math.abs(Math.round(h)),i=Math.abs(Math.round(i)),h<this.width&&i<this.height?(h+i*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(h,i,a,u,l){return h===void 0&&(h=0),i===void 0&&(i=0),a===void 0&&(a=this.width),u===void 0&&(u=this.height),l===void 0&&(l=!0),this.context.clearRect(h,i,a,u),l&&this.update(),this},setSize:function(h,i){return i===void 0&&(i=h),(h!==this.width||i!==this.height)&&(this.canvas.width=h,this.canvas.height=i,this._source.width=h,this._source.height=i,this._source.isPowerOf2=n(h,i),this.frames.__BASE.setSize(h,i,0,0),this.width=h,this.height=i,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});p.exports=s},845:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(95723),v=t(51052),o=t(61068),r=t(56694),n=t(86459),e=t(82047),s=t(72632),h=t(65641),i=t(37410),a=t(31673),u=t(75512),l=new r({Extends:a,initialize:function(c,m,x,g){x===void 0&&(x=256),g===void 0&&(g=256),this.type="DynamicTexture";var y=c.game.renderer,T=y&&y.type===n.CANVAS,C=T?o.create2D(this,x,g):[this];a.call(this,c,m,C,x,g),this.add("__BASE",0,0,0,x,g),this.renderer=y,this.isDrawing=!1,this.canvas=T?C:null,this.context=T?C.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new v(0,0,x,g).setScene(c.game.scene.systemScene,!1),this.renderTarget=T?null:new i(y,x,g,1,0,!1,!0,!0,!1),this.pipeline=T?null:y.pipelines.get(h.SINGLE_PIPELINE),this.setSize(x,g)},setSize:function(f,c){c===void 0&&(c=f);var m=this.get(),x=m.source;if(f!==this.width||c!==this.height){this.canvas&&(this.canvas.width=f,this.canvas.height=c);var g=this.renderTarget;g&&(g.resize(f,c),m.glTexture=g.texture,x.isRenderTexture=!0,x.isGLTexture=!0,x.glTexture=g.texture,x.glTexture.flipY=!0),this.camera.setSize(f,c),x.width=f,x.height=c,m.setSize(f,c),this.width=f,this.height=c}else{var y=this.getSourceImage();m.cutX+f>y.width&&(f=y.width-m.cutX),m.cutY+c>y.height&&(c=y.height-m.cutY),m.setSize(f,c,m.cutX,m.cutY)}return this},setIsSpriteTexture:function(f){return this.isSpriteTexture=f,this},fill:function(f,c,m,x,g,y){var T=this.camera,C=this.renderer;c===void 0&&(c=1),m===void 0&&(m=0),x===void 0&&(x=0),g===void 0&&(g=this.width),y===void 0&&(y=this.height);var A=f>>16&255,w=f>>8&255,E=f&255,P=this.renderTarget;if(T.preRender(),P){P.bind(!0);var B=this.pipeline.manager.set(this.pipeline),R=C.width/P.width,I=C.height/P.height;B.drawFillRect(m*R,x*I,g*R,y*I,u.getTintFromFloats(E/255,w/255,A/255,1),c),P.unbind(!0)}else{var N=this.context;C.setContext(N),N.globalCompositeOperation="source-over",N.fillStyle="rgba("+A+","+w+","+E+","+c+")",N.fillRect(m,x,g,y),C.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var f=this.context,c=this.renderTarget;c?c.clear():f&&(f.save(),f.setTransform(1,0,0,1,0,0),f.clearRect(0,0,this.width,this.height),f.restore()),this.dirty=!1}return this},stamp:function(f,c,m,x,g){m===void 0&&(m=0),x===void 0&&(x=0);var y=s(g,"alpha",1),T=s(g,"tint",16777215),C=s(g,"angle",0),A=s(g,"rotation",0),w=s(g,"scale",1),E=s(g,"scaleX",w),P=s(g,"scaleY",w),B=s(g,"originX",.5),R=s(g,"originY",.5),I=s(g,"blendMode",0),N=s(g,"erase",!1),X=s(g,"skipBatch",!1),Y=this.manager.resetStamp(y,T);return Y.setAngle(0),C!==0?Y.setAngle(C):A!==0&&Y.setRotation(A),Y.setScale(E,P),Y.setTexture(f,c),Y.setOrigin(B,R),Y.setBlendMode(I),N&&(this._eraseMode=!0),X?this.batchGameObject(Y,m,x):this.draw(Y,m,x),N&&(this._eraseMode=!1),this},erase:function(f,c,m){return this._eraseMode=!0,this.draw(f,c,m),this._eraseMode=!1,this},draw:function(f,c,m,x,g){return this.beginDraw(),this.batchDraw(f,c,m,x,g),this.endDraw(),this},drawFrame:function(f,c,m,x,g,y){return this.beginDraw(),this.batchDrawFrame(f,c,m,x,g,y),this.endDraw(),this},repeat:function(f,c,m,x,g,y,T,C,A){if(m===void 0&&(m=0),x===void 0&&(x=0),g===void 0&&(g=this.width),y===void 0&&(y=this.height),T===void 0&&(T=1),C===void 0&&(C=16777215),A===void 0&&(A=!1),f instanceof e?c=f:c=this.manager.getFrame(f,c),!c)return this;var w=this.manager.resetStamp(T,C);w.setFrame(c),w.setOrigin(0);var E=c.width,P=c.height;g=Math.floor(g),y=Math.floor(y);var B=Math.ceil(g/E),R=Math.ceil(y/P),I=B*E-g,N=R*P-y;I>0&&(I=E-I),N>0&&(N=P-N),m<0&&(B+=Math.ceil(Math.abs(m)/E)),x<0&&(R+=Math.ceil(Math.abs(x)/P));var X=m,Y=x,O=!1,D=this.manager.stampCrop.setTo(0,0,E,P);A||this.beginDraw();for(var F=0;F<R;F++){if(Y+P<0){Y+=P;continue}for(var M=0;M<B;M++){if(O=!1,X+E<0){X+=E;continue}else X<0&&(O=!0,D.width=E+X,D.x=E-D.width);Y<0&&(O=!0,D.height=P+Y,D.y=P-D.height),I>0&&M===B-1&&(O=!0,D.width=I),N>0&&F===R-1&&(O=!0,D.height=N),O&&w.setCrop(D),this.batchGameObject(w,X,Y),w.isCropped=!1,D.setTo(0,0,E,P),X+=E}X=m,Y+=P}return A||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var f=this.camera,c=this.renderer,m=this.renderTarget;f.preRender(),m?c.beginCapture(m.width,m.height):c.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(f,c,m,x,g){return Array.isArray(f)||(f=[f]),this.batchList(f,c,m,x,g),this},batchDrawFrame:function(f,c,m,x,g,y){m===void 0&&(m=0),x===void 0&&(x=0),g===void 0&&(g=1),y===void 0&&(y=16777215);var T=this.manager.getFrame(f,c);return T&&(this.renderTarget?this.pipeline.batchTextureFrame(T,m,x,y,g,this.camera.matrix,null):this.batchTextureFrame(T,m,x,g,y)),this},endDraw:function(f){if(f===void 0&&(f=this._eraseMode),this.isDrawing){var c=this.renderer,m=this.renderTarget;if(m){var x=c.endCapture(),g=c.pipelines.setUtility();g.blitFrame(x,m,1,!1,!1,f,this.isSpriteTexture),c.resetScissor(),c.resetViewport()}else c.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(f,c,m,x,g){var y=f.length;if(y!==0)for(var T=0;T<y;T++){var C=f[T];!C||C===this||(C.renderWebGL||C.renderCanvas?this.batchGameObject(C,c,m):C.isParent||C.list?this.batchGroup(C.getChildren(),c,m):typeof C=="string"?this.batchTextureFrameKey(C,null,c,m,x,g):C instanceof e?this.batchTextureFrame(C,c,m,x,g):Array.isArray(C)&&this.batchList(C,c,m,x,g))}},batchGroup:function(f,c,m){c===void 0&&(c=0),m===void 0&&(m=0);for(var x=0;x<f.length;x++){var g=f[x];g.willRender(this.camera)&&this.batchGameObject(g,g.x+c,g.y+m)}},batchGameObject:function(f,c,m){c===void 0&&(c=f.x),m===void 0&&(m=f.y);var x=f.x,g=f.y,y=this.camera,T=this.renderer,C=this._eraseMode,A=f.mask;if(f.setPosition(c,m),this.canvas){if(C){var w=f.blendMode;f.blendMode=d.ERASE}A&&A.preRenderCanvas(T,f,y),f.renderCanvas(T,f,y,null),A&&A.postRenderCanvas(T,f,y),C&&(f.blendMode=w)}else T&&(A&&A.preRenderWebGL(T,f,y),C||T.setBlendMode(f.blendMode),f.renderWebGL(T,f,y),A&&A.postRenderWebGL(T,y,this.renderTarget));f.setPosition(x,g)},batchTextureFrameKey:function(f,c,m,x,g,y){var T=this.manager.getFrame(f,c);T&&this.batchTextureFrame(T,m,x,g,y)},batchTextureFrame:function(f,c,m,x,g){c===void 0&&(c=0),m===void 0&&(m=0),x===void 0&&(x=1),g===void 0&&(g=16777215);var y=this.camera.matrix,T=this.renderTarget;if(T)this.pipeline.batchTextureFrame(f,c,m,g,x,y,null);else{var C=this.context,A=f.canvasData,w=f.source.image;C.save(),C.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",C.globalAlpha=x,y.setToContext(C),A.width>0&&A.height>0&&C.drawImage(w,A.x,A.y,A.width,A.height,c,m,A.width,A.height),C.restore()}},snapshotArea:function(f,c,m,x,g,y,T){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,g,!1,f,c,m,x,y,T):this.renderer.snapshotCanvas(this.canvas,g,!1,f,c,m,x,y,T),this},snapshot:function(f,c,m){return this.snapshotArea(0,0,this.width,this.height,f,c,m)},snapshotPixel:function(f,c,m){return this.snapshotArea(f,c,1,1,m,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(f,c,m,x){var g=this.manager.resetStamp();g.setTexture(this),g.setOrigin(0),g.renderWebGL(f,g,m,x)},renderCanvas:function(){},preDestroy:function(){o.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.stamp.destroy(),this.canvas=null,this.context=null,this.renderer=null,this.scene=null}});p.exports=l},82047:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(82897),o=t(98611),r=new d({initialize:function(e,s,h,i,a,u,l){this.texture=e,this.name=s,this.source=e.source[h],this.sourceIndex=h,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(u,l,i,a)},setSize:function(n,e,s,h){s===void 0&&(s=0),h===void 0&&(h=0),this.cutX=s,this.cutY=h,this.cutWidth=n,this.cutHeight=e,this.width=n,this.height=e,this.halfWidth=Math.floor(n*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(n/2),this.centerY=Math.floor(e/2);var i=this.data,a=i.cut;a.x=s,a.y=h,a.w=n,a.h=e,a.r=s+n,a.b=h+e,i.sourceSize.w=n,i.sourceSize.h=e,i.spriteSourceSize.w=n,i.spriteSourceSize.h=e,i.radius=.5*Math.sqrt(n*n+e*e);var u=i.drawImage;return u.x=s,u.y=h,u.width=n,u.height=e,this.updateUVs()},setTrim:function(n,e,s,h,i,a){var u=this.data,l=u.spriteSourceSize;return u.trim=!0,u.sourceSize.w=n,u.sourceSize.h=e,l.x=s,l.y=h,l.w=i,l.h=a,l.r=s+i,l.b=h+a,this.x=s,this.y=h,this.width=i,this.height=a,this.halfWidth=i*.5,this.halfHeight=a*.5,this.centerX=Math.floor(i/2),this.centerY=Math.floor(a/2),this.updateUVs()},setCropUVs:function(n,e,s,h,i,a,u){var l=this.cutX,f=this.cutY,c=this.cutWidth,m=this.cutHeight,x=this.realWidth,g=this.realHeight;e=v(e,0,x),s=v(s,0,g),h=v(h,0,x-e),i=v(i,0,g-s);var y=l+e,T=f+s,C=h,A=i,w=this.data;if(w.trim){var E=w.spriteSourceSize;h=v(h,0,c-e),i=v(i,0,m-s);var P=e+h,B=s+i,R=!(E.r<e||E.b<s||E.x>P||E.y>B);if(R){var I=Math.max(E.x,e),N=Math.max(E.y,s),X=Math.min(E.r,P)-I,Y=Math.min(E.b,B)-N;C=X,A=Y,a?y=l+(c-(I-E.x)-X):y=l+(I-E.x),u?T=f+(m-(N-E.y)-Y):T=f+(N-E.y),e=I,s=N,h=X,i=Y}else y=0,T=0,C=0,A=0}else a&&(y=l+(c-e-h)),u&&(T=f+(m-s-i));var O=this.source.width,D=this.source.height;return n.u0=Math.max(0,y/O),n.v0=Math.max(0,T/D),n.u1=Math.min(1,(y+C)/O),n.v1=Math.min(1,(T+A)/D),n.x=e,n.y=s,n.cx=y,n.cy=T,n.cw=C,n.ch=A,n.width=h,n.height=i,n.flipX=a,n.flipY=u,n},updateCropUVs:function(n,e,s){return this.setCropUVs(n,n.x,n.y,n.width,n.height,e,s)},setUVs:function(n,e,s,h,i,a){var u=this.data.drawImage;return u.width=n,u.height=e,this.u0=s,this.v0=h,this.u1=i,this.v1=a,this},updateUVs:function(){var n=this.cutX,e=this.cutY,s=this.cutWidth,h=this.cutHeight,i=this.data.drawImage;i.width=s,i.height=h;var a=this.source.width,u=this.source.height;return this.u0=n/a,this.v0=e/u,this.u1=(n+s)/a,this.v1=(e+h)/u,this},updateUVsInverted:function(){var n=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/n,this.v0=this.cutY/e,this.u1=this.cutX/n,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var n=new r(this.texture,this.name,this.sourceIndex);return n.cutX=this.cutX,n.cutY=this.cutY,n.cutWidth=this.cutWidth,n.cutHeight=this.cutHeight,n.x=this.x,n.y=this.y,n.width=this.width,n.height=this.height,n.halfWidth=this.halfWidth,n.halfHeight=this.halfHeight,n.centerX=this.centerX,n.centerY=this.centerY,n.rotated=this.rotated,n.data=o(!0,n.data,this.data),n.updateUVs(),n},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});p.exports=r},31673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(82047),o=t(32547),r='Texture "%s" has no frame "%s"',n=new d({initialize:function(s,h,i,a,u){Array.isArray(i)||(i=[i]),this.manager=s,this.key=h,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var l=0;l<i.length;l++)this.source.push(new o(this,i[l],a,u))},add:function(e,s,h,i,a,u){if(this.has(e))return null;var l=new v(this,e,s,h,i,a,u);return this.frames[e]=l,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,l},remove:function(e){if(this.has(e)){var s=this.get(e);return s.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var s=this.frames[e];return s||(console.warn(r,this.key,e),s=this.frames[this.firstFrame]),s},getTextureSourceIndex:function(e){for(var s=0;s<this.source.length;s++)if(this.source[s]===e)return s;return-1},getFramesFromTextureSource:function(e,s){s===void 0&&(s=!1);var h=[];for(var i in this.frames)if(!(i==="__BASE"&&!s)){var a=this.frames[i];a.sourceIndex===e&&h.push(a)}return h},getFrameNames:function(e){e===void 0&&(e=!1);var s=Object.keys(this.frames);if(!e){var h=s.indexOf("__BASE");h!==-1&&s.splice(h,1)}return s},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var s=this.frames[e];return s?s.source.image:(console.warn(r,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var s=this.frames[e],h;return s?h=s.sourceIndex:(console.warn(r,this.key,e),h=this.frames.__BASE.sourceIndex),this.dataSource[h].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var s=0;s<e.length;s++){var h=this.source[s];this.dataSource.push(new o(this,e[s],h.width,h.height))}},setFilter:function(e){var s;for(s=0;s<this.source.length;s++)this.source[s].setFilter(e);for(s=0;s<this.dataSource.length;s++)this.dataSource[s].setFilter(e)},destroy:function(){var e,s=this.source,h=this.dataSource;for(e=0;e<s.length;e++)s[e]&&s[e].destroy();for(e=0;e<h.length;e++)h[e]&&h[e].destroy();for(var i in this.frames){var a=this.frames[i];a&&a.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});p.exports=n},6237:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(61068),v=t(17487),o=t(56694),r=t(27119),n=t(86459),e=t(845),s=t(6659),h=t(38203),i=t(82047),a=t(97081),u=t(52780),l=t(10850),f=t(1539),c=t(42911),m=t(69150),x=t(74118),g=t(31673),y=new o({Extends:s,initialize:function(C){s.call(this),this.game=C,this.name="TextureManager",this.list={},this._tempCanvas=d.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new x,this.silentWarnings=!1,C.events.once(a.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(h.LOAD,this.updatePending,this),this.on(h.ERROR,this.updatePending,this);var T=this.game.config;this.addBase64("__DEFAULT",T.defaultImage),this.addBase64("__MISSING",T.missingImage),this.addBase64("__WHITE",T.whiteImage),this.game.events.once(a.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(h.LOAD),this.off(h.ERROR),this.emit(h.READY),this.stamp=new f(this.game.scene.systemScene).setOrigin(0))},checkKey:function(T){return this.exists(T)?(this.silentWarnings||console.error("Texture key already in use: "+T),!1):!0},remove:function(T){if(typeof T=="string")if(this.exists(T))T=this.get(T);else return this.silentWarnings||console.warn("No texture found matching key: "+T),this;return this.list.hasOwnProperty(T.key)&&(T.destroy(),this.emit(h.REMOVE,T.key),this.emit(h.REMOVE_KEY+T.key)),this},removeKey:function(T){return this.list.hasOwnProperty(T)&&delete this.list[T],this},addBase64:function(T,C){if(this.checkKey(T)){var A=this,w=new Image;w.onerror=function(){A.emit(h.ERROR,T)},w.onload=function(){var E=A.create(T,w);m.Image(E,0),A.emit(h.ADD,T,E),A.emit(h.ADD_KEY+T,E),A.emit(h.LOAD,T,E)},w.src=C}return this},getBase64:function(T,C,A,w){A===void 0&&(A="image/png"),w===void 0&&(w=.92);var E="",P=this.getFrame(T,C);if(P&&(P.source.isRenderTexture||P.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(P){var B=P.canvasData,R=d.create2D(this,B.width,B.height),I=R.getContext("2d",{willReadFrequently:!0});B.width>0&&B.height>0&&I.drawImage(P.source.image,B.x,B.y,B.width,B.height,0,0,B.width,B.height),E=R.toDataURL(A,w),d.remove(R)}return E},addImage:function(T,C,A){var w=null;return this.checkKey(T)&&(w=this.create(T,C),m.Image(w,0),A&&w.setDataSource(A),this.emit(h.ADD,T,w),this.emit(h.ADD_KEY+T,w)),w},addGLTexture:function(T,C,A,w){var E=null;return this.checkKey(T)&&(A===void 0&&(A=C.width),w===void 0&&(w=C.height),E=this.create(T,C,A,w),E.add("__BASE",0,0,0,A,w),this.emit(h.ADD,T,E),this.emit(h.ADD_KEY+T,E)),E},addCompressedTexture:function(T,C,A){var w=null;if(this.checkKey(T)){if(w=this.create(T,C),w.add("__BASE",0,0,0,C.width,C.height),A)if(Array.isArray(A))for(var E=0;E<A.length;E++)m.JSONHash(w,E,A[E]);else m.JSONHash(w,0,A);this.emit(h.ADD,T,w),this.emit(h.ADD_KEY+T,w)}return w},addRenderTexture:function(T,C){var A=null;return this.checkKey(T)&&(A=this.create(T,C),A.add("__BASE",0,0,0,C.width,C.height),this.emit(h.ADD,T,A),this.emit(h.ADD_KEY+T,A)),A},generate:function(T,C){if(this.checkKey(T)){var A=d.create(this,1,1);return C.canvas=A,u(C),this.addCanvas(T,A)}else return null},createCanvas:function(T,C,A){if(C===void 0&&(C=256),A===void 0&&(A=256),this.checkKey(T)){var w=d.create(this,C,A,n.CANVAS,!0);return this.addCanvas(T,w)}return null},addCanvas:function(T,C,A){A===void 0&&(A=!1);var w=null;return A?w=new v(this,T,C,C.width,C.height):this.checkKey(T)&&(w=new v(this,T,C,C.width,C.height),this.list[T]=w,this.emit(h.ADD,T,w),this.emit(h.ADD_KEY+T,w)),w},addDynamicTexture:function(T,C,A){var w=null;return typeof T=="string"&&!this.exists(T)?w=new e(this,T,C,A):(w=T,T=w.key),this.checkKey(T)?(this.list[T]=w,this.emit(h.ADD,T,w),this.emit(h.ADD_KEY+T,w)):w=null,w},addAtlas:function(T,C,A,w){return Array.isArray(A.textures)||Array.isArray(A.frames)?this.addAtlasJSONArray(T,C,A,w):this.addAtlasJSONHash(T,C,A,w)},addAtlasJSONArray:function(T,C,A,w){var E=null;if(C instanceof g?(T=E.key,E=C):this.checkKey(T)&&(E=this.create(T,C)),E){if(Array.isArray(A))for(var P=A.length===1,B=0;B<E.source.length;B++){var R=P?A[0]:A[B];m.JSONArray(E,B,R)}else m.JSONArray(E,0,A);w&&E.setDataSource(w),this.emit(h.ADD,T,E),this.emit(h.ADD_KEY+T,E)}return E},addAtlasJSONHash:function(T,C,A,w){var E=null;if(C instanceof g?(T=E.key,E=C):this.checkKey(T)&&(E=this.create(T,C)),E){if(Array.isArray(A))for(var P=0;P<A.length;P++)m.JSONHash(E,P,A[P]);else m.JSONHash(E,0,A);w&&E.setDataSource(w),this.emit(h.ADD,T,E),this.emit(h.ADD_KEY+T,E)}return E},addAtlasXML:function(T,C,A,w){var E=null;return C instanceof g?(T=E.key,E=C):this.checkKey(T)&&(E=this.create(T,C)),E&&(m.AtlasXML(E,0,A),w&&E.setDataSource(w),this.emit(h.ADD,T,E),this.emit(h.ADD_KEY+T,E)),E},addUnityAtlas:function(T,C,A,w){var E=null;return C instanceof g?(T=E.key,E=C):this.checkKey(T)&&(E=this.create(T,C)),E&&(m.UnityYAML(E,0,A),w&&E.setDataSource(w),this.emit(h.ADD,T,E),this.emit(h.ADD_KEY+T,E)),E},addSpriteSheet:function(T,C,A,w){var E=null;if(C instanceof g?(T=E.key,E=C):this.checkKey(T)&&(E=this.create(T,C)),E){var P=E.source[0].width,B=E.source[0].height;m.SpriteSheet(E,0,0,0,P,B,A),w&&E.setDataSource(w),this.emit(h.ADD,T,E),this.emit(h.ADD_KEY+T,E)}return E},addSpriteSheetFromAtlas:function(T,C){if(!this.checkKey(T))return null;var A=l(C,"atlas",null),w=l(C,"frame",null);if(!(!A||!w)){var E=this.get(A),P=E.get(w);if(P){var B=this.create(T,P.source.image);return P.trimmed?m.SpriteSheetFromAtlas(B,P,C):m.SpriteSheet(B,0,P.cutX,P.cutY,P.cutWidth,P.cutHeight,C),this.emit(h.ADD,T,B),this.emit(h.ADD_KEY+T,B),B}}},create:function(T,C,A,w){var E=null;return this.checkKey(T)&&(E=new g(this,T,C,A,w),this.list[T]=E),E},exists:function(T){return this.list.hasOwnProperty(T)},get:function(T){return T===void 0&&(T="__DEFAULT"),this.list[T]?this.list[T]:T instanceof g?T:T instanceof i?T.texture:this.list.__MISSING},cloneFrame:function(T,C){if(this.list[T])return this.list[T].get(C).clone()},getFrame:function(T,C){if(this.list[T])return this.list[T].get(C)},parseFrame:function(T){if(T){if(typeof T=="string")return this.getFrame(T);if(Array.isArray(T)&&T.length===2)return this.getFrame(T[0],T[1]);if(c(T))return this.getFrame(T.key,T.frame);if(T instanceof g)return T.get();if(T instanceof i)return T}else return},getTextureKeys:function(){var T=[];for(var C in this.list)C!=="__DEFAULT"&&C!=="__MISSING"&&C!=="__WHITE"&&T.push(C);return T},getPixel:function(T,C,A,w){var E=this.getFrame(A,w);if(E){T-=E.x,C-=E.y;var P=E.data.cut;if(T+=P.x,C+=P.y,T>=P.x&&T<P.r&&C>=P.y&&C<P.b){var B=this._tempContext;B.clearRect(0,0,1,1),B.drawImage(E.source.image,T,C,1,1,0,0,1,1);var R=B.getImageData(0,0,1,1);return new r(R.data[0],R.data[1],R.data[2],R.data[3])}}return null},getPixelAlpha:function(T,C,A,w){var E=this.getFrame(A,w);if(E){T-=E.x,C-=E.y;var P=E.data.cut;if(T+=P.x,C+=P.y,T>=P.x&&T<P.r&&C>=P.y&&C<P.b){var B=this._tempContext;B.clearRect(0,0,1,1),B.drawImage(E.source.image,T,C,1,1,0,0,1,1);var R=B.getImageData(0,0,1,1);return R.data[3]}}return null},setTexture:function(T,C,A){return this.list[C]&&(T.texture=this.list[C],T.frame=T.texture.get(A)),T},renameTexture:function(T,C){var A=this.get(T);return A&&T!==C?(A.key=C,this.list[C]=A,delete this.list[T],!0):!1},each:function(T,C){for(var A=[null],w=1;w<arguments.length;w++)A.push(arguments[w]);for(var E in this.list)A[0]=this.list[E],T.apply(C,A)},resetStamp:function(T,C){T===void 0&&(T=1),C===void 0&&(C=16777215);var A=this.stamp;return A.setCrop(),A.setPosition(0),A.setAngle(0),A.setScale(1),A.setAlpha(T),A.setTint(C),A},destroy:function(){for(var T in this.list)this.list[T].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,d.remove(this._tempCanvas)}});p.exports=y},32547:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(61068),v=t(56694),o=t(28621),r=t(27394),n=new v({initialize:function(s,h,i,a,u){u===void 0&&(u=!1);var l=s.manager.game;this.renderer=l.renderer,this.texture=s,this.source=h,this.image=h.compressed?null:h,this.compressionAlgorithm=h.compressed?h.format:null,this.resolution=1,this.width=i||h.naturalWidth||h.videoWidth||h.width||0,this.height=a||h.naturalHeight||h.videoHeight||h.height||0,this.scaleMode=r.DEFAULT,this.isCanvas=h instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&h instanceof HTMLVideoElement,this.isRenderTexture=h.type==="RenderTexture"||h.type==="DynamicTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&h instanceof WebGLTexture,this.isPowerOf2=o(this.width,this.height),this.glTexture=null,this.flipY=u,this.init(l)},init:function(e){var s=this.renderer;if(s){var h=this.source;if(s.gl){var i=this.image,a=this.flipY,u=this.width,l=this.height,f=this.scaleMode;this.isCanvas?this.glTexture=s.createCanvasTexture(i,!1,a):this.isVideo?this.glTexture=s.createVideoTexture(i,!1,a):this.isRenderTexture?this.glTexture=s.createTextureFromSource(null,u,l,f):this.isGLTexture?this.glTexture=h:this.compressionAlgorithm?this.glTexture=s.createTextureFromSource(h):this.glTexture=s.createTextureFromSource(i,u,l,f)}else this.isRenderTexture&&(this.image=h.canvas)}e.config.antialias||this.setFilter(1)},setFilter:function(e){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,e),this.scaleMode=e},setFlipY:function(e){return e===void 0&&(e=!0),this.flipY=e,this},update:function(){var e=this.renderer,s=this.image,h=this.flipY,i=e.gl;i&&this.isCanvas?this.glTexture=e.updateCanvasTexture(s,this.glTexture,h):i&&this.isVideo&&(this.glTexture=e.updateVideoTexture(s,this.glTexture,h))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture,!0),this.isCanvas&&d.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});p.exports=n},65154:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LINEAR:0,NEAREST:1};p.exports=S},49644:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addtexture"},29569:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addtexture-"},60079:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="onerror"},72665:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="onload"},93006:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},69018:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removetexture"},85549:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removetexture-"},38203:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(49644),ADD_KEY:t(29569),ERROR:t(60079),LOAD:t(72665),READY:t(93006),REMOVE:t(69018),REMOVE_KEY:t(85549)}},87499:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(98611),v=t(65154),o={CanvasTexture:t(17487),DynamicTexture:t(845),Events:t(38203),FilterMode:v,Frame:t(82047),Parsers:t(69150),Texture:t(31673),TextureManager:t(6237),TextureSource:t(32547)};o=d(!1,o,v),p.exports=o},35082:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){if(!v.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var o=t.source[d];t.add("__BASE",d,0,0,o.width,o.height);for(var r=v.getElementsByTagName("SubTexture"),n,e=0;e<r.length;e++){var s=r[e].attributes,h=s.name.value,i=parseInt(s.x.value,10),a=parseInt(s.y.value,10),u=parseInt(s.width.value,10),l=parseInt(s.height.value,10);if(n=t.add(h,d,i,a,u,l),s.frameX){var f=Math.abs(parseInt(s.frameX.value,10)),c=Math.abs(parseInt(s.frameY.value,10)),m=parseInt(s.frameWidth.value,10),x=parseInt(s.frameHeight.value,10);n.setTrim(u,l,f,c,m,x)}}return t};p.exports=S},83332:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){var v=t.source[d];return t.add("__BASE",d,0,0,v.width,v.height),t};p.exports=S},21560:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){var v=t.source[d];return t.add("__BASE",d,0,0,v.width,v.height),t};p.exports=S},64423:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(32742),v=function(o,r,n){if(!n.frames&&!n.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=o.source[r];o.add("__BASE",r,0,0,e.width,e.height);for(var s=Array.isArray(n.textures)?n.textures[r].frames:n.frames,h,i=0;i<s.length;i++){var a=s[i];if(h=o.add(a.filename,r,a.frame.x,a.frame.y,a.frame.w,a.frame.h),!h){console.warn("Invalid atlas json, frame already exists: "+a.filename);continue}a.trimmed&&h.setTrim(a.sourceSize.w,a.sourceSize.h,a.spriteSourceSize.x,a.spriteSourceSize.y,a.spriteSourceSize.w,a.spriteSourceSize.h),a.rotated&&(h.rotated=!0,h.updateUVsInverted());var u=a.anchor||a.pivot;u&&(h.customPivot=!0,h.pivotX=u.x,h.pivotY=u.y),h.customData=d(a)}for(var l in n)l!=="frames"&&(Array.isArray(n[l])?o.customData[l]=n[l].slice(0):o.customData[l]=n[l]);return o};p.exports=v},17264:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(32742),v=function(o,r,n){if(!n.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=o.source[r];o.add("__BASE",r,0,0,e.width,e.height);var s=n.frames,h;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];if(h=o.add(i,r,a.frame.x,a.frame.y,a.frame.w,a.frame.h),!h){console.warn("Invalid atlas json, frame already exists: "+i);continue}a.trimmed&&h.setTrim(a.sourceSize.w,a.sourceSize.h,a.spriteSourceSize.x,a.spriteSourceSize.y,a.spriteSourceSize.w,a.spriteSourceSize.h),a.rotated&&(h.rotated=!0,h.updateUVsInverted());var u=a.anchor||a.pivot;u&&(h.customPivot=!0,h.pivotX=u.x,h.pivotY=u.y),h.customData=d(a)}for(var l in n)l!=="frames"&&(Array.isArray(n[l])?o.customData[l]=n[l].slice(0):o.customData[l]=n[l]);return o};p.exports=v},67409:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var d=[171,75,84,88,32,49,49,187,13,10,26,10],v,o=new Uint8Array(t,0,12);for(v=0;v<o.length;v++)if(o[v]!==d[v]){console.warn("KTXParser - Invalid file format");return}var r=Uint32Array.BYTES_PER_ELEMENT,n=new DataView(t,12,13*r),e=n.getUint32(0,!0)===67305985,s=n.getUint32(1*r,e);if(s!==0){console.warn("KTXParser - Only compressed formats supported");return}var h=n.getUint32(4*r,e),i=n.getUint32(6*r,e),a=n.getUint32(7*r,e),u=Math.max(1,n.getUint32(11*r,e)),l=n.getUint32(12*r,e),f=new Array(u),c=12+13*4+l,m=i,x=a;for(v=0;v<u;v++){var g=new Int32Array(t,c,1)[0];c+=4,f[v]={data:new Uint8Array(t,c,g),width:m,height:x},m=Math.max(1,m>>1),x=Math.max(1,x>>1),c+=g}return{mipmaps:f,width:i,height:a,internalFormat:h,compressed:!0,generateMipmap:!1}};p.exports=S},24904:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(T,C,A,w,E,P,B){return B===void 0&&(B=16),Math.floor((T+A)/E)*Math.floor((C+w)/P)*B}function t(T,C){return T=Math.max(T,16),C=Math.max(C,8),T*C/4}function d(T,C){return T=Math.max(T,8),C=Math.max(C,8),T*C/2}function v(T,C){return S(T,C,3,3,4,4,8)}function o(T,C){return S(T,C,3,3,4,4)}function r(T,C){return S(T,C,4,3,5,4)}function n(T,C){return S(T,C,4,4,5,5)}function e(T,C){return S(T,C,5,4,6,5)}function s(T,C){return S(T,C,5,5,6,6)}function h(T,C){return S(T,C,7,4,8,5)}function i(T,C){return S(T,C,7,5,8,6)}function a(T,C){return S(T,C,7,7,8,8)}function u(T,C){return S(T,C,9,4,10,5)}function l(T,C){return S(T,C,9,5,10,6)}function f(T,C){return S(T,C,9,7,10,8)}function c(T,C){return S(T,C,9,9,10,10)}function m(T,C){return S(T,C,11,9,12,10)}function x(T,C){return S(T,C,11,11,12,12)}var g={0:{sizeFunc:t,glFormat:35841},1:{sizeFunc:t,glFormat:35843},2:{sizeFunc:d,glFormat:35840},3:{sizeFunc:d,glFormat:35842},6:{sizeFunc:v,glFormat:36196},7:{sizeFunc:v,glFormat:33776},8:{sizeFunc:o,glFormat:33777},9:{sizeFunc:o,glFormat:33778},11:{sizeFunc:o,glFormat:33779},22:{sizeFunc:v,glFormat:37492},23:{sizeFunc:o,glFormat:37496},24:{sizeFunc:v,glFormat:37494},25:{sizeFunc:v,glFormat:37488},26:{sizeFunc:o,glFormat:37490},27:{sizeFunc:o,glFormat:37808},28:{sizeFunc:r,glFormat:37809},29:{sizeFunc:n,glFormat:37810},30:{sizeFunc:e,glFormat:37811},31:{sizeFunc:s,glFormat:37812},32:{sizeFunc:h,glFormat:37813},33:{sizeFunc:i,glFormat:37814},34:{sizeFunc:a,glFormat:37815},35:{sizeFunc:u,glFormat:37816},36:{sizeFunc:l,glFormat:37817},37:{sizeFunc:f,glFormat:37818},38:{sizeFunc:c,glFormat:37819},39:{sizeFunc:m,glFormat:37820},40:{sizeFunc:x,glFormat:37821}},y=function(T){for(var C=new Uint32Array(T,0,13),A=C[2],w=g[A].glFormat,E=g[A].sizeFunc,P=C[11],B=C[7],R=C[6],I=52+C[12],N=new Uint8Array(T,I),X=new Array(P),Y=0,O=B,D=R,F=0;F<P;F++){var M=E(O,D);X[F]={data:new Uint8Array(N.buffer,N.byteOffset+Y,M),width:O,height:D},O=Math.max(1,O>>1),D=Math.max(1,D>>1),Y+=M}return{mipmaps:X,width:B,height:R,internalFormat:w,compressed:!0,generateMipmap:!1}};p.exports=y},6143:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72632),v=function(o,r,n,e,s,h,i){var a=d(i,"frameWidth",null),u=d(i,"frameHeight",a);if(a===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var l=o.source[r];o.add("__BASE",r,0,0,l.width,l.height);var f=d(i,"startFrame",0),c=d(i,"endFrame",-1),m=d(i,"margin",0),x=d(i,"spacing",0),g=Math.floor((s-m+x)/(a+x)),y=Math.floor((h-m+x)/(u+x)),T=g*y;T===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",o.key),(f>T||f<-T)&&(f=0),f<0&&(f=T+f),(c===-1||c>T||c<f)&&(c=T);for(var C=m,A=m,w=0,E=0,P=0,B=0;B<T;B++){w=0,E=0;var R=C+a,I=A+u;R>s&&(w=R-s),I>h&&(E=I-h),B>=f&&B<=c&&(o.add(P,r,n+C,e+A,a-w,u-E),P++),C+=a+x,C+a>s&&(C=m,A+=u+x)}return o};p.exports=v},20030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72632),v=function(o,r,n){var e=d(n,"frameWidth",null),s=d(n,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var h=o.source[0];o.add("__BASE",0,0,0,h.width,h.height),d(n,"startFrame",0),d(n,"endFrame",-1);for(var i=d(n,"margin",0),a=d(n,"spacing",0),u=r.cutX,l=r.cutY,f=r.cutWidth,c=r.cutHeight,m=r.realWidth,x=r.realHeight,g=Math.floor((m-i+a)/(e+a)),y=Math.floor((x-i+a)/(s+a)),T=r.x,C=e-T,A=e-(m-f-T),w=r.y,E=s-w,P=s-(x-c-w),B,R=i,I=i,N=0,X=0,Y=0;Y<y;Y++){for(var O=Y===0,D=Y===y-1,F=0;F<g;F++){var M=F===0,L=F===g-1;if(B=o.add(N,X,u+R,l+I,e,s),M||O||L||D){var G=M?T:0,U=O?w:0,W=0,H=0;M&&(W+=e-C),L&&(W+=e-A),O&&(H+=s-E),D&&(H+=s-P);var J=e-W,Q=s-H;B.cutWidth=J,B.cutHeight=Q,B.setTrim(e,s,G,U,J,Q)}R+=a,M?R+=C:L?R+=A:R+=e,N++}R=i,I+=a,O?I+=E:D?I+=P:I+=s}return o};p.exports=v},89187:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=0,t=function(v,o,r,n){var e=S-n.y-n.height;v.add(r,o,n.x,e,n.width,n.height)},d=function(v,o,r){var n=v.source[o];v.add("__BASE",o,0,0,n.width,n.height),S=n.height;for(var e=r.split(`
`),s=/^[ ]*(- )*(\w+)+[: ]+(.*)/,h="",i="",a={x:0,y:0,width:0,height:0},u=0;u<e.length;u++){var l=e[u].match(s);if(l){var f=l[1]==="- ",c=l[2],m=l[3];if(f&&(i!==h&&(t(v,o,i,a),h=i),a={x:0,y:0,width:0,height:0}),c==="name"){i=m;continue}switch(c){case"x":case"y":case"width":case"height":a[c]=parseInt(m,10);break}}}return i!==h&&t(v,o,i,a),v};p.exports=d},69150:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AtlasXML:t(35082),Canvas:t(83332),Image:t(21560),JSONArray:t(64423),JSONHash:t(17264),KTXParser:t(67409),PVRParser:t(24904),SpriteSheet:t(6143),SpriteSheetFromAtlas:t(20030),UnityYAML:t(89187)}},93560:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},97042:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=new d({initialize:function(r,n,e,s,h,i,a){(e===void 0||e<=0)&&(e=32),(s===void 0||s<=0)&&(s=32),h===void 0&&(h=0),i===void 0&&(i=0),this.name=r,this.firstgid=n|0,this.imageWidth=e|0,this.imageHeight=s|0,this.imageMargin=h|0,this.imageSpacing=i|0,this.properties=a||{},this.images=[],this.total=0},containsImageIndex:function(o){return o>=this.firstgid&&o<this.firstgid+this.total},addImage:function(o,r){return this.images.push({gid:o,image:r}),this.total++,this}});p.exports=v},46422:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=new d({initialize:function(r){if(this.gids=[],r!==void 0)for(var n=0;n<r.length;++n)for(var e=r[n],s=0;s<e.total;++s)this.gids[e.firstgid+s]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(o){this.gids=o?this._gids:void 0}},getTypeIncludingTile:function(o){if(o.type!==void 0&&o.type!=="")return o.type;if(!(!this.gids||o.gid===void 0)){var r=this.gids[o.gid];if(r){var n=r.getTileData(o.gid);if(n)return n.type}}},setTextureAndFrame:function(o,r,n,e){if(r===null&&this.gids&&e.gid!==void 0){var s=this.gids[e.gid];s&&(r===null&&s.image!==void 0&&(r=s.image.key),n===null&&(n=e.gid-s.firstgid),o.scene.textures.getFrame(r,n)||(r=null,n=null))}o.setTexture(r,n)},setPropertiesFromTiledObject:function(o,r){if(this.gids!==void 0&&r.gid!==void 0){var n=this.gids[r.gid];n!==void 0&&this.setFromJSON(o,n.getTileProperties(r.gid))}this.setFromJSON(o,r.properties)},setFromJSON:function(o,r){if(r){if(Array.isArray(r)){r.forEach(function(e){o.setData(e.name,e.value)});return}for(var n in r)o[n]!==void 0?o[n]=r[n]:o.setData(n,r[n])}}});p.exports=v},15043:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(93560),v=t(16586),o=t(90715),r=t(89797),n=function(e,s,h,i,a,u,l,f){h===void 0&&(h=32),i===void 0&&(i=32),a===void 0&&(a=10),u===void 0&&(u=10),f===void 0&&(f=!1);var c=null;if(Array.isArray(l)){var m=s!==void 0?s:"map";c=o(m,d.ARRAY_2D,l,h,i,f)}else if(s!==void 0){var x=e.cache.tilemap.get(s);x?c=o(s,x.format,x.data,h,i,f):console.warn("No map data found for key "+s)}return c===null&&(c=new v({tileWidth:h,tileHeight:i,width:a,height:u})),new r(e,c)};p.exports=n},29633:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(64937),o=t(12920),r=t(28699),n=t(66658),e=new d({Mixins:[v.Alpha,v.Flip,v.Visible],initialize:function(h,i,a,u,l,f,c,m){this.layer=h,this.index=i,this.x=a,this.y=u,this.width=l,this.height=f,this.right,this.bottom,this.baseWidth=c!==void 0?c:l,this.baseHeight=m!==void 0?m:f,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(s,h){return!(s<this.pixelX||h<this.pixelY||s>this.right||h>this.bottom)},copy:function(s){return this.index=s.index,this.alpha=s.alpha,this.properties=r(s.properties),this.visible=s.visible,this.setFlip(s.flipX,s.flipY),this.tint=s.tint,this.rotation=s.rotation,this.collideUp=s.collideUp,this.collideDown=s.collideDown,this.collideLeft=s.collideLeft,this.collideRight=s.collideRight,this.collisionCallback=s.collisionCallback,this.collisionCallbackContext=s.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(s){var h=this.tilemapLayer;if(h){var i=h.tileToWorldXY(this.x,this.y,void 0,s);return i.x}return this.x*this.baseWidth},getRight:function(s){var h=this.tilemapLayer;return h?this.getLeft(s)+this.width*h.scaleX:this.getLeft(s)+this.width},getTop:function(s){var h=this.tilemapLayer;if(h){var i=h.tileToWorldXY(this.x,this.y,void 0,s);return i.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(s){var h=this.tilemapLayer;return h?this.getTop(s)+this.height*h.scaleY:this.getTop(s)+this.height},getBounds:function(s,h){return h===void 0&&(h=new n),h.x=this.getLeft(s),h.y=this.getTop(s),h.width=this.getRight(s)-h.x,h.height=this.getBottom(s)-h.y,h},getCenterX:function(s){return(this.getLeft(s)+this.getRight(s))/2},getCenterY:function(s){return(this.getTop(s)+this.getBottom(s))/2},intersects:function(s,h,i,a){return!(i<=this.pixelX||a<=this.pixelY||s>=this.right||h>=this.bottom)},isInteresting:function(s,h){return s&&h?this.canCollide||this.hasInterestingFace:s?this.collides:h?this.hasInterestingFace:!1},resetCollision:function(s){if(s===void 0&&(s=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,s){var h=this.tilemapLayer;h&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(s,h,i,a,u){if(h===void 0&&(h=s),i===void 0&&(i=s),a===void 0&&(a=s),u===void 0&&(u=!0),this.collideLeft=s,this.collideRight=h,this.collideUp=i,this.collideDown=a,this.faceLeft=s,this.faceRight=h,this.faceTop=i,this.faceBottom=a,u){var l=this.tilemapLayer;l&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(s,h){return s===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=s,this.collisionCallbackContext=h),this},setSize:function(s,h,i,a){return s!==void 0&&(this.width=s),h!==void 0&&(this.height=h),i!==void 0&&(this.baseWidth=i),a!==void 0&&(this.baseHeight=a),this.updatePixelXY(),this},updatePixelXY:function(){var s=this.layer.orientation;if(s===o.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(s===o.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(s===o.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(s===o.HEXAGONAL){var h=this.layer.staggerAxis,i=this.layer.staggerIndex,a=this.layer.hexSideLength,u,l;h==="y"?(l=(this.baseHeight-a)/2+a,i==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*l):h==="x"&&(u=(this.baseWidth-a)/2+a,this.pixelX=this.x*u,i==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var s=this.layer.tilemapLayer;if(s){var h=s.gidMap[this.index];if(h)return h}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var s=this.tilemapLayer;return s?s.tilemap:null}}});p.exports=e},89797:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(14556),v=t(56694),o=t(75606),r=t(93560),n=t(72632),e=t(94990),s=t(46422),h=t(12920),i=t(52257),a=t(72677),u=t(13747),l=t(29633),f=t(5047),c=t(87177),m=t(47975),x=new v({initialize:function(y,T){this.scene=y,this.tileWidth=T.tileWidth,this.tileHeight=T.tileHeight,this.width=T.width,this.height=T.height,this.orientation=T.orientation,this.renderOrder=T.renderOrder,this.format=T.format,this.version=T.version,this.properties=T.properties,this.widthInPixels=T.widthInPixels,this.heightInPixels=T.heightInPixels,this.imageCollections=T.imageCollections,this.images=T.images,this.layers=T.layers,this.tiles=T.tiles,this.tilesets=T.tilesets,this.objects=T.objects,this.currentLayerIndex=0,this.hexSideLength=T.hexSideLength;var C=this.orientation;this._convert={WorldToTileXY:f.GetWorldToTileXYFunction(C),WorldToTileX:f.GetWorldToTileXFunction(C),WorldToTileY:f.GetWorldToTileYFunction(C),TileToWorldXY:f.GetTileToWorldXYFunction(C),TileToWorldX:f.GetTileToWorldXFunction(C),TileToWorldY:f.GetTileToWorldYFunction(C),GetTileCorners:f.GetTileCornersFunction(C)}},setRenderOrder:function(g){var y=["right-down","left-down","right-up","left-up"];return typeof g=="number"&&(g=y[g]),y.indexOf(g)>-1&&(this.renderOrder=g),this},addTilesetImage:function(g,y,T,C,A,w,E,P){if(g===void 0)return null;if(y==null&&(y=g),!this.scene.sys.textures.exists(y))return console.warn("Invalid Tileset Image: "+y),null;var B=this.scene.sys.textures.get(y),R=this.getTilesetIndex(g);if(R===null&&this.format===r.TILED_JSON)return console.warn("No data found for Tileset: "+g),null;var I=this.tilesets[R];return I?(I.setTileSize(T,C),I.setSpacing(A,w),I.setImage(B),I):(T===void 0&&(T=this.tileWidth),C===void 0&&(C=this.tileHeight),A===void 0&&(A=0),w===void 0&&(w=0),E===void 0&&(E=0),P===void 0&&(P={x:0,y:0}),I=new m(g,E,T,C,A,w,void 0,void 0,P),I.setImage(B),this.tilesets.push(I),this.tiles=d(this),I)},copy:function(g,y,T,C,A,w,E,P){return P=this.getLayer(P),P!==null?(f.Copy(g,y,T,C,A,w,E,P),this):null},createBlankLayer:function(g,y,T,C,A,w,E,P){T===void 0&&(T=0),C===void 0&&(C=0),A===void 0&&(A=this.width),w===void 0&&(w=this.height),E===void 0&&(E=this.tileWidth),P===void 0&&(P=this.tileHeight);var B=this.getLayerIndex(g);if(B!==null)return console.warn("Invalid Tilemap Layer ID: "+g),null;for(var R=new e({name:g,tileWidth:E,tileHeight:P,width:A,height:w,orientation:this.orientation}),I,N=0;N<w;N++){I=[];for(var X=0;X<A;X++)I.push(new l(R,-1,X,N,E,P,this.tileWidth,this.tileHeight));R.data.push(I)}this.layers.push(R),this.currentLayerIndex=this.layers.length-1;var Y=new c(this.scene,this,this.currentLayerIndex,y,T,C);return Y.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(Y),Y},createLayer:function(g,y,T,C){var A=this.getLayerIndex(g);if(A===null)return console.warn("Invalid Tilemap Layer ID: "+g),typeof g=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var w=this.layers[A];if(w.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+g),null;this.currentLayerIndex=A,T===void 0&&(T=w.x),C===void 0&&(C=w.y);var E=new c(this.scene,this,A,y,T,C);return E.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(E),E},createFromObjects:function(g,y,T){T===void 0&&(T=!0);var C=[],A=this.getObjectLayer(g);if(!A)return console.warn("createFromObjects: Invalid objectLayerName given: "+g),C;var w=new s(T?this.tilesets:void 0);Array.isArray(y)||(y=[y]);for(var E=A.objects,P=0;P<y.length;P++){var B=y[P],R=n(B,"id",null),I=n(B,"gid",null),N=n(B,"name",null),X=n(B,"type",null);w.enabled=!n(B,"ignoreTileset",null);for(var Y,O=[],D=0;D<E.length;D++)Y=E[D],(R===null&&I===null&&N===null&&X===null||R!==null&&Y.id===R||I!==null&&Y.gid===I||N!==null&&Y.name===N||X!==null&&w.getTypeIncludingTile(Y)===X)&&O.push(Y);for(var F=n(B,"classType",u),M=n(B,"scene",this.scene),L=n(B,"container",null),G=n(B,"key",null),U=n(B,"frame",null),W=0;W<O.length;W++){Y=O[W];var H=new F(M);if(H.setName(Y.name),H.setPosition(Y.x,Y.y),w.setTextureAndFrame(H,G,U,Y),Y.width&&(H.displayWidth=Y.width),Y.height&&(H.displayHeight=Y.height),this.orientation===h.ISOMETRIC){var J=this.tileWidth/this.tileHeight,Q={x:H.x-H.y,y:(H.x+H.y)/J};H.x=Q.x,H.y=Q.y}var $={x:H.originX*Y.width,y:(H.originY-(Y.gid?1:0))*Y.height};if(Y.rotation){var k=o(Y.rotation);i($,k),H.rotation=k}H.x+=$.x,H.y+=$.y,(Y.flippedHorizontal!==void 0||Y.flippedVertical!==void 0)&&H.setFlip(Y.flippedHorizontal,Y.flippedVertical),Y.visible||(H.visible=!1),w.setPropertiesFromTiledObject(H,Y),L?L.add(H):M.add.existing(H),C.push(H)}}return C},createFromTiles:function(g,y,T,C,A,w){return w=this.getLayer(w),w===null?null:f.CreateFromTiles(g,y,T,C,A,w)},fill:function(g,y,T,C,A,w,E){return w===void 0&&(w=!0),E=this.getLayer(E),E===null?null:(f.Fill(g,y,T,C,A,w,E),this)},filterObjects:function(g,y,T){if(typeof g=="string"){var C=g;if(g=this.getObjectLayer(g),!g)return console.warn("No object layer found with the name: "+C),null}return g.objects.filter(y,T)},filterTiles:function(g,y,T,C,A,w,E,P){return P=this.getLayer(P),P===null?null:f.FilterTiles(g,y,T,C,A,w,E,P)},findByIndex:function(g,y,T,C){return C=this.getLayer(C),C===null?null:f.FindByIndex(g,y,T,C)},findObject:function(g,y,T){if(typeof g=="string"){var C=g;if(g=this.getObjectLayer(g),!g)return console.warn("No object layer found with the name: "+C),null}return g.objects.find(y,T)||null},findTile:function(g,y,T,C,A,w,E,P){return P=this.getLayer(P),P===null?null:f.FindTile(g,y,T,C,A,w,E,P)},forEachTile:function(g,y,T,C,A,w,E,P){return P=this.getLayer(P),P===null?null:(f.ForEachTile(g,y,T,C,A,w,E,P),this)},getImageIndex:function(g){return this.getIndex(this.images,g)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(g){return g.name})},getIndex:function(g,y){for(var T=0;T<g.length;T++)if(g[T].name===y)return T;return null},getLayer:function(g){var y=this.getLayerIndex(g);return y!==null?this.layers[y]:null},getObjectLayer:function(g){var y=this.getIndex(this.objects,g);return y!==null?this.objects[y]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(g){return g.name})},getLayerIndex:function(g){return g===void 0?this.currentLayerIndex:typeof g=="string"?this.getLayerIndexByName(g):typeof g=="number"&&g<this.layers.length?g:g instanceof c&&g.tilemap===this?g.layerIndex:null},getLayerIndexByName:function(g){return this.getIndex(this.layers,g)},getTileAt:function(g,y,T,C){return C=this.getLayer(C),C===null?null:f.GetTileAt(g,y,T,C)},getTileAtWorldXY:function(g,y,T,C,A){return A=this.getLayer(A),A===null?null:f.GetTileAtWorldXY(g,y,T,C,A)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(g){return g.name})},getTilesWithin:function(g,y,T,C,A,w){return w=this.getLayer(w),w===null?null:f.GetTilesWithin(g,y,T,C,A,w)},getTilesWithinShape:function(g,y,T,C){return C=this.getLayer(C),C===null?null:f.GetTilesWithinShape(g,y,T,C)},getTilesWithinWorldXY:function(g,y,T,C,A,w,E){return E=this.getLayer(E),E===null?null:f.GetTilesWithinWorldXY(g,y,T,C,A,w,E)},getTileset:function(g){var y=this.getIndex(this.tilesets,g);return y!==null?this.tilesets[y]:null},getTilesetIndex:function(g){return this.getIndex(this.tilesets,g)},hasTileAt:function(g,y,T){return T=this.getLayer(T),T===null?null:f.HasTileAt(g,y,T)},hasTileAtWorldXY:function(g,y,T,C){return C=this.getLayer(C),C===null?null:f.HasTileAtWorldXY(g,y,T,C)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(g){this.setLayer(g)}},putTileAt:function(g,y,T,C,A){return C===void 0&&(C=!0),A=this.getLayer(A),A===null?null:f.PutTileAt(g,y,T,C,A)},putTileAtWorldXY:function(g,y,T,C,A,w){return C===void 0&&(C=!0),w=this.getLayer(w),w===null?null:f.PutTileAtWorldXY(g,y,T,C,A,w)},putTilesAt:function(g,y,T,C,A){return C===void 0&&(C=!0),A=this.getLayer(A),A===null?null:(f.PutTilesAt(g,y,T,C,A),this)},randomize:function(g,y,T,C,A,w){return w=this.getLayer(w),w===null?null:(f.Randomize(g,y,T,C,A,w),this)},calculateFacesAt:function(g,y,T){return T=this.getLayer(T),T===null?null:(f.CalculateFacesAt(g,y,T),this)},calculateFacesWithin:function(g,y,T,C,A){return A=this.getLayer(A),A===null?null:(f.CalculateFacesWithin(g,y,T,C,A),this)},removeLayer:function(g){var y=this.getLayerIndex(g);if(y!==null){a(this.layers,y);for(var T=y;T<this.layers.length;T++)this.layers[T].tilemapLayer&&this.layers[T].tilemapLayer.layerIndex--;return this.currentLayerIndex===y&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(g){var y=this.getLayerIndex(g);return y!==null?(g=this.layers[y],g.tilemapLayer.destroy(),a(this.layers,y),this.currentLayerIndex===y&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var g=this.layers,y=0;y<g.length;y++)g[y].tilemapLayer&&g[y].tilemapLayer.destroy(!1);return g.length=0,this.currentLayerIndex=0,this},removeTile:function(g,y,T){y===void 0&&(y=-1),T===void 0&&(T=!0);var C=[];Array.isArray(g)||(g=[g]);for(var A=0;A<g.length;A++){var w=g[A];C.push(this.removeTileAt(w.x,w.y,!0,T,w.tilemapLayer)),y>-1&&this.putTileAt(y,w.x,w.y,T,w.tilemapLayer)}return C},removeTileAt:function(g,y,T,C,A){return T===void 0&&(T=!0),C===void 0&&(C=!0),A=this.getLayer(A),A===null?null:f.RemoveTileAt(g,y,T,C,A)},removeTileAtWorldXY:function(g,y,T,C,A,w){return T===void 0&&(T=!0),C===void 0&&(C=!0),w=this.getLayer(w),w===null?null:f.RemoveTileAtWorldXY(g,y,T,C,A,w)},renderDebug:function(g,y,T){return T=this.getLayer(T),T===null?null:(this.orientation===h.ORTHOGONAL&&f.RenderDebug(g,y,T),this)},renderDebugFull:function(g,y){for(var T=this.layers,C=0;C<T.length;C++)f.RenderDebug(g,y,T[C]);return this},replaceByIndex:function(g,y,T,C,A,w,E){return E=this.getLayer(E),E===null?null:(f.ReplaceByIndex(g,y,T,C,A,w,E),this)},setCollision:function(g,y,T,C,A){return y===void 0&&(y=!0),T===void 0&&(T=!0),A===void 0&&(A=!0),C=this.getLayer(C),C===null?null:(f.SetCollision(g,y,T,C,A),this)},setCollisionBetween:function(g,y,T,C,A){return T===void 0&&(T=!0),C===void 0&&(C=!0),A=this.getLayer(A),A===null?null:(f.SetCollisionBetween(g,y,T,C,A),this)},setCollisionByProperty:function(g,y,T,C){return y===void 0&&(y=!0),T===void 0&&(T=!0),C=this.getLayer(C),C===null?null:(f.SetCollisionByProperty(g,y,T,C),this)},setCollisionByExclusion:function(g,y,T,C){return y===void 0&&(y=!0),T===void 0&&(T=!0),C=this.getLayer(C),C===null?null:(f.SetCollisionByExclusion(g,y,T,C),this)},setCollisionFromCollisionGroup:function(g,y,T){return g===void 0&&(g=!0),y===void 0&&(y=!0),T=this.getLayer(T),T===null?null:(f.SetCollisionFromCollisionGroup(g,y,T),this)},setTileIndexCallback:function(g,y,T,C){return C=this.getLayer(C),C===null?null:(f.SetTileIndexCallback(g,y,T,C),this)},setTileLocationCallback:function(g,y,T,C,A,w,E){return E=this.getLayer(E),E===null?null:(f.SetTileLocationCallback(g,y,T,C,A,w,E),this)},setLayer:function(g){var y=this.getLayerIndex(g);return y!==null&&(this.currentLayerIndex=y),this},setBaseTileSize:function(g,y){this.tileWidth=g,this.tileHeight=y,this.widthInPixels=this.width*g,this.heightInPixels=this.height*y;for(var T=0;T<this.layers.length;T++){this.layers[T].baseTileWidth=g,this.layers[T].baseTileHeight=y;for(var C=this.layers[T].data,A=this.layers[T].width,w=this.layers[T].height,E=0;E<w;E++)for(var P=0;P<A;P++){var B=C[E][P];B!==null&&B.setSize(void 0,void 0,g,y)}}return this},setLayerTileSize:function(g,y,T){if(T=this.getLayer(T),T===null)return this;T.tileWidth=g,T.tileHeight=y;for(var C=T.data,A=T.width,w=T.height,E=0;E<w;E++)for(var P=0;P<A;P++){var B=C[E][P];B!==null&&B.setSize(g,y)}return this},shuffle:function(g,y,T,C,A){return A=this.getLayer(A),A===null?null:(f.Shuffle(g,y,T,C,A),this)},swapByIndex:function(g,y,T,C,A,w,E){return E=this.getLayer(E),E===null?null:(f.SwapByIndex(g,y,T,C,A,w,E),this)},tileToWorldX:function(g,y,T){return T=this.getLayer(T),T===null?null:this._convert.TileToWorldX(g,y,T)},tileToWorldY:function(g,y,T){return T=this.getLayer(T),T===null?null:this._convert.TileToWorldY(g,y,T)},tileToWorldXY:function(g,y,T,C,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldXY(g,y,T,C,A)},getTileCorners:function(g,y,T,C){return C=this.getLayer(C),C===null?null:this._convert.GetTileCorners(g,y,T,C)},weightedRandomize:function(g,y,T,C,A,w){return w=this.getLayer(w),w===null?null:(f.WeightedRandomize(y,T,C,A,g,w),this)},worldToTileX:function(g,y,T,C){return C=this.getLayer(C),C===null?null:this._convert.WorldToTileX(g,y,T,C)},worldToTileY:function(g,y,T,C){return C=this.getLayer(C),C===null?null:this._convert.WorldToTileY(g,y,T,C)},worldToTileXY:function(g,y,T,C,A,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileXY(g,y,T,C,A,w)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});p.exports=x},4843:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(99325),v=t(15043);d.register("tilemap",function(o){var r=o!==void 0?o:{};return v(this.scene,r.key,r.tileWidth,r.tileHeight,r.width,r.height,r.data,r.insertNull)})},37940:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(61286),v=t(15043);d.register("tilemap",function(o,r,n,e,s,h,i){return o===null&&(o=void 0),r===null&&(r=void 0),n===null&&(n=void 0),e===null&&(e=void 0),s===null&&(s=void 0),v(this.scene,o,r,n,e,s,h,i)})},87177:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(64937),o=t(89980),r=t(5047),n=t(96193),e=t(93736),s=new d({Extends:o,Mixins:[v.Alpha,v.BlendMode,v.ComputedSize,v.Depth,v.Flip,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.Transform,v.Visible,v.ScrollFactor,n],initialize:function(i,a,u,l,f,c){o.call(this,i,"TilemapLayer"),this.isTilemap=!0,this.tilemap=a,this.layerIndex=u,this.layer=a.layers[u],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=r.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new e,this.setTilesets(l),this.setAlpha(this.layer.alpha),this.setPosition(f,c),this.setOrigin(0,0),this.setSize(a.tileWidth*this.layer.width,a.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(h){var i=[],a=[],u=this.tilemap;Array.isArray(h)||(h=[h]);for(var l=0;l<h.length;l++){var f=h[l];if(typeof f=="string"&&(f=u.getTileset(f)),f){a.push(f);for(var c=f.firstgid,m=0;m<f.total;m++)i[c+m]=f}}this.gidMap=i,this.tileset=a},setRenderOrder:function(h){var i=["right-down","left-down","right-up","left-up"];return typeof h=="string"&&(h=i.indexOf(h)),h>=0&&h<4&&(this._renderOrder=h),this},calculateFacesAt:function(h,i){return r.CalculateFacesAt(h,i,this.layer),this},calculateFacesWithin:function(h,i,a,u){return r.CalculateFacesWithin(h,i,a,u,this.layer),this},createFromTiles:function(h,i,a,u,l){return r.CreateFromTiles(h,i,a,u,l,this.layer)},cull:function(h){return this.cullCallback(this.layer,h,this.culledTiles,this._renderOrder)},copy:function(h,i,a,u,l,f,c){return r.Copy(h,i,a,u,l,f,c,this.layer),this},fill:function(h,i,a,u,l,f){return r.Fill(h,i,a,u,l,f,this.layer),this},filterTiles:function(h,i,a,u,l,f,c){return r.FilterTiles(h,i,a,u,l,f,c,this.layer)},findByIndex:function(h,i,a){return r.FindByIndex(h,i,a,this.layer)},findTile:function(h,i,a,u,l,f,c){return r.FindTile(h,i,a,u,l,f,c,this.layer)},forEachTile:function(h,i,a,u,l,f,c){return r.ForEachTile(h,i,a,u,l,f,c,this.layer),this},setTint:function(h,i,a,u,l,f){h===void 0&&(h=16777215);var c=function(m){m.tint=h};return this.forEachTile(c,this,i,a,u,l,f)},getTileAt:function(h,i,a){return r.GetTileAt(h,i,a,this.layer)},getTileAtWorldXY:function(h,i,a,u){return r.GetTileAtWorldXY(h,i,a,u,this.layer)},getIsoTileAtWorldXY:function(h,i,a,u,l){a===void 0&&(a=!0);var f=this.tempVec;return r.IsometricWorldToTileXY(h,i,!0,f,l,this.layer,a),this.getTileAt(f.x,f.y,u)},getTilesWithin:function(h,i,a,u,l){return r.GetTilesWithin(h,i,a,u,l,this.layer)},getTilesWithinShape:function(h,i,a){return r.GetTilesWithinShape(h,i,a,this.layer)},getTilesWithinWorldXY:function(h,i,a,u,l,f){return r.GetTilesWithinWorldXY(h,i,a,u,l,f,this.layer)},hasTileAt:function(h,i){return r.HasTileAt(h,i,this.layer)},hasTileAtWorldXY:function(h,i,a){return r.HasTileAtWorldXY(h,i,a,this.layer)},putTileAt:function(h,i,a,u){return r.PutTileAt(h,i,a,u,this.layer)},putTileAtWorldXY:function(h,i,a,u,l){return r.PutTileAtWorldXY(h,i,a,u,l,this.layer)},putTilesAt:function(h,i,a,u){return r.PutTilesAt(h,i,a,u,this.layer),this},randomize:function(h,i,a,u,l){return r.Randomize(h,i,a,u,l,this.layer),this},removeTileAt:function(h,i,a,u){return r.RemoveTileAt(h,i,a,u,this.layer)},removeTileAtWorldXY:function(h,i,a,u,l){return r.RemoveTileAtWorldXY(h,i,a,u,l,this.layer)},renderDebug:function(h,i){return r.RenderDebug(h,i,this.layer),this},replaceByIndex:function(h,i,a,u,l,f){return r.ReplaceByIndex(h,i,a,u,l,f,this.layer),this},setSkipCull:function(h){return h===void 0&&(h=!0),this.skipCull=h,this},setCullPadding:function(h,i){return h===void 0&&(h=1),i===void 0&&(i=1),this.cullPaddingX=h,this.cullPaddingY=i,this},setCollision:function(h,i,a,u){return r.SetCollision(h,i,a,this.layer,u),this},setCollisionBetween:function(h,i,a,u){return r.SetCollisionBetween(h,i,a,u,this.layer),this},setCollisionByProperty:function(h,i,a){return r.SetCollisionByProperty(h,i,a,this.layer),this},setCollisionByExclusion:function(h,i,a){return r.SetCollisionByExclusion(h,i,a,this.layer),this},setCollisionFromCollisionGroup:function(h,i){return r.SetCollisionFromCollisionGroup(h,i,this.layer),this},setTileIndexCallback:function(h,i,a){return r.SetTileIndexCallback(h,i,a,this.layer),this},setTileLocationCallback:function(h,i,a,u,l,f){return r.SetTileLocationCallback(h,i,a,u,l,f,this.layer),this},shuffle:function(h,i,a,u){return r.Shuffle(h,i,a,u,this.layer),this},swapByIndex:function(h,i,a,u,l,f){return r.SwapByIndex(h,i,a,u,l,f,this.layer),this},tileToWorldX:function(h,i){return this.tilemap.tileToWorldX(h,i,this)},tileToWorldY:function(h,i){return this.tilemap.tileToWorldY(h,i,this)},tileToWorldXY:function(h,i,a,u){return this.tilemap.tileToWorldXY(h,i,a,u,this)},getTileCorners:function(h,i,a){return this.tilemap.getTileCorners(h,i,a,this)},weightedRandomize:function(h,i,a,u,l){return r.WeightedRandomize(i,a,u,l,h,this.layer),this},worldToTileX:function(h,i,a){return this.tilemap.worldToTileX(h,i,a,this)},worldToTileY:function(h,i,a){return this.tilemap.worldToTileY(h,i,a,this)},worldToTileXY:function(h,i,a,u,l){return this.tilemap.worldToTileXY(h,i,a,u,l,this)},destroy:function(h){h===void 0&&(h=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),h&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],o.prototype.destroy.call(this))}});p.exports=s},17394:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(69360),v=new d,o=new d,r=new d,n=function(e,s,h,i){var a=s.cull(h),u=a.length,l=h.alpha*s.alpha;if(!(u===0||l<=0)){var f=v,c=o,m=r;c.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),f.copyFrom(h.matrix);var x=e.currentContext,g=s.gidMap;x.save(),i?(f.multiplyWithOffset(i,-h.scrollX*s.scrollFactorX,-h.scrollY*s.scrollFactorY),c.e=s.x,c.f=s.y,f.multiply(c,m),m.copyToContext(x)):(c.e-=h.scrollX*s.scrollFactorX,c.f-=h.scrollY*s.scrollFactorY,c.copyToContext(x)),(!e.antialias||s.scaleX>1||s.scaleY>1)&&(x.imageSmoothingEnabled=!1);for(var y=0;y<u;y++){var T=a[y],C=g[T.index];if(C){var A=C.image.getSourceImage(),w=C.getTileTextureCoordinates(T.index),E=C.tileWidth,P=C.tileHeight;if(!(w===null||E===0||P===0)){var B=E*.5,R=P*.5;w.x+=C.tileOffset.x,w.y+=C.tileOffset.y,x.save(),x.translate(T.pixelX+B,T.pixelY+R),T.rotation!==0&&x.rotate(T.rotation),(T.flipX||T.flipY)&&x.scale(T.flipX?-1:1,T.flipY?-1:1),x.globalAlpha=l*T.alpha,x.drawImage(A,w.x,w.y,E,P,-B,-R,E,P),x.restore()}}}x.restore()}};p.exports=n},96193:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72283),v=d,o=d;v=t(51395),o=t(17394),p.exports={renderWebGL:v,renderCanvas:o}},51395:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(75512),v=function(o,r,n){var e=r.cull(n),s=e.length,h=n.alpha*r.alpha;if(!(s===0||h<=0)){var i=r.gidMap,a=o.pipelines.set(r.pipeline,r),u=d.getTintAppendFloatAlpha,l=r.scrollFactorX,f=r.scrollFactorY,c=r.x,m=r.y,x=r.scaleX,g=r.scaleY;o.pipelines.preBatch(r);for(var y=0;y<s;y++){var T=e[y],C=i[T.index];if(C){var A=C.getTileTextureCoordinates(T.index);if(A!==null){var w=C.glTexture,E=a.setTexture2D(w,r),P=C.tileWidth,B=C.tileHeight,R=A.x,I=A.y,N=C.tileWidth*.5,X=C.tileHeight*.5,Y=C.tileOffset.x,O=C.tileOffset.y,D=u(T.tint,h*T.alpha);a.batchTexture(r,w,w.width,w.height,c+T.pixelX*x+(N*x-Y),m+T.pixelY*g+(X*g-O),T.width,T.height,x,g,T.rotation,T.flipX,T.flipY,l,f,N,X,R,I,P,B,D,D,D,D,!1,0,0,n,null,!0,E)}}}o.pipelines.postBatch(r)}};p.exports=v},47975:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(93736),o=new d({initialize:function(n,e,s,h,i,a,u,l,f){(s===void 0||s<=0)&&(s=32),(h===void 0||h<=0)&&(h=32),i===void 0&&(i=0),a===void 0&&(a=0),u===void 0&&(u={}),l===void 0&&(l={}),this.name=n,this.firstgid=e,this.tileWidth=s,this.tileHeight=h,this.tileMargin=i,this.tileSpacing=a,this.tileProperties=u,this.tileData=l,this.tileOffset=new v,f!==void 0&&this.tileOffset.set(f.x,f.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(r){return this.containsTileIndex(r)?this.tileProperties[r-this.firstgid]:null},getTileData:function(r){return this.containsTileIndex(r)?this.tileData[r-this.firstgid]:null},getTileCollisionGroup:function(r){var n=this.getTileData(r);return n&&n.objectgroup?n.objectgroup:null},containsTileIndex:function(r){return r>=this.firstgid&&r<this.firstgid+this.total},getTileTextureCoordinates:function(r){return this.containsTileIndex(r)?this.texCoordinates[r-this.firstgid]:null},setImage:function(r){return this.image=r,this.glTexture=r.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(r,n){return r!==void 0&&(this.tileWidth=r),n!==void 0&&(this.tileHeight=n),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(r,n){return r!==void 0&&(this.tileMargin=r),n!==void 0&&(this.tileSpacing=n),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(r,n){var e=(n-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),s=(r-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(e%1!==0||s%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),e=Math.floor(e),s=Math.floor(s),this.rows=e,this.columns=s,this.total=e*s,this.texCoordinates.length=0;for(var h=this.tileMargin,i=this.tileMargin,a=0;a<this.rows;a++){for(var u=0;u<this.columns;u++)this.texCoordinates.push({x:h,y:i}),h+=this.tileWidth+this.tileSpacing;h=this.tileMargin,i+=this.tileHeight+this.tileSpacing}return this}});p.exports=o},92839:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(15494),v=function(o,r,n){var e=d(o,r,!0,n),s=d(o,r-1,!0,n),h=d(o,r+1,!0,n),i=d(o-1,r,!0,n),a=d(o+1,r,!0,n),u=e&&e.collides;return u&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),s&&s.collides&&(u&&(e.faceTop=!1),s.faceBottom=!u),h&&h.collides&&(u&&(e.faceBottom=!1),h.faceTop=!u),i&&i.collides&&(u&&(e.faceLeft=!1),i.faceRight=!u),a&&a.collides&&(u&&(e.faceRight=!1),a.faceLeft=!u),e&&!e.collides&&e.resetFaces(),e};p.exports=v},60386:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(15494),v=t(50811),o=function(r,n,e,s,h){for(var i=null,a=null,u=null,l=null,f=v(r,n,e,s,null,h),c=0;c<f.length;c++){var m=f[c];m&&(m.collides?(i=d(m.x,m.y-1,!0,h),a=d(m.x,m.y+1,!0,h),u=d(m.x-1,m.y,!0,h),l=d(m.x+1,m.y,!0,h),m.faceTop=!(i&&i.collides),m.faceBottom=!(a&&a.collides),m.faceLeft=!(u&&u.collides),m.faceRight=!(l&&l.collides)):m.resetFaces())}};p.exports=o},13125:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(93736),v=new d,o=function(r,n,e,s){var h=e.tilemapLayer,i=h.cullPaddingX,a=h.cullPaddingY,u=h.tilemap.tileToWorldXY(r,n,v,s,h);return u.x>s.worldView.x+h.scaleX*e.tileWidth*(-i-.5)&&u.x<s.worldView.right+h.scaleX*e.tileWidth*(i-.5)&&u.y>s.worldView.y+h.scaleY*e.tileHeight*(-a-1)&&u.y<s.worldView.bottom+h.scaleY*e.tileHeight*(a-.5)};p.exports=o},17347:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(60386),v=t(50811),o=t(62839),r=t(29633),n=function(e,s,h,i,a,u,l,f){l===void 0&&(l=!0);var c=v(e,s,h,i,null,f),m=[];c.forEach(function(w){var E=new r(w.layer,w.index,w.x,w.y,w.width,w.height,w.baseWidth,w.baseHeight);E.copy(w),m.push(E)});for(var x=a-e,g=u-s,y=0;y<m.length;y++){var T=m[y],C=T.x+x,A=T.y+g;o(C,A,f)&&f.data[A][C]&&(T.x=C,T.y=A,T.updatePixelXY(),f.data[A][C]=T)}l&&d(a-1,u-1,h+2,i+2,f),c.length=0,m.length=0};p.exports=n},93604:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(50811),v=t(51202),o=function(r,n,e,s,h,i){e||(e={}),Array.isArray(r)||(r=[r]);var a=i.tilemapLayer;s||(s=a.scene),h||(h=s.cameras.main);var u=d(0,0,i.width,i.height,null,i),l=[],f;for(f=0;f<u.length;f++){var c=u[f];if(r.indexOf(c.index)!==-1){var m=a.tileToWorldXY(c.x,c.y,void 0,h,i);e.x=m.x,e.y=m.y,l.push(s.make.sprite(e))}}if(typeof n=="number")for(f=0;f<r.length;f++)v(r[f],n,0,0,i.width,i.height,i);else if(Array.isArray(n))for(f=0;f<r.length;f++)v(r[f],n[f],0,0,i.width,i.height,i);return l};p.exports=o},71586:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(74118),v=t(82127),o=t(84314),r=new d,n=function(e,s){var h=e.tilemapLayer.tilemap,i=e.tilemapLayer,a=Math.floor(h.tileWidth*i.scaleX),u=Math.floor(h.tileHeight*i.scaleY),l=o(s.worldView.x-i.x,a,0,!0)-i.cullPaddingX,f=v(s.worldView.right-i.x,a,0,!0)+i.cullPaddingX,c=o(s.worldView.y-i.y,u,0,!0)-i.cullPaddingY,m=v(s.worldView.bottom-i.y,u,0,!0)+i.cullPaddingY;return r.setTo(l,c,f-l,m-c)};p.exports=n},381:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(71586),v=t(6987),o=function(r,n,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var h=r.tilemapLayer,i=d(r,n);return(h.skipCull||h.scrollFactorX!==1||h.scrollFactorY!==1)&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),v(r,i,s,e),e};p.exports=o},97734:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(50811),v=t(60386),o=t(68234),r=function(n,e,s,h,i,a,u){for(var l=u.collideIndexes.indexOf(n)!==-1,f=d(e,s,h,i,null,u),c=0;c<f.length;c++)f[c].index=n,o(f[c],l);a&&v(e-1,s-1,h+2,i+2,u)};p.exports=r},63555:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(50811),v=function(o,r,n,e,s,h,i,a){var u=d(n,e,s,h,i,a);return u.filter(o,r)};p.exports=v},37982:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){d===void 0&&(d=0),v===void 0&&(v=!1);var r=0,n,e,s;if(v){for(e=o.height-1;e>=0;e--)for(n=o.width-1;n>=0;n--)if(s=o.data[e][n],s&&s.index===t){if(r===d)return s;r+=1}}else for(e=0;e<o.height;e++)for(n=0;n<o.width;n++)if(s=o.data[e][n],s&&s.index===t){if(r===d)return s;r+=1}return null};p.exports=S},48297:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(50811),v=function(o,r,n,e,s,h,i,a){var u=d(n,e,s,h,i,a);return u.find(o,r)||null};p.exports=v},80916:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(50811),v=function(o,r,n,e,s,h,i,a){var u=d(n,e,s,h,i,a);u.forEach(o,r)};p.exports=v},31493:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(12920),v=t(381),o=t(37524),r=t(20887),n=t(72283),e=t(19242),s=function(h){return h===d.ORTHOGONAL?v:h===d.HEXAGONAL?o:h===d.STAGGERED?e:h===d.ISOMETRIC?r:n};p.exports=s},15494:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(62839),v=function(o,r,n,e){if(n===void 0&&(n=!1),d(o,r,e)){var s=e.data[r][o]||null;return s?s.index===-1?n?s:null:s:null}else return null};p.exports=v},24640:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(15494),v=t(93736),o=new v,r=function(n,e,s,h,i){return i.tilemapLayer.worldToTileXY(n,e,!0,o,h),d(o.x,o.y,s,i)};p.exports=r},48495:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(93736),v=function(o,r,n,e){var s=e.baseTileWidth,h=e.baseTileHeight,i=e.tilemapLayer,a=0,u=0;i&&(n||(n=i.scene.cameras.main),a=i.x+n.scrollX*(1-i.scrollFactorX),u=i.y+n.scrollY*(1-i.scrollFactorY),s*=i.scaleX,h*=i.scaleY);var l=a+o*s,f=u+r*h;return[new d(l,f),new d(l+s,f),new d(l+s,f+h),new d(l,f+h)]};p.exports=v},7160:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(12920),v=t(63634),o=t(72283),r=t(48495),n=function(e){return e===d.ORTHOGONAL?r:e===d.ISOMETRIC?o:e===d.HEXAGONAL?v:(e===d.STAGGERED,o)};p.exports=n},16884:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(12920),v=t(72283),o=t(44150),r=function(n){return n===d.ORTHOGONAL?o:v};p.exports=r},68182:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(12920),v=t(21715),o=t(21808),r=t(72283),n=t(33388),e=t(46836),s=function(h){return h===d.ORTHOGONAL?e:h===d.ISOMETRIC?o:h===d.HEXAGONAL?v:h===d.STAGGERED?n:r};p.exports=s},3752:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(12920),v=t(72283),o=t(84132),r=t(42477),n=function(e){return e===d.ORTHOGONAL?r:e===d.STAGGERED?o:v};p.exports=n},50811:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72632),v=function(o,r,n,e,s,h){o===void 0&&(o=0),r===void 0&&(r=0),n===void 0&&(n=h.width),e===void 0&&(e=h.height),s||(s={});var i=d(s,"isNotEmpty",!1),a=d(s,"isColliding",!1),u=d(s,"hasInterestingFace",!1);o<0&&(n+=o,o=0),r<0&&(e+=r,r=0),o+n>h.width&&(n=Math.max(h.width-o,0)),r+e>h.height&&(e=Math.max(h.height-r,0));for(var l=[],f=r;f<r+e;f++)for(var c=o;c<o+n;c++){var m=h.data[f][c];if(m!==null){if(i&&m.index===-1||a&&!m.collides||u&&!m.hasInterestingFace)continue;l.push(m)}}return l};p.exports=v},31674:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(84068),v=t(50811),o=t(7563),r=t(72283),n=t(93736),e=function(u,l){return o.RectangleToTriangle(l,u)},s=new n,h=new n,i=new n,a=function(u,l,f,c){if(u===void 0)return[];var m=r;u instanceof d.Circle?m=o.CircleToRectangle:u instanceof d.Rectangle?m=o.RectangleToRectangle:u instanceof d.Triangle?m=e:u instanceof d.Line&&(m=o.LineToRectangle),c.tilemapLayer.worldToTileXY(u.left,u.top,!0,h,f);var x=h.x,g=h.y;c.tilemapLayer.worldToTileXY(u.right,u.bottom,!1,i,f);var y=Math.ceil(i.x),T=Math.ceil(i.y),C=Math.max(y-x,1),A=Math.max(T-g,1),w=v(x,g,C,A,l,c),E=c.tileWidth,P=c.tileHeight;c.tilemapLayer&&(E*=c.tilemapLayer.scaleX,P*=c.tilemapLayer.scaleY);for(var B=[],R=new d.Rectangle(0,0,E,P),I=0;I<w.length;I++){var N=w[I];c.tilemapLayer.tileToWorldXY(N.x,N.y,s,f),R.x=s.x,R.y=s.y,m(u,R)&&B.push(N)}return B};p.exports=a},44662:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(50811),v=t(93736),o=new v,r=new v,n=function(e,s,h,i,a,u,l){var f=l.tilemapLayer.tilemap._convert.WorldToTileXY;f(e,s,!0,o,u,l);var c=o.x,m=o.y;f(e+h,s+i,!1,r,u,l);var x=Math.ceil(r.x),g=Math.ceil(r.y);return d(c,m,x-c,g-m,a,l)};p.exports=n},29296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(12920),v=t(10618),o=t(806),r=function(n){return n===d.ORTHOGONAL?o:v};p.exports=r},32688:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(12920),v=t(11516),o=t(18750),r=t(72283),n=t(90562),e=t(45676),s=function(h){return h===d.ORTHOGONAL?e:h===d.ISOMETRIC?o:h===d.HEXAGONAL?v:h===d.STAGGERED?n:r};p.exports=s},74326:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(12920),v=t(10618),o=t(3689),r=t(70520),n=function(e){return e===d.ORTHOGONAL?r:e===d.STAGGERED?o:v};p.exports=n},46598:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(62839),v=function(o,r,n){if(d(o,r,n)){var e=n.data[r][o];return e!==null&&e.index>-1}else return!1};p.exports=v},28654:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(46598),v=t(93736),o=new v,r=function(n,e,s,h){h.tilemapLayer.worldToTileXY(n,e,!0,o,s);var i=o.x,a=o.y;return d(i,a,h)};p.exports=r},6358:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(82127),v=t(84314),o=function(r,n){var e=r.tilemapLayer.tilemap,s=r.tilemapLayer,h=Math.floor(e.tileWidth*s.scaleX),i=Math.floor(e.tileHeight*s.scaleY),a=r.hexSideLength,u,l,f,c;if(this.staggerAxis==="y"){var m=(i-a)/2+a;u=v(n.worldView.x-s.x,h,0,!0)-s.cullPaddingX,l=d(n.worldView.right-s.x,h,0,!0)+s.cullPaddingX,f=v(n.worldView.y-s.y,m,0,!0)-s.cullPaddingY,c=d(n.worldView.bottom-s.y,m,0,!0)+s.cullPaddingY}else{var x=(h-a)/2+a;u=v(n.worldView.x-s.x,x,0,!0)-s.cullPaddingX,l=d(n.worldView.right-s.x,x,0,!0)+s.cullPaddingX,f=v(n.worldView.y-s.y,i,0,!0)-s.cullPaddingY,c=d(n.worldView.bottom-s.y,i,0,!0)+s.cullPaddingY}return{left:u,right:l,top:f,bottom:c}};p.exports=o},37524:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(6358),v=t(6987),o=function(r,n,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var h=r.tilemapLayer,i=d(r,n);return h.skipCull&&h.scrollFactorX===1&&h.scrollFactorY===1&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),v(r,i,s,e),e};p.exports=o},63634:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(21715),v=t(93736),o=new v,r=function(n,e,s,h){var i=h.baseTileWidth,a=h.baseTileHeight,u=h.tilemapLayer;u&&(i*=u.scaleX,a*=u.scaleY);var l=d(n,e,o,s,h),f=[],c=.5773502691896257,m,x;this.staggerAxis==="y"?(m=c*i,x=a/2):(m=i/2,x=c*a);for(var g=0;g<6;g++){var y=2*Math.PI*(.5-g)/6;f.push(new v(l.x+m*Math.cos(y),l.y+x*Math.sin(y)))}return f};p.exports=r},21715:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(93736),v=function(o,r,n,e,s){n||(n=new d);var h=s.baseTileWidth,i=s.baseTileHeight,a=s.tilemapLayer,u=0,l=0;a&&(e||(e=a.scene.cameras.main),u=a.x+e.scrollX*(1-a.scrollFactorX),l=a.y+e.scrollY*(1-a.scrollFactorY),h*=a.scaleX,i*=a.scaleY);var f=h/2,c=i/2,m,x;return this.staggerAxis==="y"?(m=u+h*o+h,x=l+1.5*r*c+c,r%2===0&&(this.staggerIndex==="odd"?m-=f:m+=f)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(m=u+1.5*o*f+f,x=l+i*o+i,o%2===0&&(this.staggerIndex==="odd"?x-=c:x+=c)),n.set(m,x)};p.exports=v},11516:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(93736),v=function(o,r,n,e,s,h){e||(e=new d);var i=h.baseTileWidth,a=h.baseTileHeight,u=h.tilemapLayer;u&&(s||(s=u.scene.cameras.main),o=o-(u.x+s.scrollX*(1-u.scrollFactorX)),r=r-(u.y+s.scrollY*(1-u.scrollFactorY)),i*=u.scaleX,a*=u.scaleY);var l=.5773502691896257,f=-.3333333333333333,c=0,m=.6666666666666666,x=i/2,g=a/2,y,T,C,A,w;h.staggerAxis==="y"?(y=(o-x)/(l*i),T=(r-g)/g,C=l*y+f*T,A=c*y+m*T):(y=(o-x)/x,T=(r-g)/(l*a),C=f*y+l*T,A=m*y+c*T),w=-C-A;var E=Math.round(C),P=Math.round(A),B=Math.round(w),R=Math.abs(E-C),I=Math.abs(P-A),N=Math.abs(B-w);R>I&&R>N?E=-P-B:I>N&&(P=-E-B);var X,Y=P;return h.staggerIndex==="odd"?X=Y%2===0?P/2+E:P/2+E-.5:X=Y%2===0?P/2+E:P/2+E+.5,e.set(X,Y)};p.exports=v},62839:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){return t>=0&&t<v.width&&d>=0&&d<v.height};p.exports=S},20887:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(13125),v=function(o,r,n,e){n===void 0&&(n=[]),e===void 0&&(e=0),n.length=0;var s=o.tilemapLayer,h=o.data,i=o.width,a=o.height,u=s.skipCull,l=0,f=i,c=0,m=a,x,g,y;if(e===0){for(g=c;g<m;g++)for(x=l;x<f;x++)if(u||d(x,g,o,r)){if(y=h[g][x],!y||y.index===-1||!y.visible||y.alpha===0)continue;n.push(y)}}else if(e===1){for(g=c;g<m;g++)for(x=f;x>=l;x--)if(u||d(x,g,o,r)){if(y=h[g][x],!y||y.index===-1||!y.visible||y.alpha===0)continue;n.push(y)}}else if(e===2){for(g=m;g>=c;g--)for(x=l;x<f;x++)if(u||d(x,g,o,r)){if(y=h[g][x],!y||y.index===-1||!y.visible||y.alpha===0)continue;n.push(y)}}else if(e===3){for(g=m;g>=c;g--)for(x=f;x>=l;x--)if(u||d(x,g,o,r)){if(y=h[g][x],!y||y.index===-1||!y.visible||y.alpha===0)continue;n.push(y)}}return s.tilesDrawn=n.length,s.tilesTotal=i*a,n};p.exports=v},21808:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(93736),v=function(o,r,n,e,s){n||(n=new d);var h=s.baseTileWidth,i=s.baseTileHeight,a=s.tilemapLayer,u=0,l=0;a&&(e||(e=a.scene.cameras.main),u=a.x+e.scrollX*(1-a.scrollFactorX),h*=a.scaleX,l=a.y+e.scrollY*(1-a.scrollFactorY),i*=a.scaleY);var f=u+(o-r)*(h/2),c=l+(o+r)*(i/2);return n.set(f,c)};p.exports=v},18750:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(93736),v=function(o,r,n,e,s,h,i){e||(e=new d);var a=h.baseTileWidth,u=h.baseTileHeight,l=h.tilemapLayer;l&&(s||(s=l.scene.cameras.main),r=r-(l.y+s.scrollY*(1-l.scrollFactorY)),u*=l.scaleY,o=o-(l.x+s.scrollX*(1-l.scrollFactorX)),a*=l.scaleX);var f=a/2,c=u/2;o=o-f,i||(r=r-u);var m=.5*(o/f+r/c),x=.5*(-o/f+r/c);return n&&(m=Math.floor(m),x=Math.floor(x)),e.set(m,x)};p.exports=v},29003:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(29633),v=t(62839),o=t(92839),r=t(68234),n=function(e,s,h,i,a){if(i===void 0&&(i=!0),!v(s,h,a))return null;var u,l=a.data[h][s],f=l&&l.collides;e instanceof d?(a.data[h][s]===null&&(a.data[h][s]=new d(a,e.index,s,h,a.tileWidth,a.tileHeight)),a.data[h][s].copy(e)):(u=e,a.data[h][s]===null?a.data[h][s]=new d(a,u,s,h,a.tileWidth,a.tileHeight):a.data[h][s].index=u);var c=a.data[h][s],m=a.collideIndexes.indexOf(c.index)!==-1;if(u=e instanceof d?e.index:e,u===-1)c.width=a.tileWidth,c.height=a.tileHeight;else{var x=a.tilemapLayer.tilemap.tiles,g=x[u][2],y=a.tilemapLayer.tileset[g];c.width=y.tileWidth,c.height=y.tileHeight}return r(c,m),i&&f!==c.collides&&o(s,h,a),c};p.exports=n},48565:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(29003),v=t(93736),o=new v,r=function(n,e,s,h,i,a){return a.tilemapLayer.worldToTileXY(e,s,!0,o,i,a),d(n,o.x,o.y,h,a)};p.exports=r},56547:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(60386),v=t(29003),o=function(r,n,e,s,h){if(s===void 0&&(s=!0),!Array.isArray(r))return null;Array.isArray(r[0])||(r=[r]);for(var i=r.length,a=r[0].length,u=0;u<i;u++)for(var l=0;l<a;l++){var f=r[u][l];v(f,n+l,e+u,!1,h)}s&&d(n-1,e-1,a+2,i+2,h)};p.exports=o},91180:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(50811),v=t(72861),o=function(r,n,e,s,h,i){var a,u=d(r,n,e,s,{},i);if(!h)for(h=[],a=0;a<u.length;a++)h.indexOf(u[a].index)===-1&&h.push(u[a].index);for(a=0;a<u.length;a++)u[a].index=v(h)};p.exports=o},929:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(29633),v=t(62839),o=t(92839),r=function(n,e,s,h,i){if(s===void 0&&(s=!0),h===void 0&&(h=!0),!v(n,e,i))return null;var a=i.data[e][n];if(a)i.data[e][n]=s?null:new d(i,-1,n,e,i.tileWidth,i.tileHeight);else return null;return h&&a&&a.collides&&o(n,e,i),a};p.exports=r},17384:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(929),v=t(93736),o=new v,r=function(n,e,s,h,i,a){return a.tilemapLayer.worldToTileXY(n,e,!0,o,i,a),d(o.x,o.y,s,h,a)};p.exports=r},93763:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(50811),v=t(95509),o=new v(105,210,231,150),r=new v(243,134,48,200),n=new v(40,39,37,150),e=function(s,h,i){h===void 0&&(h={});var a=h.tileColor!==void 0?h.tileColor:o,u=h.collidingTileColor!==void 0?h.collidingTileColor:r,l=h.faceColor!==void 0?h.faceColor:n,f=d(0,0,i.width,i.height,null,i);s.translateCanvas(i.tilemapLayer.x,i.tilemapLayer.y),s.scaleCanvas(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var c=0;c<f.length;c++){var m=f[c],x=m.width,g=m.height,y=m.pixelX,T=m.pixelY,C=m.collides?u:a;C!==null&&(s.fillStyle(C.color,C.alpha/255),s.fillRect(y,T,x,g)),y+=1,T+=1,x-=2,g-=2,l!==null&&(s.lineStyle(1,l.color,l.alpha/255),m.faceTop&&s.lineBetween(y,T,y+x,T),m.faceRight&&s.lineBetween(y+x,T,y+x,T+g),m.faceBottom&&s.lineBetween(y,T+g,y+x,T+g),m.faceLeft&&s.lineBetween(y,T,y,T+g))}};p.exports=e},51202:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(50811),v=function(o,r,n,e,s,h,i){for(var a=d(n,e,s,h,null,i),u=0;u<a.length;u++)a[u]&&a[u].index===o&&(a[u].index=r)};p.exports=v},6987:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){var r=t.data,n=t.width,e=t.height,s=t.tilemapLayer,h=Math.max(0,d.left),i=Math.min(n,d.right),a=Math.max(0,d.top),u=Math.min(e,d.bottom),l,f,c;if(v===0)for(f=a;f<u;f++)for(l=h;r[f]&&l<i;l++)c=r[f][l],!(!c||c.index===-1||!c.visible||c.alpha===0)&&o.push(c);else if(v===1)for(f=a;f<u;f++)for(l=i;r[f]&&l>=h;l--)c=r[f][l],!(!c||c.index===-1||!c.visible||c.alpha===0)&&o.push(c);else if(v===2)for(f=u;f>=a;f--)for(l=h;r[f]&&l<i;l++)c=r[f][l],!(!c||c.index===-1||!c.visible||c.alpha===0)&&o.push(c);else if(v===3)for(f=u;f>=a;f--)for(l=i;r[f]&&l>=h;l--)c=r[f][l],!(!c||c.index===-1||!c.visible||c.alpha===0)&&o.push(c);return s.tilesDrawn=o.length,s.tilesTotal=n*e,o};p.exports=S},51710:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(68234),v=t(60386),o=t(91181),r=function(n,e,s,h,i){e===void 0&&(e=!0),s===void 0&&(s=!0),i===void 0&&(i=!0),Array.isArray(n)||(n=[n]);for(var a=0;a<n.length;a++)o(n[a],e,h);if(i)for(var u=0;u<h.height;u++)for(var l=0;l<h.width;l++){var f=h.data[u][l];f&&n.indexOf(f.index)!==-1&&d(f,e)}s&&v(0,0,h.width,h.height,h)};p.exports=r},15216:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(68234),v=t(60386),o=t(91181),r=function(n,e,s,h,i,a){if(s===void 0&&(s=!0),h===void 0&&(h=!0),a===void 0&&(a=!0),!(n>e)){for(var u=n;u<=e;u++)o(u,s,i);if(a)for(var l=0;l<i.height;l++)for(var f=0;f<i.width;f++){var c=i.data[l][f];c&&c.index>=n&&c.index<=e&&d(c,s)}h&&v(0,0,i.width,i.height,i)}};p.exports=r},33158:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(68234),v=t(60386),o=t(91181),r=function(n,e,s,h){e===void 0&&(e=!0),s===void 0&&(s=!0),Array.isArray(n)||(n=[n]);for(var i=0;i<h.height;i++)for(var a=0;a<h.width;a++){var u=h.data[i][a];u&&n.indexOf(u.index)===-1&&(d(u,e),o(u.index,e,h))}s&&v(0,0,h.width,h.height,h)};p.exports=r},4180:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(68234),v=t(60386),o=t(19256),r=function(n,e,s,h){e===void 0&&(e=!0),s===void 0&&(s=!0);for(var i=0;i<h.height;i++)for(var a=0;a<h.width;a++){var u=h.data[i][a];if(u){for(var l in n)if(o(u.properties,l)){var f=n[l];Array.isArray(f)||(f=[f]);for(var c=0;c<f.length;c++)u.properties[l]===f[c]&&d(u,e)}}}s&&v(0,0,h.width,h.height,h)};p.exports=r},18625:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(68234),v=t(60386),o=function(r,n,e){r===void 0&&(r=!0),n===void 0&&(n=!0);for(var s=0;s<e.height;s++)for(var h=0;h<e.width;h++){var i=e.data[s][h];if(i){var a=i.getCollisionGroup();a&&a.objects&&a.objects.length>0&&d(i,r)}}n&&v(0,0,e.width,e.height,e)};p.exports=o},91181:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){var o=v.collideIndexes.indexOf(t);d&&o===-1?v.collideIndexes.push(t):!d&&o!==-1&&v.collideIndexes.splice(o,1)};p.exports=S},68234:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){d?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};p.exports=S},11628:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){if(typeof t=="number")o.callbacks[t]=d!==null?{callback:d,callbackContext:v}:void 0;else for(var r=0,n=t.length;r<n;r++)o.callbacks[t[r]]=d!==null?{callback:d,callbackContext:v}:void 0};p.exports=S},72732:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(50811),v=function(o,r,n,e,s,h,i){for(var a=d(o,r,n,e,null,i),u=0;u<a.length;u++)a[u].setCollisionCallback(s,h)};p.exports=v},34397:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(50811),v=t(18592),o=function(r,n,e,s,h){var i=d(r,n,e,s,null,h),a=i.map(function(l){return l.index});v(a);for(var u=0;u<i.length;u++)i[u].index=a[u]};p.exports=o},53945:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(82127),v=t(84314),o=function(r,n){var e=r.tilemapLayer.tilemap,s=r.tilemapLayer,h=Math.floor(e.tileWidth*s.scaleX),i=Math.floor(e.tileHeight*s.scaleY),a=v(n.worldView.x-s.x,h,0,!0)-s.cullPaddingX,u=d(n.worldView.right-s.x,h,0,!0)+s.cullPaddingX,l=v(n.worldView.y-s.y,i/2,0,!0)-s.cullPaddingY,f=d(n.worldView.bottom-s.y,i/2,0,!0)+s.cullPaddingY;return{left:a,right:u,top:l,bottom:f}};p.exports=o},19242:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(53945),v=t(6987),o=function(r,n,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var h=r.tilemapLayer,i=d(r,n);return h.skipCull&&h.scrollFactorX===1&&h.scrollFactorY===1&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),v(r,i,s,e),e};p.exports=o},33388:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(93736),v=function(o,r,n,e,s){n||(n=new d);var h=s.baseTileWidth,i=s.baseTileHeight,a=s.tilemapLayer,u=0,l=0;a&&(e||(e=a.scene.cameras.main),u=a.x+e.scrollX*(1-a.scrollFactorX),h*=a.scaleX,l=a.y+e.scrollY*(1-a.scrollFactorY),i*=a.scaleY);var f=u+o*h+r%2*(h/2),c=l+r*(i/2);return n.set(f,c)};p.exports=v},84132:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){var o=v.baseTileHeight,r=v.tilemapLayer,n=0;return r&&(d===void 0&&(d=r.scene.cameras.main),n=r.y+d.scrollY*(1-r.scrollFactorY),o*=r.scaleY),n+t*(o/2)+o};p.exports=S},90562:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(93736),v=function(o,r,n,e,s,h){e||(e=new d);var i=h.baseTileWidth,a=h.baseTileHeight,u=h.tilemapLayer;u&&(s||(s=u.scene.cameras.main),r=r-(u.y+s.scrollY*(1-u.scrollFactorY)),a*=u.scaleY,o=o-(u.x+s.scrollX*(1-u.scrollFactorX)),i*=u.scaleX);var l=n?Math.floor(r/(a/2)):r/(a/2),f=n?Math.floor((o+l%2*.5*i)/i):(o+l%2*.5*i)/i;return e.set(f,l)};p.exports=v},3689:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){var r=o.baseTileHeight,n=o.tilemapLayer;return n&&(v||(v=n.scene.cameras.main),t=t-(n.y+v.scrollY*(1-n.scrollFactorY)),r*=n.scaleY),d?Math.floor(t/(r/2)):t/(r/2)};p.exports=S},55217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(50811),v=function(o,r,n,e,s,h,i){for(var a=d(n,e,s,h,null,i),u=0;u<a.length;u++)a[u]&&(a[u].index===o?a[u].index=r:a[u].index===r&&(a[u].index=o))};p.exports=v},44150:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){var o=v.baseTileWidth,r=v.tilemapLayer,n=0;return r&&(d||(d=r.scene.cameras.main),n=r.x+d.scrollX*(1-r.scrollFactorX),o*=r.scaleX),n+t*o};p.exports=S},46836:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(44150),v=t(42477),o=t(93736),r=function(n,e,s,h,i){return s||(s=new o(0,0)),s.x=d(n,h,i),s.y=v(e,h,i),s};p.exports=r},42477:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){var o=v.baseTileHeight,r=v.tilemapLayer,n=0;return r&&(d||(d=r.scene.cameras.main),n=r.y+d.scrollY*(1-r.scrollFactorY),o*=r.scaleY),n+t*o};p.exports=S},39677:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(50811),v=function(o,r,n,e,s,h){if(s){var i,a=d(o,r,n,e,null,h),u=0;for(i=0;i<s.length;i++)u+=s[i].weight;if(!(u<=0))for(i=0;i<a.length;i++){for(var l=Math.random()*u,f=0,c=-1,m=0;m<s.length;m++)if(f+=s[m].weight,l<=f){var x=s[m].index;c=Array.isArray(x)?x[Math.floor(Math.random()*x.length)]:x;break}a[i].index=c}}};p.exports=v},806:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(45676),v=t(93736),o=new v,r=function(n,e,s,h){return d(n,0,e,o,s,h),o.x};p.exports=r},45676:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(93736),v=function(o,r,n,e,s,h){n===void 0&&(n=!0),e||(e=new d);var i=h.baseTileWidth,a=h.baseTileHeight,u=h.tilemapLayer;u&&(s||(s=u.scene.cameras.main),o=o-(u.x+s.scrollX*(1-u.scrollFactorX)),r=r-(u.y+s.scrollY*(1-u.scrollFactorY)),i*=u.scaleX,a*=u.scaleY);var l=o/i,f=r/a;return n&&(l=Math.floor(l),f=Math.floor(f)),e.set(l,f)};p.exports=v},70520:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(45676),v=t(93736),o=new v,r=function(n,e,s,h){return d(0,n,e,o,s,h),o.y};p.exports=r},5047:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CalculateFacesAt:t(92839),CalculateFacesWithin:t(60386),CheckIsoBounds:t(13125),Copy:t(17347),CreateFromTiles:t(93604),CullBounds:t(71586),CullTiles:t(381),Fill:t(97734),FilterTiles:t(63555),FindByIndex:t(37982),FindTile:t(48297),ForEachTile:t(80916),GetCullTilesFunction:t(31493),GetTileAt:t(15494),GetTileAtWorldXY:t(24640),GetTileCorners:t(48495),GetTileCornersFunction:t(7160),GetTilesWithin:t(50811),GetTilesWithinShape:t(31674),GetTilesWithinWorldXY:t(44662),GetTileToWorldXFunction:t(16884),GetTileToWorldXYFunction:t(68182),GetTileToWorldYFunction:t(3752),GetWorldToTileXFunction:t(29296),GetWorldToTileXYFunction:t(32688),GetWorldToTileYFunction:t(74326),HasTileAt:t(46598),HasTileAtWorldXY:t(28654),HexagonalCullBounds:t(6358),HexagonalCullTiles:t(37524),HexagonalGetTileCorners:t(63634),HexagonalTileToWorldXY:t(21715),HexagonalWorldToTileXY:t(11516),IsInLayerBounds:t(62839),IsometricCullTiles:t(20887),IsometricTileToWorldXY:t(21808),IsometricWorldToTileXY:t(18750),PutTileAt:t(29003),PutTileAtWorldXY:t(48565),PutTilesAt:t(56547),Randomize:t(91180),RemoveTileAt:t(929),RemoveTileAtWorldXY:t(17384),RenderDebug:t(93763),ReplaceByIndex:t(51202),RunCull:t(6987),SetCollision:t(51710),SetCollisionBetween:t(15216),SetCollisionByExclusion:t(33158),SetCollisionByProperty:t(4180),SetCollisionFromCollisionGroup:t(18625),SetLayerCollisionIndex:t(91181),SetTileCollision:t(68234),SetTileIndexCallback:t(11628),SetTileLocationCallback:t(72732),Shuffle:t(34397),StaggeredCullBounds:t(53945),StaggeredCullTiles:t(19242),StaggeredTileToWorldXY:t(33388),StaggeredTileToWorldY:t(84132),StaggeredWorldToTileXY:t(90562),StaggeredWorldToTileY:t(3689),SwapByIndex:t(55217),TileToWorldX:t(44150),TileToWorldXY:t(46836),TileToWorldY:t(42477),WeightedRandomize:t(39677),WorldToTileX:t(806),WorldToTileXY:t(45676),WorldToTileY:t(70520)}},12920:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},84758:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={ORIENTATION:t(12920)};p.exports=d},52678:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(98611),v=t(84758),o={Components:t(5047),Parsers:t(34124),Formats:t(93560),ImageCollection:t(97042),ParseToTilemap:t(15043),Tile:t(29633),Tilemap:t(89797),TilemapCreator:t(4843),TilemapFactory:t(37940),Tileset:t(47975),TilemapLayer:t(87177),Orientation:t(12920),LayerData:t(94990),MapData:t(16586),ObjectLayer:t(15256)};o=d(!1,o,v.ORIENTATION),p.exports=o},94990:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(12920),o=t(72632),r=new d({initialize:function(e){e===void 0&&(e={}),this.name=o(e,"name","layer"),this.x=o(e,"x",0),this.y=o(e,"y",0),this.width=o(e,"width",0),this.height=o(e,"height",0),this.tileWidth=o(e,"tileWidth",0),this.tileHeight=o(e,"tileHeight",0),this.baseTileWidth=o(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=o(e,"baseTileHeight",this.tileHeight),this.orientation=o(e,"orientation",v.ORTHOGONAL),this.widthInPixels=o(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=o(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=o(e,"alpha",1),this.visible=o(e,"visible",!0),this.properties=o(e,"properties",[]),this.indexes=o(e,"indexes",[]),this.collideIndexes=o(e,"collideIndexes",[]),this.callbacks=o(e,"callbacks",[]),this.bodies=o(e,"bodies",[]),this.data=o(e,"data",[]),this.tilemapLayer=o(e,"tilemapLayer",null),this.hexSideLength=o(e,"hexSideLength",0),this.staggerAxis=o(e,"staggerAxis","y"),this.staggerIndex=o(e,"staggerIndex","odd")}});p.exports=r},16586:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(12920),o=t(72632),r=new d({initialize:function(e){e===void 0&&(e={}),this.name=o(e,"name","map"),this.width=o(e,"width",0),this.height=o(e,"height",0),this.infinite=o(e,"infinite",!1),this.tileWidth=o(e,"tileWidth",0),this.tileHeight=o(e,"tileHeight",0),this.widthInPixels=o(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=o(e,"heightInPixels",this.height*this.tileHeight),this.format=o(e,"format",null),this.orientation=o(e,"orientation",v.ORTHOGONAL),this.renderOrder=o(e,"renderOrder","right-down"),this.version=o(e,"version","1"),this.properties=o(e,"properties",{}),this.layers=o(e,"layers",[]),this.images=o(e,"images",[]),this.objects=o(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=o(e,"collision",{}),this.tilesets=o(e,"tilesets",[]),this.imageCollections=o(e,"imageCollections",[]),this.tiles=o(e,"tiles",[]),this.hexSideLength=o(e,"hexSideLength",0),this.staggerAxis=o(e,"staggerAxis","y"),this.staggerIndex=o(e,"staggerIndex","odd")}});p.exports=r},15256:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(72632),o=new d({initialize:function(n){n===void 0&&(n={}),this.name=v(n,"name","object layer"),this.opacity=v(n,"opacity",1),this.properties=v(n,"properties",{}),this.propertyTypes=v(n,"propertytypes",{}),this.type=v(n,"type","objectgroup"),this.visible=v(n,"visible",!0),this.objects=v(n,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});p.exports=o},21394:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(12920),v=function(o){return o=o.toLowerCase(),o==="isometric"?d.ISOMETRIC:o==="staggered"?d.STAGGERED:o==="hexagonal"?d.HEXAGONAL:d.ORTHOGONAL};p.exports=v},90715:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(93560),v=t(84346),o=t(96097),r=t(2378),n=t(44909),e=function(s,h,i,a,u,l){var f;switch(h){case d.ARRAY_2D:f=v(s,i,a,u,l);break;case d.CSV:f=o(s,i,a,u,l);break;case d.TILED_JSON:f=r(s,i,l);break;case d.WELTMEISTER:f=n(s,i,l);break;default:console.warn("Unrecognized tilemap data format: "+h),f=null}return f};p.exports=e},84346:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(93560),v=t(94990),o=t(16586),r=t(29633),n=function(e,s,h,i,a){for(var u=new v({tileWidth:h,tileHeight:i}),l=new o({name:e,tileWidth:h,tileHeight:i,format:d.ARRAY_2D,layers:[u]}),f=[],c=s.length,m=0,x=0;x<s.length;x++){f[x]=[];for(var g=s[x],y=0;y<g.length;y++){var T=parseInt(g[y],10);isNaN(T)||T===-1?f[x][y]=a?null:new r(u,-1,y,x,h,i):f[x][y]=new r(u,T,y,x,h,i)}m===0&&(m=g.length)}return l.width=u.width=m,l.height=u.height=c,l.widthInPixels=u.widthInPixels=m*h,l.heightInPixels=u.heightInPixels=c*i,u.data=f,l};p.exports=n},96097:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(93560),v=t(84346),o=function(r,n,e,s,h){var i=n.trim().split(`
`).map(function(u){return u.split(",")}),a=v(r,i,e,s,h);return a.format=d.CSV,a};p.exports=o},30951:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(94990),v=t(29633),o=function(r,n){for(var e=[],s=0;s<r.layer.length;s++){for(var h=r.layer[s],i=new d({name:h.name,width:h.width,height:h.height,tileWidth:h.tilesize,tileHeight:h.tilesize,visible:h.visible===1}),a=[],u=[],l=0;l<h.data.length;l++){for(var f=0;f<h.data[l].length;f++){var c=h.data[l][f]-1,m;c>-1?m=new v(i,c,f,l,h.tilesize,h.tilesize):m=n?null:new v(i,-1,f,l,h.tilesize,h.tilesize),a.push(m)}u.push(a),a=[]}i.data=u,e.push(i)}return e};p.exports=o},47488:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(47975),v=function(o){for(var r=[],n=[],e=0;e<o.layer.length;e++){var s=o.layer[e],h=s.tilesetName;h!==""&&n.indexOf(h)===-1&&(n.push(h),r.push(new d(h,0,s.tilesize,s.tilesize,0,0)))}return r};p.exports=v},44909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(93560),v=t(16586),o=t(30951),r=t(47488),n=function(e,s,h){if(s.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var i=0,a=0,u=0;u<s.layer.length;u++)s.layer[u].width>i&&(i=s.layer[u].width),s.layer[u].height>a&&(a=s.layer[u].height);var l=new v({width:i,height:a,name:e,tileWidth:s.layer[0].tilesize,tileHeight:s.layer[0].tilesize,format:d.WELTMEISTER});return l.layers=o(s,h),l.tilesets=r(s),l};p.exports=n},24507:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ParseTileLayers:t(30951),ParseTilesets:t(47488),ParseWeltmeister:t(44909)}},34124:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={FromOrientationString:t(21394),Parse:t(90715),Parse2DArray:t(84346),ParseCSV:t(96097),Impact:t(24507),Tiled:t(50044)}},48646:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(98611),v=function(o){for(var r,n,e,s,h,i=0;i<o.layers.length;i++){r=o.layers[i],s=null;for(var a=0;a<r.data.length;a++){h=r.data[a];for(var u=0;u<h.length;u++)n=h[u],!(n===null||n.index<0)&&(e=o.tiles[n.index][2],s=o.tilesets[e],n.width=s.tileWidth,n.height=s.tileHeight,s.tileProperties&&s.tileProperties[n.index-s.firstgid]&&(n.properties=d(n.properties,s.tileProperties[n.index-s.firstgid])))}}};p.exports=v},43908:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var d=window.atob(t),v=d.length,o=new Array(v/4),r=0;r<v;r+=4)o[r/4]=(d.charCodeAt(r)|d.charCodeAt(r+1)<<8|d.charCodeAt(r+2)<<16|d.charCodeAt(r+3)<<24)>>>0;return o};p.exports=S},14556:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(47975),v=function(o){var r,n,e=[];for(r=0;r<o.imageCollections.length;r++)for(var s=o.imageCollections[r],h=s.images,i=0;i<h.length;i++){var a=h[i];n=new d(a.image,a.gid,s.imageWidth,s.imageHeight,0,0),n.updateTileData(s.imageWidth,s.imageHeight),o.tilesets.push(n)}for(r=0;r<o.tilesets.length;r++){n=o.tilesets[r];for(var u=n.tileMargin,l=n.tileMargin,f=0,c=0,m=0,x=n.firstgid;x<n.firstgid+n.total&&(e[x]=[u,l,r],u+=n.tileWidth+n.tileSpacing,f++,!(f===n.total||(c++,c===n.columns&&(u=n.tileMargin,l+=n.tileHeight+n.tileSpacing,c=0,m++,m===n.rows))));x++);}return e};p.exports=v},92044:(p,S,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72632),v=function(o,r,n){if(!r)return{i:0,layers:o.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=r.x+d(r,"startx",0)*o.tilewidth+d(r,"offsetx",0),s=r.y+d(r,"starty",0)*o.tileheight+d(r,"offsety",0);return{i:0,layers:r.layers,name:n.name+r.name+"/",opacity:n.opacity*r.opacity,visible:n.visible&&r.visible,x:n.x+e,y:n.y+s}};p.exports=v},8847:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=2147483648,t=1073741824,d=536870912,v=function(o){var r=!!(o&S),n=!!(o&t),e=!!(o&d);o=o&~(S|t|d);var s=0,h=!1;return r&&n&&e?(s=Math.PI/2,h=!0):r&&n&&!e?(s=Math.PI,h=!1):r&&!n&&e?(s=Math.PI/2,h=!1):r&&!n&&!e?(s=0,h=!0):!r&&n&&e?(s=3*Math.PI/2,h=!1):!r&&n&&!e?(s=Math.PI,h=!0):!r&&!n&&e?(s=3*Math.PI/2,h=!0):!r&&!n&&!e&&(s=0,h=!1),{gid:o,flippedHorizontal:r,flippedVertical:n,flippedAntiDiagonal:e,rotation:s,flipped:h}};p.exports=v},78339:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72632),v=t(92044),o=function(r){for(var n=[],e=[],s=v(r);s.i<s.layers.length||e.length>0;){if(s.i>=s.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=e.pop();continue}var h=s.layers[s.i];if(s.i++,h.type!=="imagelayer"){if(h.type==="group"){var i=v(r,h,s);e.push(s),s=i}continue}var a=d(h,"offsetx",0)+d(h,"startx",0),u=d(h,"offsety",0)+d(h,"starty",0);n.push({name:s.name+h.name,image:h.image,x:s.x+a+h.x,y:s.y+u+h.y,alpha:s.opacity*h.opacity,visible:s.visible&&h.visible,properties:d(h,"properties",{})})}return n};p.exports=o},2378:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(48646),v=t(14556),o=t(12920),r=t(28699),n=t(93560),e=t(21394),s=t(16586),h=t(78339),i=t(61136),a=t(95925),u=t(93392),l=function(f,c,m){var x=r(c),g=new s({width:x.width,height:x.height,name:f,tileWidth:x.tilewidth,tileHeight:x.tileheight,orientation:e(x.orientation),format:n.TILED_JSON,version:x.version,properties:x.properties,renderOrder:x.renderorder,infinite:x.infinite});g.orientation===o.HEXAGONAL&&(g.hexSideLength=x.hexsidelength,g.staggerAxis=x.staggeraxis,g.staggerIndex=x.staggerindex),g.layers=a(x,m),g.images=h(x);var y=u(x);return g.tilesets=y.tilesets,g.imageCollections=y.imageCollections,g.objects=i(x),g.tiles=v(g),d(g),g};p.exports=l},4281:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(28820),v=t(8847),o=function(e){return{x:e.x,y:e.y}},r=["id","name","type","rotation","properties","visible","x","y","width","height"],n=function(e,s,h){s===void 0&&(s=0),h===void 0&&(h=0);var i=d(e,r);if(i.x+=s,i.y+=h,e.gid){var a=v(e.gid);i.gid=a.gid,i.flippedHorizontal=a.flippedHorizontal,i.flippedVertical=a.flippedVertical,i.flippedAntiDiagonal=a.flippedAntiDiagonal}else e.polyline?i.polyline=e.polyline.map(o):e.polygon?i.polygon=e.polygon.map(o):e.ellipse?i.ellipse=e.ellipse:e.text?i.text=e.text:e.point?i.point=!0:i.rectangle=!0;return i};p.exports=n},61136:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72632),v=t(4281),o=t(15256),r=t(92044),n=function(e){for(var s=[],h=[],i=r(e);i.i<i.layers.length||h.length>0;){if(i.i>=i.layers.length){if(h.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}i=h.pop();continue}var a=i.layers[i.i];if(i.i++,a.opacity*=i.opacity,a.visible=i.visible&&a.visible,a.type!=="objectgroup"){if(a.type==="group"){var u=r(e,a,i);h.push(i),i=u}continue}a.name=i.name+a.name;for(var l=i.x+d(a,"startx",0)+d(a,"offsetx",0),f=i.y+d(a,"starty",0)+d(a,"offsety",0),c=[],m=0;m<a.objects.length;m++){var x=v(a.objects[m],l,f);c.push(x)}var g=new o(a);g.objects=c,s.push(g)}return s};p.exports=n},95925:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(43908),v=t(12920),o=t(92044),r=t(21394),n=t(72632),e=t(94990),s=t(8847),h=t(29633),i=function(a,u){for(var l=n(a,"infinite",!1),f=[],c=[],m=o(a);m.i<m.layers.length||c.length>0;){if(m.i>=m.layers.length){if(c.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}m=c.pop();continue}var x=m.layers[m.i];if(m.i++,x.type!=="tilelayer"){if(x.type==="group"){var g=o(a,x,m);c.push(m),m=g}continue}if(x.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+x.name+"'");continue}else if(x.encoding&&x.encoding==="base64"){if(x.chunks)for(var y=0;y<x.chunks.length;y++)x.chunks[y].data=d(x.chunks[y].data);x.data&&(x.data=d(x.data)),delete x.encoding}var T,C,A,w,E=[],P=0;if(l){var B=n(x,"startx",0)+x.x,R=n(x,"starty",0)+x.y;T=new e({name:m.name+x.name,x:m.x+n(x,"offsetx",0)+B*a.tilewidth,y:m.y+n(x,"offsety",0)+R*a.tileheight,width:x.width,height:x.height,tileWidth:a.tilewidth,tileHeight:a.tileheight,alpha:m.opacity*x.opacity,visible:m.visible&&x.visible,properties:n(x,"properties",[]),orientation:r(a.orientation)}),T.orientation===v.HEXAGONAL&&(T.hexSideLength=a.hexsidelength,T.staggerAxis=a.staggeraxis,T.staggerIndex=a.staggerindex);for(var I=0;I<x.height;I++){E[I]=[null];for(var N=0;N<x.width;N++)E[I][N]=null}for(I=0,H=x.chunks.length;I<H;I++)for(var X=x.chunks[I],Y=X.x-B,O=X.y-R,D=0,F=0,M=X.data.length;F<M;F++){var L=P+Y,G=D+O;C=s(X.data[F]),C.gid>0?(A=new h(T,C.gid,L,G,a.tilewidth,a.tileheight),A.rotation=C.rotation,A.flipX=C.flipped,E[G][L]=A):(w=u?null:new h(T,-1,L,G,a.tilewidth,a.tileheight),E[G][L]=w),P++,P===X.width&&(D++,P=0)}}else{T=new e({name:m.name+x.name,x:m.x+n(x,"offsetx",0)+x.x,y:m.y+n(x,"offsety",0)+x.y,width:x.width,height:x.height,tileWidth:a.tilewidth,tileHeight:a.tileheight,alpha:m.opacity*x.opacity,visible:m.visible&&x.visible,properties:n(x,"properties",[]),orientation:r(a.orientation)}),T.orientation===v.HEXAGONAL&&(T.hexSideLength=a.hexsidelength,T.staggerAxis=a.staggeraxis,T.staggerIndex=a.staggerindex);for(var U=[],W=0,H=x.data.length;W<H;W++)C=s(x.data[W]),C.gid>0?(A=new h(T,C.gid,P,E.length,a.tilewidth,a.tileheight),A.rotation=C.rotation,A.flipX=C.flipped,U.push(A)):(w=u?null:new h(T,-1,P,E.length,a.tilewidth,a.tileheight),U.push(w)),P++,P===x.width&&(E.push(U),P=0,U=[])}T.data=E,f.push(T)}return f};p.exports=i},93392:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(47975),v=t(97042),o=t(4281),r=t(39642),n=function(e){for(var s=[],h=[],i=null,a,u=0;u<e.tilesets.length;u++){var l=e.tilesets[u];if(l.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(l.image){var f=new d(l.name,l.firstgid,l.tilewidth,l.tileheight,l.margin,l.spacing,void 0,void 0,l.tileoffset);if(e.version>1){var c=void 0,m=void 0;if(Array.isArray(l.tiles)){c=c||{},m=m||{};for(var x=0;x<l.tiles.length;x++){var g=l.tiles[x];if(g.properties){var y={};g.properties.forEach(function(I){y[I.name]=I.value}),m[g.id]=y}if(g.objectgroup&&((c[g.id]||(c[g.id]={})).objectgroup=g.objectgroup,g.objectgroup.objects)){var T=g.objectgroup.objects.map(function(I){return o(I)});c[g.id].objectgroup.objects=T}g.animation&&((c[g.id]||(c[g.id]={})).animation=g.animation),g.type&&((c[g.id]||(c[g.id]={})).type=g.type)}}Array.isArray(l.wangsets)&&(c=c||{},m=m||{},r(l.wangsets,c)),c&&(f.tileData=c,f.tileProperties=m)}else if(l.tileproperties&&(f.tileProperties=l.tileproperties),l.tiles){f.tileData=l.tiles;for(a in f.tileData){var C=f.tileData[a].objectgroup;if(C&&C.objects){var A=C.objects.map(function(I){return o(I)});f.tileData[a].objectgroup.objects=A}}}f.updateTileData(l.imagewidth,l.imageheight),s.push(f)}else{var w=new v(l.name,l.firstgid,l.tilewidth,l.tileheight,l.margin,l.spacing,l.properties),E=0;for(x=0;x<l.tiles.length;x++){g=l.tiles[x];var P=g.image,B=parseInt(g.id,10),R=l.firstgid+B;w.addImage(R,P),E=Math.max(B,E)}w.maxId=E,h.push(w)}i&&(i.lastgid=l.firstgid-1),i=l}return{tilesets:s,imageCollections:h}};p.exports=n},39642:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){for(var v=0;v<t.length;v++){var o=t[v],r=v;if(o.name&&o.name!==""&&(r=o.name),Array.isArray(o.wangtiles)&&o.wangtiles.length>0){var n={},e={},s,h,i;if(Array.isArray(o.edgecolors))for(s=0;s<o.edgecolors.length;s++)i=1+s,h=o.edgecolors[s],h.name!==""&&(n[i]=h.name);if(Array.isArray(o.cornercolors))for(s=0;s<o.cornercolors.length;s++)i=1+s,h=o.cornercolors[s],h.name!==""&&(e[i]=h.name);if(Array.isArray(o.colors))for(s=0;s<o.colors.length;s++)h=o.colors[s],i=1+s,h.name!==""&&(n[i]=e[i]=h.name);for(var a=[n,e,n,e,n,e,n,e],u=0;u<o.wangtiles.length;u++){var l=o.wangtiles[u],f=d[l.tileid]||(d[l.tileid]={});f=f.wangid||(f.wangid={});for(var c=[],m=0;m<Math.min(a.length,l.wangid.length);m++){if(h=l.wangid[m],h===0){c.push(void 0);continue}var x=a[m][h];if(x!==void 0){c.push(x);continue}c.push(h)}f[r]=c}}}};p.exports=S},50044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AssignTileProperties:t(48646),Base64Decode:t(43908),BuildTilesetIndex:t(14556),CreateGroupLayer:t(92044),ParseGID:t(8847),ParseImageLayers:t(78339),ParseJSONTiled:t(2378),ParseObject:t(4281),ParseObjectLayers:t(61136),ParseTileLayers:t(95925),ParseTilesets:t(93392)}},73779:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(91963),o=t(7599),r=t(57911),n=t(66458),e=new d({initialize:function(h){this.scene=h,this.systems=h.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],h.sys.events.once(o.BOOT,this.boot,this),h.sys.events.on(o.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var s=this.systems.events;s.on(o.PRE_UPDATE,this.preUpdate,this),s.on(o.UPDATE,this.update,this),s.once(o.SHUTDOWN,this.shutdown,this)},addEvent:function(s){var h;return s instanceof r?(h=s,this.removeEvent(h),h.elapsed=h.startAt,h.hasDispatched=!1,h.repeatCount=h.repeat===-1||h.loop?999999999999:h.repeat):h=new r(s),this._pendingInsertion.push(h),h},delayedCall:function(s,h,i,a){return this.addEvent({delay:s,callback:h,args:i,callbackScope:a})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(s){Array.isArray(s)||(s=[s]);for(var h=0;h<s.length;h++){var i=s[h];n(this._pendingRemoval,i),n(this._pendingInsertion,i),n(this._active,i)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var s=this._pendingRemoval.length,h=this._pendingInsertion.length;if(!(s===0&&h===0)){var i,a;for(i=0;i<s;i++){a=this._pendingRemoval[i];var u=this._active.indexOf(a);u>-1&&this._active.splice(u,1),a.destroy()}for(i=0;i<h;i++)a=this._pendingInsertion[i],this._active.push(a);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(s,h){if(this.now=s,!this.paused){h*=this.timeScale;for(var i=0;i<this._active.length;i++){var a=this._active[i];if(!a.paused&&(a.elapsed+=h*a.timeScale,a.elapsed>=a.delay)){var u=a.elapsed-a.delay;if(a.elapsed=a.delay,!a.hasDispatched&&a.callback&&(a.hasDispatched=!0,a.callback.apply(a.callbackScope,a.args)),a.repeatCount>0){if(a.repeatCount--,u>=a.delay)for(;u>=a.delay&&a.repeatCount>0;)a.callback&&a.callback.apply(a.callbackScope,a.args),u-=a.delay,a.repeatCount--;a.elapsed=u,a.hasDispatched=!1}else a.hasDispatched&&this._pendingRemoval.push(a)}}}},shutdown:function(){var s;for(s=0;s<this._pendingInsertion.length;s++)this._pendingInsertion[s].destroy();for(s=0;s<this._active.length;s++)this._active[s].destroy();for(s=0;s<this._pendingRemoval.length;s++)this._pendingRemoval[s].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var h=this.systems.events;h.off(o.PRE_UPDATE,this.preUpdate,this),h.off(o.UPDATE,this.update,this),h.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});v.register("Clock",e,"time"),p.exports=e},20517:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(6659),o=t(61286),r=t(72632),n=t(7599),e=new d({Extends:v,initialize:function(h,i){v.call(this),this.scene=h,this.systems=h.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.events=[];var a=this.systems.events;a.on(n.PRE_UPDATE,this.preUpdate,this),a.on(n.UPDATE,this.update,this),a.once(n.SHUTDOWN,this.destroy,this),i&&this.add(i)},preUpdate:function(s,h){this.paused||(this.elapsed+=h)},update:function(){if(!this.paused){var s,h=this.events,i=!1,a=this.systems,u;for(s=0;s<h.length;s++){var l=h[s];if(!l.complete&&l.time<=this.elapsed){if(l.complete=!0,this.totalComplete++,l.once&&(i=!0),l.set&&l.target)for(var f in l.set)l.target[f]=l.set[f];l.tween&&a.tweens.add(l.tween),l.sound&&(typeof l.sound=="string"?a.sound.play(l.sound):a.sound.play(l.sound.key,l.sound.config)),u=l.target?l.target:this,l.event&&this.emit(l.event,u),l.run&&l.run.call(u),l.stop&&this.stop()}}if(i)for(s=0;s<h.length;s++)h[s].complete&&h[s].once&&(h.splice(s,1),s--);this.totalComplete>=h.length&&(this.complete=!0)}},play:function(s){return s===void 0&&(s=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,s&&this.reset(),this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(){this.elapsed=0;for(var s=0;s<this.events.length;s++)this.events[s].complete=!1;return this.play(!1)},add:function(s){Array.isArray(s)||(s=[s]);var h=this.events,i=0;h.length>0&&(i=h[h.length-1].time);for(var a=0;a<s.length;a++){var u=s[a],l=r(u,"at",0),f=r(u,"in",null);f!==null&&(l=this.elapsed+f);var c=r(u,"from",null);c!==null&&(l=i+c),h.push({complete:!1,time:l,run:r(u,"run",null),event:r(u,"event",null),target:r(u,"target",null),set:r(u,"set",null),tween:r(u,"tween",null),sound:r(u,"sound",null),once:r(u,"once",!1),stop:r(u,"stop",!1)}),i=l}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var s=Math.min(this.totalComplete,this.events.length);return s/this.events.length},destroy:function(){var s=this.systems.events;s.off(n.PRE_UPDATE,this.preUpdate,this),s.off(n.UPDATE,this.update,this),s.off(n.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});o.register("timeline",function(s){return new e(this.scene,s)}),p.exports=e},57911:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(72632),o=new d({initialize:function(n){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(n)},reset:function(r){if(this.delay=v(r,"delay",0),this.repeat=v(r,"repeat",0),this.loop=v(r,"loop",!1),this.callback=v(r,"callback",void 0),this.callbackScope=v(r,"callbackScope",this),this.args=v(r,"args",[]),this.timeScale=v(r,"timeScale",1),this.startAt=v(r,"startAt",0),this.paused=v(r,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var r=this.delay+this.delay*this.repeat,n=this.elapsed+this.delay*(this.repeat-this.repeatCount);return n/r}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(r){r===void 0&&(r=!1),this.elapsed=this.delay,this.hasDispatched=!r,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});p.exports=o},97121:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Clock:t(73779),Timeline:t(20517),TimerEvent:t(57911)}},64532:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(66458),v=t(56694),o=t(5454),r=t(68710),n=t(91963),e=t(7599),s=t(91944),h=t(39366),i=t(68061),a=t(45641),u=t(56034),l=new v({initialize:function(c){this.scene=c,this.events=c.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(f){Array.isArray(f)||(f=[f]);for(var c=[],m=0;m<f.length;m++){var x=f[m];x instanceof h||x instanceof a?c.push(x):Array.isArray(x.tweens)?c.push(u(this,x)):c.push(i(this,x))}return c.length===1?c[0]:c},add:function(f){var c=f,m=this.tweens;return c instanceof h||c instanceof a||(Array.isArray(c.tweens)?c=u(this,c):c=i(this,c)),m.push(c.reset()),c},addMultiple:function(f){for(var c,m=[],x=this.tweens,g=0;g<f.length;g++)c=f[g],c instanceof h||c instanceof a||(Array.isArray(c.tweens)?c=u(this,c):c=i(this,c)),x.push(c.reset()),m.push(c);return m},chain:function(f){var c=u(this,f);return this.tweens.push(c.init()),c},getChainedTweens:function(f){return f.getChainedTweens()},has:function(f){return this.tweens.indexOf(f)>-1},existing:function(f){return this.has(f)||this.tweens.push(f.reset()),this},addCounter:function(f){var c=r(this,f);return this.tweens.push(c.reset()),c},stagger:function(f,c){return s(f,c)},setLagSmooth:function(f,c){return f===void 0&&(f=1/1e-8),c===void 0&&(c=0),this.maxLag=f,this.lagSkip=Math.min(c,this.maxLag),this},setFps:function(f){return f===void 0&&(f=240),this.gap=1e3/f,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(f){var c=Date.now()-this.prevTime;c>this.maxLag&&(this.startTime+=c-this.lagSkip),this.prevTime+=c;var m=this.prevTime-this.startTime,x=m-this.nextTime,g=m-this.time*1e3;return x>0||f?(m/=1e3,this.time=m,this.nextTime+=x+(x>=this.gap?4:this.gap-x)):g=0,g},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(f){f===void 0&&(f=!1);var c=this.getDelta(f);if(!(c<=0)){this.processing=!0;var m,x,g=[],y=this.tweens;for(m=0;m<y.length;m++)x=y[m],x.update(c)&&g.push(x);var T=g.length;if(T&&y.length>0){for(m=0;m<T;m++){x=g[m];var C=y.indexOf(x);C>-1&&(x.isPendingRemove()||x.isDestroyed())&&(y.splice(C,1),x.destroy())}g.length=0}this.processing=!1}},remove:function(f){return this.processing?f.setPendingRemoveState():(d(this.tweens,f),f.setRemovedState()),this},reset:function(f){return this.existing(f),f.seek(),f.setActiveState(),this},makeActive:function(f){return this.existing(f),f.setActiveState(),this},each:function(f,c){var m,x=[null];for(m=1;m<arguments.length;m++)x.push(arguments[m]);return this.tweens.forEach(function(g){x[0]=g,f.apply(c,x)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(f){var c=[],m=this.tweens;Array.isArray(f)?f=o(f):f=[f];for(var x=f.length,g=0;g<m.length;g++)for(var y=m[g],T=0;T<x;T++)!y.isDestroyed()&&y.hasTarget(f[T])&&c.push(y);return c},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(f){return this.timeScale=f,this},isTweening:function(f){for(var c=this.tweens,m,x=0;x<c.length;x++)if(m=c[x],m.isPlaying()&&m.hasTarget(f))return!0;return!1},killAll:function(){for(var f=this.processing?this.getTweens():this.tweens,c=0;c<f.length;c++)f[c].destroy();return this.processing||(f.length=0),this},killTweensOf:function(f){for(var c=this.getTweensOf(f),m=0;m<c.length;m++)c[m].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});n.register("TweenManager",l,"tweens"),p.exports=l},63130:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){return t&&t.hasOwnProperty(d)?t[d]:v};p.exports=S},21902:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(35060),v=t(40587),o=function(r,n){var e=d.Power0;if(typeof r=="string")if(d.hasOwnProperty(r))e=d[r];else{var s="";if(r.indexOf(".")){s=r.substring(r.indexOf(".")+1);var h=s.toLowerCase();h==="in"?s="easeIn":h==="out"?s="easeOut":h==="inout"&&(s="easeInOut")}r=v(r.substring(0,r.indexOf(".")+1)+s),d.hasOwnProperty(r)&&(e=d[r])}else typeof r=="function"&&(e=r);if(!n)return e;var i=n.slice(0);return i.unshift(0),function(a){return i[0]=a,e.apply(this,i)}};p.exports=o},4840:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(63210),v=t(88332),o=t(47614),r={bezier:d,catmull:v,catmullrom:v,linear:o},n=function(e){if(e===null)return null;var s=r.linear;return typeof e=="string"?r.hasOwnProperty(e)&&(s=r[e]):typeof e=="function"&&(s=e),s};p.exports=n},28348:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){var o;if(t.hasOwnProperty(d)){var r=typeof t[d];r==="function"?o=function(n,e,s,h,i,a){return t[d](n,e,s,h,i,a)}:o=function(){return t[d]}}else typeof v=="function"?o=v:o=function(){return v};return o};p.exports=S},92407:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(53709),v=function(o){var r,n=[];if(o.hasOwnProperty("props"))for(r in o.props)r.substring(0,1)!=="_"&&n.push({key:r,value:o.props[r]});else for(r in o)d.indexOf(r)===-1&&r.substring(0,1)!=="_"&&n.push({key:r,value:o[r]});return n};p.exports=v},65868:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(10850),v=function(o){var r=d(o,"targets",null);return r===null||(typeof r=="function"&&(r=r.call()),Array.isArray(r)||(r=[r])),r};p.exports=v},9744:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(17489),v=t(61616);function o(h){return!!h.getActive&&typeof h.getActive=="function"}function r(h){return!!h.getStart&&typeof h.getStart=="function"}function n(h){return!!h.getEnd&&typeof h.getEnd=="function"}function e(h){return r(h)||n(h)||o(h)}var s=function(h,i){var a,u=function(X,Y,O){return O},l=function(X,Y,O){return O},f=null,c=typeof i;if(c==="number")u=function(){return i};else if(Array.isArray(i))l=function(){return i[0]},u=function(){return i[i.length-1]};else if(c==="string"){var m=i.toLowerCase(),x=m.substring(0,6)==="random",g=m.substring(0,3)==="int";if(x||g){var y=m.indexOf("("),T=m.indexOf(")"),C=m.indexOf(",");if(y&&T&&C){var A=parseFloat(m.substring(y+1,C)),w=parseFloat(m.substring(C+1,T));x?u=function(){return v(A,w)}:u=function(){return d(A,w)}}else throw new Error("invalid random() format")}else{m=m[0];var E=parseFloat(i.substr(2));switch(m){case"+":u=function(X,Y,O){return O+E};break;case"-":u=function(X,Y,O){return O-E};break;case"*":u=function(X,Y,O){return O*E};break;case"/":u=function(X,Y,O){return O/E};break;default:u=function(){return parseFloat(i)}}}}else if(c==="function")u=i;else if(c==="object")if(e(i))o(i)&&(f=i.getActive),n(i)&&(u=i.getEnd),r(i)&&(l=i.getStart);else if(i.hasOwnProperty("value"))a=s(h,i.value);else{var P=i.hasOwnProperty("to"),B=i.hasOwnProperty("from"),R=i.hasOwnProperty("start");if(P&&(B||R)){if(a=s(h,i.to),R){var I=s(h,i.start);a.getActive=I.getEnd}if(B){var N=s(h,i.from);a.getStart=N.getEnd}}}return a||(a={getActive:f,getEnd:u,getStart:l}),a};p.exports=s},68710:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(502),v=t(99730),o=t(20494),r=t(63130),n=t(21902),e=t(28348),s=t(10850),h=t(9744),i=t(72066),a=t(39366),u=function(l,f,c){if(f instanceof a)return f.parent=l,f;c===void 0?c=v:c=i(v,c);var m=s(f,"from",0),x=s(f,"to",1),g=[{value:m}],y=s(f,"delay",c.delay),T=s(f,"easeParams",c.easeParams),C=s(f,"ease",c.ease),A=h("value",x),w=new a(l,g),E=w.add(0,"value",A.getEnd,A.getStart,A.getActive,n(s(f,"ease",C),s(f,"easeParams",T)),e(f,"delay",y),s(f,"duration",c.duration),r(f,"yoyo",c.yoyo),s(f,"hold",c.hold),s(f,"repeat",c.repeat),s(f,"repeatDelay",c.repeatDelay),!1,!1);E.start=m,E.current=m,w.completeDelay=o(f,"completeDelay",0),w.loop=Math.round(o(f,"loop",0)),w.loopDelay=Math.round(o(f,"loopDelay",0)),w.paused=r(f,"paused",!1),w.persist=r(f,"persist",!1),w.callbackScope=s(f,"callbackScope",w);for(var P=d.TYPES,B=0;B<P.length;B++){var R=P[B],I=s(f,R,!1);if(I){var N=s(f,R+"Params",[]);w.setCallback(R,I,N)}}return w};p.exports=u},91944:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(21902),v=t(10850),o=t(83392),r=function(n,e){e===void 0&&(e={});var s,h=v(e,"start",0),i=v(e,"ease",null),a=v(e,"grid",null),u=v(e,"from",0),l=u==="first",f=u==="center",c=u==="last",m=typeof u=="number",x=Array.isArray(n),g=parseFloat(x?n[0]:n),y=x?parseFloat(n[1]):0,T=Math.max(g,y);if(x&&(h+=g),a){var C=a[0],A=a[1],w=0,E=0,P=0,B=0,R=[];c?(w=C-1,E=A-1):m?(w=u%C,E=Math.floor(u/C)):f&&(w=(C-1)/2,E=(A-1)/2);for(var I=o.MIN_SAFE_INTEGER,N=0;N<A;N++){R[N]=[];for(var X=0;X<C;X++){P=w-X,B=E-N;var Y=Math.sqrt(P*P+B*B);Y>I&&(I=Y),R[N][X]=Y}}}var O=i?d(i):null;return a?s=function(D,F,M,L){var G=0,U=L%C,W=Math.floor(L/C);U>=0&&U<C&&W>=0&&W<A&&(G=R[W][U]);var H;if(x){var J=y-g;O?H=G/I*J*O(G/I):H=G/I*J}else O?H=G*g*O(G/I):H=G*g;return H+h}:s=function(D,F,M,L,G){G--;var U;l?U=L:f?U=Math.abs(G/2-L):c?U=G-L:m&&(U=Math.abs(u-L));var W;if(x){var H;f?H=(y-g)/G*(U*2):H=(y-g)/G*U,O?W=H*O(U/G):W=H}else O?W=G*T*O(U/G):W=U*g;return W+h},s};p.exports=r},68061:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(502),v=t(99730),o=t(20494),r=t(63130),n=t(21902),e=t(4840),s=t(28348),h=t(92407),i=t(65868),a=t(10850),u=t(9744),l=t(72066),f=t(39366),c=function(m,x,g){if(x instanceof f)return x.parent=m,x;g===void 0?g=v:g=l(v,g);var y=i(x);!y&&g.targets&&(y=g.targets);for(var T=h(x),C=a(x,"delay",g.delay),A=a(x,"duration",g.duration),w=a(x,"easeParams",g.easeParams),E=a(x,"ease",g.ease),P=a(x,"hold",g.hold),B=a(x,"repeat",g.repeat),R=a(x,"repeatDelay",g.repeatDelay),I=r(x,"yoyo",g.yoyo),N=r(x,"flipX",g.flipX),X=r(x,"flipY",g.flipY),Y=a(x,"interpolation",g.interpolation),O=function($,k,_,q){if(_==="texture"){var et=q,ot=void 0;Array.isArray(q)?(et=q[0],ot=q[1]):q.hasOwnProperty("value")?(et=q.value,Array.isArray(q.value)?(et=q.value[0],ot=q.value[1]):typeof q.value=="string"&&(et=q.value)):typeof q=="string"&&(et=q),$.addFrame(k,et,ot,s(q,"delay",C),a(q,"duration",A),a(q,"hold",P),a(q,"repeat",B),a(q,"repeatDelay",R),r(q,"flipX",N),r(q,"flipY",X))}else{var lt=u(_,q),ht=e(a(q,"interpolation",Y));$.add(k,_,lt.getEnd,lt.getStart,lt.getActive,n(a(q,"ease",E),a(q,"easeParams",w)),s(q,"delay",C),a(q,"duration",A),r(q,"yoyo",I),a(q,"hold",P),a(q,"repeat",B),a(q,"repeatDelay",R),r(q,"flipX",N),r(q,"flipY",X),ht,ht?q:null)}},D=new f(m,y),F=0;F<T.length;F++)for(var M=T[F].key,L=T[F].value,G=0;G<y.length;G++)M==="scale"&&!y[G].hasOwnProperty("scale")?(O(D,G,"scaleX",L),O(D,G,"scaleY",L)):O(D,G,M,L);D.completeDelay=o(x,"completeDelay",0),D.loop=Math.round(o(x,"loop",0)),D.loopDelay=Math.round(o(x,"loopDelay",0)),D.paused=r(x,"paused",!1),D.persist=r(x,"persist",!1),D.callbackScope=a(x,"callbackScope",D);for(var U=d.TYPES,W=0;W<U.length;W++){var H=U[W],J=a(x,H,!1);if(J){var Q=a(x,H+"Params",[]);D.setCallback(H,J,Q)}}return D};p.exports=c},56034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(502),v=t(20494),o=t(63130),r=t(65868),n=t(10850),e=t(68061),s=t(45641),h=function(i,a){if(a instanceof s)return a.parent=i,a;var u=new s(i);u.startDelay=n(a,"delay",0),u.completeDelay=v(a,"completeDelay",0),u.loop=Math.round(v(a,"loop",n(a,"repeat",0))),u.loopDelay=Math.round(v(a,"loopDelay",n(a,"repeatDelay",0))),u.paused=o(a,"paused",!1),u.persist=o(a,"persist",!0),u.callbackScope=n(a,"callbackScope",u);var l,f=d.TYPES;for(l=0;l<f.length;l++){var c=f[l],m=n(a,c,!1);if(m){var x=n(a,c+"Params",[]);u.setCallback(c,m,x)}}var g=n(a,"tweens",null);if(Array.isArray(g)){var y=[],T=r(a),C=void 0;for(T&&(C={targets:T}),l=0;l<g.length;l++)y.push(e(u,g[l],C));u.add(y)}return u};p.exports=h},79619:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GetBoolean:t(63130),GetEaseFunction:t(21902),GetInterpolationFunction:t(4840),GetNewValue:t(28348),GetProps:t(92407),GetTargets:t(65868),GetValueOp:t(9744),NumberTweenBuilder:t(68710),StaggerBuilder:t(91944),TweenBuilder:t(68061)}},5570:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="active"},6383:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},72582:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},90281:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},80803:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="repeat"},13640:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},10472:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},5379:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},43449:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},61541:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="yoyo"},54272:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={TWEEN_ACTIVE:t(5570),TWEEN_COMPLETE:t(6383),TWEEN_LOOP:t(72582),TWEEN_PAUSE:t(90281),TWEEN_RESUME:t(13640),TWEEN_REPEAT:t(80803),TWEEN_START:t(10472),TWEEN_STOP:t(5379),TWEEN_UPDATE:t(43449),TWEEN_YOYO:t(61541)}},75193:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={States:t(55303),Builders:t(79619),Events:t(54272),TweenManager:t(64532),Tween:t(39366),TweenData:t(15718),TweenFrameData:t(96490),BaseTween:t(502),TweenChain:t(45641)};p.exports=d},502:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(6659),o=t(54272),r=t(55303),n=new d({Extends:v,initialize:function(s){v.call(this),this.parent=s,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=r.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(o.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(o.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(o.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent.remove(this),this},stop:function(){return!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(o.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(o.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,s,h){return h===void 0&&(h=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:s,params:h}),this},setPendingState:function(){this.state=r.PENDING},setActiveState:function(){this.state=r.ACTIVE},setLoopDelayState:function(){this.state=r.LOOP_DELAY},setCompleteDelayState:function(){this.state=r.COMPLETE_DELAY},setStartDelayState:function(){this.state=r.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=r.PENDING_REMOVE},setRemovedState:function(){this.state=r.REMOVED},setFinishedState:function(){this.state=r.FINISHED},setDestroyedState:function(){this.state=r.DESTROYED},isPending:function(){return this.state===r.PENDING},isActive:function(){return this.state===r.ACTIVE},isLoopDelayed:function(){return this.state===r.LOOP_DELAY},isCompleteDelayed:function(){return this.state===r.COMPLETE_DELAY},isStartDelayed:function(){return this.state===r.START_DELAY},isPendingRemove:function(){return this.state===r.PENDING_REMOVE},isRemoved:function(){return this.state===r.REMOVED},isFinished:function(){return this.state===r.FINISHED},isDestroyed:function(){return this.state===r.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});n.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],p.exports=n},65521:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(56694),v=t(54272),o=t(55303),r=new d({initialize:function(e,s,h,i,a,u,l,f,c,m){this.tween=e,this.targetIndex=s,this.duration=i,this.totalDuration=0,this.delay=0,this.getDelay=h,this.yoyo=a,this.hold=u,this.repeat=l,this.repeatDelay=f,this.repeatCounter=0,this.flipX=c,this.flipY=m,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(n){n===void 0&&(n=this.current),this.tween.targets[this.targetIndex][this.key]=n},setCreatedState:function(){this.state=o.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=o.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=o.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=o.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=o.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=o.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=o.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=o.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===o.CREATED},isDelayed:function(){return this.state===o.DELAY},isPendingRender:function(){return this.state===o.PENDING_RENDER},isPlayingForward:function(){return this.state===o.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===o.PLAYING_BACKWARD},isHolding:function(){return this.state===o.HOLD_DELAY},isRepeating:function(){return this.state===o.REPEAT_DELAY},isComplete:function(){return this.state===o.COMPLETE},setStateFromEnd:function(n){this.yoyo?this.onRepeat(n,!0,!0):this.repeatCounter>0?this.onRepeat(n,!0,!1):this.setCompleteState()},setStateFromStart:function(n){this.repeatCounter>0?this.onRepeat(n,!1):this.setCompleteState()},reset:function(){var n=this.tween,e=n.totalTargets,s=this.targetIndex,h=n.targets[s],i=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(h,i,0,s,e,n),this.repeatCounter=this.repeat===-1?o.MAX:this.repeat,this.setPendingRenderState();var a=this.duration+this.hold;this.yoyo&&(a+=this.duration);var u=a+this.repeatDelay;this.totalDuration=this.delay+a,this.repeat===-1?(this.totalDuration+=u*o.MAX,n.isInfinite=!0):this.repeat>0&&(this.totalDuration+=u*this.repeat),this.totalDuration>n.duration&&(n.duration=this.totalDuration),this.delay<n.startDelay&&(n.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(n,e,s){var h=this.tween,i=h.totalTargets,a=this.targetIndex,u=h.targets[a],l=this.key,f=l!=="texture";if(this.elapsed=n,this.progress=n/this.duration,this.flipX&&u.toggleFlipX(),this.flipY&&u.toggleFlipY(),f&&(e||s)&&(this.start=this.getStartValue(u,l,this.start,a,i,h)),s){this.setPlayingBackwardState(),this.dispatchEvent(v.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,f&&(this.end=this.getEndValue(u,l,this.start,a,i,h)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-n,f&&(this.current=this.start,u[l]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(v.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});p.exports=r},99730:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};p.exports=S},53709:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},39366:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(502),v=t(56694),o=t(54272),r=t(99325),n=t(61286),e=t(83392),s=t(55303),h=t(15718),i=t(96490),a=new v({Extends:d,initialize:function(l,f){d.call(this,l),this.targets=f,this.totalTargets=f.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(u,l,f,c,m,x,g,y,T,C,A,w,E,P,B,R){var I=new h(this,u,l,f,c,m,x,g,y,T,C,A,w,E,P,B,R);return this.totalData=this.data.push(I),I},addFrame:function(u,l,f,c,m,x,g,y,T,C){var A=new i(this,u,l,f,c,m,x,g,y,T,C);return this.totalData=this.data.push(A),A},getValue:function(u){u===void 0&&(u=0);var l=null;return this.data&&(l=this.data[u].current),l},hasTarget:function(u){return this.targets&&this.targets.indexOf(u)!==-1},updateTo:function(u,l,f){if(f===void 0&&(f=!1),u!=="texture")for(var c=0;c<this.totalData;c++){var m=this.data[c];m.key===u&&(m.isPlayingForward()||m.isPlayingBackward())&&(m.end=l,f&&(m.start=m.current))}return this},restart:function(){switch(this.state){case s.REMOVED:case s.FINISHED:this.seek(),this.parent.makeActive(this);break;case s.PENDING:case s.PENDING_REMOVE:this.parent.reset(this);break;case s.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,d.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(u,l,f){if(u===void 0&&(u=0),l===void 0&&(l=16.6),f===void 0&&(f=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;f||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive");var c=this.paused;if(this.paused=!1,u>0){for(var m=Math.floor(u/l),x=u-m*l,g=0;g<m;g++)this.update(l);x>0&&this.update(x)}return this.paused=c,this.isSeeking=!1,this},initTweenData:function(u){u===void 0&&(u=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var l=this.data,f=0;f<this.totalData;f++)l[f].reset(u);this.duration=Math.max(this.duration,.01);var c=this.duration,m=this.completeDelay,x=this.loopCounter,g=this.loopDelay;x>0?this.totalDuration=c+m+(c+g)*x:this.totalDuration=c+m},reset:function(u){return u===void 0&&(u=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=s.MAX),u||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive")),this},update:function(u){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(u*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(u),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(u),!1;this.hasStarted||(this.startDelay-=u,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(o.TWEEN_START,"onStart"),u=0));var l=!1;if(this.isActive())for(var f=this.data,c=0;c<this.totalData;c++)f[c].update(u)&&(l=!0);this.elapsed+=u,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=u,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),l||this.nextState();var m=this.isPendingRemove();return m&&this.persist&&(this.setFinishedState(),m=!1),m},forward:function(u){return this.update(u),this},rewind:function(u){return this.update(-u),this},dispatchEvent:function(u,l){if(!this.isSeeking){this.emit(u,this,this.targets);var f=this.callbacks[l];f&&f.func.apply(this.callbackScope,[this,this.targets].concat(f.params))}},destroy:function(){d.prototype.destroy.call(this),this.targets=null}});n.register("tween",function(u){return this.scene.sys.tweens.add(u)}),r.register("tween",function(u){return this.scene.sys.tweens.create(u)}),p.exports=a},45641:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(66458),v=t(502),o=t(56694),r=t(54272),n=t(99325),e=t(61286),s=t(55303),h=new o({Extends:v,initialize:function(a){v.call(this,a),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?s.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(r.TWEEN_ACTIVE,"onActive"),this},add:function(i){var a=this.parent.create(i);Array.isArray(a)||(a=[a]);for(var u=this.data,l=0;l<a.length;l++){var f=a[l];f.parent=this,u.push(f.reset())}return this.totalData=u.length,this},remove:function(i){return d(this.data,i),i.setRemovedState(),i===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(i){for(var a=this.data,u=0;u<this.totalData;u++)if(a[u].hasTarget(i))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(i){return i.seek(),i.setActiveState(),this},makeActive:function(i){return i.reset(),i.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(r.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var i=this.data,a=this.totalData,u=0;u<a;u++)i[u].reset(!1);this.currentIndex=0,this.currentTween=i[0]},update:function(i){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;i*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(i):this.isCompleteDelayed()?this.updateCompleteDelay(i):this.isStartDelayed()&&(i=this.updateStartCountdown(i));var a=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(i)&&this.nextTween()&&this.nextState(),a=this.isPendingRemove(),a&&this.persist&&(this.setFinishedState(),a=!1)),a},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(i){this.currentIndex=i,this.currentTween=this.data[i],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(r.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(i,a){this.emit(i,this);var u=this.callbacks[a];u&&u.func.apply(this.callbackScope,[this].concat(u.params))},destroy:function(){v.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(i){return this.scene.sys.tweens.chain(i)}),n.register("tweenchain",function(i){return this.scene.sys.tweens.create(i)}),p.exports=h},15718:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(65521),v=t(82897),o=t(56694),r=t(54272),n=new o({Extends:d,initialize:function(s,h,i,a,u,l,f,c,m,x,g,y,T,C,A,w,E){d.call(this,s,h,c,m,x,g,y,T,C,A),this.key=i,this.getActiveValue=l,this.getEndValue=a,this.getStartValue=u,this.ease=f,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=w,this.interpolationData=E},reset:function(e){d.prototype.reset.call(this);var s=this.tween.targets[this.targetIndex],h=this.key;e&&(s[h]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(s[h]=this.getActiveValue(s,h,0))},update:function(e){var s=this.tween,h=s.totalTargets,i=this.targetIndex,a=s.targets[i],u=this.key;if(!a)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(a,u,a[u],i,h,s),this.end=this.getEndValue(a,u,this.start,i,h,s),this.current=this.start,a[u]=this.start,this.setPlayingForwardState(),!0;var l=this.isPlayingForward(),f=this.isPlayingBackward();if(l||f){var c=this.elapsed,m=this.duration,x=0,g=!1;c+=e,c>=m?(x=c-m,c=m,g=!0):c<0&&(c=0);var y=v(c/m,0,1);if(this.elapsed=c,this.progress=y,this.previous=this.current,g)l?(this.current=this.end,a[u]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(x)):(this.current=this.start,a[u]=this.start,this.setStateFromStart(x));else{l||(y=1-y);var T=this.ease(y);this.interpolation?this.current=this.interpolation(this.interpolationData,T):this.current=this.start+(this.end-this.start)*T,a[u]=this.current}this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,s){var h=this.tween;if(!h.isSeeking){var i=h.targets[this.targetIndex],a=this.key,u=this.current,l=this.previous;h.emit(e,h,a,i,u,l);var f=h.callbacks[s];f&&f.func.apply(h.callbackScope,[h,i,a,u,l].concat(f.params))}},destroy:function(){d.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});p.exports=n},96490:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(65521),v=t(82897),o=t(56694),r=t(54272),n=new o({Extends:d,initialize:function(s,h,i,a,u,l,f,c,m,x,g){d.call(this,s,h,u,l,!1,f,c,m,x,g),this.key="texture",this.startTexture=null,this.endTexture=i,this.startFrame=null,this.endFrame=a,this.yoyo=c!==0},reset:function(e){d.prototype.reset.call(this);var s=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=s.texture.key,this.startFrame=s.frame.name),e&&s.setTexture(this.startTexture,this.startFrame)},update:function(e){var s=this.tween,h=this.targetIndex,i=s.targets[h];if(!i)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&i.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var a=this.isPlayingForward(),u=this.isPlayingBackward();if(a||u){var l=this.elapsed,f=this.duration,c=0,m=!1;l+=e,l>=f?(c=l-f,l=f,m=!0):l<0&&(l=0);var x=v(l/f,0,1);this.elapsed=l,this.progress=x,m&&(a?(i.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(c)):(i.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(c))),this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,s){var h=this.tween;if(!h.isSeeking){var i=h.targets[this.targetIndex],a=this.key;h.emit(e,h,a,i);var u=h.callbacks[s];u&&u.func.apply(h.callbackScope,[h,i,a].concat(u.params))}},destroy:function(){d.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});p.exports=n},55303:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};p.exports=S},56694:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(n){return!!n.get&&typeof n.get=="function"||!!n.set&&typeof n.set=="function"}function t(n,e,s){var h=s?n[e]:Object.getOwnPropertyDescriptor(n,e);return!s&&h.value&&typeof h.value=="object"&&(h=h.value),h&&S(h)?(typeof h.enumerable>"u"&&(h.enumerable=!0),typeof h.configurable>"u"&&(h.configurable=!0),h):!1}function d(n,e){var s=Object.getOwnPropertyDescriptor(n,e);return s?(s.value&&typeof s.value=="object"&&(s=s.value),s.configurable===!1):!1}function v(n,e,s,h){for(var i in e)if(e.hasOwnProperty(i)){var a=t(e,i,s);if(a!==!1){var u=h||n;if(d(u.prototype,i)){if(r.ignoreFinals)continue;throw new Error("cannot override final property '"+i+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(n.prototype,i,a)}else n.prototype[i]=e[i]}}function o(n,e){if(e){Array.isArray(e)||(e=[e]);for(var s=0;s<e.length;s++)v(n,e[s].prototype||e[s])}}function r(n){n||(n={});var e,s;if(n.initialize){if(typeof n.initialize!="function")throw new Error("initialize must be a function");e=n.initialize,delete n.initialize}else if(n.Extends){var h=n.Extends;e=function(){h.apply(this,arguments)}}else e=function(){};n.Extends?(e.prototype=Object.create(n.Extends.prototype),e.prototype.constructor=e,s=n.Extends,delete n.Extends):e.prototype.constructor=e;var i=null;return n.Mixins&&(i=n.Mixins,delete n.Mixins),o(e,i),v(e,n,!0,s),e}r.extend=v,r.mixin=o,r.ignoreFinals=!1,p.exports=r},72283:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},10618:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return null};p.exports=S},78991:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o,r){if(r===void 0&&(r=t),v>0){var n=v-t.length;if(n<=0)return null}if(!Array.isArray(d))return t.indexOf(d)===-1?(t.push(d),o&&o.call(r,d),d):null;for(var e=d.length-1;e>=0;)t.indexOf(d[e])!==-1&&d.splice(e,1),e--;if(e=d.length,e===0)return null;v>0&&e>n&&(d.splice(n),e=n);for(var s=0;s<e;s++){var h=d[s];t.push(h),o&&o.call(r,h)}return d};p.exports=S},48522:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o,r,n){if(v===void 0&&(v=0),n===void 0&&(n=t),o>0){var e=o-t.length;if(e<=0)return null}if(!Array.isArray(d))return t.indexOf(d)===-1?(t.splice(v,0,d),r&&r.call(n,d),d):null;for(var s=d.length-1;s>=0;)t.indexOf(d[s])!==-1&&d.pop(),s--;if(s=d.length,s===0)return null;o>0&&s>e&&(d.splice(e),s=e);for(var h=s-1;h>=0;h--){var i=d[h];t.splice(v,0,i),r&&r.call(n,i)}return d};p.exports=S},58742:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){var v=t.indexOf(d);return v!==-1&&v<t.length&&(t.splice(v,1),t.push(d)),d};p.exports=S},30164:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(45838),v=function(o,r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=o.length);var h=0;if(d(o,e,s))for(var i=e;i<s;i++){var a=o[i];a[r]===n&&h++}return h};p.exports=v},36337:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){var o,r=[null];for(o=3;o<arguments.length;o++)r.push(arguments[o]);for(o=0;o<t.length;o++)r[0]=t[o],d.apply(v,r);return t};p.exports=S},46208:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(45838),v=function(o,r,n,e,s){if(e===void 0&&(e=0),s===void 0&&(s=o.length),d(o,e,s)){var h,i=[null];for(h=5;h<arguments.length;h++)i.push(arguments[h]);for(h=e;h<s;h++)i[0]=o[h],r.apply(n,i)}return o};p.exports=v},2406:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){if(d.length){if(d.length===1)return d[0]}else return NaN;var o=1,r,n;if(v){if(t<d[0][v])return d[0];for(;d[o][v]<t;)o++}else for(;d[o]<t;)o++;return o>d.length&&(o=d.length),v?(r=d[o-1][v],n=d[o][v],n-t<=t-r?d[o]:d[o-1]):(r=d[o-1],n=d[o],n-t<=t-r?n:r)};p.exports=S},5454:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){d===void 0&&(d=[]);for(var v=0;v<t.length;v++)Array.isArray(t[v])?S(t[v],d):d.push(t[v]);return d};p.exports=S},71608:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(45838),v=function(o,r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=o.length);var h=[];if(d(o,e,s))for(var i=e;i<s;i++){var a=o[i];(!r||r&&n===void 0&&a.hasOwnProperty(r)||r&&n!==void 0&&a[r]===n)&&h.push(a)}return h};p.exports=v},51463:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(45838),v=function(o,r,n,e,s){if(e===void 0&&(e=0),s===void 0&&(s=o.length),d(o,e,s))for(var h=e;h<s;h++){var i=o[h];if(!r||r&&n===void 0&&i.hasOwnProperty(r)||r&&n!==void 0&&i[r]===n)return i}return null};p.exports=v},72861:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){d===void 0&&(d=0),v===void 0&&(v=t.length);var o=d+Math.floor(Math.random()*v);return t[o]===void 0?null:t[o]};p.exports=S},24218:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){if(d===v)return t;var o=t.indexOf(d),r=t.indexOf(v);if(o<0||r<0)throw new Error("Supplied items must be elements of the same array");return o>r||(t.splice(o,1),r===t.length-1?t.push(d):t.splice(r,0,d)),t};p.exports=S},58258:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){if(d===v)return t;var o=t.indexOf(d),r=t.indexOf(v);if(o<0||r<0)throw new Error("Supplied items must be elements of the same array");return o<r||(t.splice(o,1),r===0?t.unshift(d):t.splice(r,0,d)),t};p.exports=S},51172:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){var v=t.indexOf(d);if(v>0){var o=t[v-1],r=t.indexOf(o);t[v]=o,t[r]=d}return t};p.exports=S},68396:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){var o=t.indexOf(d);if(o===-1||v<0||v>=t.length)throw new Error("Supplied index out of bounds");return o!==v&&(t.splice(o,1),t.splice(v,0,d)),d};p.exports=S},27555:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){var v=t.indexOf(d);if(v!==-1&&v<t.length-1){var o=t[v+1],r=t.indexOf(o);t[v]=o,t[r]=d}return t};p.exports=S},13401:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){var r=[],n,e=!1;if((v||o)&&(e=!0,v||(v=""),o||(o="")),d<t)for(n=t;n>=d;n--)e?r.push(v+n.toString()+o):r.push(n);else for(n=t;n<=d;n++)e?r.push(v+n.toString()+o):r.push(n);return r};p.exports=S},89955:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(67233),v=function(o,r,n){o===void 0&&(o=0),r===void 0&&(r=null),n===void 0&&(n=1),r===null&&(r=o,o=0);for(var e=[],s=Math.max(d((r-o)/(n||1)),0),h=0;h<s;h++)e.push(o),o+=n;return e};p.exports=v},53466:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(v,o,r){var n=v[o];v[o]=v[r],v[r]=n}function t(v,o){return v<o?-1:v>o?1:0}var d=function(v,o,r,n,e){for(r===void 0&&(r=0),n===void 0&&(n=v.length-1),e===void 0&&(e=t);n>r;){if(n-r>600){var s=n-r+1,h=o-r+1,i=Math.log(s),a=.5*Math.exp(2*i/3),u=.5*Math.sqrt(i*a*(s-a)/s)*(h-s/2<0?-1:1),l=Math.max(r,Math.floor(o-h*a/s+u)),f=Math.min(n,Math.floor(o+(s-h)*a/s+u));d(v,o,l,f,e)}var c=v[o],m=r,x=n;for(S(v,r,o),e(v[n],c)>0&&S(v,r,n);m<x;){for(S(v,m,x),m++,x--;e(v[m],c)<0;)m++;for(;e(v[x],c)>0;)x--}e(v[r],c)===0?S(v,r,x):(x++,S(v,x,n)),x<=o&&(r=x+1),o<=x&&(n=x-1)}};p.exports=d},75757:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(10850),v=t(18592),o=function(n,e,s){for(var h=[],i=0;i<n.length;i++)for(var a=0;a<e.length;a++)for(var u=0;u<s;u++)h.push({a:n[i],b:e[a]});return h},r=function(n,e,s){var h=d(s,"max",0),i=d(s,"qty",1),a=d(s,"random",!1),u=d(s,"randomB",!1),l=d(s,"repeat",0),f=d(s,"yoyo",!1),c=[];if(u&&v(e),l===-1)if(h===0)l=0;else{var m=n.length*e.length*i;f&&(m*=2),l=Math.ceil(h/m)}for(var x=0;x<=l;x++){var g=o(n,e,i);a&&v(g),c=c.concat(g),f&&(g.reverse(),c=c.concat(g))}return h&&c.splice(h),c};p.exports=r},66458:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72677),v=function(o,r,n,e){e===void 0&&(e=o);var s;if(!Array.isArray(r))return s=o.indexOf(r),s!==-1?(d(o,s),n&&n.call(e,r),r):null;for(var h=r.length-1,i=[];h>=0;){var a=r[h];s=o.indexOf(a),s!==-1&&(d(o,s),i.push(a),n&&n.call(e,a)),h--}return i};p.exports=v},8324:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72677),v=function(o,r,n,e){if(e===void 0&&(e=o),r<0||r>o.length-1)throw new Error("Index out of bounds");var s=d(o,r);return n&&n.call(e,s),s};p.exports=v},47427:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(45838),v=function(o,r,n,e,s){if(r===void 0&&(r=0),n===void 0&&(n=o.length),s===void 0&&(s=o),d(o,r,n)){var h=n-r,i=o.splice(r,h);if(e)for(var a=0;a<i.length;a++){var u=i[a];e.call(s,u)}return i}else return[]};p.exports=v},50147:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(72677),v=function(o,r,n){r===void 0&&(r=0),n===void 0&&(n=o.length);var e=r+Math.floor(Math.random()*n);return d(o,e)};p.exports=v},80402:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){var o=t.indexOf(d),r=t.indexOf(v);return o!==-1&&r===-1?(t[o]=v,!0):!1};p.exports=S},77640:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){d===void 0&&(d=1);for(var v=null,o=0;o<d;o++)v=t.shift(),t.push(v);return v};p.exports=S},38487:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){d===void 0&&(d=1);for(var v=null,o=0;o<d;o++)v=t.pop(),t.unshift(v);return v};p.exports=S},45838:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){var r=t.length;if(d<0||d>r||d>=v||v>r){if(o)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};p.exports=S},27847:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){var v=t.indexOf(d);return v!==-1&&v>0&&(t.splice(v,1),t.unshift(d)),d};p.exports=S},6034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(45838),v=function(o,r,n,e,s){if(e===void 0&&(e=0),s===void 0&&(s=o.length),d(o,e,s))for(var h=e;h<s;h++){var i=o[h];i.hasOwnProperty(r)&&(i[r]=n)}return o};p.exports=v},18592:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var d=t.length-1;d>0;d--){var v=Math.floor(Math.random()*(d+1)),o=t[d];t[d]=t[v],t[v]=o}return t};p.exports=S},28834:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var d=/\D/g;return t.sort(function(v,o){return parseInt(v.replace(d,""),10)-parseInt(o.replace(d,""),10)}),t};p.exports=S},72677:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){if(!(d>=t.length)){for(var v=t.length-1,o=t[d],r=d;r<v;r++)t[r]=t[r+1];return t.length=v,o}};p.exports=S},17922:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(77290);function v(e,s){return String(e).localeCompare(s)}function o(e,s){var h=e.length;if(h<=1)return e;for(var i=new Array(h),a=1;a<h;a*=2){r(e,s,a,i);var u=e;e=i,i=u}return e}function r(e,s,h,i){var a=e.length,u=0,l=h*2,f,c,m,x,g;for(f=0;f<a;f+=l)for(c=f+h,m=c+h,c>a&&(c=a),m>a&&(m=a),x=f,g=c;;)if(x<c&&g<m)s(e[x],e[g])<=0?i[u++]=e[x++]:i[u++]=e[g++];else if(x<c)i[u++]=e[x++];else if(g<m)i[u++]=e[g++];else break}var n=function(e,s){if(s===void 0&&(s=v),!e||e.length<2)return e;if(d.features.stableSort)return e.sort(s);var h=o(e,s);return h!==e&&r(h,null,e.length,e),e};p.exports=n},96928:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){if(d===v)return t;var o=t.indexOf(d),r=t.indexOf(v);if(o<0||r<0)throw new Error("Supplied items must be elements of the same array");return t[o]=v,t[r]=d,t};p.exports=S},59959:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Matrix:t(13515),Add:t(78991),AddAt:t(48522),BringToTop:t(58742),CountAllMatching:t(30164),Each:t(36337),EachInRange:t(46208),FindClosestInSorted:t(2406),Flatten:t(5454),GetAll:t(71608),GetFirst:t(51463),GetRandom:t(72861),MoveDown:t(51172),MoveTo:t(68396),MoveUp:t(27555),MoveAbove:t(24218),MoveBelow:t(58258),NumberArray:t(13401),NumberArrayStep:t(89955),QuickSelect:t(53466),Range:t(75757),Remove:t(66458),RemoveAt:t(8324),RemoveBetween:t(47427),RemoveRandomElement:t(50147),Replace:t(80402),RotateLeft:t(77640),RotateRight:t(38487),SafeRange:t(45838),SendToBack:t(27847),SetAll:t(6034),Shuffle:t(18592),SortByDigits:t(28834),SpliceOne:t(72677),StableSort:t(17922),Swap:t(96928)}},97494:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var d=t[0].length,v=1;v<t.length;v++)if(t[v].length!==d)return!1;return!0};p.exports=S},68428:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(76400),v=t(97494),o=function(r){var n="";if(!v(r))return n;for(var e=0;e<r.length;e++){for(var s=0;s<r[e].length;s++){var h=r[e][s].toString();h!=="undefined"?n+=d(h,2):n+="?",s<r[e].length-1&&(n+=" |")}if(e<r.length-1){n+=`
`;for(var i=0;i<r[e].length;i++)n+="---",i<r[e].length-1&&(n+="+");n+=`
`}}return n};p.exports=o},59521:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.reverse()};p.exports=S},51995:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var d=0;d<t.length;d++)t[d].reverse();return t};p.exports=S},89011:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(63515),v=function(o){return d(o,180)};p.exports=v},42549:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(63515),v=function(o){return d(o,90)};p.exports=v},63515:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(97494),v=t(78581),o=function(r,n){if(n===void 0&&(n=90),!d(r))return null;if(typeof n!="string"&&(n=(n%360+360)%360),n===90||n===-270||n==="rotateLeft")r=v(r),r.reverse();else if(n===-90||n===270||n==="rotateRight")r.reverse(),r=v(r);else if(Math.abs(n)===180||n==="rotate180"){for(var e=0;e<r.length;e++)r[e].reverse();r.reverse()}return r};p.exports=o},14305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(63515),v=function(o){return d(o,-90)};p.exports=v},27365:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(77640),v=t(38487),o=function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),e!==0&&(e<0?d(r,Math.abs(e)):v(r,e)),n!==0)for(var s=0;s<r.length;s++){var h=r[s];n<0?d(h,Math.abs(n)):v(h,n)}return r};p.exports=o},78581:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var d=t.length,v=t[0].length,o=new Array(v),r=0;r<v;r++){o[r]=new Array(d);for(var n=d-1;n>-1;n--)o[r][n]=t[n][r]}return o};p.exports=S},13515:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CheckMatrix:t(97494),MatrixToString:t(68428),ReverseColumns:t(59521),ReverseRows:t(51995),Rotate180:t(89011),RotateLeft:t(42549),RotateMatrix:t(63515),RotateRight:t(14305),Translate:t(27365),TransposeMatrix:t(78581)}},40581:p=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(d,v){for(var o=new Uint8Array(d),r=o.length,n=v?"data:"+v+";base64,":"",e=0;e<r;e+=3)n+=S[o[e]>>2],n+=S[(o[e]&3)<<4|o[e+1]>>4],n+=S[(o[e+1]&15)<<2|o[e+2]>>6],n+=S[o[e+2]&63];return r%3===2?n=n.substring(0,n.length-1)+"=":r%3===1&&(n=n.substring(0,n.length-2)+"=="),n};p.exports=t},82329:p=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),d=0;d<S.length;d++)t[S.charCodeAt(d)]=d;var v=function(o){o=o.substr(o.indexOf(",")+1);var r=o.length,n=r*.75,e=0,s,h,i,a;o[r-1]==="="&&(n--,o[r-2]==="="&&n--);for(var u=new ArrayBuffer(n),l=new Uint8Array(u),f=0;f<r;f+=4)s=t[o.charCodeAt(f)],h=t[o.charCodeAt(f+1)],i=t[o.charCodeAt(f+2)],a=t[o.charCodeAt(f+3)],l[e++]=s<<2|h>>4,l[e++]=(h&15)<<4|i>>2,l[e++]=(i&3)<<6|a&63;return u};p.exports=v},78417:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ArrayBufferToBase64:t(40581),Base64ToArrayBuffer:t(82329)}},22178:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Array:t(59959),Base64:t(78417),Objects:t(64615),String:t(50379),NOOP:t(72283),NULL:t(10618)}},32742:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var d={};for(var v in t)Array.isArray(t[v])?d[v]=t[v].slice(0):d[v]=t[v];return d};p.exports=S},28699:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var d,v,o;if(typeof t!="object"||t===null)return t;d=Array.isArray(t)?[]:{};for(o in t)v=t[o],d[o]=S(v);return d};p.exports=S},98611:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(42911),v=function(){var o,r,n,e,s,h,i=arguments[0]||{},a=1,u=arguments.length,l=!1;for(typeof i=="boolean"&&(l=i,i=arguments[1]||{},a=2),u===a&&(i=this,--a);a<u;a++)if((o=arguments[a])!=null)for(r in o)n=i[r],e=o[r],i!==e&&(l&&e&&(d(e)||(s=Array.isArray(e)))?(s?(s=!1,h=n&&Array.isArray(n)?n:[]):h=n&&d(n)?n:{},i[r]=v(l,h,e)):e!==void 0&&(i[r]=e));return i};p.exports=v},20494:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(5923),v=t(10850),o=function(r,n,e){var s=v(r,n,null);if(s===null)return e;if(Array.isArray(s))return d.RND.pick(s);if(typeof s=="object"){if(s.hasOwnProperty("randInt"))return d.RND.integerInRange(s.randInt[0],s.randInt[1]);if(s.hasOwnProperty("randFloat"))return d.RND.realInRange(s.randFloat[0],s.randFloat[1])}else if(typeof s=="function")return s(n);return s};p.exports=o},72632:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){var o=typeof t;return!t||o==="number"||o==="string"?v:t.hasOwnProperty(d)&&t[d]!==void 0?t[d]:v};p.exports=S},94324:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(10850),v=t(82897),o=function(r,n,e,s,h){h===void 0&&(h=e);var i=d(r,n,h);return v(i,e,s)};p.exports=o},10850:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){if(!t&&!o||typeof t=="number")return v;if(t&&t.hasOwnProperty(d))return t[d];if(o&&o.hasOwnProperty(d))return o[d];if(d.indexOf(".")!==-1){for(var r=d.split("."),n=t,e=o,s=v,h=v,i=!0,a=!0,u=0;u<r.length;u++)n&&n.hasOwnProperty(r[u])?(s=n[r[u]],n=n[r[u]]):i=!1,e&&e.hasOwnProperty(r[u])?(h=e[r[u]],e=e[r[u]]):a=!1;return i?s:a?h:v}else return v};p.exports=S},87701:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){for(var v=0;v<d.length;v++)if(!t.hasOwnProperty(d[v]))return!1;return!0};p.exports=S},53523:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){for(var v=0;v<d.length;v++)if(t.hasOwnProperty(d[v]))return!0;return!1};p.exports=S},19256:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return t.hasOwnProperty(d)};p.exports=S},42911:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};p.exports=S},30657:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(32742),v=function(o,r){var n=d(o);for(var e in r)n.hasOwnProperty(e)||(n[e]=r[e]);return n};p.exports=v},72066:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(32742),v=function(o,r){var n=d(o);for(var e in r)n.hasOwnProperty(e)&&(n[e]=r[e]);return n};p.exports=v},28820:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=t(19256),v=function(o,r){for(var n={},e=0;e<r.length;e++){var s=r[e];d(o,s)&&(n[s]=o[s])}return n};p.exports=v},22440:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(d))return t[d]=v,!0;if(d.indexOf(".")!==-1){for(var o=d.split("."),r=t,n=t,e=0;e<o.length;e++)if(r.hasOwnProperty(o[e]))n=r,r=r[o[e]];else return!1;return n[o[o.length-1]]=v,!0}return!1};p.exports=S},64615:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Clone:t(32742),DeepCopy:t(28699),Extend:t(98611),GetAdvancedValue:t(20494),GetFastValue:t(72632),GetMinMaxValue:t(94324),GetValue:t(10850),HasAll:t(87701),HasAny:t(53523),HasValue:t(19256),IsPlainObject:t(42911),Merge:t(30657),MergeRight:t(72066),Pick:t(28820),SetValue:t(22440)}},69429:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return t.replace(/%([0-9]+)/g,function(v,o){return d[Number(o)-1]})};p.exports=S},76400:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d,v,o){d===void 0&&(d=0),v===void 0&&(v=" "),o===void 0&&(o=3),t=t.toString();var r=0;if(d+1>=t.length)switch(o){case 1:t=new Array(d+1-t.length).join(v)+t;break;case 3:var n=Math.ceil((r=d-t.length)/2),e=r-n;t=new Array(e+1).join(v)+t+new Array(n+1).join(v);break;default:t=t+new Array(d+1-t.length).join(v);break}return t};p.exports=S},76872:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,d){return d===0?t.slice(1):t.slice(0,d-1)+t.slice(d)};p.exports=S},8051:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.split("").reverse().join("")};p.exports=S},76583:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var d=Math.random()*16|0,v=t==="x"?d:d&3|8;return v.toString(16)})};p.exports=S},40587:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t&&t[0].toUpperCase()+t.slice(1)};p.exports=S},50379:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Format:t(69429),Pad:t(76400),RemoveAt:t(76872),Reverse:t(8051),UppercaseFirst:t(40587),UUID:t(76583)}}},V={};function K(p){var S=V[p];if(S!==void 0)return S.exports;var t=V[p]={exports:{}};return z[p](t,t.exports,K),t.exports}K.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var Z=K(92491);return Z})())})(Xt);var kt=Xt.exports;class vt extends Phaser.GameObjects.Container{constructor(b,z,V,K,Z){super(b),this.scene=b,this.x=z,this.y=V;const p=this.scene.add.graphics();p.fillStyle(19117,1).fillRoundedRect(0,0,260,60,8).lineStyle(6,16777215,1).strokeRoundedRect(0,0,260,60,8);const S=this.scene.add.text(130,30,K,{fontFamily:"Arial",fontSize:"72px",fontStyle:"bold"}).setOrigin(.5);S.scale=.5,this.add(p),this.add(S),this.setInteractive(new Phaser.Geom.Rectangle(0,0,260,60),Phaser.Geom.Rectangle.Contains),this.on("pointerover",function(){p.clear().fillStyle(24800,1).fillRoundedRect(0,0,260,60,8).lineStyle(6,16777215,2).strokeRoundedRect(0,0,260,60,8),this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),this.on("pointerout",function(){p.clear().fillStyle(19117,1).fillRoundedRect(0,0,260,60,8).lineStyle(6,16777215,2).strokeRoundedRect(0,0,260,60,8),this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),this.on("pointerdown",()=>{Z.play()}),this.scene.add.existing(this)}}class qt extends Phaser.Scene{constructor(){super("Scene1_1")}preload(){this.load.audio("theme-module1",["assets/Audio/Music/1_Welcome/theme-module1.mp3"]),this.load.audio("applause",["assets/Audio/SFX/1_Welcome/applause.mp3"]),this.load.audio("start",["assets/Audio/SFX/1_Welcome/start.mp3"]),this.load.image("bg-1-1","assets/Images/1_Welcome/Backgrounds/opening-screen.png"),this.load.image("small-arrow","assets/Images/1_Welcome/Sprites/arrow-small.png"),this.load.image("big-arrow","assets/Images/1_Welcome/Sprites/arrow-big.png")}create(){const b=this.sound.add("theme-module1");b.play(),b.setVolume(.1),this.sound.pauseOnBlur=!0,this.applause=this.sound.add("applause"),this.applause.play(),this.start=this.sound.add("start");var z=this.add.sprite(0,0,"bg-1-1").setOrigin(0);z.setScale(2);const V=new vt(this,0,0,"Start",this.start);V.on("pointerdown",function(){this.applause.stop(),this.scene.start("Scene1_2",{music:b})},this),Phaser.Display.Align.In.Center(V,this.add.zone(860,1e3,1920,1080)),V.y=V.y-40}}class nt extends Phaser.GameObjects.Container{constructor(b,z,V,K,Z){super(b),this.scene=b,this.x=z,this.y=V;const p=this.scene.add.graphics();p.fillStyle(19117,1).fillRoundedRect(0,0,150,100,32).lineStyle(6,16777215,1).strokeRoundedRect(0,0,150,100,32);const S=this.scene.add.image(35,17.5,K).setOrigin(0).setScale(.8);this.add(p),this.add(S),this.setInteractive(new Phaser.Geom.Rectangle(0,0,150,100),Phaser.Geom.Rectangle.Contains),this.on("pointerover",function(){p.clear().fillStyle(24800,1).fillRoundedRect(0,0,150,100,32).lineStyle(6,16777215,1).strokeRoundedRect(0,0,150,100,32),this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),this.on("pointerout",function(){p.clear().fillStyle(19117,1).fillRoundedRect(0,0,150,100,32).lineStyle(6,16777215,1).strokeRoundedRect(0,0,150,100,32),this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),this.on("pointerdown",()=>{Z.play()}),this.scene.add.existing(this)}}let it=class{constructor(b){this.scene=b;var z="/api/save-slide";const V={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({scene:this.scene.scene.key})};fetch(z,V)}};class _t extends Phaser.Scene{constructor(){super("Scene1_2")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module1",["assets/Audio/Music/1_Welcome/theme-module1.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("turntable","assets/Images/1_Welcome/Sprites/turntable.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("instruction-text-bg1","assets/Images/1_Welcome/Sprites/textBg1.png"),this.load.image("right-arm","assets/Images/1_Welcome/Sprites/right-arm.png"),this.load.image("turntable-dial","assets/Images/1_Welcome/Sprites/turntable-dial.png"),this.load.image("left-arm","assets/Images/1_Welcome/Sprites/left-arm.png")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module1"),this.music.play(),this.music.setVolume(.1));var b=this.add.sprite(0,0,"turntable").setOrigin(0);b.displayWidth=this.sys.canvas.width,b.displayHeight=this.sys.canvas.height;var z=this.add.sprite(500,500,"left-arm").setOrigin(0);z.scale=1.2;var V=this.add.sprite(20,130,"turntable-dial").setOrigin(0);V.scale=.7;var K=this.add.sprite(0,0,"right-arm").setOrigin(0);K.scale=1.2;var Z=this.add.container(1370,780,[V,K]);this.instructionTextBg=this.add.sprite(630,210,"instruction-text-bg1").setOrigin(.5).setScale(1),this.instructionText=this.add.rexBBCodeText(630,210,`Before you continue,
make sure your [b]sound is activated![/b]
Then [b]click the Blue Arrow[/b]
on the right to continue.`,{fontFamily:"Arial",fontSize:"96px",color:"#000000",align:"center"}).setOrigin(.5),this.instructionText.scale=.5,this.instructionTextBg.alpha=0,this.instructionText.alpha=0,this.tweens.chain({tweens:[{targets:z,x:400,y:300,ease:"power3",duration:750},{targets:z,x:500,y:500,ease:"power3",duration:750},{targets:z,x:400,y:300,ease:"power3",duration:750},{targets:z,x:500,y:500,ease:"power3",duration:750},{targets:Z,y:440,duration:1e3,repeat:0},{targets:[this.instructionTextBg],alpha:.8,duration:1e3,repeat:0},{targets:[this.instructionText],alpha:1,duration:1e3,repeat:0}]}),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const p=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);p.on("pointerdown",function(){this.scene.start("Scene1_3",{music:this.music})},this),p.y=p.y-40,new it(this)}}class te extends Phaser.Scene{constructor(){super("Scene1_3")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module1",["assets/Audio/Music/1_Welcome/theme-module1.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("turntable","assets/Images/1_Welcome/Sprites/turntable.png"),this.load.image("instruction-text-bg2","assets/Images/1_Welcome/Sprites/textBg2.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("right-arm","assets/Images/1_Welcome/Sprites/right-arm.png"),this.load.image("turntable-dial","assets/Images/1_Welcome/Sprites/turntable-dial.png"),this.load.image("left-arm","assets/Images/1_Welcome/Sprites/left-arm.png")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module1"),this.music.play(),this.music.setVolume(.1));var b=this.add.sprite(0,0,"turntable").setOrigin(0);b.displayWidth=this.sys.canvas.width,b.displayHeight=this.sys.canvas.height;var z=this.add.sprite(500,500,"left-arm").setOrigin(0);z.scale=1.2;var V=this.add.sprite(20,130,"turntable-dial").setOrigin(0);V.scale=.7;var K=this.add.sprite(0,0,"right-arm").setOrigin(0);K.scale=1.2;var Z=this.add.container(1370,780,[V,K]);this.instructionTextBg=this.add.sprite(600,430,"instruction-text-bg2").setOrigin(.5),this.instructionTextBg.scale=1.3,this.instructionText=this.add.rexBBCodeText(600,430,`[b]Some Quick Tips[/b]

1. The [b]blue arrow[/b] to the right will help you [b]move
to the next slide[/b].

2. If you see [b]continue[/b] or [b]submit[/b], that will [b]move you
to the next slide[/b].

3. If you don't see either, [b]click the 'next' button
 on the top.[/b]

4. Complete [b]the activities after each level.[/b]

5. Let's JAM!`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.instructionText.scale=.5,this.instructionTextBg.alpha=0,this.instructionText.alpha=0,this.tweens.chain({tweens:[{targets:z,x:400,y:300,ease:"power3",duration:750},{targets:z,x:500,y:500,ease:"power3",duration:750},{targets:z,x:400,y:300,ease:"power3",duration:750},{targets:z,x:500,y:500,ease:"power3",duration:750},{targets:Z,y:440,duration:1e3,repeat:0},{targets:[this.instructionTextBg],alpha:.8,duration:1e3,repeat:0},{targets:[this.instructionText],alpha:1,duration:1e3,repeat:0}]}),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const p=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);p.on("pointerdown",function(){this.scene.start("Scene1_4",{music:this.music})},this),p.y=p.y-40,new it(this)}}class ee{constructor(b){if(this.config=b,!b.scene){console.log("missing scene");return}b.rows||(b.rows=5),b.cols||(b.cols=5),b.height||(b.height=960),b.width||(b.width=540),this.scene=b.scene,this.cw=b.width/b.cols,this.ch=b.height/b.rows}show(){this.graphics=this.scene.add.graphics(),this.graphics.lineStyle(2,16711680);for(var b=0;b<this.config.width;b+=this.cw)this.graphics.moveTo(b,0),this.graphics.lineTo(b,this.config.height);for(var b=0;b<this.config.height;b+=this.ch)this.graphics.moveTo(0,b),this.graphics.lineTo(this.config.width,b);this.graphics.strokePath()}placeAt(b,z,V){var K=this.cw*b+this.cw/2,Z=this.ch*z+this.ch/2;V.x=K,V.y=Z}placeAtIndex(b,z){var V=Math.floor(b/this.config.cols),K=b-V*this.config.cols;this.placeAt(K,V,z)}findNearestIndex(b,z){var V=Math.floor(z/this.ch),K=Math.floor(b/this.cw);console.log("row="+V),console.log("col="+K);var Z=V*this.config.cols+K;return Z}getPosByIndex(b){var z=Math.floor(b/this.config.cols),V=b-z*this.config.cols,K=this.cw*V+this.cw/2,Z=this.ch*z+this.ch/2;return{x:K,y:Z}}showNumbers(){this.show();for(var b=0,z=0;z<this.config.rows;z++)for(var V=0;V<this.config.cols;V++){var K=this.scene.add.text(0,0,b,{color:"#ff0000"});K.setOrigin(.5,.5),this.placeAtIndex(b,K),b++}}}class At{constructor(b){this.scene=b.scene,this.gameWidth=this.scene.game.config.width,this.gameHeight=this.scene.game.config.height,this.alignGrid=new ee({scene:this.scene,rows:b.rows,cols:b.cols})}showNumbers(){this.alignGrid.showNumbers()}scaleToGameW(b,z){var V=document.getElementById(b),K=this.gameWidth*z;V.style.width=K+"px"}scaleToGameH(b,z){var V=document.getElementById(b),K=this.gameHeight*z;V.style.height=K+"px"}placeElementAt(b,z,V=!0,K=!1){var Z=this.alignGrid.getPosByIndex(b),p=Z.x,S=Z.y,t=document.getElementById(z);t.style.position="absolute";var d=t.style.width;d=this.toNum(d),V==!0&&(p-=d/2);var v=t.style.height;v=this.toNum(v),K==!0&&(S-=v/2),t.style.top=S+"px",t.style.left=p+"px"}toNum(b){return b=b.replace("px",""),b=parseInt(b),b}addChangeCallback(b,z,V=null){var K=document.getElementById(b);V==null?K.onchange=z:K.onchange=z.bind(V)}getTextAreaValue(b){var z=document.getElementById(b);return z.value}getTextValue(b){var z=document.getElementById(b);return z.innerText}hideElement(b){var z=document.getElementById(b);z.style.display="none"}showElement(b){var z=document.getElementById(b);z.style.display="block"}}class ie extends Phaser.Scene{constructor(){super("Scene1_4")}init(b){this.music=b.music}preload(){this.load.audio("theme-module1",["assets/Audio/Music/1_Welcome/theme-module1.mp3"]),this.load.audio("start",["assets/Audio/SFX/1_Welcome/start.mp3"]),this.load.image("tablet","assets/Images/1_Welcome/Backgrounds/tablet.jpg"),this.load.image("tablet-blurry","assets/Images/1_Welcome/Backgrounds/tablet-blurry.jpg"),this.load.image("exclamation","assets/Images/General/exclamation.png")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module1"),this.music.play(),this.music.setVolume(.1)),this.btnAudio=this.sound.add("start");var b=this.add.sprite(0,0,"tablet-blurry").setOrigin(0);b.displayWidth=this.sys.canvas.width,b.displayHeight=this.sys.canvas.height;var z=this.add.sprite(0,0,"tablet").setOrigin(0);z.displayWidth=this.sys.canvas.width,z.displayHeight=this.sys.canvas.height,this.errorTextBg=this.add.circle(0,0,200,16777215),this.errorText=this.add.text(0,0,`It seems like
you didn't write
your name.

Please try
again!`,{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(.5,.5),this.errorText.scale=.5,this.exclamation=this.add.image(-180,-80,"exclamation").setOrigin(.5),this.exclamation.scale=1.2,this.exclamation.rotation=-.2,this.errorTextCtnr=this.add.container(300,250,[this.errorTextBg,this.errorText,this.exclamation]),this.errorTextCtnr.alpha=0,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-20,0,950,150,32),this.instructionText=this.add.text(55,75,"Write your name on the tablet and then click submit",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.instructionText.scale=.5,this.instructionTextCtnr=this.add.container(0,55,[this.textBg,this.instructionText]),this.formUtil=new At({scene:this}),this.formUtil.showElement("student-name"),this.formUtil.scaleToGameW("student-name",.4),this.tryAgainBtn=new vt(this,0,0,"Try again",this.btnAudio),this.tryAgainBtn.on("pointerdown",function(){this.btnAudio.play(),this.textBg.alpha=1,this.instructionText.alpha=1,this.submitBtn.setInteractive(new Phaser.Geom.Rectangle(0,0,240,60),Phaser.Geom.Rectangle.Contains),this.submitBtn.alpha=1,this.tryAgainBtn.disableInteractive(),this.tryAgainBtn.alpha=0,this.errorTextCtnr.alpha=0,this.formUtil.showElement("student-name"),this.tweens.add({targets:z,alpha:1,duration:1e3,repeat:0})},this),Phaser.Display.Align.In.Center(this.tryAgainBtn,this.add.zone(860,1e3,1920,1080)),this.tryAgainBtn.y=this.tryAgainBtn.y-200,this.tryAgainBtn.alpha=0,this.submitBtn=new vt(this,0,0,"Submit",this.btnAudio),this.submitBtn.on("pointerdown",function(){var V=document.getElementById("student-name").value;V!=""?(this.btnAudio.play(),this.scene.start("Scene1_5",{music:this.music})):(this.btnAudio.play(),this.textBg.alpha=0,this.instructionText.alpha=0,this.submitBtn.disableInteractive(),this.submitBtn.alpha=0,this.tryAgainBtn.setInteractive(new Phaser.Geom.Rectangle(0,0,240,60),Phaser.Geom.Rectangle.Contains),this.tryAgainBtn.alpha=1,this.errorTextCtnr.alpha=1,this.formUtil.hideElement("student-name"),this.tweens.add({targets:z,alpha:0,duration:1e3,repeat:0}))},this),Phaser.Display.Align.In.Center(this.submitBtn,this.add.zone(860,1e3,1920,1080)),this.submitBtn.y=this.submitBtn.y-200,new it(this)}}class se extends Phaser.Scene{constructor(){super("Scene1_5")}init(b){this.music=b.music}preload(){this.load.audio("theme-module1",["assets/Audio/Music/1_Welcome/theme-module1.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.video("vid1-1","assets/Videos/1_Welcome/scene1-vid.mp4")}create(){typeof this.music>"u"?(this.music=this.sound.add("theme-module1"),this.music.play(),this.music.setVolume(.1)):this.music.pause(),this.formUtil=new At({scene:this}),this.formUtil.hideElement("student-name");const b=this.add.video(0,0,"vid1-1");b.on("complete",()=>{this.music.resume()}),b.setOrigin(0),b.play(),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.music.stop(),this.scene.start("Scene2_1")},this),z.y=z.y-40,new it(this)}}class ne extends Phaser.Scene{constructor(){super("Scene2_1")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module2",["assets/Audio/Music/2_Prelude/theme-module2.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("microphone","assets/Images/2_Prelude/microphone.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("star","assets/Images/2_Prelude/star.png")}create(){const b=this.sound.add("theme-module2");b.play(),b.setVolume(.1),this.sound.pauseOnBlur=!0;var z=this.add.sprite(0,0,"microphone").setOrigin(0);z.displayWidth=this.sys.canvas.width,z.displayHeight=this.sys.canvas.height;var V=this.add.sprite(230,310,"star").setOrigin(0);V.scale=.27,V.alpha=0;var K=this.add.sprite(600,750,"star").setOrigin(0);K.scale=.27,K.alpha=0;var Z=this.add.sprite(850,540,"star").setOrigin(0);Z.scale=.34,Z.alpha=0,this.tweens.add({targets:[V,K,Z],alpha:1,yoyo:!0,duration:600,ease:"Sine.easeInOut",repeat:3,delay:this.tweens.stagger(300),hideOnComplete:!0}),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const p=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);p.on("pointerdown",function(){this.scene.start("Scene2_2",{music:b})},this),p.y=p.y-40,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,300,150,32),this.instructionText=this.add.text(55,75,"Prelude",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.instructionText.scale=.5,this.instructionTextCtnr=this.add.container(0,55,[this.textBg,this.instructionText]),this.instructionText=this.add.rexBBCodeText(1300,540,`A [b]prelude[/b] is a
performance,
action, or event
before the main
act or song.`,{fontFamily:"Arial",fontSize:"120px",color:"#ffffff",align:"center"}).setOrigin(0,.5),this.instructionText.scale=.5,new it(this)}}class st extends Phaser.GameObjects.Container{constructor(b,z,V,K,Z){super(b),this.scene=b,this.x=z,this.y=V;const p=this.scene.add.graphics();p.fillStyle(19117,1).fillRoundedRect(0,0,150,100,32).lineStyle(6,16777215,1).strokeRoundedRect(0,0,150,100,32);const S=this.scene.add.image(75,17.5,K).setOrigin(0);S.scale=.8,S.flipX=!0,this.add(p),this.add(S),this.setInteractive(new Phaser.Geom.Rectangle(0,0,150,100),Phaser.Geom.Rectangle.Contains),this.on("pointerover",function(){p.clear().fillStyle(24800,1).fillRoundedRect(0,0,150,100,32).lineStyle(6,16777215,1).strokeRoundedRect(0,0,150,100,32),this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),this.on("pointerout",function(){p.clear().fillStyle(19117,1).fillRoundedRect(0,0,150,100,32).lineStyle(6,16777215,1).strokeRoundedRect(0,0,150,100,32),this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),this.on("pointerdown",()=>{Z.play()}),this.scene.add.existing(this)}}class re extends Phaser.Scene{constructor(){super("Scene2_2")}init(b){this.music=b.music}preload(){this.load.audio("theme-module2",["assets/Audio/Music/2_Prelude/theme-module2.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.video("vid2-1","assets/Videos/2_Prelude/scene2-vid1.mp4")}create(){typeof this.music>"u"?(this.music=this.sound.add("theme-module2"),this.music.play(),this.music.setVolume(.1)):this.music.pause();const b=this.add.video(0,0,"vid2-1");b.on("complete",()=>{this.music.resume()}),b.setOrigin(0),b.play(),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.music.isPlaying||(this.music.resume(),this.music.setVolume(.1)),this.scene.start("Scene2_3",{music:this.music})},this),z.y=z.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new st(this,-60,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene2_1")},this),V.y=V.y-40,new it(this)}}class ae extends Phaser.Scene{constructor(){super("Scene2_3"),this.slide=1}init(b){this.music=b.music}preload(){this.load.audio("theme-module2",["assets/Audio/Music/2_Prelude/theme-module2.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.audio("2_Prelude_score",["assets/Audio/Music/2_Prelude/2_Prelude_score.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("content-text-bg1","assets/Images/2_Prelude/text-BG.png"),this.load.video("vid2-2","assets/Videos/2_Prelude/scene2-vid2.mp4")}create(){typeof this.music<"u"&&this.music.pause(),this.score=this.sound.add("2_Prelude_score",{loop:!1}),this.score.on("complete",()=>{this.music=this.sound.add("theme-module2"),this.music.resume(),this.music.setVolume(.1)}),this.score.play();const b=this.add.video(0,0,"vid2-2");b.setOrigin(0),b.play(),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.slide==1?(this.slide++,this.contentText.text=`In fact, many believe that
music predated language,
 and that many cultures and
religions have used music to
improve physical and mental
health.`):(this.score.stop(),this.music.isPlaying||(this.music.resume(),this.music.setVolume(.1)),this.scene.start("Scene2_4",{music:this.music}))},this),z.y=z.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new st(this,-60,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene2_2")},this),V.y=V.y-40,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,750,150,32),this.instructionText=this.add.text(55,75,"Music is more than entertainment",{fontFamily:"Arial",fontSize:"84px",color:"#000000"}).setOrigin(0,.5),this.instructionText.scale=.5,this.instructionTextCtnr=this.add.container(0,55,[this.textBg,this.instructionText]),this.contentTextBg=this.add.sprite(600,530,"content-text-bg1"),this.contentTextBg.alpha=.8,this.contentText=this.add.text(600,530,`Music has been a feature of
human society for thousands
of years--and there has yet to
be a single culture throughout
history that has not had
music.`,{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(.5,.5),this.contentText.scale=.5,new it(this)}}class oe extends Phaser.Scene{constructor(){super("Scene2_4")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module2",["assets/Audio/Music/2_Prelude/theme-module2.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("instruments","assets/Images/2_Prelude/instruments.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("char1_2-4","assets/Images/2_Prelude/char1.png"),this.load.image("char2_2-4","assets/Images/2_Prelude/char2.png"),this.load.image("char3_2-4","assets/Images/2_Prelude/char3.png")}create(){typeof this.music>"u"?(this.music=this.sound.add("theme-module2"),this.music.play(),this.music.setVolume(.1)):this.music.isPlaying||this.music.resume();var b=this.add.sprite(0,0,"instruments").setOrigin(0);b.displayWidth=this.sys.canvas.width,b.displayHeight=this.sys.canvas.height;const z=this.add.circle(0,0,381,16777215),V=this.add.rexBBCodeText(0,0,`When we show up
in [b]the present
moment[/b] with all of
our senses, we
invite the world to
fill us with joy.`,{fontFamily:"Arial",fontSize:"120px",color:"#000000",align:"center"}).setOrigin(.5,.5);V.scale=.5;var K=this.add.image(0,0,"char1_2-4");K.setInteractive({cursor:"pointer"}),K.on("pointerdown",()=>{K.alpha=0});var Z=this.add.graphics();Z.lineStyle(4,0,1),Z.strokeCircle(0,0,381);var p=this.add.container(370,740,[z,V,K,Z]);p.scale=.7;const S=this.add.circle(0,0,381,16777215),t=this.add.rexBBCodeText(0,0,`The pains of the
past may be left
behind us and the
[b]future unfolds[/b]
ahead of us.`,{fontFamily:"Arial",fontSize:"120px",color:"#000000",align:"center"}).setOrigin(.5,.5);t.scale=.5;var d=this.add.image(0,0,"char2_2-4");d.setInteractive({cursor:"pointer"}),d.on("pointerdown",()=>{d.alpha=0});var v=this.add.graphics();v.lineStyle(4,0,1),v.strokeCircle(0,0,381);var o=this.add.container(970,740,[S,t,d,v]);o.scale=.7;const r=this.add.circle(0,0,381,16777215),n=this.add.rexBBCodeText(0,0,`The [b]Now[/b] can be
full of beauty
waiting for our
attention.`,{fontFamily:"Arial",fontSize:"120px",color:"#000000",align:"center"}).setOrigin(.5,.5);n.scale=.5;var e=this.add.image(0,0,"char3_2-4");e.setInteractive({cursor:"pointer"}),e.on("pointerdown",()=>{e.alpha=0});var s=this.add.graphics();s.lineStyle(4,0,1),s.strokeCircle(0,0,381);var h=this.add.container(1570,740,[r,n,e,s]);h.scale=.7,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const i=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);i.on("pointerdown",function(){this.scene.start("Scene2_5",{music:this.music})},this),i.y=i.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const a=new st(this,-60,540,"next-arrow",this.nextBtnAudio);a.on("pointerdown",function(){this.scene.start("Scene2_3")},this),a.y=a.y-40,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-20,0,700,150,32),this.instructionText=this.add.text(55,75,"How does music make you feel?",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.instructionText.scale=.5,this.instructionTextCtnr=this.add.container(0,55,[this.textBg,this.instructionText]),this.contentText=this.add.text(1200,230,`Music can help us connect to a
feeling in the moment, to each other,
and to the environment.
 
Click on the cards below
to learn more!`,{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(.5,.5),this.contentText.scale=.5,new it(this)}}class he extends Phaser.Scene{constructor(){super("Scene2_5")}init(b){this.music=b.music}preload(){this.load.audio("theme-module2",["assets/Audio/Music/2_Prelude/theme-module2.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("textBG2-6","assets/Images/2_Prelude/textBg2.png"),this.load.video("vid2-3","assets/Videos/2_Prelude/scene2-vid3.mp4")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module2"),this.music.play(),this.music.setVolume(.1));const b=this.add.video(0,0,"vid2-3");b.setOrigin(0),b.play(),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene2_6",{music:this.music})},this),z.y=z.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new st(this,-60,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene2_4")},this),V.y=V.y-40,this.add.sprite(1300,250,"textBG2-6").setOrigin(.5).setScale(.7),this.instructionText=this.add.text(1300,250,`Let's review the types of things
we'll be learning.`,{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(.5),this.instructionText.scale=.5,new it(this)}}class le extends Phaser.Scene{constructor(){super("Scene2_6")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module2",["assets/Audio/Music/2_Prelude/theme-module2.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.video("vid2-4","assets/Videos/2_Prelude/scene2-vid4.mp4")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module2"),this.music.play(),this.music.setVolume(.1));const b=this.add.video(0,0,"vid2-4");b.setOrigin(0),b.play(),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.music.stop(),this.scene.start("Scene3_1")},this),z.y=z.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new st(this,-60,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene2_5")},this),V.y=V.y-40,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,450,150,32),this.instructionText=this.add.text(55,75,"Course objectives",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.instructionText.scale=.5,this.instructionTextCtnr=this.add.container(0,55,[this.textBg,this.instructionText]),this.heading1=this.add.text(200,250,"1. Introduction to Vaping",{fontFamily:"Arial",fontSize:"84px",color:"#000000"}),this.heading1.scale=.5,this.heading1.alpha=0,this.text1=this.add.rexBBCodeText(250,310,"Users will [b]understand the myths and facts of vaping[/b]",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}),this.text1.scale=.5,this.text1.alpha=0,this.heading2=this.add.text(200,400,"2. Understanding health risks",{fontFamily:"Arial",fontSize:"84px",color:"#000000"}),this.heading2.scale=.5,this.heading2.alpha=0,this.text2=this.add.rexBBCodeText(250,460,"Users will understand the health risks [b]associated with vaping[/b]",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}),this.text2.scale=.5,this.text2.alpha=0,this.heading3=this.add.text(200,540,"3. Explore influences",{fontFamily:"Arial",fontSize:"84px",color:"#000000"}),this.heading3.scale=.5,this.heading3.alpha=0,this.text3=this.add.rexBBCodeText(250,600,"Users will understand how [b]media and marketing play a role in their lives[/b]",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}),this.text3.scale=.5,this.text3.alpha=0,this.heading4=this.add.text(200,690,"4. Self-awareness",{fontFamily:"Arial",fontSize:"84px",color:"#000000"}),this.heading4.scale=.5,this.heading4.alpha=0,this.text4=this.add.rexBBCodeText(250,750,`Users will practice self-awareness to learn alternative and [b]healthy ways in dealing
with social and personal issues[/b]`,{fontFamily:"Arial",fontSize:"72px",color:"#000000"}),this.text4.scale=.5,this.text4.alpha=0,this.heading5=this.add.text(200,880,"5. Action",{fontFamily:"Arial",fontSize:"84px",color:"#000000"}),this.heading5.scale=.5,this.heading5.alpha=0,this.text5=this.add.rexBBCodeText(250,940,`Users will [b]create a plan of action to help themselves and peers[/b] with current health
and social issues to build motivation and goals.`,{fontFamily:"Arial",fontSize:"72px",color:"#000000"}),this.text5.scale=.5,this.text5.alpha=0,this.tweens.chain({tweens:[{targets:[this.heading1],alpha:1,ease:"power3",duration:750,delay:3e3},{targets:[this.heading2],alpha:1,ease:"power3",duration:750},{targets:[this.heading3],alpha:1,ease:"power3",duration:750},{targets:[this.heading4],alpha:1,ease:"power3",duration:750},{targets:[this.heading5],alpha:1,ease:"power3",duration:750},{targets:[this.text1,this.text2,this.text3,this.text4,this.text5],alpha:1,ease:"power3",duration:750}]}),new it(this)}}let wt=class{constructor(b){this.moduleNum=b;var z="/api/unlock-module";const V={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({moduleNum:this.moduleNum})};fetch(z,V)}};class ue extends Phaser.Scene{constructor(){super("Scene3_1")}preload(){this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("tyre","assets/Images/3_Level1/tyre.png"),this.load.image("sitting","assets/Images/3_Level1/sitting.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png")}create(){const b=this.sound.add("theme-module3");b.play(),b.setVolume(.1),b.loop=!0,this.sound.pauseOnBlur=!0,this.cameras.main.setBackgroundColor("#f9f2e8");var z=this.add.sprite(0,0,"tyre").setOrigin(.5);z.x=this.cameras.main.width/2+20,z.y=this.cameras.main.height/2+400,z.setScale(1.07);var V=this.add.sprite(0,0,"sitting").setOrigin(.5);V.scale=1.3,V.x=this.cameras.main.width/2+100,V.y=this.cameras.main.height/2-250,V.alpha=0,this.tweens.chain({tweens:[{targets:z,angle:"+=360",duration:2e3,repeat:0},{targets:V,alpha:1,ease:"power3",duration:750}]}),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const K=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);K.on("pointerdown",function(){this.scene.start("Scene3_2",{music:this.music})},this),K.y=K.y-40,new it(this),new wt(3)}}class de extends Phaser.Scene{constructor(){super("Scene3_2")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("bg-shape1","assets/Images/3_Level1/bg-shapes/bg-shape1.png"),this.load.image("bg-shape2","assets/Images/3_Level1/bg-shapes/bg-shape2.png"),this.load.image("bg-shape3","assets/Images/3_Level1/bg-shapes/bg-shape3.png"),this.load.image("bg-shape4","assets/Images/3_Level1/bg-shapes/bg-shape4.png"),this.load.image("text-card1","assets/Images/3_Level1/bg-shapes/text-card2.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.loop=!0,this.music.setVolume(.1)),this.cameras.main.setBackgroundColor("#f9f2e8");var b=this.add.sprite(0,0,"bg-shape1").setOrigin(0);b.x=1920-640,b.y=1080-700;var z=this.add.sprite(0,0,"bg-shape3").setOrigin(0);z.x=0,z.y=0;var V=this.add.sprite(0,0,"bg-shape2").setOrigin(.5);V.alpha=.8,V.x=420,V.y=700;var K=this.add.sprite(0,0,"bg-shape4").setOrigin(.5);K.scale=1.5,K.x=500,K.y=this.cameras.main.height/2+40;var Z=this.add.sprite(0,0,"text-card1").setOrigin(.5);Z.x=1320,Z.y=this.cameras.main.height/2,this.contentText=this.add.rexBBCodeText(1320,this.cameras.main.height/2,`Music has many genres, or types of
music. It is also common for one
type of genre to influence new
versions of songs and music.

Think about your [b]favorite genres of
music[/b]. You may even prefer
different genres for certain days of
the week, or during certain activities,
like when you study.
            `,{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(.5,.5),this.contentText.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const p=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);p.on("pointerdown",function(){this.scene.start("Scene3_3",{music:this.music})},this),p.y=p.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const S=new st(this,-60,540,"next-arrow",this.nextBtnAudio);S.on("pointerdown",function(){this.scene.start("Scene3_1")},this),S.y=S.y-40,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,270,150,32),this.instructionText=this.add.text(55,75,"Genres",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.instructionText.scale=.5,this.instructionTextCtnr=this.add.container(0,55,[this.textBg,this.instructionText]),new it(this)}}class fe extends Phaser.Scene{constructor(){super("Scene3_3")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.audio("sparklesSFX",["assets/Audio/SFX/3_Level1/sparkles.mp3"]),this.load.spritesheet("sparkles3-3","assets/Images/3_Level1/genre-cards/sparkles1-spritesheet.png",{frameWidth:530,frameHeight:562}),this.load.image("wall","assets/Images/3_Level1/wall.jpg"),this.load.image("char","assets/Images/3_Level1/char.png"),this.load.image("placeholder","assets/Images/3_Level1/placeholder.png"),this.load.image("text-card3","assets/Images/3_Level1/genre-cards/text-card3.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("genre-card1","assets/Images/3_Level1/genre-cards/genre-card1.png"),this.load.image("genre-card2","assets/Images/3_Level1/genre-cards/genre-card2.png"),this.load.image("genre-card3","assets/Images/3_Level1/genre-cards/genre-card3.png"),this.load.image("genre-card4","assets/Images/3_Level1/genre-cards/genre-card4.png"),this.load.image("genre-card5","assets/Images/3_Level1/genre-cards/genre-card5.png"),this.load.image("genre-card6","assets/Images/3_Level1/genre-cards/genre-card6.png"),this.load.image("genre-card7","assets/Images/3_Level1/genre-cards/genre-card7.png"),this.load.image("genre-card8","assets/Images/3_Level1/genre-cards/genre-card8.png")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0),this.sound.add("sparklesSFX").play(),this.add.sprite(0,0,"wall").setOrigin(0);var z=this.add.sprite(0,0,"char").setOrigin(.5);z.x=350,z.y=690,z.setScale(.6),this.add.zone(350,800,400,400).setRectangleDropZone(400,400);var V=this.add.sprite(0,0,"placeholder").setOrigin(.5);V.x=700,V.y=this.cameras.main.height/2,V.setScale(.65),this.placeholder1Text=this.add.rexBBCodeText(700,V.y-190,"[b]LOVE IT[/b]",{fontFamily:"Arial",fontSize:"96px",color:"#000000"}).setOrigin(.5),this.placeholder1Text.scale=.5,this.add.zone(V.x,V.y-50,V.width/2,V.height/4).setRectangleDropZone(V.width/2,V.height/4),this.add.zone(V.x,V.y+V.height/4-80,V.width/2,V.height/4).setRectangleDropZone(V.width/2,V.height/4);var K=this.add.sprite(0,0,"placeholder").setOrigin(.5);K.x=1050,K.y=this.cameras.main.height/2+100,K.setScale(.65),this.placeholder2Text=this.add.rexBBCodeText(1050,K.y-190,"[b]LIKE IT[/b]",{fontFamily:"Arial",fontSize:"96px",color:"#000000"}).setOrigin(.5),this.placeholder2Text.scale=.5,this.add.zone(K.x,K.y-50,K.width/2,K.height/4).setRectangleDropZone(K.width/2,K.height/4),this.add.zone(K.x,K.y+K.height/4-80,K.width/2,K.height/4).setRectangleDropZone(K.width/2,K.height/4);var Z=this.add.sprite(0,0,"placeholder").setOrigin(.5);Z.x=1400,Z.y=this.cameras.main.height/2-80,Z.setScale(.65),this.placeholder3Text=this.add.rexBBCodeText(1400,Z.y-190,"[b]IT'S OKAY[/b]",{fontFamily:"Arial",fontSize:"96px",color:"#000000"}).setOrigin(.5),this.placeholder3Text.scale=.5,this.add.zone(Z.x,Z.y-50,Z.width/2,Z.height/4).setRectangleDropZone(Z.width/2,Z.height/4),this.add.zone(Z.x,Z.y+Z.height/4-80,Z.width/2,Z.height/4).setRectangleDropZone(Z.width/2,Z.height/4);var p=this.add.sprite(0,0,"placeholder").setOrigin(.5);p.x=1750,p.y=this.cameras.main.height/2+50,p.setScale(.65),this.placeholder4Text=this.add.rexBBCodeText(1750,p.y-190,"[b]UGH![/b]",{fontFamily:"Arial",fontSize:"96px",color:"#000000"}).setOrigin(.5),this.placeholder4Text.scale=.5,this.add.zone(p.x,p.y-50,p.width/2,p.height/4).setRectangleDropZone(p.width/2,p.height/4),this.add.zone(p.x,p.y+p.height/4-80,p.width/2,p.height/4).setRectangleDropZone(p.width/2,p.height/4),this.genreCard1Bg=this.add.graphics(),this.genreCard1Bg.fillStyle(16777215,1),this.genreCard1Bg.fillRoundedRect(-125,-80,250,160,16);var S=this.add.sprite(0,0,"genre-card1").setOrigin(.5);S.scale=.35,this.genreCard1Ctnr=this.add.container(350,790),this.genreCard1Ctnr.setSize(250,160),this.genreCard1Ctnr.setInteractive({draggable:!0,cursor:"pointer"}),this.genreCard1Ctnr.add([this.genreCard1Bg,S]),this.input.on("dragstart",function(u,l){this.children.bringToTop(l)},this),this.genreCard1Ctnr.on("drag",(u,l,f)=>this.genreCard1Ctnr.setPosition(l,f)),this.input.on("dragend",(u,l,f)=>{f||(l.x=l.input.dragStartX,l.y=l.input.dragStartY)}),this.input.on("drop",(u,l,f)=>{l.x=f.x,l.y=f.y}),this.genreCard2Bg=this.add.graphics(),this.genreCard2Bg.fillStyle(16777215,1),this.genreCard2Bg.fillRoundedRect(-125,-80,250,160,16);var t=this.add.sprite(0,0,"genre-card2").setOrigin(.5);t.scale=.35,this.genreCard2Ctnr=this.add.container(350,790),this.genreCard2Ctnr.setSize(250,160),this.genreCard2Ctnr.setInteractive({draggable:!0,cursor:"pointer"}),this.genreCard2Ctnr.add([this.genreCard2Bg,t]),this.input.on("dragstart",function(u,l){this.children.bringToTop(l)},this),this.genreCard2Ctnr.on("drag",(u,l,f)=>this.genreCard2Ctnr.setPosition(l,f)),this.input.on("dragend",(u,l,f)=>{f||(l.x=l.input.dragStartX,l.y=l.input.dragStartY)}),this.input.on("drop",(u,l,f)=>{l.x=f.x,l.y=f.y}),this.genreCard3Bg=this.add.graphics(),this.genreCard3Bg.fillStyle(16777215,1),this.genreCard3Bg.fillRoundedRect(-125,-80,250,160,16);var d=this.add.sprite(0,0,"genre-card3").setOrigin(.5);d.scale=.35,this.genreCard3Ctnr=this.add.container(350,790),this.genreCard3Ctnr.setSize(250,160),this.genreCard3Ctnr.setInteractive({draggable:!0,cursor:"pointer"}),this.genreCard3Ctnr.add([this.genreCard3Bg,d]),this.input.on("dragstart",function(u,l){this.children.bringToTop(l)},this),this.genreCard3Ctnr.on("drag",(u,l,f)=>this.genreCard3Ctnr.setPosition(l,f)),this.input.on("dragend",(u,l,f)=>{f||(l.x=l.input.dragStartX,l.y=l.input.dragStartY)}),this.input.on("drop",(u,l,f)=>{l.x=f.x,l.y=f.y}),this.genreCard4Bg=this.add.graphics(),this.genreCard4Bg.fillStyle(16777215,1),this.genreCard4Bg.fillRoundedRect(-125,-80,250,160,16);var v=this.add.sprite(0,0,"genre-card4").setOrigin(.5);v.scale=.35,this.genreCard4Ctnr=this.add.container(350,790),this.genreCard4Ctnr.setSize(250,160),this.genreCard4Ctnr.setInteractive({draggable:!0,cursor:"pointer"}),this.genreCard4Ctnr.add([this.genreCard4Bg,v]),this.input.on("dragstart",function(u,l){this.children.bringToTop(l)},this),this.genreCard4Ctnr.on("drag",(u,l,f)=>this.genreCard4Ctnr.setPosition(l,f)),this.input.on("dragend",(u,l,f)=>{f||(l.x=l.input.dragStartX,l.y=l.input.dragStartY)}),this.input.on("drop",(u,l,f)=>{l.x=f.x,l.y=f.y}),this.genreCard5Bg=this.add.graphics(),this.genreCard5Bg.fillStyle(16777215,1),this.genreCard5Bg.fillRoundedRect(-125,-80,250,160,16);var o=this.add.sprite(0,0,"genre-card5").setOrigin(.5);o.scale=.35,this.genreCard5Ctnr=this.add.container(350,790),this.genreCard5Ctnr.setSize(250,160),this.genreCard5Ctnr.setInteractive({draggable:!0,cursor:"pointer"}),this.genreCard5Ctnr.add([this.genreCard5Bg,o]),this.input.on("dragstart",function(u,l){this.children.bringToTop(l)},this),this.genreCard5Ctnr.on("drag",(u,l,f)=>this.genreCard5Ctnr.setPosition(l,f)),this.input.on("dragend",(u,l,f)=>{f||(l.x=l.input.dragStartX,l.y=l.input.dragStartY)}),this.input.on("drop",(u,l,f)=>{l.x=f.x,l.y=f.y}),this.genreCard6Bg=this.add.graphics(),this.genreCard6Bg.fillStyle(16777215,1),this.genreCard6Bg.fillRoundedRect(-125,-80,250,160,16);var r=this.add.sprite(0,0,"genre-card6").setOrigin(.5);r.scale=.35,this.genreCard6Ctnr=this.add.container(350,790),this.genreCard6Ctnr.setSize(250,160),this.genreCard6Ctnr.setInteractive({draggable:!0,cursor:"pointer"}),this.genreCard6Ctnr.add([this.genreCard6Bg,r]),this.input.on("dragstart",function(u,l){this.children.bringToTop(l)},this),this.genreCard6Ctnr.on("drag",(u,l,f)=>this.genreCard6Ctnr.setPosition(l,f)),this.input.on("dragend",(u,l,f)=>{f||(l.x=l.input.dragStartX,l.y=l.input.dragStartY)}),this.input.on("drop",(u,l,f)=>{l.x=f.x,l.y=f.y}),this.genreCard7Bg=this.add.graphics(),this.genreCard7Bg.fillStyle(16777215,1),this.genreCard7Bg.fillRoundedRect(-125,-80,250,160,16);var n=this.add.sprite(0,0,"genre-card7").setOrigin(.5);n.scale=.35,this.genreCard7Ctnr=this.add.container(350,790),this.genreCard7Ctnr.setSize(250,160),this.genreCard7Ctnr.setInteractive({draggable:!0,cursor:"pointer"}),this.genreCard7Ctnr.add([this.genreCard7Bg,n]),this.input.on("dragstart",function(u,l){this.children.bringToTop(l)},this),this.genreCard7Ctnr.on("drag",(u,l,f)=>this.genreCard7Ctnr.setPosition(l,f)),this.input.on("dragend",(u,l,f)=>{f||(l.x=l.input.dragStartX,l.y=l.input.dragStartY)}),this.input.on("drop",(u,l,f)=>{l.x=f.x,l.y=f.y}),this.genreCard8Bg=this.add.graphics(),this.genreCard8Bg.fillStyle(16777215,1),this.genreCard8Bg.fillRoundedRect(-125,-80,250,160,16);var e=this.add.sprite(0,0,"genre-card8").setOrigin(.5);e.scale=.35,this.genreCard8Ctnr=this.add.container(350,790),this.genreCard8Ctnr.setSize(250,160),this.genreCard8Ctnr.setInteractive({draggable:!0,cursor:"pointer"}),this.genreCard8Ctnr.add([this.genreCard8Bg,e]),this.input.on("dragstart",function(u,l){this.children.bringToTop(l)},this),this.genreCard8Ctnr.on("drag",(u,l,f)=>this.genreCard8Ctnr.setPosition(l,f)),this.input.on("dragend",(u,l,f)=>{f||(l.x=l.input.dragStartX,l.y=l.input.dragStartY)}),this.input.on("drop",(u,l,f)=>{l.x=f.x,l.y=f.y}),this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new vt(this,1920-260-80,1080-60-60,"Continue",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene3_4",{music:this.music})},this),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const h=new st(this,-60,540,"next-arrow",this.nextBtnAudio);h.on("pointerdown",function(){this.scene.start("Scene3_2")},this),h.y=h.y-40,this.textBg=this.add.sprite(650,50,"text-card3").setOrigin(0),this.textBg.scale=1.4,this.instructionText=this.add.rexBBCodeText(750,100,"[b]Drag[/b] the images and place them in order of preference.",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0),this.instructionText.scale=.5,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-50,0,500,150,32),this.titleText=this.add.text(55,75,"List of music genres",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),this.anims.create({key:"sparkles",frameRate:30,frames:this.anims.generateFrameNumbers("sparkles3-3",{start:0,end:119}),repeat:0,hideOnComplete:!0});var i=this.add.sprite(200,700,"sparkles3-3");i.play("sparkles"),i.scale=.5,i.once(Phaser.Animations.Events.SPRITE_ANIMATION_COMPLETE,()=>{i.destroy()});var a=this.add.sprite(470,870,"sparkles3-3");a.play("sparkles"),a.scale=.5,a.once(Phaser.Animations.Events.SPRITE_ANIMATION_COMPLETE,()=>{a.destroy()}),new it(this)}}class ce extends Phaser.Scene{constructor(){super("Scene3_4"),this.slide=1}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("room","assets/Images/3_Level1/room/room.jpg"),this.load.image("water-bottle","assets/Images/3_Level1/room/water-bottle.png"),this.load.image("suitcase-closed","assets/Images/3_Level1/room/suitcase-closed.png"),this.load.image("suitcase-top","assets/Images/3_Level1/room/suitcase-top.png"),this.load.image("suitcase-bottom","assets/Images/3_Level1/room/suitcase-bottom.png"),this.load.image("banana","assets/Images/3_Level1/room/banana.png"),this.load.image("phone","assets/Images/3_Level1/room/phone.png"),this.load.image("eyecover","assets/Images/3_Level1/room/eyecover.png"),this.load.image("book","assets/Images/3_Level1/room/book.png"),this.load.image("newspaper","assets/Images/3_Level1/room/newspaper.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("text-card3-4","assets/Images/3_Level1/room/text-card1.png"),this.load.image("text-card3-4B","assets/Images/3_Level1/text-card4.png")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0),this.add.sprite(0,0,"room").setOrigin(0);var b=this.add.sprite(1e3,-320,"text-card3-4").setOrigin(0);b.scale=1.5,this.instructionText=this.add.rexBBCodeText(1470,50,`When getting ready for any trip or activity, it
is important to stay healthy. You don't want
to feel unwell during your adventure!`,{fontFamily:"Arial",fontSize:"96px",color:"#000000",align:"center"}).setOrigin(.5,0),this.instructionText.scale=.45;var z=this.add.sprite(0,0,"suitcase-closed").setOrigin(0);z.setScale(.4),z.x=300,z.y=this.cameras.main.height/2+100;var V=this.add.sprite(0,0,"suitcase-bottom").setOrigin(0);V.setScale(.4),V.x=300,V.y=this.cameras.main.height/2+100,V.alpha=0;var K=this.add.sprite(0,0,"suitcase-top").setOrigin(0);K.setScale(.4),K.x=300,K.y=this.cameras.main.height/2+100,K.alpha=0;var Z=this.add.sprite(0,0,"book").setOrigin(0);Z.setScale(.3),Z.x=this.cameras.main.width/2+250,Z.y=this.cameras.main.height/2+220;var p=this.add.sprite(0,0,"water-bottle").setOrigin(0);p.setScale(.2),p.x=this.cameras.main.width/2+60,p.y=this.cameras.main.height/2+170;var S=this.add.sprite(0,0,"newspaper").setOrigin(0);S.setScale(.2),S.x=this.cameras.main.width/2-250,S.y=this.cameras.main.height/2+375;var t=this.add.sprite(0,0,"banana").setOrigin(0);t.setScale(.28),t.x=this.cameras.main.width/2+640,t.y=this.cameras.main.height/2+80,t.angle=30;var d=this.add.sprite(0,0,"eyecover").setOrigin(0);d.setScale(.2),d.x=this.cameras.main.width/2-350,d.y=this.cameras.main.height/2+40,d.angle=-30;var v=this.add.sprite(0,0,"phone").setOrigin(0);v.setScale(.15),v.x=this.cameras.main.width/2-50,v.y=this.cameras.main.height/2+30,v.angle=-30;var o=this.add.sprite(960,540,"text-card3-4B").setOrigin(.5).setScale(.8);o.alpha=0,this.congratsText=this.add.text(960,540,`Great!
Your suitcase is packed
and ready for the trip!`,{fontFamily:"Arial",fontSize:"96px",color:"#000000",align:"center"}).setOrigin(.5),this.congratsText.scale=.45,this.congratsText.alpha=0,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const r=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);r.on("pointerdown",function(){this.slide==1?(this.slide++,r.disableInteractive(),r.alpha=0,this.instructionText.setText(`During your trip, you'll need water.
[b]Click on an object[/b] that will help
you stay hydrated.`),z.alpha=0,K.alpha=1,V.alpha=1,p.setInteractive({cursor:"pointer"}),p.on("pointerdown",()=>{this.instructionText.setText(`During your trip, you'll need to maintain a
growth mindset. [b]Click on an object[/b] that will
help you learn about current events.`),this.tweens.add({targets:[p],x:360,y:760,duration:600,ease:"Sine.easeInOut",repeat:0}),S.setInteractive({cursor:"pointer"}),S.on("pointerdown",()=>{this.instructionText.setText(`[b]Click on an object[/b] that will help you
eat healthy during your trip.`),this.tweens.add({targets:[S],x:440,y:840,duration:600,ease:"Sine.easeInOut",repeat:0}),t.setInteractive({cursor:"pointer"}),t.on("pointerdown",()=>{this.instructionText.setText(`[b]Click on an object[/b] that will help you
keep your mind active.`),this.tweens.add({targets:[t],x:440,y:790,duration:600,ease:"Sine.easeInOut",repeat:0}),Z.setInteractive({cursor:"pointer"}),Z.on("pointerdown",()=>{this.instructionText.setText(`[b]Click on an object[/b] that will help you
get enough sleep.`),this.tweens.add({targets:[Z],x:260,y:860,duration:600,ease:"Sine.easeInOut",repeat:0}),d.setInteractive({cursor:"pointer"}),d.on("pointerdown",()=>{this.instructionText.setText(`[b]Click on an object[/b] that will
help you find resources and create a network
of people that will support you.`),this.tweens.add({targets:[d],x:480,y:850,duration:600,ease:"Sine.easeInOut",repeat:0}),v.setInteractive({cursor:"pointer"}),v.on("pointerdown",()=>{this.tweens.add({targets:[v],x:550,y:870,duration:600,ease:"Sine.easeInOut",repeat:0}),r.setInteractive({cursor:"pointer"}),r.alpha=1,b.alpha=0,this.instructionText.alpha=0,this.tweens.add({targets:[o,this.congratsText],alpha:1,duration:1e3,ease:"Sine.easeInOut",repeat:0})})})})})})})):this.scene.start("Scene3_5",{music:this.music})},this),r.y=r.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const n=new st(this,-60,540,"next-arrow",this.nextBtnAudio);n.on("pointerdown",function(){this.scene.start("Scene3_3")},this),n.y=n.y-40,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,700,150,32),this.titleText=this.add.text(55,75,"Getting ready - Getting aware",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),new it(this)}}class ve extends Phaser.Scene{constructor(){super("Scene3_5")}init(b){this.music=b.music}preload(){this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.video("vid3-1","assets/Videos/3_Level1/scene3-vid1.mp4")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0);const b=this.add.video(0,0,"vid3-1");b.setOrigin(0),b.play(),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene3_6",{music:this.music})},this),z.y=z.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new st(this,-60,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene3_4")},this),V.y=V.y-40,new it(this)}}class pe extends Phaser.Scene{constructor(){super("Scene3_6")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.audio("background-audio-3-6",["assets/Audio/SFX/3_Level1/signs-audio.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("sign1","assets/Images/3_Level1/signs/sign1.png"),this.load.image("sign2","assets/Images/3_Level1/signs/sign2.png"),this.load.image("sign3","assets/Images/3_Level1/signs/sign3.png"),this.load.image("sign4","assets/Images/3_Level1/signs/sign4.png"),this.load.image("sign5","assets/Images/3_Level1/signs/sign5.png"),this.load.image("sign6","assets/Images/3_Level1/signs/sign6.png"),this.load.image("sign7","assets/Images/3_Level1/signs/sign7.png"),this.load.spritesheet("sparkles3-6","assets/Images/3_Level1/genre-cards/sparkles1-spritesheet.png",{frameWidth:530,frameHeight:562}),this.load.video("vid3-2","assets/Videos/3_Level1/scene3-vid2.mp4")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0);const b=this.sound.add("background-audio-3-6");b.play();const z=this.add.video(0,0,"vid3-2");z.setOrigin(0),z.play(),this.sign7=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2+190,"sign7").setOrigin(.5),this.sign7.scale=.41,this.sign7.setInteractive({draggable:!0,cursor:"pointer"}),this.input.on("dragstart",function(v,o){this.children.bringToTop(o)},this),this.sign7.on("drag",(v,o,r)=>this.sign7.setPosition(o,r)),this.input.on("dragend",(v,o,r)=>{r||(o.x=this.cameras.main.width/2,o.y=this.cameras.main.height/2+190)}),this.input.on("drop",(v,o,r)=>{o.x=r.x,o.y=r.y}),this.input.on("drop",(v,o,r)=>{o.x=r.x,o.y=r.y}),this.sign6=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2+190,"sign6").setOrigin(.5),this.sign6.scale=.41,this.sign6.setInteractive({draggable:!0,cursor:"pointer"}),this.input.on("dragstart",function(v,o){this.children.bringToTop(o)},this),this.sign6.on("drag",(v,o,r)=>this.sign6.setPosition(o,r)),this.input.on("dragend",(v,o,r)=>{r||(o.x=this.cameras.main.width/2,o.y=this.cameras.main.height/2+190)}),this.input.on("drop",(v,o,r)=>{o.x=r.x,o.y=r.y}),this.input.on("drop",(v,o,r)=>{o.x=r.x,o.y=r.y}),this.sign5=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2+190,"sign5").setOrigin(.5),this.sign5.scale=.41,this.sign5.setInteractive({draggable:!0,cursor:"pointer"}),this.input.on("dragstart",function(v,o){this.children.bringToTop(o)},this),this.sign5.on("drag",(v,o,r)=>this.sign5.setPosition(o,r)),this.input.on("dragend",(v,o,r)=>{r||(o.x=this.cameras.main.width/2,o.y=this.cameras.main.height/2+190)}),this.input.on("drop",(v,o,r)=>{o.x=r.x,o.y=r.y}),this.input.on("drop",(v,o,r)=>{o.x=r.x,o.y=r.y}),this.sign4=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2+190,"sign4").setOrigin(.5),this.sign4.scale=.41,this.sign4.setInteractive({draggable:!0,cursor:"pointer"}),this.input.on("dragstart",function(v,o){this.children.bringToTop(o)},this),this.sign4.on("drag",(v,o,r)=>this.sign4.setPosition(o,r)),this.input.on("dragend",(v,o,r)=>{r||(o.x=this.cameras.main.width/2,o.y=this.cameras.main.height/2+190)}),this.input.on("drop",(v,o,r)=>{o.x=r.x,o.y=r.y}),this.input.on("drop",(v,o,r)=>{o.x=r.x,o.y=r.y}),this.sign3=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2+190,"sign3").setOrigin(.5),this.sign3.scale=.41,this.sign3.setInteractive({draggable:!0,cursor:"pointer"}),this.input.on("dragstart",function(v,o){this.children.bringToTop(o)},this),this.sign3.on("drag",(v,o,r)=>this.sign3.setPosition(o,r)),this.input.on("dragend",(v,o,r)=>{r||(o.x=this.cameras.main.width/2,o.y=this.cameras.main.height/2+190)}),this.input.on("drop",(v,o,r)=>{o.x=r.x,o.y=r.y}),this.input.on("drop",(v,o,r)=>{o.x=r.x,o.y=r.y}),this.sign2=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2+190,"sign2").setOrigin(.5),this.sign2.scale=.41,this.sign2.setInteractive({draggable:!0,cursor:"pointer"}),this.input.on("dragstart",function(v,o){this.children.bringToTop(o)},this),this.sign2.on("drag",(v,o,r)=>this.sign2.setPosition(o,r)),this.input.on("dragend",(v,o,r)=>{r||(o.x=this.cameras.main.width/2,o.y=this.cameras.main.height/2+190)}),this.input.on("drop",(v,o,r)=>{o.x=V.x,o.y=V.y}),this.input.on("drop",(v,o,r)=>{o.x=r.x,o.y=r.y}),this.sign1=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2+190,"sign1").setOrigin(.5),this.sign1.scale=.41,this.sign1.setInteractive({draggable:!0,cursor:"pointer"}),this.input.on("dragstart",function(v,o){this.children.bringToTop(o)},this),this.sign1.on("drag",(v,o,r)=>this.sign1.setPosition(o,r)),this.input.on("dragend",(v,o,r)=>{r||(o.x=this.cameras.main.width/2,o.y=this.cameras.main.height/2+190)}),this.input.on("drop",(v,o,r)=>{o.x=r.x,o.y=r.y}),this.input.on("drop",(v,o,r)=>{o.x=r.x,o.y=r.y}),this.add.zone(343,758,350,150).setRectangleDropZone(350,150);const V=this.add.zone(1457,726,350,150).setRectangleDropZone(350,150);this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const K=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);K.on("pointerdown",function(){b.stop(),this.scene.start("Scene3_7",{music:this.music})},this),K.y=K.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const Z=new st(this,-60,540,"next-arrow",this.nextBtnAudio);Z.on("pointerdown",function(){this.scene.start("Scene3_5")},this),Z.y=Z.y-40,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,900,150,32),this.instructionText=this.add.rexBBCodeText(55,75,"[b]Drag each item to the group it fits in your life.[/b]",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.instructionText.scale=.5,this.instructionTextCtnr=this.add.container(0,55,[this.textBg,this.instructionText]),this.anims.create({key:"sparkles",frameRate:30,frames:this.anims.generateFrameNumbers("sparkles3-6",{start:0,end:119}),repeat:0,hideOnComplete:!0});var p=this.add.sprite(150,750,"sparkles3-6");p.play("sparkles"),p.scale=.4,p.once(Phaser.Animations.Events.SPRITE_ANIMATION_COMPLETE,()=>{p.destroy()});var S=this.add.sprite(520,750,"sparkles3-6");S.play("sparkles"),S.scale=.4,S.once(Phaser.Animations.Events.SPRITE_ANIMATION_COMPLETE,()=>{S.destroy()});var t=this.add.sprite(1280,750,"sparkles3-6");t.play("sparkles"),t.scale=.4,t.once(Phaser.Animations.Events.SPRITE_ANIMATION_COMPLETE,()=>{t.destroy()});var d=this.add.sprite(1650,750,"sparkles3-6");d.play("sparkles"),d.scale=.4,d.once(Phaser.Animations.Events.SPRITE_ANIMATION_COMPLETE,()=>{d.destroy()}),new it(this)}}class ge extends Phaser.Scene{constructor(){super("Scene3_7")}init(b){this.music=b.music}preload(){this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.video("vid3-3","assets/Videos/3_Level1/scene3-vid3.mp4")}create(){typeof this.music>"u"?(this.music=this.sound.add("theme-module3"),this.music.loop=!0):this.music.pause();const b=this.add.video(0,0,"vid3-3");b.on("complete",()=>{this.music.play(),this.music.setVolume(.1)}),b.setOrigin(0),b.play(),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.music.isPlaying||(this.music.play(),this.music.setVolume(.1)),this.scene.start("Scene3_8",{music:this.music})},this),z.y=z.y-40,new it(this)}}class me extends Phaser.Scene{constructor(){super("Scene3_8")}init(b){this.music=b.music}preload(){this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("text-card3-8","assets/Images/3_Level1/text-card2.png"),this.load.video("vid3-4","assets/Videos/3_Level1/scene3-vid4.mp4")}create(){typeof this.music>"u"?(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0):this.music.isPaused?this.music.play():this.music.resume();const b=this.add.video(0,0,"vid3-4");b.setOrigin(0),b.play(),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene3_9",{music:this.music})},this),z.y=z.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new st(this,-60,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene3_6")},this),V.y=V.y-40,this.instructionTextBg=this.add.sprite(850,100,"text-card3-8").setOrigin(0),this.instructionTextBg.scale=1.1,this.instructionTextBg.alpha=.8,this.instructionText=this.add.text(950,240,`There are always different paths to set a
goal, or a destination. How many ways can
you get to school, or to a friend's house?`,{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(0,.5),this.instructionText.scale=.5,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,700,150,32),this.titleText=this.add.text(55,75,"Ways to Get Yourself on Tour",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),new it(this)}}class xe extends Phaser.Scene{constructor(){super("Scene3_9")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("piano","assets/Images/3_Level1/piano/piano.png"),this.load.image("keyboard","assets/Images/3_Level1/piano/keyboard.png"),this.load.image("violin","assets/Images/3_Level1/piano/violin.png"),this.load.image("record-player","assets/Images/3_Level1/piano/record-player.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("text-card3-9","assets/Images/3_Level1/piano/text-card.png")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0),this.add.sprite(0,0,"piano").setOrigin(0);const b=this.add.circle(0,0,250,16777215),z=this.add.text(0,0,`Buy/Win free
tickets to follow the
tour`,{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(.5,.5);z.scale=.5;var V=this.add.image(0,0,"keyboard");V.setInteractive({cursor:"pointer"}),V.on("pointerdown",()=>{V.alpha=0,Z.alpha=1});var K=this.add.graphics();K.lineStyle(6,16777215,1),K.strokeCircle(0,0,250);var Z=this.add.graphics();Z.lineStyle(6,0,1),Z.strokeCircle(0,0,250),Z.alpha=0,this.add.container(350,750,[b,z,V,K,Z]);const p=this.add.circle(0,0,250,16777215),S=this.add.text(0,0,`Work on your
own musical
talents and beats
to start your own
tour`,{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(.5,.5);S.scale=.5;var t=this.add.image(0,0,"record-player");t.setInteractive({cursor:"pointer"}),t.on("pointerdown",()=>{t.alpha=0,v.alpha=1});var d=this.add.graphics();d.lineStyle(6,16777215,1),d.strokeCircle(0,0,250);var v=this.add.graphics();v.lineStyle(6,0,1),v.strokeCircle(0,0,250),v.alpha=0,this.add.container(960,750,[p,S,t,d,v]);const o=this.add.circle(0,0,250,16777215),r=this.add.text(0,0,`Work for a tour
company`,{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(.5,.5);r.scale=.5;var n=this.add.image(0,0,"violin");n.setInteractive({cursor:"pointer"}),n.on("pointerdown",()=>{n.alpha=0,s.alpha=1});var e=this.add.graphics();e.lineStyle(6,16777215,1),e.strokeCircle(0,0,250);var s=this.add.graphics();s.lineStyle(6,0,1),s.strokeCircle(0,0,250),s.alpha=0,this.add.container(1570,750,[o,r,n,e,s]),this.instructionTextBg=this.add.sprite(850,100,"text-card3-9").setOrigin(0),this.instructionTextBg.scale=1.3,this.instructionTextBg.alpha=.8,this.instructionText=this.add.rexBBCodeText(920,230,`Below are a few ways you could travel on a
musical tour. Can you think of any others?
[b]Click on the cards to learn more![/b]`,{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(0,.5),this.instructionText.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const h=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);h.on("pointerdown",function(){this.scene.start("Scene3_10",{music:this.music})},this),h.y=h.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const i=new st(this,-60,540,"next-arrow",this.nextBtnAudio);i.on("pointerdown",function(){this.scene.start("Scene3_8")},this),i.y=i.y-40,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,700,150,32),this.instructionText=this.add.text(55,75,"Ways to Get Yourself on Tour",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.instructionText.scale=.5,this.instructionTextCtnr=this.add.container(0,55,[this.textBg,this.instructionText]),new it(this)}}class ye extends Phaser.Scene{constructor(){super("Scene3_10")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("char2_3-10","assets/Images/3_Level1/char2.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("text-card3-10","assets/Images/3_Level1/text-card1.png")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0),this.cameras.main.setBackgroundColor("#959fe4");var b=this.add.sprite(0,0,"char2_3-10").setOrigin(.5);b.x=this.cameras.main.width/2-350,b.y=this.cameras.main.height/2+160,b.setScale(1.6),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene3_11",{music:this.music})},this),z.y=z.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new st(this,-60,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene3_9")},this),V.y=V.y-40;var K=this.add.sprite(1275,400,"text-card3-10").setOrigin(.5);K.scale=1,this.instructionsText=this.add.rexBBCodeText(1275,400,`You have the chance to win tickets
to a national concert
tour--with all expenses paid,
including hotel and travel!
            
[b]Click on the Next button[/b] to enter the
competition for free tickets!
            `,{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(.5),this.instructionsText.scale=.5,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,350,150,32),this.titleText=this.add.text(55,75,"Enter to win!",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),new it(this)}}class Te extends Phaser.Scene{constructor(){super("Scene3_11")}init(b){this.music=b.music}preload(){this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("notes-bg","assets/Images/3_Level1/notes-bg.png"),this.load.image("text-card3-11","assets/Images/3_Level1/text-card1.png")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0),this.cameras.main.setBackgroundColor("#959fe4");var b=this.add.sprite(0,0,"notes-bg").setOrigin(0);b.alpha=.5;var z=this.add.sprite(960,540,"text-card3-11").setOrigin(.5);z.scale=.8,this.instructionText=this.add.text(960,540-100,"Check your musical knowledge!",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(.5),this.instructionText.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new vt(this,960-130,540-30,"Start",this.nextBtnAudio);V.on("pointerdown",function(){this.music.pause(),this.scene.start("Scene3_12",{music:this.music})},this),V.y=V.y+60,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,350,150,32),this.titleText=this.add.text(55,75,"Audio quiz",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),new it(this)}}class Se extends Phaser.Scene{constructor(){super("Scene3_12")}init(b){this.music=b.music,this.selectedButton=null}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.audio("country1",["assets/Audio/Music/3_Level1/genre-quiz/country1.mp3"]),this.load.image("notes-bg","assets/Images/3_Level1/notes-bg.png"),this.load.image("play-btn","assets/Images/3_Level1/genre-quiz/play-btn-round.png"),this.load.image("stop-btn","assets/Images/3_Level1/genre-quiz/stop-btn-round.png"),this.load.image("stars","assets/Images/3_Level1/stars.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png")}create(){typeof this.music>"u"?(this.music=this.sound.add("theme-module3"),this.music.setVolume(.1),this.music.loop=!0):this.music.pause();var b=!1;this.country1=this.sound.add("country1"),this.cameras.main.setBackgroundColor("#959fe4");var z=this.add.sprite(0,0,"notes-bg").setOrigin(0);z.alpha=.5;var V=!1,K=this.add.sprite(0,0,"play-btn").setOrigin(.5),Z=this.add.sprite(0,0,"stop-btn").setOrigin(.5).setAlpha(0),p=this.add.container(1920-100,100,[K,Z]);p.setScale(.3),p.setInteractive(new Phaser.Geom.Rectangle(-250,-250,500,500),Phaser.Geom.Rectangle.Contains),p.on("pointerover",()=>{this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),p.on("pointerout",()=>{this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),p.on("pointerdown",()=>{V?(this.country1.stop(),K.setAlpha(1),Z.setAlpha(0)):(this.country1.play(),Z.setAlpha(1),K.setAlpha(0)),V=!V},this);var S=this.add.sprite(400,100,"stars").setOrigin(.5);S.setScale(.6);var t=this.add.graphics();t.fillStyle(16777215,1),t.fillRoundedRect(260,320,1380,140,72);var d=this.add.rexBBCodeText(960,390,`[b]Press the Play button above[/b]
and select to which music genre this song belongs to.`,{fontFamily:"Arial",fontSize:"84px",fill:"#000000",align:"center"});d.setOrigin(.5).setScale(.5),d.alpha=1;const v=[{text:"A. Rap",x:260,y:480,isCorrect:!1},{text:"B. Pop",x:960,y:480,isCorrect:!1},{text:"C. Country",x:260,y:620,isCorrect:!0},{text:"D. Soul",x:960,y:620,isCorrect:!1}],o={radius:8,width:690,height:120,fill:16777215,border:{color:8901119,width:5}},r=this.add.group();let n=[];v.forEach(h=>{const i=this.add.graphics(),a=this.add.graphics(),u=this.add.text(30,60,h.text,{fontFamily:"Arial",fontSize:"72px",fill:"#000000",align:"left"});u.setOrigin(0,.5).setScale(.5),i.fillStyle(o.fill,1),i.fillRoundedRect(0,0,o.width,o.height,o.radius),a.lineStyle(o.border.width,o.border.color),a.strokeRoundedRect(0,0,o.width,o.height,o.radius),a.setVisible(!1),n.push(a);const l=this.add.container(h.x,h.y,[i,u,a]);l.setInteractive(new Phaser.Geom.Rectangle(0,0,o.width,o.height),Phaser.Geom.Rectangle.Contains),l.on("pointerover",()=>{this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),l.on("pointerout",()=>{this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),l.on("pointerdown",()=>{b=h.isCorrect,this.selectedButton=l,n.forEach(f=>{f.setVisible(!1)}),a.setVisible(!0)},this),r.add(l)}),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const e=new vt(this,0,0,"Submit",this.nextBtnAudio);e.on("pointerdown",function(){this.country1.stop(),b?this.scene.start("Scene3_12_correct",{music:this.music}):this.scene.start("Scene3_12_incorrect",{music:this.music})},this),e.x=960-130,e.y=1080-70,e.alpha=1,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const s=new st(this,-60,540,"next-arrow",this.nextBtnAudio);s.on("pointerdown",function(){this.scene.start("Scene3_11"),this.country1.stop()},this),s.y=s.y-40,new it(this)}}class Ce extends Phaser.Scene{constructor(){super("Scene3_12_incorrect")}init(b){this.music=b.music}preload(){this.load.image("stars","assets/Images/3_Level1/stars.png"),this.load.image("char-incorrect","assets/Images/3_Level1/genre-quiz/char-incorrect.png")}create(){this.cameras.main.setBackgroundColor("#959fe4");var b=this.add.sprite(0,0,"notes-bg").setOrigin(0);b.alpha=.5;var z=this.add.sprite(400,100,"stars").setOrigin(.5);z.setScale(.6),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(210,200,1500,650,32),this.add.sprite(960,620,"char-incorrect").setOrigin(.5),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new vt(this,0,0,"Submit",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene3_12")},this),V.x=960-130,V.y=1080-150,V.alpha=1}}class Ae extends Phaser.Scene{constructor(){super("Scene3_12_correct")}init(b){this.music=b.music}preload(){this.load.image("stars","assets/Images/3_Level1/stars.png"),this.load.image("char-correct","assets/Images/3_Level1/genre-quiz/char-correct.png")}create(){this.cameras.main.setBackgroundColor("#959fe4");var b=this.add.sprite(0,0,"notes-bg").setOrigin(0);b.alpha=.5;var z=this.add.sprite(400,100,"stars").setOrigin(.5);z.setScale(.6),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(210,200,1500,650,32),this.add.sprite(960,620,"char-correct").setOrigin(.5),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new vt(this,0,0,"Submit",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene3_13",{music:this.music})},this),V.x=960-130,V.y=1080-150,V.alpha=1}}class Ee extends Phaser.Scene{constructor(){super("Scene3_13")}init(b){this.music=b.music,this.selectedButton=null}preload(){this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.audio("jazz1",["assets/Audio/Music/3_Level1/genre-quiz/jazz1.mp3"]),this.load.audio("rap",["assets/Audio/Music/3_Level1/genre-quiz/rap.mp3"]),this.load.audio("rock1",["assets/Audio/Music/3_Level1/genre-quiz/rock1.mp3"]),this.load.audio("country2",["assets/Audio/Music/3_Level1/genre-quiz/country2.mp3"]),this.load.image("notes-bg","assets/Images/3_Level1/notes-bg.png"),this.load.image("play-btn-square","assets/Images/3_Level1/genre-quiz/play-btn-square.png"),this.load.image("stop-btn-square","assets/Images/3_Level1/genre-quiz/stop-btn-square.png"),this.load.image("stars","assets/Images/3_Level1/stars.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png")}create(){typeof this.music>"u"?(this.music=this.sound.add("theme-module3"),this.music.setVolume(.1),this.music.loop=!0):this.music.pause();var b=!1;this.cameras.main.setBackgroundColor("#959fe4");var z=this.add.sprite(0,0,"notes-bg").setOrigin(0);z.alpha=.5;var V=this.add.sprite(400,100,"stars").setOrigin(.5);V.setScale(.6);var K=this.add.graphics();K.fillStyle(16777215,1),K.fillRoundedRect(260,320,1380,140,72);var Z=this.add.text(960,390,"Listen to the songs below. Which one do you think sounds more like rap?",{fontFamily:"Arial",fontSize:"84px",fill:"#000000",align:"center"});Z.setOrigin(.5).setScale(.5);const p=[{text:"A. Song 1",x:260,y:480,isCorrect:!1,trackID:"jazz1"},{text:"B. Song 2",x:960,y:480,isCorrect:!0,trackID:"rap"},{text:"C. Song 3",x:260,y:620,isCorrect:!1,trackID:"rock1"},{text:"D. Song 4",x:960,y:620,isCorrect:!1,trackID:"country1"}],S={radius:8,width:690,height:120,fill:16777215,border:{color:8901119,width:5}},t=this.add.group();let d=[],v=[],o=[];p.forEach(e=>{const s=this.sound.add(e.trackID);o.push(s);const h=this.add.sprite(0,0,"play-btn-square").setOrigin(0),i=this.add.sprite(0,0,"stop-btn-square").setOrigin(0),a=this.add.graphics(),u=this.add.graphics(),l=this.add.text(200,60,e.text,{fontFamily:"Arial",fontSize:"72px",fill:"#000000"});h.setScale(.28),i.setScale(.28).setAlpha(0),v.push(i),l.setOrigin(.5).setScale(.5),a.fillStyle(S.fill,1),a.fillRoundedRect(0,0,S.width,S.height,S.radius),u.lineStyle(S.border.width,S.border.color),u.strokeRoundedRect(0,0,S.width,S.height,S.radius),u.setVisible(!1),d.push(u);const f=this.add.container(e.x,e.y,[a,l,u,h,i]);f.setInteractive(new Phaser.Geom.Rectangle(0,0,S.width,S.height),Phaser.Geom.Rectangle.Contains),f.on("pointerover",()=>{this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),f.on("pointerout",()=>{this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),f.on("pointerdown",()=>{b=e.isCorrect,this.selectedButton=f,d.forEach(c=>{c.setVisible(!1)}),u.setVisible(!0),v.forEach(c=>{c.setAlpha(0)}),i.setAlpha(1),o.forEach(c=>{c.stop()}),s.play()},this),t.add(f)}),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const r=new vt(this,0,0,"Submit",this.nextBtnAudio);r.on("pointerdown",function(){o.forEach(e=>{e.stop()}),b?this.scene.start("Scene3_13_correct",{music:this.music}):this.scene.start("Scene3_13_incorrect",{music:this.music})},this),r.x=960-130,r.y=1080-70,r.alpha=1,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const n=new st(this,-60,540,"next-arrow",this.nextBtnAudio);n.on("pointerdown",function(){this.scene.start("Scene3_12"),o.forEach(e=>{e.stop()})},this),n.y=n.y-40,new it(this)}}class we extends Phaser.Scene{constructor(){super("Scene3_13_incorrect")}init(b){this.music=b.music}preload(){this.load.image("stars","assets/Images/3_Level1/stars.png"),this.load.image("char-incorrect","assets/Images/3_Level1/genre-quiz/char-incorrect.png")}create(){this.cameras.main.setBackgroundColor("#959fe4");var b=this.add.sprite(0,0,"notes-bg").setOrigin(0);b.alpha=.5;var z=this.add.sprite(400,100,"stars").setOrigin(.5);z.setScale(.6),this.add.sprite(960,500,"char-incorrect").setOrigin(.5),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new vt(this,0,0,"Submit",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene3_13")},this),V.x=960-130,V.y=1080-70,V.alpha=1}}class Fe extends Phaser.Scene{constructor(){super("Scene3_13_correct")}init(b){this.music=b.music}preload(){this.load.image("stars","assets/Images/3_Level1/stars.png"),this.load.image("char-correct","assets/Images/3_Level1/genre-quiz/char-correct.png")}create(){this.cameras.main.setBackgroundColor("#959fe4");var b=this.add.sprite(0,0,"notes-bg").setOrigin(0);b.alpha=.5;var z=this.add.sprite(400,100,"stars").setOrigin(.5);z.setScale(.6),this.add.sprite(960,500,"char-correct").setOrigin(.5),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new vt(this,0,0,"Submit",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene3_14",{music:this.music})},this),V.x=960-130,V.y=1080-70,V.alpha=1}}class Pe extends Phaser.Scene{constructor(){super("Scene3_14")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.audio("rock2",["assets/Audio/Music/3_Level1/genre-quiz/rock2.mp3"]),this.load.image("notes-bg","assets/Images/3_Level1/notes-bg.png"),this.load.image("play-btn","assets/Images/3_Level1/genre-quiz/play-btn-round.png"),this.load.image("stars","assets/Images/3_Level1/stars.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png")}create(){typeof this.music>"u"?(this.music=this.sound.add("theme-module3"),this.music.setVolume(.1),this.music.loop=!0):this.music.pause();var b=!1;this.rock2=this.sound.add("rock2"),this.cameras.main.setBackgroundColor("#959fe4");var z=this.add.sprite(0,0,"notes-bg").setOrigin(0);z.alpha=.5;var V=this.add.sprite(0,0,"play-btn").setOrigin(.5);V.x=1920-100,V.y=100,V.setScale(.3),V.alpha=1,V.setInteractive({cursor:"pointer"}),V.on("pointerdown",function(){this.rock2.play()},this);var K=this.add.sprite(400,100,"stars").setOrigin(.5);K.setScale(.6);var Z=this.add.graphics();Z.fillStyle(16777215,1),Z.fillRoundedRect(260,320,1380,140,72);var p=this.add.rexBBCodeText(960,390,`[b]Press the Play button above[/b]
and select to which music genre this song belongs to.`,{fontFamily:"Arial",fontSize:"84px",fill:"#000000",align:"center"});p.setOrigin(.5).setScale(.5),p.alpha=1;var S=this.add.graphics();S.fillStyle(16777215,1),S.fillRoundedRect(0,0,690,120,8);var t=this.add.text(100,60,"A. Rock",{fontFamily:"Arial",fontSize:"72px",fill:"#000000"});t.setOrigin(.5).setScale(.5);var d=this.add.container(260,480,[S,t]);d.setInteractive(new Phaser.Geom.Rectangle(0,0,690,120),Phaser.Geom.Rectangle.Contains),d.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),d.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),d.on("pointerdown",function(){b=!0},this),S.alpha=1;var v=this.add.graphics();v.fillStyle(16777215,1),v.fillRoundedRect(0,0,690,120,8);var o=this.add.text(100,60,"B. Jazz",{fontFamily:"Arial",fontSize:"72px",fill:"#000000"});o.setOrigin(.5).setScale(.5);var r=this.add.container(960,480,[v,o]);r.setInteractive(new Phaser.Geom.Rectangle(0,0,690,120),Phaser.Geom.Rectangle.Contains),r.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),r.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),r.on("pointerdown",function(){b=!1},this),v.alpha=1;var n=this.add.graphics();n.fillStyle(16777215,1),n.fillRoundedRect(0,0,690,120,8);var e=this.add.text(100,60,"C. Country",{fontFamily:"Arial",fontSize:"72px",fill:"#000000"});e.setOrigin(.5).setScale(.5);var s=this.add.container(260,620,[n,e]);s.setInteractive(new Phaser.Geom.Rectangle(0,0,690,120),Phaser.Geom.Rectangle.Contains),s.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),s.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),s.on("pointerdown",function(){b=!1},this),n.alpha=1;var h=this.add.graphics();h.fillStyle(16777215,1),h.fillRoundedRect(0,0,690,120,8);var i=this.add.text(100,60,"D. Rap",{fontFamily:"Arial",fontSize:"72px",fill:"#000000"});i.setOrigin(.5).setScale(.5);var a=this.add.container(960,620,[h,i]);a.setInteractive(new Phaser.Geom.Rectangle(0,0,690,120),Phaser.Geom.Rectangle.Contains),a.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),a.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),a.on("pointerdown",function(){b=!1},this),h.alpha=1,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const u=new vt(this,0,0,"Submit",this.nextBtnAudio);u.on("pointerdown",function(){this.rock2.stop(),b?this.scene.start("Scene3_14_correct",{music:this.music}):this.scene.start("Scene3_14_incorrect",{music:this.music})},this),u.x=960-130,u.y=1080-70,u.alpha=1,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const l=new st(this,-60,540,"next-arrow",this.nextBtnAudio);l.on("pointerdown",function(){this.scene.start("Scene3_13")},this),l.y=l.y-40,new it(this)}}class Be extends Phaser.Scene{constructor(){super("Scene3_14_incorrect")}init(b){this.music=b.music}preload(){this.load.image("stars","assets/Images/3_Level1/stars.png"),this.load.image("char-incorrect","assets/Images/3_Level1/genre-quiz/char-incorrect.png")}create(){this.cameras.main.setBackgroundColor("#959fe4");var b=this.add.sprite(0,0,"notes-bg").setOrigin(0);b.alpha=.5;var z=this.add.sprite(400,100,"stars").setOrigin(.5);z.setScale(.6),this.add.sprite(960,500,"char-incorrect").setOrigin(.5),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new vt(this,0,0,"Submit",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene3_14")},this),V.x=960-130,V.y=1080-70,V.alpha=1}}class Re extends Phaser.Scene{constructor(){super("Scene3_14_correct")}init(b){this.music=b.music}preload(){this.load.image("stars","assets/Images/3_Level1/stars.png"),this.load.image("char-correct","assets/Images/3_Level1/genre-quiz/char-correct.png")}create(){this.cameras.main.setBackgroundColor("#959fe4");var b=this.add.sprite(0,0,"notes-bg").setOrigin(0);b.alpha=.5;var z=this.add.sprite(400,100,"stars").setOrigin(.5);z.setScale(.6),this.add.sprite(960,500,"char-correct").setOrigin(.5),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new vt(this,0,0,"Submit",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene3_15",{music:this.music})},this),V.x=960-130,V.y=1080-70,V.alpha=1}}class Me extends Phaser.Scene{constructor(){super("Scene3_15")}init(b){this.music=b.music}preload(){this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.audio("pop1",["assets/Audio/Music/3_Level1/genre-quiz/pop1.mp3"]),this.load.audio("jazz2",["assets/Audio/Music/3_Level1/genre-quiz/jazz2.mp3"]),this.load.audio("rock3",["assets/Audio/Music/3_Level1/genre-quiz/rock3.mp3"]),this.load.audio("pop2",["assets/Audio/Music/3_Level1/genre-quiz/pop2.mp3"]),this.load.image("notes-bg","assets/Images/3_Level1/notes-bg.png"),this.load.image("play-btn-square","assets/Images/3_Level1/genre-quiz/play-btn-square.png"),this.load.image("stop-btn-square","assets/Images/3_Level1/genre-quiz/stop-btn-square.png"),this.load.image("stars","assets/Images/3_Level1/stars.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png")}create(){typeof this.music>"u"?(this.music=this.sound.add("theme-module3"),this.music.setVolume(.1),this.music.loop=!0):this.music.pause();var b=!1;this.pop1=this.sound.add("pop1"),this.jazz2=this.sound.add("jazz2"),this.rock3=this.sound.add("rock3"),this.pop2=this.sound.add("pop2"),this.cameras.main.setBackgroundColor("#959fe4");var z=this.add.sprite(0,0,"notes-bg").setOrigin(0);z.alpha=.5;var V=this.add.sprite(400,100,"stars").setOrigin(.5);V.setScale(.6);var K=this.add.graphics();K.fillStyle(16777215,1),K.fillRoundedRect(260,320,1380,140,72);var Z=this.add.text(960,390,"Listen to the songs below. Which one do you think sounds more like jazz?",{fontFamily:"Arial",fontSize:"84px",fill:"#000000",align:"center"});Z.setOrigin(.5).setScale(.5);var p=this.add.graphics();p.fillStyle(16777215,1),p.fillRoundedRect(0,0,690,120,8);var S=this.add.text(200,60,"A. Song 1",{fontFamily:"Arial",fontSize:"72px",fill:"#000000"});S.setOrigin(.5).setScale(.5);var t=this.add.sprite(0,0,"play-btn-square").setOrigin(0);t.setScale(.28);var d=this.add.sprite(0,0,"stop-btn-square").setOrigin(0);d.setScale(.28).setAlpha(0);var v=this.add.container(260,480,[p,t,d,S]);v.setInteractive(new Phaser.Geom.Rectangle(0,0,690,120),Phaser.Geom.Rectangle.Contains),v.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),v.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),v.on("pointerdown",function(){b=!1,d.setAlpha(1),e.setAlpha(0),u.setAlpha(0),x.setAlpha(0),this.rock3.stop(),this.pop2.stop(),this.jazz2.stop(),this.pop1.play()},this),p.alpha=1;var o=this.add.graphics();o.fillStyle(16777215,1),o.fillRoundedRect(0,0,690,120,8);var r=this.add.text(200,60,"B. Song 2",{fontFamily:"Arial",fontSize:"72px",fill:"#000000"});r.setOrigin(.5).setScale(.5);var n=this.add.sprite(0,0,"play-btn-square").setOrigin(0);n.setScale(.28);var e=this.add.sprite(0,0,"stop-btn-square").setOrigin(0);e.setScale(.28).setAlpha(0);var s=this.add.container(960,480,[o,n,e,r]);s.setInteractive(new Phaser.Geom.Rectangle(0,0,690,120),Phaser.Geom.Rectangle.Contains),s.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),s.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),s.on("pointerdown",function(){b=!0,d.setAlpha(0),e.setAlpha(1),u.setAlpha(0),x.setAlpha(0),this.rock3.stop(),this.pop1.stop(),this.pop2.stop(),this.jazz2.play()},this),o.alpha=1;var h=this.add.graphics();h.fillStyle(16777215,1),h.fillRoundedRect(0,0,690,120,8);var i=this.add.text(200,60,"C. Song 3",{fontFamily:"Arial",fontSize:"72px",fill:"#000000"});i.setOrigin(.5).setScale(.5);var a=this.add.sprite(0,0,"play-btn-square").setOrigin(0);a.setScale(.28);var u=this.add.sprite(0,0,"stop-btn-square").setOrigin(0);u.setScale(.28).setAlpha(0);var l=this.add.container(260,620,[h,a,u,i]);l.setInteractive(new Phaser.Geom.Rectangle(0,0,690,120),Phaser.Geom.Rectangle.Contains),l.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),l.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),l.on("pointerdown",function(){b=!1,d.setAlpha(0),e.setAlpha(0),u.setAlpha(1),x.setAlpha(0),this.pop1.stop(),this.pop2.stop(),this.jazz2.stop(),this.rock3.play()},this),h.alpha=1;var f=this.add.graphics();f.fillStyle(16777215,1),f.fillRoundedRect(0,0,690,120,8);var c=this.add.text(200,60,"D. Song 4",{fontFamily:"Arial",fontSize:"72px",fill:"#000000"});c.setOrigin(.5).setScale(.5);var m=this.add.sprite(0,0,"play-btn-square").setOrigin(0);m.setScale(.28);var x=this.add.sprite(0,0,"stop-btn-square").setOrigin(0);x.setScale(.28).setAlpha(0);var g=this.add.container(960,620,[f,m,x,c]);g.setInteractive(new Phaser.Geom.Rectangle(0,0,690,120),Phaser.Geom.Rectangle.Contains),g.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),g.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),g.on("pointerdown",function(){b=!1,d.setAlpha(0),e.setAlpha(0),u.setAlpha(0),x.setAlpha(1),this.pop1.stop(),this.rock3.stop(),this.jazz2.stop(),this.pop2.play()},this),f.alpha=1,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const y=new vt(this,0,0,"Submit",this.nextBtnAudio);y.on("pointerdown",function(){this.pop1.stop(),this.rock3.stop(),this.jazz2.stop(),this.pop2.stop(),b?this.scene.start("Scene3_15_correct",{music:this.music}):this.scene.start("Scene3_15_incorrect",{music:this.music})},this),y.x=960-130,y.y=1080-70,y.alpha=1,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const T=new st(this,-60,540,"next-arrow",this.nextBtnAudio);T.on("pointerdown",function(){this.scene.start("Scene3_14")},this),T.y=T.y-40,new it(this)}}class Oe extends Phaser.Scene{constructor(){super("Scene3_15_incorrect")}init(b){this.music=b.music}preload(){this.load.image("stars","assets/Images/3_Level1/stars.png"),this.load.image("char-incorrect","assets/Images/3_Level1/genre-quiz/char-incorrect.png")}create(){this.cameras.main.setBackgroundColor("#959fe4");var b=this.add.sprite(0,0,"notes-bg").setOrigin(0);b.alpha=.5;var z=this.add.sprite(400,100,"stars").setOrigin(.5);z.setScale(.6),this.add.sprite(960,500,"char-incorrect").setOrigin(.5),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new vt(this,0,0,"Submit",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene3_15")},this),V.x=960-130,V.y=1080-70,V.alpha=1}}class Le extends Phaser.Scene{constructor(){super("Scene3_15_correct")}init(b){this.music=b.music}preload(){this.load.image("stars","assets/Images/3_Level1/stars.png"),this.load.image("char-correct","assets/Images/3_Level1/genre-quiz/char-correct.png")}create(){this.cameras.main.setBackgroundColor("#959fe4");var b=this.add.sprite(0,0,"notes-bg").setOrigin(0);b.alpha=.5;var z=this.add.sprite(400,100,"stars").setOrigin(.5);z.setScale(.6),this.add.sprite(960,500,"char-correct").setOrigin(.5),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new vt(this,0,0,"Submit",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene3_16",{music:this.music})},this),V.x=960-130,V.y=1080-70,V.alpha=1}}class be extends Phaser.Scene{constructor(){super("Scene3_16")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.audio("hiphop",["assets/Audio/Music/3_Level1/genre-quiz/hiphop.mp3"]),this.load.image("notes-bg","assets/Images/3_Level1/notes-bg.png"),this.load.image("play-btn","assets/Images/3_Level1/genre-quiz/play-btn-round.png"),this.load.image("stars","assets/Images/3_Level1/stars.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png")}create(){typeof this.music>"u"?(this.music=this.sound.add("theme-module3"),this.music.setVolume(.1),this.music.loop=!0):this.music.pause();var b=!1;this.hiphop=this.sound.add("hiphop"),this.cameras.main.setBackgroundColor("#959fe4");var z=this.add.sprite(0,0,"notes-bg").setOrigin(0);z.alpha=.5;var V=this.add.sprite(0,0,"play-btn").setOrigin(.5);V.x=1920-100,V.y=100,V.setScale(.3),V.alpha=1,V.setInteractive({cursor:"pointer"}),V.on("pointerdown",function(){this.hiphop.play()},this);var K=this.add.sprite(400,100,"stars").setOrigin(.5);K.setScale(.6);var Z=this.add.graphics();Z.fillStyle(16777215,1),Z.fillRoundedRect(260,320,1380,140,72);var p=this.add.rexBBCodeText(960,390,`[b]Press the Play button above[/b]
and select to which music genre this song belongs to.`,{fontFamily:"Arial",fontSize:"84px",fill:"#000000",align:"center"});p.setOrigin(.5).setScale(.5);var S=this.add.graphics();S.fillStyle(16777215,1),S.fillRoundedRect(0,0,690,120,8);var t=this.add.text(100,60,"A. Country",{fontFamily:"Arial",fontSize:"72px",fill:"#000000"});t.setOrigin(.5).setScale(.5),t.alpha=1;var d=this.add.container(260,480,[S,t]);d.setInteractive(new Phaser.Geom.Rectangle(0,0,690,120),Phaser.Geom.Rectangle.Contains),d.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),d.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),d.on("pointerdown",function(){b=!1},this),S.alpha=1;var v=this.add.graphics();v.fillStyle(16777215,1),v.fillRoundedRect(0,0,690,120,8);var o=this.add.text(100,60,"B. Rock",{fontFamily:"Arial",fontSize:"72px",fill:"#000000"});o.setOrigin(.5).setScale(.5),o.alpha=1;var r=this.add.container(960,480,[v,o]);r.setInteractive(new Phaser.Geom.Rectangle(0,0,690,120),Phaser.Geom.Rectangle.Contains),r.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),r.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),r.on("pointerdown",function(){b=!1},this),v.alpha=1;var n=this.add.graphics();n.fillStyle(16777215,1),n.fillRoundedRect(0,0,690,120,8);var e=this.add.text(100,60,"C. Jazz",{fontFamily:"Arial",fontSize:"72px",fill:"#000000"});e.setOrigin(.5).setScale(.5),e.alpha=1;var s=this.add.container(260,620,[n,e]);s.setInteractive(new Phaser.Geom.Rectangle(0,0,690,120),Phaser.Geom.Rectangle.Contains),s.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),s.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),s.on("pointerdown",function(){b=!1},this),n.alpha=1;var h=this.add.graphics();h.fillStyle(16777215,1),h.fillRoundedRect(0,0,690,120,8);var i=this.add.text(100,60,"D. Hip Hop",{fontFamily:"Arial",fontSize:"72px",fill:"#000000"});i.setOrigin(.5).setScale(.5),i.alpha=1;var a=this.add.container(960,620,[h,i]);a.setInteractive(new Phaser.Geom.Rectangle(0,0,690,120),Phaser.Geom.Rectangle.Contains),a.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),a.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),a.on("pointerdown",function(){b=!0},this),h.alpha=1,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const u=new vt(this,0,0,"Submit",this.nextBtnAudio);u.on("pointerdown",function(){this.hiphop.stop(),b?this.scene.start("Scene3_16_correct",{music:this.music}):this.scene.start("Scene3_16_incorrect",{music:this.music})},this),u.x=960-130,u.y=1080-70,u.alpha=1,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const l=new st(this,-60,540,"next-arrow",this.nextBtnAudio);l.on("pointerdown",function(){this.scene.start("Scene3_15")},this),l.y=l.y-40,new it(this)}}class Ie extends Phaser.Scene{constructor(){super("Scene3_16_incorrect")}init(b){this.music=b.music}preload(){this.load.image("stars","assets/Images/3_Level1/stars.png"),this.load.image("char-incorrect","assets/Images/3_Level1/genre-quiz/char-incorrect.png")}create(){this.cameras.main.setBackgroundColor("#959fe4");var b=this.add.sprite(0,0,"notes-bg").setOrigin(0);b.alpha=.5;var z=this.add.sprite(400,100,"stars").setOrigin(.5);z.setScale(.6),this.add.sprite(960,500,"char-incorrect").setOrigin(.5),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new vt(this,0,0,"Submit",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene3_16")},this),V.x=960-130,V.y=1080-70}}class De extends Phaser.Scene{constructor(){super("Scene3_16_correct")}init(b){this.music=b.music}preload(){this.load.image("stars","assets/Images/3_Level1/stars.png"),this.load.image("char-correct","assets/Images/3_Level1/genre-quiz/char-correct.png")}create(){this.cameras.main.setBackgroundColor("#959fe4");var b=this.add.sprite(0,0,"notes-bg").setOrigin(0);b.alpha=.5;var z=this.add.sprite(400,100,"stars").setOrigin(.5);z.setScale(.6),this.add.sprite(960,500,"char-correct").setOrigin(.5),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new vt(this,0,0,"Submit",this.nextBtnAudio);V.on("pointerdown",function(){this.music.resume(),this.scene.start("Scene3_17",{music:this.music})},this),V.x=960-130,V.y=1080-70,V.alpha=1}}class Ge extends Phaser.Scene{constructor(){super("Scene3_17")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("stars3-12","assets/Images/3_Level1/tickets/stars.png"),this.load.image("notes-bg","assets/Images/3_Level1/notes-bg.png"),this.load.image("tickets","assets/Images/3_Level1/tickets/tickets.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("text-card3-12","assets/Images/3_Level1/tickets/text-card.png")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0),this.cameras.main.setBackgroundColor("#959fe4");var b=this.add.sprite(0,0,"notes-bg").setOrigin(0);b.alpha=.5;var z=this.add.sprite(960,100,"stars3-12").setOrigin(.5);z.setScale(.6);var V=this.add.sprite(450,640,"tickets").setOrigin(.5);V.setScale(1.1),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const K=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);K.on("pointerdown",function(){this.scene.start("Scene3_18",{music:this.music})},this),K.y=K.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const Z=new st(this,-60,540,"next-arrow",this.nextBtnAudio);Z.on("pointerdown",function(){this.scene.start("Scene3_16")},this),Z.y=Z.y-40;var p=this.add.sprite(1250,580,"text-card3-12").setOrigin(.5);p.scale=1.2,this.instructionsText=this.add.rexBBCodeText(1250,580,`Good job!

You won 5 tickets to the music tour!
Think about people in your network who 
you trust and who support you. These
are the people who should be in your
crew.

[b]Who would you take on tour,
including at least one adult? Why
would you take them on tour with
you?[/b]`,{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(.5),this.instructionsText.scale=.5,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-50,0,300,150,32),this.titleText=this.add.text(55,75,"Tickets",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),new it(this)}}class Ne extends Phaser.Scene{constructor(){super("Scene3_18")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.audio("music3-13",["assets/Audio/Music/3_Level1/happy-tune.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("text-card3-13","assets/Images/3_Level1/text-card3.png"),this.load.video("vid3-5","assets/Videos/3_Level1/scene3-vid5.mp4")}create(){typeof this.music>"u"?(this.music=this.sound.add("theme-module3"),this.music.setVolume(.1),this.music.loop=!0):this.music.pause();const b=this.add.video(0,0,"vid3-5");b.setOrigin(0),b.play();var z=this.sound.add("music3-13",{loop:!1});z.on("complete",()=>{this.music.resume(),this.music.setVolume(.1)}),z.play(),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){z.stop(),this.music.isPlaying||(this.music.resume(),this.music.setVolume(.1)),this.scene.start("Scene3_19",{music:this.music})},this),V.y=V.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const K=new st(this,-60,540,"next-arrow",this.nextBtnAudio);K.on("pointerdown",function(){this.scene.start("Scene3_17")},this),K.y=K.y-40;var Z=this.add.sprite(1050,200,"text-card3-13").setOrigin(.5);Z.scale=1.2,Z.alpha=.9,this.instructionsText=this.add.rexBBCodeText(1050,230,`[i]"In life, it's not where you go — it's who you travel with."[/i]

            [align=right]Charles M. Schulz[/align]

              `,{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(.5),this.instructionsText.scale=.5,new it(this)}}class ze extends Phaser.Scene{constructor(){super("Scene3_19")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("text-card3-14","assets/Images/3_Level1/text-card2.png"),this.load.video("vid3-6","assets/Videos/3_Level1/scene3-vid6.mp4")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0);const b=this.add.video(0,0,"vid3-6");b.setOrigin(0),b.play(),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene3_20",{music:this.music})},this),z.y=z.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new st(this,-60,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene3_18")},this),V.y=V.y-40,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,350,150,32),this.titleText=this.add.text(55,75,"Enter to win!",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]);var K=this.add.sprite(1200,200,"text-card3-14").setOrigin(.5);K.scale=1.2,this.instructionsText=this.add.rexBBCodeText(1200,200,`Musicians, athletes, and other celebrities need to
take care of themselves on the road, and at home.
Performers that have long careers [b]know the
negative effects that alcohol, smoking, and
vaping[/b] may have on their body.`,{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(.5),this.instructionsText.scale=.5,new it(this)}}class Xe extends Phaser.Scene{constructor(){super("Scene3_20")}init(b){this.music=b.music}preload(){this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.audio("ambient3-16",["assets/Audio/SFX/3_Level1/airport-ambient.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.video("vid3-7","assets/Videos/3_Level1/scene3-vid7.mp4")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0);const b=this.add.video(0,0,"vid3-7");b.setOrigin(0),b.play();const z=this.sound.add("ambient3-16");z.play(),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){z.stop(),this.scene.start("Scene3_21",{music:this.music})},this),V.y=V.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const K=new st(this,-60,540,"next-arrow",this.nextBtnAudio);K.on("pointerdown",function(){this.scene.start("Scene3_19")},this),K.y=K.y-40,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,350,150,32),this.titleText=this.add.text(55,75,"Enter to win!",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),new it(this)}}class Ve extends Phaser.Scene{constructor(){super("Scene3_21")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.video("vid3-8","assets/Videos/3_Level1/scene3-vid8.mp4"),this.load.image("next-arrow","assets/Images/General/next-arrow.png")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0);const b=this.add.video(0,0,"vid3-8");b.setOrigin(0),b.play();var z=this.add.graphics();z.lineStyle(16,16777215,1),z.strokeRoundedRect(0,0,700,150,16),z.fillStyle(19117,1),z.fillRoundedRect(0,0,700,150,16);var V=this.add.rexBBCodeText(350,75,"[b]Yes, for sure.[/b]",{fontFamily:"Arial",fontSize:"72px",fill:"#ffffff",align:"center"});V.setOrigin(.5).setScale(.5);var K=this.add.container(220,850,[z,V]);K.setInteractive(new Phaser.Geom.Rectangle(0,0,700,150),Phaser.Geom.Rectangle.Contains),K.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),K.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),K.on("pointerdown",function(){this.scene.start("Scene3_22",{music:this.music})},this);var Z=this.add.graphics();Z.lineStyle(16,16777215,1),Z.strokeRoundedRect(0,0,700,150,16),Z.fillStyle(19117,1),Z.fillRoundedRect(0,0,700,150,16);var p=this.add.rexBBCodeText(350,75,"[b]Nah, it's all good. Won't affect me.[/b]",{fontFamily:"Arial",fontSize:"72px",fill:"#ffffff",align:"center"});p.setOrigin(.5).setScale(.5);var S=this.add.container(1e3,850,[Z,p]);S.setInteractive(new Phaser.Geom.Rectangle(0,0,700,150),Phaser.Geom.Rectangle.Contains),S.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),S.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),S.on("pointerdown",function(){this.scene.start("Scene3_22B",{music:this.music})},this),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const t=new st(this,-60,540,"next-arrow",this.nextBtnAudio);t.on("pointerdown",function(){this.scene.start("Scene3_20")},this),t.y=t.y-40,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,700,150,32),this.titleText=this.add.text(55,75,"What do you know about Vaping?",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),new it(this)}}class Ue extends Phaser.Scene{constructor(){super("Scene3_22")}init(b){this.music=b.music}preload(){this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.video("vid3-9","assets/Videos/3_Level1/scene3-vid9.mp4")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0);const b=this.add.video(0,0,"vid3-9");b.setOrigin(0),b.play(),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene3_23",{music:this.music})},this),z.y=z.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new st(this,-60,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene3_21")},this),V.y=V.y-40,new it(this)}}class Ye extends Phaser.Scene{constructor(){super("Scene3_22B")}init(b){this.music=b.music}preload(){this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.video("vid3-10","assets/Videos/3_Level1/scene3-vid10.mp4")}create(){const b=this.add.video(0,0,"vid3-10");b.setOrigin(0),b.play(),this.tryAgainBtnAudio=this.sound.add("next-button",{loop:!1});const z=new vt(this,0,0,"Try again",this.tryAgainBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene3_21",{music:this.music})},this),Phaser.Display.Align.In.Center(z,this.add.zone(860,1e3,1920,1080)),z.y=z.y-40}}class We extends Phaser.Scene{constructor(){super("Scene3_23")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.video("vid3-11","assets/Videos/3_Level1/scene3-vid11.mp4"),this.load.image("next-arrow","assets/Images/General/next-arrow.png")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0);const b=this.add.video(0,0,"vid3-11");b.setOrigin(0),b.play();var z=this.add.graphics();z.lineStyle(16,16777215,1),z.strokeRoundedRect(0,0,700,150,16),z.fillStyle(19117,1),z.fillRoundedRect(0,0,700,150,16);var V=this.add.rexBBCodeText(350,75,"[b]Oh, heck no. It can affect much more.[/b]",{fontFamily:"Arial",fontSize:"72px",fill:"#ffffff"});V.setOrigin(.5).setScale(.5);var K=this.add.container(220,850,[z,V]);K.setInteractive(new Phaser.Geom.Rectangle(0,0,700,150),Phaser.Geom.Rectangle.Contains),K.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),K.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),K.on("pointerdown",function(){this.scene.start("Scene3_24",{music:this.music})},this);var Z=this.add.graphics();Z.lineStyle(16,16777215,1),Z.strokeRoundedRect(0,0,700,150,16),Z.fillStyle(19117,1),Z.fillRoundedRect(0,0,700,150,16);var p=this.add.rexBBCodeText(350,75,"[b]Again, I'm good.[/b]",{fontFamily:"Arial",fontSize:"72px",fill:"#ffffff"});p.setOrigin(.5).setScale(.5);var S=this.add.container(1e3,850,[Z,p]);S.setInteractive(new Phaser.Geom.Rectangle(0,0,700,150),Phaser.Geom.Rectangle.Contains),S.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),S.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),S.on("pointerdown",function(){this.scene.start("Scene3_24B",{music:this.music})},this),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const t=new st(this,-60,540,"next-arrow",this.nextBtnAudio);t.on("pointerdown",function(){this.scene.start("Scene3_22")},this),t.y=t.y-40,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,700,150,32),this.titleText=this.add.text(55,75,"What do you know about Vaping?",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),new it(this)}}class He extends Phaser.Scene{constructor(){super("Scene3_24")}init(b){this.music=b.music}preload(){this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.video("vid3-12","assets/Videos/3_Level1/scene3-vid12.mp4")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0);const b=this.add.video(0,0,"vid3-12");b.setOrigin(0),b.play(),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene3_25",{music:this.music})},this),z.y=z.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new st(this,-60,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene3_23")},this),V.y=V.y-40,new it(this)}}class Ke extends Phaser.Scene{constructor(){super("Scene3_24B")}init(b){this.music=b.music}preload(){this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.video("vid3-13","assets/Videos/3_Level1/scene3-vid13.mp4")}create(){const b=this.add.video(0,0,"vid3-13");b.setOrigin(0),b.play(),this.tryAgainBtnAudio=this.sound.add("next-button",{loop:!1});const z=new vt(this,0,0,"Try again",this.tryAgainBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene3_23",{music:this.music})},this),Phaser.Display.Align.In.Center(z,this.add.zone(860,1e3,1920,1080)),z.y=z.y-40}}class Ze extends Phaser.Scene{constructor(){super("Scene3_25")}init(b){this.music=b.music}preload(){this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("text-card3-20","assets/Images/3_Level1/text-card4.png"),this.load.video("vid3-14","assets/Videos/3_Level1/scene3-vid14.mp4")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0);const b=this.add.video(0,0,"vid3-14");b.setOrigin(0),b.play(),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene3_26",{music:this.music})},this),z.y=z.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new st(this,-60,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene3_24")},this),V.y=V.y-40,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,500,150,32),this.titleText=this.add.text(55,75,"Vaping and Effects",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),this.add.sprite(1350,850,"text-card3-20").setOrigin(.5).setAlpha(.8).setScale(.9),this.instructionsText=this.add.text(1350,850,`Vaping and smoking have many
negative effects, including to the vocal
cords. Many musicians actually insure
their vocal cords in case anything ever
happens to their vocal cords, which
affects singing.`,{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(.5),this.instructionsText.scale=.5,new it(this)}}class Je extends Phaser.Scene{constructor(){super("Scene3_26")}init(b){this.music=b.music}preload(){this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.video("vid3-15","assets/Videos/3_Level1/scene3-vid15.mp4")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0);const b=this.add.video(0,0,"vid3-15");b.setOrigin(0),b.play(),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene3_27",{music:this.music})},this),z.y=z.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new st(this,-60,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene3_25")},this),V.y=V.y-40,new it(this)}}class Qe extends Phaser.Scene{constructor(){super("Scene3_27")}init(b){this.music=b.music}preload(){this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.video("vid3-16","assets/Videos/3_Level1/scene3-vid16.mp4")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0);const b=this.add.video(0,0,"vid3-16");b.setOrigin(0),b.play(),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene3_28",{music:this.music})},this),z.y=z.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new st(this,-60,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene3_26")},this),V.y=V.y-40,new it(this)}}class je extends Phaser.Scene{constructor(){super("Scene3_28")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("BG3-23","assets/Images/3_Level1/myth-fact-bg.jpg"),this.load.video("myth-vid","assets/Videos/3_Level1/myth-vid.mp4")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0),this.add.sprite(0,0,"BG3-23").setOrigin(0);const b=this.add.video(0,0,"myth-vid");b.setOrigin(0);const z=this.add.graphics();z.fillStyle(16777215,1).fillRoundedRect(560,350,800,600,16).lineStyle(6,0,1).strokeRoundedRect(560,350,800,600,16),this.btnText=this.add.rexBBCodeText(960,650,`[b]Myth or Fact?[/b]

Vaping just uses
flavored water,
so it's not dangerous.`,{fontFamily:"Arial",fontSize:"108px",color:"#000000",align:"center"}).setOrigin(.5),this.btnText.scale=.4,z.setInteractive(new Phaser.Geom.Rectangle(560,350,800,600),Phaser.Geom.Rectangle.Contains),z.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),z.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"});var V=!1;z.on("pointerdown",()=>{V?(b.alpha=0,this.btnText.setText(`[b]Myth or Fact?[/b]

Vaping just uses
flavored water,
so it's not dangerous.`)):(b.alpha=1,b.play(),this.btnText.setText(`[b]Myth[/b]

There isn't even water in vaping
cartridges. They are filled with liquids
that contain chemicals, nicotine and
flavorings.
51% of teens think they are only
vaping "flavored water".
            `)),V=!V}),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const K=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);K.on("pointerdown",function(){this.scene.start("Scene3_29",{music:this.music})},this),K.y=K.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const Z=new st(this,-60,540,"next-arrow",this.nextBtnAudio);Z.on("pointerdown",function(){this.scene.start("Scene3_27")},this),Z.y=Z.y-40,new it(this)}}class $e extends Phaser.Scene{constructor(){super("Scene3_29")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("BG3-23","assets/Images/3_Level1/myth-fact-bg.jpg"),this.load.video("fact-vid","assets/Videos/3_Level1/fact-vid.mp4")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0),this.add.sprite(0,0,"BG3-23").setOrigin(0);const b=this.add.video(0,0,"fact-vid");b.setOrigin(0);const z=this.add.graphics();z.fillStyle(16777215,1).fillRoundedRect(560,350,800,600,16).lineStyle(6,0,1).strokeRoundedRect(560,350,800,600,16),this.btnText=this.add.rexBBCodeText(960,650,`[b]Myth or Fact?[/b]

Vaping can lead
to smoking cigarettes?`,{fontFamily:"Arial",fontSize:"108px",color:"#000000",align:"center"}).setOrigin(.5),this.btnText.scale=.4,z.setInteractive(new Phaser.Geom.Rectangle(560,350,800,600),Phaser.Geom.Rectangle.Contains),z.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),z.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"});var V=!1;z.on("pointerdown",()=>{V?(b.alpha=0,this.btnText.setText(`[b]Myth or Fact?[/b]

Vaping can lead
to smoking cigarettes?`)):(b.alpha=1,b.play(),this.btnText.setText(`[b]Fact[/b]

Teens are 3-4x more
likely to smoke cigarettes
if they use vaping
products first.`)),V=!V}),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const K=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);K.on("pointerdown",function(){this.scene.start("Scene3_30",{music:this.music})},this),K.y=K.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const Z=new st(this,-60,540,"next-arrow",this.nextBtnAudio);Z.on("pointerdown",function(){this.scene.start("Scene3_29")},this),Z.y=Z.y-40,new it(this)}}class ke extends Phaser.Scene{constructor(){super("Scene3_30")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("BG3-23","assets/Images/3_Level1/myth-fact-bg.jpg"),this.load.video("myth-vid","assets/Videos/3_Level1/myth-vid.mp4")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0),this.add.sprite(0,0,"BG3-23").setOrigin(0);const b=this.add.video(0,0,"myth-vid");b.setOrigin(0);const z=this.add.graphics();z.fillStyle(16777215,1).fillRoundedRect(560,350,800,600,16).lineStyle(6,0,1).strokeRoundedRect(560,350,800,600,16),this.btnText=this.add.rexBBCodeText(960,650,`[b]Myth or Fact?[/b]

Vaping isn't as bad
for you as smoking.`,{fontFamily:"Arial",fontSize:"108px",color:"#000000",align:"center"}).setOrigin(.5),this.btnText.scale=.4,z.setInteractive(new Phaser.Geom.Rectangle(560,350,800,600),Phaser.Geom.Rectangle.Contains),z.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),z.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"});var V=!1;z.on("pointerdown",()=>{V?(b.alpha=0,this.btnText.setText(`[b]Myth or Fact?[/b]

Vaping isn't as bad
for you as smoking.`)):(b.alpha=1,b.play(),this.btnText.setText(`[b]Myth[/b]

The nicotine in one small vaping
"pod" can be as much [b]as a whole
pack of cigarettes or more.[/b] That
means vaping a single pod can
[b]cause a nicotine addiction[/b] and
could be [b]enough to make you sick.[/b]`)),V=!V}),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const K=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);K.on("pointerdown",function(){this.scene.start("Scene3_31",{music:this.music})},this),K.y=K.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const Z=new st(this,-60,540,"next-arrow",this.nextBtnAudio);Z.on("pointerdown",function(){this.scene.start("Scene3_29")},this),Z.y=Z.y-40,new it(this)}}class qe extends Phaser.Scene{constructor(){super("Scene3_31")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("BG3-23","assets/Images/3_Level1/myth-fact-bg.jpg"),this.load.video("fact-vid","assets/Videos/3_Level1/fact-vid.mp4")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0),this.add.sprite(0,0,"BG3-23").setOrigin(0);const b=this.add.video(0,0,"fact-vid");b.setOrigin(0);const z=this.add.graphics();z.fillStyle(16777215,1).fillRoundedRect(560,350,800,600,16).lineStyle(6,0,1).strokeRoundedRect(560,350,800,600,16),this.btnText=this.add.rexBBCodeText(960,650,`[b]Myth or Fact?[/b]

A single Juul pod is equal to a
pack of cigarettes.`,{fontFamily:"Arial",fontSize:"108px",color:"#000000",align:"center"}).setOrigin(.5),this.btnText.scale=.4,z.setInteractive(new Phaser.Geom.Rectangle(560,350,800,600),Phaser.Geom.Rectangle.Contains),z.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),z.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"});var V=!1;z.on("pointerdown",()=>{V?(b.alpha=0,this.btnText.setText(`[b]Myth or Fact?[/b]

A single Juul pod is equal to a
pack of cigarettes.`)):(b.alpha=1,b.play(),this.btnText.setText(`[b]Fact[/b]

A single [b]Juul pod contains
40 mg of nicotine[/b]
which is similar to the nicotine
yield of a pack of cigarettes.`)),V=!V}),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const K=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);K.on("pointerdown",function(){this.scene.start("Scene3_32",{music:this.music})},this),K.y=K.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const Z=new st(this,-60,540,"next-arrow",this.nextBtnAudio);Z.on("pointerdown",function(){this.scene.start("Scene3_30")},this),Z.y=Z.y-40,new it(this)}}class _e extends Phaser.Scene{constructor(){super("Scene3_32")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("BG3-23","assets/Images/3_Level1/myth-fact-bg.jpg"),this.load.video("fact-vid","assets/Videos/3_Level1/fact-vid.mp4")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0),this.add.sprite(0,0,"BG3-23").setOrigin(0);const b=this.add.video(0,0,"fact-vid");b.setOrigin(0);const z=this.add.graphics();z.fillStyle(16777215,1).fillRoundedRect(560,350,800,600,16).lineStyle(6,0,1).strokeRoundedRect(560,350,800,600,16),this.btnText=this.add.rexBBCodeText(960,650,`[b]Myth or Fact?[/b]

According to Federal Law,
you have to be at least
21 years old to purchase
tobacco and vaping products?`,{fontFamily:"Arial",fontSize:"108px",color:"#000000",align:"center"}).setOrigin(.5),this.btnText.scale=.4,z.setInteractive(new Phaser.Geom.Rectangle(560,350,800,600),Phaser.Geom.Rectangle.Contains),z.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),z.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"});var V=!1;z.on("pointerdown",()=>{V?(b.alpha=0,this.btnText.setText(`[b]Myth or Fact?[/b]

According to Federal Law,
you have to be at least
21 years old to purchase
tobacco and vaping products?`)):(b.alpha=1,b.play(),this.btnText.setText(`[b]Fact[/b]

The age to buy or possess
electronic cigarette/vaping
products [b]was changed
from 18 to 21 in late 2019.`)),V=!V}),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const K=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);K.on("pointerdown",function(){this.scene.start("Scene3_33",{music:this.music})},this),K.y=K.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const Z=new st(this,-60,540,"next-arrow",this.nextBtnAudio);Z.on("pointerdown",function(){this.scene.start("Scene3_31")},this),Z.y=Z.y-40,new it(this)}}class ti extends Phaser.Scene{constructor(){super("Scene3_33")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("BG3-23","assets/Images/3_Level1/myth-fact-bg.jpg"),this.load.video("fact-vid","assets/Videos/3_Level1/fact-vid.mp4")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0),this.add.sprite(0,0,"BG3-23").setOrigin(0);const b=this.add.video(0,0,"fact-vid");b.setOrigin(0);const z=this.add.graphics();z.fillStyle(16777215,1).fillRoundedRect(560,350,800,600,16).lineStyle(6,0,1).strokeRoundedRect(560,350,800,600,16),this.btnText=this.add.rexBBCodeText(960,650,`[b]Myth or Fact?[/b]

There are over 7000
different types of vaping
flavors and vape pens have
hundreds of chemicals?`,{fontFamily:"Arial",fontSize:"108px",color:"#000000",align:"center"}).setOrigin(.5),this.btnText.scale=.4,z.setInteractive(new Phaser.Geom.Rectangle(560,350,800,600),Phaser.Geom.Rectangle.Contains),z.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),z.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"});var V=!1;z.on("pointerdown",()=>{V?(b.alpha=0,this.btnText.setText(`[b]Myth or Fact?[/b]

There are over 7000
different types of vaping
flavors and vape pens have
hundreds of chemicals?`)):(b.alpha=1,b.play(),this.btnText.setText(`[b]Fact[/b]

There have been [b]over 7,760
recorded flavors of vapes[/b], most
created to target youth. And vape
pens contain [b]hundreds of
chemicals, including lead and
acrolein[/b], an herbicide primarily used
to kill weeds that can cause acute
lung injury, COPD, and may cause
asthma and lung cancer.`)),V=!V}),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const K=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);K.on("pointerdown",function(){this.scene.start("Scene3_34",{music:this.music})},this),K.y=K.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const Z=new st(this,-60,540,"next-arrow",this.nextBtnAudio);Z.on("pointerdown",function(){this.scene.start("Scene3_32")},this),Z.y=Z.y-40,new it(this)}}class ei extends Phaser.Scene{constructor(){super("Scene3_34")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("BG3-23","assets/Images/3_Level1/myth-fact-bg.jpg"),this.load.video("fact-vid","assets/Videos/3_Level1/fact-vid.mp4")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0),this.add.sprite(0,0,"BG3-23").setOrigin(0);const b=this.add.video(0,0,"fact-vid");b.setOrigin(0);const z=this.add.graphics();z.fillStyle(16777215,1).fillRoundedRect(560,350,800,600,16).lineStyle(6,0,1).strokeRoundedRect(560,350,800,600,16),this.btnText=this.add.rexBBCodeText(960,650,`[b]Myth or Fact?[/b]

Vapes and electronic
cigarettes are just as
addictive as traditional ones?`,{fontFamily:"Arial",fontSize:"108px",color:"#000000",align:"center"}).setOrigin(.5),this.btnText.scale=.4,z.setInteractive(new Phaser.Geom.Rectangle(560,350,800,600),Phaser.Geom.Rectangle.Contains),z.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),z.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"});var V=!1;z.on("pointerdown",()=>{V?(b.alpha=0,this.btnText.scale=.35,this.btnText.setText(`[b]Myth or Fact?[/b]

Vapes and electronic
cigarettes are just as
addictive as traditional ones?`)):(b.alpha=1,b.play(),this.btnText.scale=.35,this.btnText.setText(`[b]Fact[/b]

Vaping, e-cigarettes and regular cigarettes
contain nicotine, which research suggests
may be as addictive as heroin and
cocaine. What's worse, many e-cigarette
users get even more nicotine than they
would from a regular cigarette product.`)),V=!V}),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const K=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);K.on("pointerdown",function(){this.scene.start("Scene3_35",{music:this.music})},this),K.y=K.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const Z=new st(this,-60,540,"next-arrow",this.nextBtnAudio);Z.on("pointerdown",function(){this.scene.start("Scene3_33")},this),Z.y=Z.y-40,new it(this)}}class ii extends Phaser.Scene{constructor(){super("Scene3_35")}init(b){this.music=b.music}preload(){this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("bg3-30","assets/Images/3_Level1/letter-quiz/letter-bg.png"),this.load.image("answer-bg","assets/Images/3_Level1/letter-quiz/answer1-bg.png")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0),this.add.sprite(0,0,"bg3-30").setOrigin(0),this.titleBg=this.add.graphics(),this.titleBg.fillStyle(16777215,1),this.titleBg.fillRoundedRect(-30,0,970,150,32),this.titleText=this.add.text(55,75,"Finish the sentence by matching the rest of the fact.",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.titleBg,this.titleText]),this.dropZone1=this.add.graphics(),this.dropZone1.lineStyle(4,0,1),this.dropZone1.strokeRoundedRect(960-700,300,1400,100,16),this.dz1Text=this.add.text(280,350,"Teens are 3-4 times mores likely to ",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.dz1Text.scale=.43;const b=this.add.zone(1190,350,700,100).setRectangleDropZone(700,100);b.name="answerZone1",this.dropZone2=this.add.graphics(),this.dropZone2.lineStyle(4,0,1),this.dropZone2.strokeRoundedRect(960-700,430,1400,100,16),this.dz2Text=this.add.text(280,480,"A single Juul pod is equal ",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.dz2Text.scale=.43;const z=this.add.zone(1070,480,700,100).setRectangleDropZone(700,100);z.name="answerZone2",this.dropZone3=this.add.graphics(),this.dropZone3.lineStyle(4,0,1),this.dropZone3.strokeRoundedRect(960-700,560,1400,100,16),this.dz3Text=this.add.text(280,610,"Vapes and e-cigarettes are ",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.dz3Text.scale=.43;const V=this.add.zone(1090,610,700,100).setRectangleDropZone(700,100);V.name="answerZone3";const K=this.add.zone(960,730,700,100).setRectangleDropZone(700,100);K.name="startingZone1";const Z=this.add.zone(960,820,700,100).setRectangleDropZone(700,100);Z.name="startingZone2";const p=this.add.zone(960,910,700,100).setRectangleDropZone(700,100);p.name="startingZone3";var S=this.add.sprite(0,0,"answer-bg").setScale(.5);this.answer1Text=this.add.text(-390,0,"just as addictive as tradional ones.",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.answer1Text.scale=.43;var t=this.add.container(960,730,[S,this.answer1Text]);t.setSize(S.width/2,S.height).setInteractive(),this.input.setDraggable(t),t.name="answer1";var d=this.add.sprite(0,0,"answer-bg").setOrigin(.5).setScale(.5);this.answer2Text=this.add.text(-390,0,"smoke cigarettes if they use vaping products first.",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.answer2Text.scale=.43;var v=this.add.container(960,820,[d,this.answer2Text]);v.setSize(d.width/2,d.height).setInteractive(),this.input.setDraggable(v),v.name="answer2";var o=this.add.sprite(0,0,"answer-bg").setOrigin(.5).setScale(.5);this.answer3Text=this.add.text(-390,0,"to a pack of cigarettes, which contains 40mg of nicotine.",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.answer3Text.scale=.43;var r=this.add.container(960,910,[o,this.answer3Text]);r.setSize(o.width/2,o.height).setInteractive(),this.input.setDraggable(r),r.name="answer3",this.input.on("dragstart",function(s,h){this.children.bringToTop(h)},this),this.input.on("dragend",(s,h,i)=>{i||(h.x=h.input.dragStartX,h.y=h.input.dragStartY)}),this.input.on("drag",(s,h,i,a)=>{h.x=i,h.y=a}),this.input.on("drop",(s,h,i)=>{h.name=="answer1"&&i.name=="answerZone3"||h.name=="answer2"&&i.name=="answerZone1"||h.name=="answer3"&&i.name=="answerZone2"||h.name=="answer1"&&i.name=="startingZone1"||h.name=="answer2"&&i.name=="startingZone2"||h.name=="answer3"&&i.name=="startingZone3"?(h.x=i.x,h.y=i.y):(h.x=h.input.dragStartX,h.y=h.input.dragStartY)}),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const n=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);n.on("pointerdown",function(){this.scene.start("Scene3_36",{music:this.music})},this),n.y=n.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const e=new st(this,-60,540,"next-arrow",this.nextBtnAudio);e.on("pointerdown",function(){this.scene.start("Scene3_34")},this),e.y=e.y-40,new it(this)}}class si extends Phaser.Scene{constructor(){super("Scene3_36")}init(b){this.music=b.music}preload(){this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("bg","assets/Images/3_Level1/notes-bg.png"),this.load.image("notes-bg","assets/Images/3_Level1/notes-bg.png")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0);var b=!1;this.cameras.main.setBackgroundColor("#959fe4");var z=this.add.sprite(0,0,"notes-bg").setOrigin(0);z.alpha=.5;var V=this.add.graphics();V.fillStyle(16777215,1),V.fillRoundedRect(260,320,1380,140,72);var K=this.add.text(960,390,`Federal law states that you have to be at least _____ years old
to purchase tobacco and vaping products?`,{fontFamily:"Arial",fontSize:"84px",fill:"#000000",align:"center"});K.setOrigin(.5).setScale(.5),K.alpha=1;var Z=this.add.graphics();Z.fillStyle(16777215,1),Z.fillRoundedRect(0,0,690,120,8);var p=this.add.text(100,60,"A. 18",{fontFamily:"Arial",fontSize:"72px",fill:"#000000"});p.setOrigin(.5).setScale(.5),p.alpha=1;var S=this.add.container(260,480,[Z,p]);S.setInteractive(new Phaser.Geom.Rectangle(0,0,690,120),Phaser.Geom.Rectangle.Contains),S.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),S.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),S.on("pointerdown",function(){b=!1},this),Z.alpha=1;var t=this.add.graphics();t.fillStyle(16777215,1),t.fillRoundedRect(0,0,690,120,8);var d=this.add.text(100,60,"B. 19",{fontFamily:"Arial",fontSize:"72px",fill:"#000000"});d.setOrigin(.5).setScale(.5),d.alpha=1;var v=this.add.container(960,480,[t,d]);v.setInteractive(new Phaser.Geom.Rectangle(0,0,690,120),Phaser.Geom.Rectangle.Contains),v.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),v.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),v.on("pointerdown",function(){b=!1},this),t.alpha=1;var o=this.add.graphics();o.fillStyle(16777215,1),o.fillRoundedRect(0,0,690,120,8);var r=this.add.text(100,60,"C. 20",{fontFamily:"Arial",fontSize:"72px",fill:"#000000"});r.setOrigin(.5).setScale(.5),r.alpha=1;var n=this.add.container(260,620,[o,r]);n.setInteractive(new Phaser.Geom.Rectangle(0,0,690,120),Phaser.Geom.Rectangle.Contains),n.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),n.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),n.on("pointerdown",function(){b=!1},this),o.alpha=1;var e=this.add.graphics();e.fillStyle(16777215,1),e.fillRoundedRect(0,0,690,120,8);var s=this.add.text(100,60,"D. 21",{fontFamily:"Arial",fontSize:"72px",fill:"#000000"});s.setOrigin(.5).setScale(.5),s.alpha=1;var h=this.add.container(960,620,[e,s]);h.setInteractive(new Phaser.Geom.Rectangle(0,0,690,120),Phaser.Geom.Rectangle.Contains),h.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),h.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),h.on("pointerdown",function(){b=!0},this),e.alpha=1,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const i=new vt(this,0,0,"Submit",this.nextBtnAudio);i.on("pointerdown",function(){b?this.scene.start("Scene3_36_correct",{music:this.music}):this.scene.start("Scene3_36_incorrect",{music:this.music})},this),i.x=960-130,i.y=1080-70,i.alpha=1,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const a=new st(this,-60,540,"next-arrow",this.nextBtnAudio);a.on("pointerdown",function(){this.scene.start("Scene3_35")},this),a.y=a.y-40,new it(this)}}class ni extends Phaser.Scene{constructor(){super("Scene3_36_correct")}init(b){this.music=b.music}preload(){this.load.image("stars","assets/Images/3_Level1/stars.png"),this.load.image("char-correct","assets/Images/3_Level1/genre-quiz/char-correct.png")}create(){this.cameras.main.setBackgroundColor("#959fe4");var b=this.add.sprite(0,0,"notes-bg").setOrigin(0);b.alpha=.5;var z=this.add.sprite(400,100,"stars").setOrigin(.5);z.setScale(.6),this.add.sprite(960,500,"char-correct").setOrigin(.5),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new vt(this,0,0,"Submit",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene3_37",{music:this.music})},this),V.x=960-130,V.y=1080-70,V.alpha=1}}class ri extends Phaser.Scene{constructor(){super("Scene3_36_incorrect")}init(b){this.music=b.music}preload(){this.load.image("stars","assets/Images/3_Level1/stars.png"),this.load.image("char-incorrect","assets/Images/3_Level1/genre-quiz/char-incorrect.png")}create(){this.cameras.main.setBackgroundColor("#959fe4");var b=this.add.sprite(0,0,"notes-bg").setOrigin(0);b.alpha=.5;var z=this.add.sprite(400,100,"stars").setOrigin(.5);z.setScale(.6),this.add.sprite(960,500,"char-incorrect").setOrigin(.5),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new vt(this,0,0,"Submit",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene3_36",{music:this.music})},this),V.x=960-130,V.y=1080-70}}class ai extends Phaser.Scene{constructor(){super("Scene3_37")}init(b){this.music=b.music}preload(){this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.video("vid19","assets/Videos/3_Level1/scene3-vid19.mp4")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0);const b=this.add.video(0,0,"vid19");b.setOrigin(0),b.play(),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene3_38",{music:this.music})},this),z.y=z.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new st(this,-60,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene3_36")},this),V.y=V.y-40,new it(this)}}class oi extends Phaser.Scene{constructor(){super("Scene3_38")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("myth-fact-quiz-bg","assets/Images/3_Level1/myth-fact-quiz/myth-fact-quiz-bg.jpg")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0),this.cameras.main.setBackgroundColor("#959fe4"),this.add.sprite(0,0,"myth-fact-quiz-bg").setOrigin(0),this.questionText=this.add.text(960,640,`Musicians always drink
alcohol and vape on tour.`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.questionText.scale=.5;var b=this.add.graphics();b.lineStyle(16,16777215,1),b.strokeRoundedRect(0,0,700,150,16),b.fillStyle(19117,1),b.fillRoundedRect(0,0,700,150,16);var z=this.add.rexBBCodeText(350,75,"[b]Fact[/b]",{fontFamily:"Arial",fontSize:"84px",fill:"#ffffff"});z.setOrigin(.5).setScale(.5);var V=this.add.container(220,850,[b,z]);V.setInteractive(new Phaser.Geom.Rectangle(0,0,700,150),Phaser.Geom.Rectangle.Contains),V.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),V.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),V.on("pointerdown",function(){this.scene.start("Scene3_39",{music:this.music})},this);var K=this.add.graphics();K.lineStyle(16,16777215,1),K.strokeRoundedRect(0,0,700,150,16),K.fillStyle(19117,1),K.fillRoundedRect(0,0,700,150,16);var Z=this.add.rexBBCodeText(350,75,"[b]Myth[/b]",{fontFamily:"Arial",fontSize:"84px",fill:"#ffffff"});Z.setOrigin(.5).setScale(.5);var p=this.add.container(1e3,850,[K,Z]);p.setInteractive(new Phaser.Geom.Rectangle(0,0,700,150),Phaser.Geom.Rectangle.Contains),p.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),p.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),p.on("pointerdown",function(){this.scene.start("Scene3_39")},this),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const S=new st(this,-60,540,"next-arrow",this.nextBtnAudio);S.on("pointerdown",function(){this.scene.start("Scene3_37")},this),S.y=S.y-40,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,400,150,32),this.titleText=this.add.text(55,75,"Myth or Fact",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),new it(this)}}class hi extends Phaser.Scene{constructor(){super("Scene3_39")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("myth-fact-quiz-bg","assets/Images/3_Level1/myth-fact-quiz/myth-fact-quiz-bg.jpg")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0),this.cameras.main.setBackgroundColor("#959fe4"),this.add.sprite(0,0,"myth-fact-quiz-bg").setOrigin(0),this.questionText=this.add.text(960,640,`Both e-cigarettes and regular
cigarettes contain nicotine,
which research suggests
may be as addictive
as heroin and cocaine.`,{fontFamily:"Arial",fontSize:"78px",color:"#000000",align:"center"}).setOrigin(.5),this.questionText.scale=.5;var b=this.add.graphics();b.lineStyle(16,16777215,1),b.strokeRoundedRect(0,0,700,150,16),b.fillStyle(19117,1),b.fillRoundedRect(0,0,700,150,16);var z=this.add.rexBBCodeText(350,75,"[b]Fact[/b]",{fontFamily:"Arial",fontSize:"84px",fill:"#ffffff"});z.setOrigin(.5).setScale(.5);var V=this.add.container(220,850,[b,z]);V.setInteractive(new Phaser.Geom.Rectangle(0,0,700,150),Phaser.Geom.Rectangle.Contains),V.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),V.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),V.on("pointerdown",function(){this.scene.start("Scene3_40",{music:this.music})},this);var K=this.add.graphics();K.lineStyle(16,16777215,1),K.strokeRoundedRect(0,0,700,150,16),K.fillStyle(19117,1),K.fillRoundedRect(0,0,700,150,16);var Z=this.add.rexBBCodeText(350,75,"[b]Myth[/b]",{fontFamily:"Arial",fontSize:"84px",fill:"#ffffff"});Z.setOrigin(.5).setScale(.5);var p=this.add.container(1e3,850,[K,Z]);p.setInteractive(new Phaser.Geom.Rectangle(0,0,700,150),Phaser.Geom.Rectangle.Contains),p.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),p.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),p.on("pointerdown",function(){this.scene.start("Scene3_40")},this),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const S=new st(this,-60,540,"next-arrow",this.nextBtnAudio);S.on("pointerdown",function(){this.scene.start("Scene3_38")},this),S.y=S.y-40,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,400,150,32),this.titleText=this.add.text(55,75,"Myth or Fact",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),new it(this)}}class li extends Phaser.Scene{constructor(){super("Scene3_40")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("myth-fact-quiz-bg","assets/Images/3_Level1/myth-fact-quiz/myth-fact-quiz-bg.jpg")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0),this.cameras.main.setBackgroundColor("#959fe4"),this.add.sprite(0,0,"myth-fact-quiz-bg").setOrigin(0),this.questionText=this.add.text(960,640,`Vapes don't have negative
effects because it's just
water.`,{fontFamily:"Arial",fontSize:"78px",color:"#000000",align:"center"}).setOrigin(.5),this.questionText.scale=.5;var b=this.add.graphics();b.lineStyle(16,16777215,1),b.strokeRoundedRect(0,0,700,150,16),b.fillStyle(19117,1),b.fillRoundedRect(0,0,700,150,16);var z=this.add.rexBBCodeText(350,75,"[b]Fact[/b]",{fontFamily:"Arial",fontSize:"84px",fill:"#ffffff"});z.setOrigin(.5).setScale(.5);var V=this.add.container(220,850,[b,z]);V.setInteractive(new Phaser.Geom.Rectangle(0,0,700,150),Phaser.Geom.Rectangle.Contains),V.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),V.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),V.on("pointerdown",function(){this.scene.start("Scene3_41",{music:this.music})},this);var K=this.add.graphics();K.lineStyle(16,16777215,1),K.strokeRoundedRect(0,0,700,150,16),K.fillStyle(19117,1),K.fillRoundedRect(0,0,700,150,16);var Z=this.add.rexBBCodeText(350,75,"[b]Myth[/b]",{fontFamily:"Arial",fontSize:"84px",fill:"#ffffff"});Z.setOrigin(.5).setScale(.5);var p=this.add.container(1e3,850,[K,Z]);p.setInteractive(new Phaser.Geom.Rectangle(0,0,700,150),Phaser.Geom.Rectangle.Contains),p.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),p.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),p.on("pointerdown",function(){this.scene.start("Scene3_41")},this),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const S=new st(this,-60,540,"next-arrow",this.nextBtnAudio);S.on("pointerdown",function(){this.scene.start("Scene3_39")},this),S.y=S.y-40,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,400,150,32),this.titleText=this.add.text(55,75,"Myth or Fact",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),new it(this)}}class ui extends Phaser.Scene{constructor(){super("Scene3_41")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("myth-fact-quiz-bg","assets/Images/3_Level1/myth-fact-quiz/myth-fact-quiz-bg.jpg")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0),this.cameras.main.setBackgroundColor("#959fe4"),this.add.sprite(0,0,"myth-fact-quiz-bg").setOrigin(0),this.questionText=this.add.text(960,640,`Mariah Carey has her vocal
cords insured for millions of
dollars.`,{fontFamily:"Arial",fontSize:"78px",color:"#000000",align:"center"}).setOrigin(.5),this.questionText.scale=.5;var b=this.add.graphics();b.lineStyle(16,16777215,1),b.strokeRoundedRect(0,0,700,150,16),b.fillStyle(19117,1),b.fillRoundedRect(0,0,700,150,16);var z=this.add.rexBBCodeText(350,75,"[b]Fact[/b]",{fontFamily:"Arial",fontSize:"84px",fill:"#ffffff"});z.setOrigin(.5).setScale(.5);var V=this.add.container(220,850,[b,z]);V.setInteractive(new Phaser.Geom.Rectangle(0,0,700,150),Phaser.Geom.Rectangle.Contains),V.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),V.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),V.on("pointerdown",function(){this.scene.start("Scene3_42",{music:this.music})},this);var K=this.add.graphics();K.lineStyle(16,16777215,1),K.strokeRoundedRect(0,0,700,150,16),K.fillStyle(19117,1),K.fillRoundedRect(0,0,700,150,16);var Z=this.add.rexBBCodeText(350,75,"[b]Myth[/b]",{fontFamily:"Arial",fontSize:"84px",fill:"#ffffff"});Z.setOrigin(.5).setScale(.5);var p=this.add.container(1e3,850,[K,Z]);p.setInteractive(new Phaser.Geom.Rectangle(0,0,700,150),Phaser.Geom.Rectangle.Contains),p.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),p.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),p.on("pointerdown",function(){this.scene.start("Scene3_42")},this),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const S=new st(this,-60,540,"next-arrow",this.nextBtnAudio);S.on("pointerdown",function(){this.scene.start("Scene3_40")},this),S.y=S.y-40,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,400,150,32),this.titleText=this.add.text(55,75,"Myth or Fact",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),new it(this)}}class di extends Phaser.Scene{constructor(){super("Scene3_42")}init(b){this.music=b.music}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("myth-fact-quiz-bg","assets/Images/3_Level1/myth-fact-quiz/myth-fact-quiz-bg.jpg")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0),this.cameras.main.setBackgroundColor("#959fe4"),this.add.sprite(0,0,"myth-fact-quiz-bg").setOrigin(0),this.questionText=this.add.text(960,640,`Musicians drink plenty
of water to help
their vocal cords.`,{fontFamily:"Arial",fontSize:"78px",color:"#000000",align:"center"}).setOrigin(.5),this.questionText.scale=.5;var b=this.add.graphics();b.lineStyle(16,16777215,1),b.strokeRoundedRect(0,0,700,150,16),b.fillStyle(19117,1),b.fillRoundedRect(0,0,700,150,16);var z=this.add.rexBBCodeText(350,75,"[b]Fact[/b]",{fontFamily:"Arial",fontSize:"84px",fill:"#ffffff"});z.setOrigin(.5).setScale(.5);var V=this.add.container(220,850,[b,z]);V.setInteractive(new Phaser.Geom.Rectangle(0,0,700,150),Phaser.Geom.Rectangle.Contains),V.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),V.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),V.on("pointerdown",function(){this.scene.start("Scene3_43",{music:this.music})},this);var K=this.add.graphics();K.lineStyle(16,16777215,1),K.strokeRoundedRect(0,0,700,150,16),K.fillStyle(19117,1),K.fillRoundedRect(0,0,700,150,16);var Z=this.add.rexBBCodeText(350,75,"[b]Myth[/b]",{fontFamily:"Arial",fontSize:"84px",fill:"#ffffff"});Z.setOrigin(.5).setScale(.5);var p=this.add.container(1e3,850,[K,Z]);p.setInteractive(new Phaser.Geom.Rectangle(0,0,700,150),Phaser.Geom.Rectangle.Contains),p.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),p.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),p.on("pointerdown",function(){this.scene.start("Scene3_43")},this),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const S=new st(this,-60,540,"next-arrow",this.nextBtnAudio);S.on("pointerdown",function(){this.scene.start("Scene3_41")},this),S.y=S.y-40,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,400,150,32),this.titleText=this.add.text(55,75,"Myth or Fact",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),new it(this)}}class fi extends Phaser.Scene{constructor(){super("Scene3_43")}init(b){this.music=b.music}preload(){this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("text-card3-43","assets/Images/3_Level1/text-card5.png"),this.load.video("vid20","assets/Videos/3_Level1/scene3-vid20.mp4")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0);const b=this.add.video(0,0,"vid20");b.setOrigin(0),b.play(),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene3_44",{music:this.music})},this),z.y=z.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new st(this,-60,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene3_42")},this),V.y=V.y-40,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,400,150,32),this.titleText=this.add.text(55,75,"You Are Ready!",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),this.add.sprite(1400,870,"text-card3-43").setOrigin(.5).setScale(.9),this.text=this.add.text(1400,870,`You've done your prep
while learning about music
and the myths and facts of vaping.

Now let's go on tour!`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,new it(this)}}class ci extends Phaser.Scene{constructor(){super("Scene3_44")}init(b){this.music=b.music}preload(){this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.video("vid21","assets/Videos/3_Level1/scene3-vid21.mp4")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0);const b=this.add.video(0,0,"vid21");b.setOrigin(0),b.play(),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene3_45",{music:this.music})},this),z.y=z.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new st(this,-60,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene3_43")},this),V.y=V.y-40,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,650,150,32),this.titleText=this.add.text(55,75,"Next stop... NEW YORK CITY!",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),new it(this)}}class vi extends Phaser.Scene{constructor(){super("Scene3_45")}preload(){this.load.audio("theme-module3",["assets/Audio/Music/3_Level1/theme-module3.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("new-york3-45-1","assets/Images/General/new-york/new-york1.png"),this.load.image("new-york3-45-2","assets/Images/General/new-york/new-york2.png"),this.load.video("vid22","assets/Videos/3_Level1/scene3-vid22.mp4")}create(){typeof this.music>"u"&&(this.music=this.sound.add("theme-module3"),this.music.play(),this.music.setVolume(.1),this.music.loop=!0);const b=this.add.video(0,0,"vid22");b.setOrigin(0),b.play(),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene4_1")},this),z.y=z.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new st(this,-60,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene3_44")},this),V.y=V.y-40,new it(this)}}class pi extends Phaser.Scene{constructor(){super("Scene4_1")}preload(){this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("overhead-view4_1","assets/Images/4_Level2/overhead-view.jpg"),this.load.image("textBG4-1","assets/Images/General/text-card2.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png")}create(){var b=this.add.sprite(0,0,"overhead-view4_1").setOrigin(0);this.tweens.add({targets:b,x:-780,ease:"cubic.inout",duration:3e3,repeat:0,yoyo:!1});var z=this.add.sprite(1200,590,"textBG4-1").setOrigin(.5);z.alpha=.9,this.text=this.add.text(1200,590,`New York City is famous for many
things, including its music scene and
the many music tours that play in
"NYC".`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene4_2")},this),V.y=V.y-40,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,400,150,32),this.instructionText=this.add.text(55,75,"Landing in NYC",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.instructionText.scale=.5,this.instructionTextCtnr=this.add.container(0,55,[this.textBg,this.instructionText]),new it(this),new wt(4)}}class gi extends Phaser.Scene{constructor(){super("Scene4_2")}preload(){this.load.video("vid4-2","assets/Videos/4_Level2/vid4-2.mp4"),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.audio("ambient-sound-4-2",["assets/Audio/SFX/4_Level2/street-ambient.mp3"]),this.load.image("textBG4-2","assets/Images/General/text-card.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png")}create(){const b=this.add.video(0,0,"vid4-2");b.setOrigin(0),b.play(),this.ambientSound=this.sound.add("ambient-sound-4-2",{loop:!1}),this.ambientSound.play();var z=this.add.sprite(1250,250,"textBG4-2").setOrigin(.5);z.alpha=.9,z.scale=1.45,this.text=this.add.text(1250,250,`The city has over 70 nicknames including
"The City So Nice They Named it Twice",
which comes from the fact that both the city and the
state are called New York.
It was first coined by a jazz singer named John
Hendricks in 1959.`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.ambientSound.stop(),this.scene.start("Scene4_3")},this),V.y=V.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const K=new st(this,-60,540,"next-arrow",this.nextBtnAudio);K.on("pointerdown",function(){this.scene.start("Scene4_1")},this),K.y=K.y-40,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,400,150,32),this.instructionText=this.add.text(55,75,"Landing in NYC",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.instructionText.scale=.5,this.instructionTextCtnr=this.add.container(0,55,[this.textBg,this.instructionText]),new it(this)}}class mi extends Phaser.Scene{constructor(){super("Scene4_3")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.video("vid4-3","assets/Videos/4_Level2/vid4-3.mp4"),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("statue-dark","assets/Images/4_Level2/statue.png")}create(){var b=this.add.sprite(0,0,"statue-dark").setOrigin(0),z=this.add.video(0,0,"vid4-3").setOrigin(0);z.alpha=0,z.setLoop(!0),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,900,150,32),this.instructionText=this.add.rexBBCodeText(55,75,`It's very dark in here!
Find and [b]click on the statue of Liberty[/b] to
explore some other names for New York City.`,{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.instructionText.scale=.5,this.instructionTextCtnr=this.add.container(0,55,[this.textBg,this.instructionText]);const V=new Phaser.Geom.Rectangle(1150,150,400,900);b.setInteractive({hitArea:V,hitAreaCallback:Phaser.Geom.Rectangle.Contains,useHandCursor:!0}),b.on("pointerdown",()=>{z.alpha=1,z.play(),K.alpha=1,K.setInteractive()}),this.text=this.add.text(840,630,`The Big Apple
The City That Never Sleeps
The City of Lights
The Financial Hub of the World
Media City`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center",lineSpacing:50}).setOrigin(.5),this.text.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const K=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);K.on("pointerdown",function(){this.scene.start("Scene4_4")},this),K.y=K.y-40,K.alpha=0,K.disableInteractive(),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const Z=new st(this,-60,540,"next-arrow",this.nextBtnAudio);Z.on("pointerdown",function(){this.scene.start("Scene4_2")},this),Z.y=Z.y-40,new it(this)}}class xi extends Phaser.Scene{constructor(){super("Scene4_4")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("wood-bg-4-4","assets/Images/4_Level2/stamps/wood-bg.jpg"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("x-mark","assets/Images/General/x-mark.png"),this.load.image("tick","assets/Images/General/tick.png"),this.load.image("text-bg-4-4","assets/Images/General/text-card.png"),this.load.image("envelope","assets/Images/4_Level2/stamps/envelope.png"),this.load.image("stamp1","assets/Images/4_Level2/stamps/stamp1.png"),this.load.image("stamp2","assets/Images/4_Level2/stamps/stamp2.png"),this.load.image("stamp3","assets/Images/4_Level2/stamps/stamp3.png")}create(){this.add.sprite(0,0,"wood-bg-4-4").setOrigin(0);var b=this.add.sprite(400,300,"envelope").setOrigin(0);b.scale=1.1;var z=this.add.sprite(900,360,"stamp1").setOrigin(0);z.angle=1,z.setInteractive({useHandCursor:!0}),z.on("pointerdown",()=>{localStorage.setItem("stamp1","true"),this.scene.start("Scene4_4A")});var V=this.add.sprite(1140,360,"stamp2").setOrigin(0);V.angle=-3,V.setInteractive({useHandCursor:!0}),V.on("pointerdown",()=>{localStorage.setItem("stamp2","true"),this.scene.start("Scene4_4B")});var K=this.add.sprite(1320,340,"stamp3").setOrigin(0);K.setInteractive({useHandCursor:!0}),K.on("pointerdown",()=>{localStorage.setItem("stamp3","true"),this.scene.start("Scene4_4C")});const Z=this.add.circle(930,380,30,109634);var p=this.add.sprite(930,380,"tick").setOrigin(.5);localStorage.getItem("stamp1")!="true"&&(Z.setAlpha(0),p.setAlpha(0));const S=this.add.circle(1300,510,30,109634);var t=this.add.sprite(1300,510,"tick").setOrigin(.5);localStorage.getItem("stamp2")!="true"&&(S.setAlpha(0),t.setAlpha(0));const d=this.add.circle(1480,400,30,109634);var v=this.add.sprite(1480,400,"tick").setOrigin(.5);localStorage.getItem("stamp3")!="true"&&(d.setAlpha(0),v.setAlpha(0)),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,600,150,32),this.instructionText=this.add.rexBBCodeText(55,75,"Facts about New York City",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.instructionText.scale=.5,this.instructionTextCtnr=this.add.container(0,55,[this.textBg,this.instructionText]),this.add.sprite(1360,140,"text-bg-4-4").setOrigin(.5),this.text=this.add.rexBBCodeText(1360,140,`New York City is famous for many
things. [b]Click[/b] on the 3 stamps to
learn more.`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const o=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);o.on("pointerdown",function(){this.scene.start("Scene4_5")},this),o.y=o.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const r=new st(this,-60,540,"next-arrow",this.nextBtnAudio);r.on("pointerdown",function(){this.scene.start("Scene4_3")},this),r.y=r.y-40,new it(this)}}class xt extends Phaser.GameObjects.Container{constructor(b,z,V,K,Z){super(b),this.scene=b,this.x=z,this.y=V;const p=this.scene.add.graphics();p.fillStyle(19117,1).fillCircle(0,0,50).lineStyle(6,16777215,1).strokeCircle(0,0,50);const S=this.scene.add.image(0,0,K).setOrigin(.5).setScale(.7);this.add(p),this.add(S),this.setInteractive(new Phaser.Geom.Circle(0,0,50),Phaser.Geom.Circle.Contains),this.on("pointerover",function(){p.clear().fillStyle(24800,1).fillCircle(0,0,50).lineStyle(6,16777215,1).strokeCircle(0,0,50),this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),this.on("pointerout",function(){p.clear().fillStyle(19117,1).fillCircle(0,0,50).lineStyle(6,16777215,1).strokeCircle(0,0,50),this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),this.on("pointerdown",()=>{Z.play()}),this.scene.add.existing(this)}}class yi extends Phaser.Scene{constructor(){super("Scene4_4A")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("wood-bg-4-4","assets/Images/4_Level2/stamps/wood-bg.jpg"),this.load.image("x-mark","assets/Images/General/x-mark.png"),this.load.image("text-bg-4-4","assets/Images/General/text-card.png"),this.load.image("pizza-4-4","assets/Images/4_Level2/stamps/pizza.png"),this.load.image("heading-border-4-4","assets/Images/4_Level2/stamps/heading-border.png"),this.load.image("envelope2","assets/Images/4_Level2/stamps/envelope2.png"),this.load.image("rubber-stamp","assets/Images/4_Level2/stamps/rubber-stamp.png"),this.load.image("rubber-stamp2","assets/Images/4_Level2/stamps/rubber-stamp2.png")}create(){this.add.sprite(0,0,"wood-bg-4-4").setOrigin(0);var b=this.add.sprite(960,540,"envelope2").setOrigin(.5);b.scale=1.4;var z=this.add.sprite(1400,200,"rubber-stamp").setOrigin(0);z.angle=-5,this.add.sprite(1250,200,"rubber-stamp2").setOrigin(0),this.add.sprite(960,240,"heading-border-4-4").setOrigin(.5),this.heading=this.add.rexBBCodeText(960,265,"[b]FACT 1[/b]",{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.heading.scale=.5,this.add.sprite(960,550,"pizza-4-4").setOrigin(.5),this.subheading=this.add.rexBBCodeText(960,350,"[b]New York Style pizza is world famous[/b]",{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.subheading.scale=.5,this.text=this.add.text(960,800,`It is hand-tossed and known for it's wide slices
this crust.
What do you like on your pizza?`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new xt(this,1920-80,70,"x-mark",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene4_4")},this)}}class Ti extends Phaser.Scene{constructor(){super("Scene4_4B")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("wood-bg-4-4","assets/Images/4_Level2/stamps/wood-bg.jpg"),this.load.image("x-mark","assets/Images/General/x-mark.png"),this.load.image("text-bg-4-4","assets/Images/General/text-card.png"),this.load.image("heading-border-4-4","assets/Images/4_Level2/stamps/heading-border.png"),this.load.image("envelope2","assets/Images/4_Level2/stamps/envelope2.png"),this.load.image("flags-4-4","assets/Images/4_Level2/stamps/flags.png"),this.load.image("rubber-stamp","assets/Images/4_Level2/stamps/rubber-stamp.png"),this.load.image("rubber-stamp2","assets/Images/4_Level2/stamps/rubber-stamp2.png")}create(){this.add.sprite(0,0,"wood-bg-4-4").setOrigin(0);var b=this.add.sprite(960,540,"envelope2").setOrigin(.5);b.scale=1.4,this.heading=this.add.rexBBCodeText(960,265,"[b]FACT 2[/b]",{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.heading.scale=.5,this.subheading=this.add.rexBBCodeText(960,700,`[b]NYC is considered one of
the most diverse places in the world[/b]`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.subheading.scale=.5,this.add.sprite(960,475,"flags-4-4").setOrigin(.5),this.text=this.add.text(960,825,`NYC is the most ethnically diverse urban area in the world and is
also the most linguistically diverse city in the world.`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new xt(this,1920-80,70,"x-mark",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene4_4")},this);var V=this.add.sprite(1400,200,"rubber-stamp").setOrigin(0);V.angle=-5,this.add.sprite(1250,200,"rubber-stamp2").setOrigin(0),this.add.sprite(960,240,"heading-border-4-4").setOrigin(.5)}}class Si extends Phaser.Scene{constructor(){super("Scene4_4C")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("wood-bg-4-4","assets/Images/4_Level2/stamps/wood-bg.jpg"),this.load.image("x-mark","assets/Images/General/x-mark.png"),this.load.image("text-bg-4-4","assets/Images/General/text-card.png"),this.load.image("heading-border-4-4","assets/Images/4_Level2/stamps/heading-border.png"),this.load.image("envelope2","assets/Images/4_Level2/stamps/envelope2.png"),this.load.image("no-smoking-sticker","assets/Images/4_Level2/stamps/no-smoking-sticker.png"),this.load.image("no-vaping-sticker","assets/Images/4_Level2/stamps/no-vaping-sticker.png"),this.load.image("rubber-stamp","assets/Images/4_Level2/stamps/rubber-stamp.png"),this.load.image("rubber-stamp2","assets/Images/4_Level2/stamps/rubber-stamp2.png")}create(){this.add.sprite(0,0,"wood-bg-4-4").setOrigin(0);var b=this.add.sprite(960,540,"envelope2").setOrigin(.5);b.scale=1.4;var z=this.add.sprite(1400,200,"rubber-stamp").setOrigin(0);z.angle=-5,this.add.sprite(1250,200,"rubber-stamp2").setOrigin(0),this.add.sprite(960,240,"heading-border-4-4").setOrigin(.5),this.heading=this.add.rexBBCodeText(960,265,"[b]FACT 3[/b]",{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.heading.scale=.5,this.subheading=this.add.rexBBCodeText(960,350,"[b]Smoking indoors was banned[/b]",{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.subheading.scale=.5,this.text=this.add.text(960,700,`Since 2003 New York State created the Clean Indoor Air Act (the Act) and
expanded it in 2017. The act prohibits smoking and vaping in almost all public
and private indoor workplaces, including restaurants and bars, to protect workers
and the publi from exposure to the harmful effects.`,{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.add.sprite(735,480,"no-smoking-sticker").setOrigin(.5),this.add.sprite(1185,480,"no-vaping-sticker").setOrigin(.5),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new vt(this,0,0,"Continue",this.nextBtnAudio);V.on("pointerdown",function(){this.text.setText(`Since 2003, the Act has protected millions of New Yorkers from daily exposure to
deadly secondhand smoke and vaping aerosols.
Studies show that in the first year alone, the expansion of the Act resulted in
about 3,800 fewer hospital admissions for heart attack, which saved an estimated
$56 million in heath care costs.`),V.disableInteractive(),V.setAlpha(0)},this),Phaser.Display.Align.In.Center(V,this.add.zone(860,1e3,1920,1080)),V.y=V.y-170,new xt(this,1920-80,70,"x-mark",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene4_4")},this)}}class Ci extends Phaser.Scene{constructor(){super("Scene4_5")}preload(){this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("bg-4-5","assets/Images/4_Level2/phone/bg.jpg"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("phone-4-5","assets/Images/4_Level2/phone/phone.png"),this.load.image("map-marker","assets/Images/4_Level2/phone/map-marker.png")}create(){this.add.sprite(0,0,"bg-4-5").setOrigin(0),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,500,150,32),this.instructionText=this.add.text(55,75,"What Would YOU Do?",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.instructionText.scale=.5,this.instructionTextCtnr=this.add.container(0,55,[this.textBg,this.instructionText]),this.add.sprite(960,570,"phone-4-5").setOrigin(.5);var b=this.add.sprite(960,450,"map-marker").setOrigin(.5);b.setInteractive({useHandCursor:!0}),b.on("pointerdown",()=>{this.scene.start("Scene4_5A")});var z=this.add.sprite(800,700,"map-marker").setOrigin(.5);z.setInteractive({useHandCursor:!0}),z.on("pointerdown",()=>{this.scene.start("Scene4_5B")});var V=this.add.sprite(1210,680,"map-marker").setOrigin(.5);V.setInteractive({useHandCursor:!0}),V.on("pointerdown",()=>{this.scene.start("Scene4_5C")});var K=this.add.sprite(1010,650,"map-marker").setOrigin(.5);K.setInteractive({useHandCursor:!0}),K.on("pointerdown",()=>{this.scene.start("Scene4_5D")});var Z=this.add.sprite(1070,540,"map-marker").setOrigin(.5);Z.setInteractive({useHandCursor:!0}),Z.on("pointerdown",()=>{this.scene.start("Scene4_5E")});var p=this.add.sprite(1040,300,"map-marker").setOrigin(.5);p.setInteractive({useHandCursor:!0}),p.on("pointerdown",()=>{this.scene.start("Scene4_5F")}),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const S=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);S.on("pointerdown",function(){this.scene.start("Scene4_6")},this),S.y=S.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const t=new st(this,-60,540,"next-arrow",this.nextBtnAudio);t.on("pointerdown",function(){this.scene.start("Scene4_4")},this),t.y=t.y-40,new it(this)}}let Ai=class extends Phaser.Scene{constructor(){super("Scene4_5A")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("x-mark","assets/Images/General/x-mark.png"),this.load.image("bg-blurred-4-5","assets/Images/4_Level2/phone/bg-blurred.jpg"),this.load.image("times-square","assets/Images/4_Level2/phone/times-square.png")}create(){this.add.sprite(0,0,"bg-blurred-4-5").setOrigin(0),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(960-800,540-450,1600,900,64),this.heading=this.add.rexBBCodeText(560,340,"[b]Times Square[/b]",{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.heading.scale=.5,this.text1=this.add.text(560,500,`Times Square is in Midtown
Manhatten, New York City. It is
brightly lit by numerous billboards and
advertisements.`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text1.scale=.5,this.text2=this.add.text(960,700,`Times Square is one of the world's most visited tourist attractions, drawing
an estimated 50 million visitors anually. It is also the hub of the Broadway
Theater District and a major center of the world's entertainment industry.`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text2.scale=.5,this.add.sprite(1e3,160,"times-square").setOrigin(0),this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new xt(this,1920-240,170,"x-mark",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene4_5")},this)}},Ei=class extends Phaser.Scene{constructor(){super("Scene4_5B")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("x-mark","assets/Images/General/x-mark.png"),this.load.image("bg-blurred-4-5","assets/Images/4_Level2/phone/bg-blurred.jpg"),this.load.image("statue-of-liberty","assets/Images/4_Level2/phone/statue-of-liberty.png")}create(){this.add.sprite(0,0,"bg-blurred-4-5").setOrigin(0),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(960-800,540-450,1600,900,64),this.heading=this.add.rexBBCodeText(1100,265,"[b]The Statue of Liberty[/b]",{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.heading.scale=.5,this.text=this.add.text(1100,600,`The Statue of Liberty is a colossal sculpture on
Liberty Island in New York Harbor in New York
City. The copper statue, a gift from the people of
France to the people of the United States, was
dedicated on October 28, 1886, and its metal
framework was built by Gustave Eiffel (of Paris'
Eiffel Tower fame).`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.add.sprite(300,160,"statue-of-liberty").setOrigin(0),this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new xt(this,1920-240,170,"x-mark",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene4_5")},this)}};class wi extends Phaser.Scene{constructor(){super("Scene4_5C")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("x-mark","assets/Images/General/x-mark.png"),this.load.image("bg-blurred-4-5","assets/Images/4_Level2/phone/bg-blurred.jpg"),this.load.image("brooklyn-bridge","assets/Images/4_Level2/phone/brooklyn-bridge.jpg")}create(){this.add.sprite(0,0,"bg-blurred-4-5").setOrigin(0),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(960-800,540-450,1600,900,64),this.heading=this.add.rexBBCodeText(1100,265,"[b]Brooklyn Bridge[/b]",{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.heading.scale=.5,this.text=this.add.text(1100,600,`The Brooklyn Bridge is a hybrid cable-stayed/
suspension bridge in New York City, spanning the
East River between the boroughs of Manhatten
and Brooklyn. Opened on May 24, 1883, the
Brooklyn Bridge was the first crossing of the East
River. It is a popular way to travel, by car and to
walk across.`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.add.sprite(250,350,"brooklyn-bridge").setOrigin(0),this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new xt(this,1920-240,170,"x-mark",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene4_5")},this)}}class Fi extends Phaser.Scene{constructor(){super("Scene4_5D")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("x-mark","assets/Images/General/x-mark.png"),this.load.image("bg-blurred-4-5","assets/Images/4_Level2/phone/bg-blurred.jpg"),this.load.image("one-world","assets/Images/4_Level2/phone/one-world.png")}create(){this.add.sprite(0,0,"bg-blurred-4-5").setOrigin(0),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(960-800,540-450,1600,900,64),this.heading=this.add.rexBBCodeText(1100,265,"[b]One World Trade Center[/b]",{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.heading.scale=.5,this.text=this.add.text(1100,600,`This 9/11 Memorial & Museum is 104 floors and
1776 feet high making it the tallest building in
North America!
It is focussed with exploring 9/11, documenting its
impact, and examining its continuing significance.
Honoring those who were killed in the 2001 and
1993 attacks is at the heart of their mission.`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.add.sprite(300,160,"one-world").setOrigin(0),this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new xt(this,1920-240,170,"x-mark",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene4_5")},this)}}class Pi extends Phaser.Scene{constructor(){super("Scene4_5E")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("x-mark","assets/Images/General/x-mark.png"),this.load.image("bg-blurred-4-5","assets/Images/4_Level2/phone/bg-blurred.jpg"),this.load.image("empire-state","assets/Images/4_Level2/phone/empire-state.png")}create(){this.add.sprite(0,0,"bg-blurred-4-5").setOrigin(0),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(960-800,540-450,1600,900,64),this.heading=this.add.rexBBCodeText(1100,265,"[b]Empire State Building[/b]",{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.heading.scale=.5,this.text=this.add.text(1100,600,`The Empire State Building is a 102-story Art Deco
skyscraper in Midtown Manhatten, New York City.
The building was built from 1930 to 1931. Its name
is delivered from "Empire State", the nickname of
the state of New York.`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.add.sprite(300,160,"empire-state").setOrigin(0),this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new xt(this,1920-240,170,"x-mark",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene4_5")},this)}}class Bi extends Phaser.Scene{constructor(){super("Scene4_5F")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("x-mark","assets/Images/General/x-mark.png"),this.load.image("bg-blurred-4-5","assets/Images/4_Level2/phone/bg-blurred.jpg"),this.load.image("central-park","assets/Images/4_Level2/phone/central-park.png")}create(){this.add.sprite(0,0,"bg-blurred-4-5").setOrigin(0),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(960-800,540-450,1600,900,64),this.heading=this.add.rexBBCodeText(560,340,"[b]Central Park[/b]",{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.heading.scale=.5,this.text1=this.add.rexBBCodeText(560,500,`Central Park is the most visited
urban park in the United States,
with an estimated 42 million
visitors annually, and is the [i]most
filmed location in the world.[/i]`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text1.scale=.5,this.text2=this.add.text(960,780,`Strawberry Park, a location in the park, has a memorial for John Lennon,
            originally of the Beatles, and a known inspiration for many artists including
            Lady Gaga, Mary J. Blige, Bono, Stevie Wonder, John Legend, the Black
            Eyed Peas and the Weeknd, to name a few.`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text2.scale=.5,this.add.sprite(1e3,160,"central-park").setOrigin(0),this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new xt(this,1920-240,170,"x-mark",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene4_5")},this)}}class Ri extends Phaser.Scene{constructor(){super("Scene4_6")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("x-mark","assets/Images/General/x-mark.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("bg-4-6","assets/Images/4_Level2/unknown-areas/city-bg.png"),this.load.image("hip-hop-museum","assets/Images/4_Level2/unknown-areas/hip-hop-museum.png"),this.load.image("off-broadway","assets/Images/4_Level2/unknown-areas/off-broadway.png"),this.load.image("dream-house","assets/Images/4_Level2/unknown-areas/dream-house.png"),this.load.image("spyscape","assets/Images/4_Level2/unknown-areas/spyscape.png"),this.load.image("text-card-4-6","assets/Images/General/text-card3.png")}create(){this.add.sprite(0,0,"bg-4-6").setOrigin(0),this.popupTextBg=this.add.graphics(),this.popupTextBg.fillStyle(16777215,1),this.popupTextBg.fillRoundedRect(960-800,320,1600,650,32),this.popupTextBg.alpha=0,this.popupTextBgBorder=this.add.graphics(),this.popupTextBgBorder.lineStyle(6,0,1),this.popupTextBgBorder.strokeRoundedRect(960-800,320,1600,650,32),this.popupTextBgBorder.alpha=0,this.popupHeading=this.add.rexBBCodeText(660,460,"",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0),this.popupHeading.scale=.5,this.popupText=this.add.text(660,540,"",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0),this.popupText.scale=.5;var b=this.add.image(400,640,"hip-hop-museum");b.scale=1.1,b.alpha=0,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new xt(this,1700,380,"x-mark",this.nextBtnAudio);z.on("pointerdown",function(){V.setAlpha(1),V.setInteractive(),K.setAlpha(1),Z.setAlpha(1),Z.setInteractive(),p.setAlpha(1),S.setAlpha(1),S.setInteractive(),t.setAlpha(1),d.setAlpha(1),d.setInteractive(),v.setAlpha(1),this.popupTextBg.setAlpha(0),this.popupTextBgBorder.setAlpha(0),this.popupHeading.setText(""),this.popupText.setText(""),b.setAlpha(0),z.alpha=0,z.disableInteractive()},this),z.scale=.8,z.alpha=0,z.disableInteractive();var V=this.add.image(0,0,"hip-hop-museum");V.setInteractive({cursor:"pointer"}),V.on("pointerdown",()=>{V.setAlpha(0),V.disableInteractive(),K.setAlpha(0),Z.setAlpha(0),Z.disableInteractive(),p.setAlpha(0),S.setAlpha(0),S.disableInteractive(),t.setAlpha(0),d.setAlpha(0),d.disableInteractive(),v.setAlpha(0),this.popupTextBg.setAlpha(1),this.popupTextBgBorder.setAlpha(1),this.popupHeading.setText("[b]Universal Hip Hop Museum[/b]"),this.popupText.setText(`The Universal Hip Hop Museum  in the Bronx celebrates and
preserves the history of local and global Hip Hop to inspire,
empower, and promote understanding.

It was founded by Rocky Bucano and a group of iconic
entrepreneurs and artists including Kurtis Blow, Ice T, LL Cool J,
Nas, and many others.`),b.setAlpha(1),z.alpha=1,z.setInteractive()});var K=this.add.graphics();K.lineStyle(6,16777215,1),K.strokeCircle(0,0,150),this.add.container(960-185-300-70,650,[V,K]);var Z=this.add.image(0,0,"off-broadway");Z.setInteractive({cursor:"pointer"}),Z.on("pointerdown",()=>{V.setAlpha(0),V.disableInteractive(),K.setAlpha(0),Z.setAlpha(0),Z.disableInteractive(),p.setAlpha(0),S.setAlpha(0),S.disableInteractive(),t.setAlpha(0),d.setAlpha(0),d.disableInteractive(),v.setAlpha(0),this.popupTextBg.setAlpha(1),this.popupTextBgBorder.setAlpha(1),this.popupHeading.setText("[b]Off-Broadway Show[/b]"),this.popupText.setText(`An "off-Broadway production" is a production of a play, musical,
or revue that appears in such a venue in New York City.

The off-Broadway movement started in the 1950s as a reaction to
the perceived commercialism of Broadway and provided less
expensive venues for shows that have employed many future
Broadway artists.`),b.setTexture("off-broadway"),b.setAlpha(1),z.alpha=1,z.setInteractive()});var p=this.add.graphics();p.lineStyle(6,16777215,1),p.strokeCircle(0,0,150),this.add.container(960-185,650,[Z,p]);var S=this.add.image(0,0,"dream-house");S.setInteractive({cursor:"pointer"}),S.on("pointerdown",()=>{V.setAlpha(0),V.disableInteractive(),K.setAlpha(0),Z.setAlpha(0),Z.disableInteractive(),p.setAlpha(0),S.setAlpha(0),S.disableInteractive(),t.setAlpha(0),d.setAlpha(0),d.disableInteractive(),v.setAlpha(0),this.popupTextBg.setAlpha(1),this.popupTextBgBorder.setAlpha(1),this.popupHeading.setText("[b]The Dream House[/b]"),this.popupText.setText(`This "light and sound installation" has gone on in various forms
for over two decades and features music and lighting. The sound
and light can be experienced as a new form or new media: the
sound and light enironment.

Be prepared to encounter a new collection of pitches with every
move you make, as you encounter the various resonating sound
fields. Visitors have described "one of the most unusual things to
do in NYC."`),b.setTexture("dream-house"),b.setAlpha(1),z.alpha=1,z.setInteractive()});var t=this.add.graphics();t.lineStyle(6,16777215,1),t.strokeCircle(0,0,150),this.add.container(960+185,650,[S,t]);var d=this.add.image(0,0,"spyscape");d.setInteractive({cursor:"pointer"}),d.on("pointerdown",()=>{V.setAlpha(0),V.disableInteractive(),K.setAlpha(0),Z.setAlpha(0),Z.disableInteractive(),p.setAlpha(0),S.setAlpha(0),S.disableInteractive(),t.setAlpha(0),d.setAlpha(0),d.disableInteractive(),v.setAlpha(0),this.popupTextBg.setAlpha(1),this.popupTextBgBorder.setAlpha(1),this.popupHeading.setText("[b]Spyscape Museum[/b]"),this.popupText.setText(`Spy Scape is an interactive espionage museum that was
developed with the help of a "spymaster" and hackers, including
the illusive online group Anonymous. It puts you in situations that
actual secret agents have gone through and digitally tracks your
actions with a wristband, including making you go through a room
of green tripwire lasers like something out of "Mission
Impossible."`),b.setTexture("spyscape"),b.setAlpha(1),z.alpha=1,z.setInteractive()});var v=this.add.graphics();v.lineStyle(6,16777215,1),v.strokeCircle(0,0,150),this.add.container(960+185+300+70,650,[d,v]),this.add.sprite(1350,150,"text-card-4-6").setOrigin(.5).setAlpha(.8),this.instructionText=this.add.rexBBCodeText(1350,150,`[b]Click on the images below[/b] to
explore some more unknown
areas in New York City!`,{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(.5),this.instructionText.scale=.5,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,900,150,32),this.titleText=this.add.text(55,75,"OR...go to some of the more unknown areas?",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const o=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);o.on("pointerdown",function(){this.scene.start("Scene4_7")},this),o.y=o.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const r=new st(this,-60,540,"next-arrow",this.nextBtnAudio);r.on("pointerdown",function(){this.scene.start("Scene4_5")},this),r.y=r.y-40,new it(this)}}class Mi extends Phaser.Scene{constructor(){super("Scene4_7")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("x-mark","assets/Images/General/x-mark.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("bg-4-7","assets/Images/4_Level2/transportation/bg-4-7.jpg"),this.load.image("text-card-4-7","assets/Images/General/text-card.png"),this.load.image("taxi","assets/Images/4_Level2/transportation/taxi.png"),this.load.image("char-4-7","assets/Images/4_Level2/transportation/char-with-helmet.png")}create(){this.add.sprite(0,0,"bg-4-7").setOrigin(0),this.add.sprite(300,250,"taxi").setOrigin(0),this.add.sprite(1370,180,"char-4-7").setOrigin(0),this.add.sprite(500,850,"text-card-4-7").setOrigin(.5).setAlpha(.9).setScale(1),this.instructionText=this.add.rexBBCodeText(500,850,`How would you travel around New
York City?

Click on the         to learn more.`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.instructionText.scale=.5,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,550,150,32),this.titleText=this.add.text(55,75,"Let's Get to the Concert!",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]);const b=this.add.circle(660,350,45,19117);this.info1Text=this.add.rexBBCodeText(660,350,"[i]i[/i]",{fontFamily:"Arial",fontSize:"108px",color:"#ffffff",align:"center"}).setOrigin(.5),this.info1Text.scale=.5,b.setInteractive(),b.on("pointerover",function(){b.setFillStyle(24800),this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),b.on("pointerout",function(){b.setFillStyle(19117),this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),b.on("pointerdown",()=>{this.createSpeechBubble(600,0,450,250,`[b]Car or uber[/b]
                
Another name for NYC is
Cab City, you can
probably figure out why.`)});const z=this.add.circle(1310,350,45,19117);this.info2Text=this.add.rexBBCodeText(1310,350,"[i]i[/i]",{fontFamily:"Arial",fontSize:"108px",color:"#ffffff",align:"center"}).setOrigin(.5),this.info2Text.scale=.5,z.setInteractive(),z.on("pointerover",function(){z.setFillStyle(24800),this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),z.on("pointerout",function(){z.setFillStyle(19117),this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),z.on("pointerdown",()=>{this.createSpeechBubble(1250,0,450,250,`[b]Walk[/b]
                
NYC is considered one of the most
walkable cities in the world. Of
course, it depends where you are
starting and ending. You can walk
by so many different sights,
sounds, cultures, food spots and
interesting things to see.`)});const V=this.add.circle(1775,775,45,19117);this.info3Text=this.add.rexBBCodeText(1775,775,"[i]i[/i]",{fontFamily:"Arial",fontSize:"108px",color:"#ffffff",align:"center"}).setOrigin(.5),this.info3Text.scale=.5,V.setInteractive(),V.on("pointerover",function(){V.setFillStyle(24800),this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),V.on("pointerout",function(){V.setFillStyle(19117),this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),V.on("pointerdown",()=>{});const K=this.add.circle(480,920,45,19117);this.info4Text=this.add.rexBBCodeText(480,920,"[i]i[/i]",{fontFamily:"Arial",fontSize:"108px",color:"#ffffff",align:"center"}).setOrigin(.5),this.info4Text.scale=.5,K.setInteractive(),K.on("pointerover",function(){K.setFillStyle(24800),this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),K.on("pointerout",function(){K.setFillStyle(19117),this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),K.on("pointerdown",()=>{}),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const Z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);Z.on("pointerdown",function(){this.scene.start("Scene4_8")},this),Z.y=Z.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const p=new st(this,-60,540,"next-arrow",this.nextBtnAudio);p.on("pointerdown",function(){this.scene.start("Scene4_6")},this),p.y=p.y-40,new it(this)}createSpeechBubble(b,z,V,K,Z,p){const S=V,t=K,d=t/4,v=this.add.graphics({x:b,y:z});v.fillStyle(2236962,.5),v.fillRoundedRect(6,6,S,t,16),v.fillStyle(16777215,1),v.lineStyle(4,5658198,1),v.strokeRoundedRect(0,0,S,t,16),v.fillRoundedRect(0,0,S,t,16);const o=Math.floor(S/7),r=t,n=Math.floor(S/7*2),e=t,s=Math.floor(S/7),h=Math.floor(t+d);v.lineStyle(4,2236962,.5),v.lineBetween(n-1,e+6,s+2,h),v.fillTriangle(o,r,n,e,s,h),v.lineStyle(2,5658198,1),v.lineBetween(n,e,s,h),v.lineBetween(o,r,s,h);const i=this.add.rexBBCodeText(0,0,Z,{fontFamily:"Arial",fontSize:72,color:"#000000",align:"left"});i.scale=.5;const a=i.getBounds();i.setPosition(v.x+S/2-a.width/2,v.y+t/2-a.height/2)}}class Oi extends Phaser.Scene{constructor(){super("Scene4_8")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("x-mark","assets/Images/General/x-mark.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("bg-4-8","assets/Images/4_Level2/madison-square.jpg"),this.load.image("lights-4-8","assets/Images/4_Level2/lights.png")}create(){this.clicks=0,this.add.sprite(0,0,"bg-4-8").setOrigin(0),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,850,150,32),this.titleText=this.add.text(55,75,"Welcome to NYC's Madison Square Garden!",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),this.text=this.add.text(940,480,`Madison Square Garden is a 20,000+ seat
venue. It is home to the New York Knicks
Basketball team and the New York Rangers
Hockey Team. It also hosts many musical acts.`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.text.alpha=0,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const b=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);b.on("pointerdown",function(){this.text.alpha=1,this.clicks==1?(this.text.setText(`Many artists have performed at "The Garden"
including: Jay-Z, Justin Bieber, Taylor Swift,
Twenty One Pilots, Beyonce, Michael Buble,
Harry Styles and so many more.`),this.add.sprite(0,0,"lights-4-8").setOrigin(0)):this.clicks==2&&this.scene.start("Scene4_9"),this.clicks++},this),b.y=b.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new st(this,-60,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene4_6")},this),z.y=z.y-40,new it(this)}}class Li extends Phaser.Scene{constructor(){super("Scene4_9")}preload(){this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("x-mark","assets/Images/General/x-mark.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("notes-bg","assets/Images/4_Level2/notes-bg.png")}create(){var b=!1;this.cameras.main.setBackgroundColor("#959fe4");var z=this.add.sprite(0,0,"notes-bg").setOrigin(0);z.alpha=.5;var V=this.add.graphics();V.fillStyle(16777215,1),V.fillRoundedRect(960-740,150,1520,190,72);var K=this.add.text(960-740+1520/2,240,`Fun Fact: Justin Bieber claims the record for selling out Madison Square
Garden the fastest of any artist. Two shows for his Believe tour sold out in 30
seconds! Who do you think held the record before Justin Bieber?`,{fontFamily:"Arial",fontSize:"84px",fill:"#000000",align:"center"});K.setOrigin(.5).setScale(.5),K.alpha=1;var Z=this.add.graphics();Z.fillStyle(16777215,1),Z.fillRoundedRect(0,0,690,120,8);var p=this.add.graphics();p.lineStyle(5,8901119,1),p.strokeRoundedRect(0,0,690,120,8),p.setAlpha(0);var S=this.add.text(50,42,"A. Taylor Swift",{fontFamily:"Arial",fontSize:"72px",fill:"#000000"});S.setOrigin(0).setScale(.5),S.alpha=1;var t=this.add.container(960-690/2,380,[Z,S,p]);t.setInteractive(new Phaser.Geom.Rectangle(0,0,690,120),Phaser.Geom.Rectangle.Contains),t.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),t.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),t.on("pointerdown",function(){v.setAlpha(0),e.setAlpha(0),p.setAlpha(1),b=!0},this);var d=this.add.graphics();d.fillStyle(16777215,1),d.fillRoundedRect(0,0,690,120,8);var v=this.add.graphics();v.lineStyle(5,8901119,1),v.strokeRoundedRect(0,0,690,120,8),v.setAlpha(0);var o=this.add.text(50,42,"B. Drake",{fontFamily:"Arial",fontSize:"72px",fill:"#000000"});o.setOrigin(0).setScale(.5),o.alpha=1;var r=this.add.container(960-690/2,540,[d,o,v]);r.setInteractive(new Phaser.Geom.Rectangle(0,0,690,120),Phaser.Geom.Rectangle.Contains),r.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),r.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),r.on("pointerdown",function(){v.setAlpha(1),e.setAlpha(0),p.setAlpha(0),b=!1},this);var n=this.add.graphics();n.fillStyle(16777215,1),n.fillRoundedRect(0,0,690,120,8);var e=this.add.graphics();e.lineStyle(5,8901119,1),e.strokeRoundedRect(0,0,690,120,8),e.setAlpha(0);var s=this.add.text(50,42,"C. Maroon 5",{fontFamily:"Arial",fontSize:"72px",fill:"#000000"});s.setOrigin(0).setScale(.5),s.alpha=1;var h=this.add.container(960-690/2,700,[n,s,e]);h.setInteractive(new Phaser.Geom.Rectangle(0,0,690,120),Phaser.Geom.Rectangle.Contains),h.on("pointerover",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),h.on("pointerout",function(){this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),h.on("pointerdown",function(){p.setAlpha(0),v.setAlpha(0),e.setAlpha(1),b=!1},this),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const i=new vt(this,0,900,"Submit",this.nextBtnAudio);i.on("pointerdown",function(){b?this.scene.start("Scene4_9_correct",{music:this.music}):this.scene.start("Scene4_9_incorrect",{music:this.music})},this),i.x=960-130,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const a=new st(this,-60,540,"next-arrow",this.nextBtnAudio);a.on("pointerdown",function(){this.scene.start("Scene4_8")},this),a.y=a.y-40,new it(this)}}class bi extends Phaser.Scene{constructor(){super("Scene4_9_correct")}init(b){this.music=b.music}preload(){this.load.audio("success-4-9",["assets/Audio/SFX/4_Level2/success.mp3"]),this.load.image("char-correct","assets/Images/4_Level2/correct.png")}create(){this.successAudio=this.sound.add("success-4-9",{loop:!1}),this.successAudio.play(),this.cameras.main.setBackgroundColor("#959fe4");var b=this.add.sprite(0,0,"notes-bg").setOrigin(0);b.alpha=.5,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(210,180,1500,650,32),this.text=this.add.text(960,260,`Nice! Well done.
Taylor Swift held the record before Justin Bieber.`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5,.5),this.text.scale=.5,this.add.sprite(960,600,"char-correct").setOrigin(.5).setScale(.9),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new vt(this,0,900,"Continue",this.nextBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene4_10",{music:this.music})},this),z.x=960-130}}class Ii extends Phaser.Scene{constructor(){super("Scene4_9_incorrect")}init(b){this.music=b.music}preload(){this.load.audio("fail-4-9",["assets/Audio/SFX/4_Level2/fail.mp3"]),this.load.image("stars","assets/Images/3_Level1/stars.png"),this.load.image("char-incorrect","assets/Images/4_Level2/incorrect.png")}create(){this.failAudio=this.sound.add("fail-4-9",{loop:!1}),this.failAudio.play(),this.cameras.main.setBackgroundColor("#959fe4");var b=this.add.sprite(0,0,"notes-bg").setOrigin(0);b.alpha=.5,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(210,180,1500,650,32),this.text=this.add.text(960,260,`Oh, no!
Try again..`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5,.5),this.text.scale=.5,this.add.sprite(960,600,"char-incorrect").setOrigin(.5).setScale(1),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new vt(this,0,900,"Try again",this.nextBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene4_9",{music:this.music})},this),z.x=960-130}}class It extends Phaser.GameObjects.Container{constructor(b,z,V,K,Z){super(b),this.scene=b,this.x=z,this.y=V;const p=this.scene.add.graphics();p.fillStyle(19117,1).fillRoundedRect(0,0,340,70,8).lineStyle(6,16777215,1).strokeRoundedRect(0,0,340,70,8);const S=this.scene.add.text(170,35,K,{fontFamily:"Arial",fontSize:"72px",fontStyle:"bold"}).setOrigin(.5);S.scale=.5,this.add(p),this.add(S),this.setInteractive(new Phaser.Geom.Rectangle(0,0,340,70),Phaser.Geom.Rectangle.Contains),this.on("pointerover",function(){p.clear().fillStyle(24800,1).fillRoundedRect(0,0,340,70,8).lineStyle(6,16777215,2).strokeRoundedRect(0,0,340,70,8),this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),this.on("pointerout",function(){p.clear().fillStyle(19117,1).fillRoundedRect(0,0,340,70,8).lineStyle(6,16777215,2).strokeRoundedRect(0,0,340,70,8),this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),this.on("pointerdown",()=>{Z.play()}),this.scene.add.existing(this)}}class Di extends Phaser.Scene{constructor(){super("Scene4_10")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("textBG4-10","assets/Images/General/text-card3.png"),this.load.image("dj","assets/Images/4_Level2/dj.jpg"),this.load.image("tick","assets/Images/General/tick.png")}create(){this.add.sprite(0,0,"dj").setOrigin(0);var b=this.add.sprite(600,300,"textBG4-10").setOrigin(.5).setScale(1.7);b.alpha=.9,this.text=this.add.rexBBCodeText(600,300,`Tonight you can choose to see a "triple threat"
performer. A triple threat performer has
strengths in multiple areas, such as singing,
dancing, and producing.
Who do you want to see?
[b]Click on the names below[/b] to learn more.`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new It(this,200,600,"Harry Styles",this.nextBtnAudio).on("pointerdown",function(){Z.setAlpha(1),p.setAlpha(1),this.textCardBg.alpha=1,this.text.setText(`Harry Edwards Styles is an English singer,
songwriter and actor. He grew to fame as a part of the
band One Direction. He then went solo and continued
his success winning multiple awards.`)},this),new It(this,200,720,"Jennifer Lopez",this.nextBtnAudio).on("pointerdown",function(){S.setAlpha(1),t.setAlpha(1),this.textCardBg.alpha=1,this.text.setText(`Jennifer Lopex is considered a pop culture icon,
and is often described as a triple threat entertainer -
singer, actress, and dancer. She is considered the most
influential Hispanic entertainer in North America.`)},this),new It(this,200,840,"Jay-Z",this.nextBtnAudio).on("pointerdown",function(){d.setAlpha(1),v.setAlpha(1),this.textCardBg.alpha=1,this.text.setText(`Born and raised in NYC Shawn Corey Carter,
aka Jay-Z, is a triple threat - American rapper, record
executive, and media proprietor. He is one of the most
influential hip-hop artists in history. He has been central
to the creative and commercial success of artists
including Kanye West, Rihanna, and J. Cole.`)},this),this.textCardBg=this.add.graphics(),this.textCardBg.fillStyle(16777215,1),this.textCardBg.fillRoundedRect(600,600,1e3,320,16),this.textCardBg.alpha=0,this.text=this.add.text(1100,760,"",{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5;const Z=this.add.circle(530,600,30,109634).setAlpha(0);var p=this.add.sprite(530,600,"tick").setOrigin(.5).setAlpha(0);const S=this.add.circle(530,720,30,109634).setAlpha(0);var t=this.add.sprite(530,720,"tick").setOrigin(.5).setAlpha(0);const d=this.add.circle(530,840,30,109634).setAlpha(0);var v=this.add.sprite(530,840,"tick").setOrigin(.5).setAlpha(0);this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const o=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);o.on("pointerdown",function(){this.scene.start("Scene4_11")},this),o.y=o.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const r=new st(this,-60,540,"next-arrow",this.nextBtnAudio);r.on("pointerdown",function(){this.scene.start("Scene4_9")},this),r.y=r.y-40,new it(this)}}class Gi extends Phaser.Scene{constructor(){super("Scene4_11")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("textBG4-11","assets/Images/General/text-card.png"),this.load.image("textBG4-11B","assets/Images/General/text-card3.png"),this.load.image("stage1","assets/Images/4_Level2/stage.jpg"),this.load.image("stage2","assets/Images/4_Level2/stage2.jpg")}create(){this.clicks=1;var b=this.add.sprite(0,0,"stage1").setOrigin(0);this.titleBg=this.add.graphics(),this.titleBg.fillStyle(16777215,1),this.titleBg.fillRoundedRect(-30,0,450,150,32),this.titleText=this.add.text(55,75,"Triple Threat Talents",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.titleBg,this.titleText]),this.textBG1=this.add.sprite(960,540,"textBG4-11").setOrigin(.5).setScale(1.3),this.textBG1.alpha=.9,this.text1=this.add.rexBBCodeText(960,540,`A talent is the natural ability to do something
well. Everyone has talents, maybe it is art,
sports, drama, writing, music, cooking,
dancing or being a leader.`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text1.scale=.5,this.textBG2=this.add.sprite(960,540,"textBG4-11B").setOrigin(.5).setScale(2.1),this.textBG2.alpha=0,this.text2=this.add.rexBBCodeText(960,420,`What are some of your talents? [b]Write down one of your
talents and explain how this is a talent.[/b] Examples - I am a
talented musician because I can sing and play the guitar.`,{fontFamily:"Arial",fontSize:"76px",color:"#000000",align:"center"}).setOrigin(.5).setAlpha(0),this.text2.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",()=>{this.clicks==1?(b.setTexture("stage2"),this.textBG1.alpha=0,this.text1.alpha=0,this.textBG2.alpha=1,this.text2.alpha=1,this.formUtil=new At({scene:this}),this.formUtil.showElement("talents"),this.formUtil.scaleToGameW("talents",.4)):(this.formUtil=new At({scene:this}),this.formUtil.hideElement("talents"),this.scene.start("Scene4_12")),this.clicks++},this),z.y=z.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new st(this,-60,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.formUtil=new At({scene:this}),this.formUtil.hideElement("talents"),this.clicks==2?(b.setTexture("stage1"),this.textBG1.alpha=1,this.text1.alpha=1,this.textBG2.alpha=0,this.text2.alpha=0,this.clicks--):this.scene.start("Scene4_10")},this),V.y=V.y-40,new it(this)}}class Ni extends Phaser.Scene{constructor(){super("Scene4_12")}preload(){this.load.audio("nyc-song",["assets/Audio/Music/4_Level2/nyc-song.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("textBG4-11","assets/Images/General/text-card.png"),this.load.image("bg4-12","assets/Images/4_Level2/night-sky/bg.png"),this.load.image("star4-12","assets/Images/4_Level2/night-sky/star.png"),this.load.image("New","assets/Images/4_Level2/night-sky/new.png"),this.load.image("York","assets/Images/4_Level2/night-sky/york.png"),this.load.image("city","assets/Images/4_Level2/night-sky/city.png"),this.load.image("concert","assets/Images/4_Level2/night-sky/concert.png")}create(){this.music=this.sound.add("nyc-song",{loop:!1}),this.music.play(),this.add.sprite(0,0,"bg4-12").setOrigin(0),this.add.sprite(500,0,"New").setOrigin(0),this.add.sprite(300,200,"York").setOrigin(0).setAngle(-20),this.add.sprite(1200,100,"city").setOrigin(0),this.add.sprite(900,440,"concert").setOrigin(0),this.add.sprite(100,350,"star4-12").setOrigin(0).setScale(.5),this.add.sprite(200,100,"star4-12").setOrigin(0),this.add.sprite(850,500,"star4-12").setOrigin(0).setScale(.3),this.add.sprite(1100,50,"star4-12").setOrigin(0).setScale(.3),this.add.sprite(1800,200,"star4-12").setOrigin(0).setScale(.3),this.add.sprite(1700,440,"star4-12").setOrigin(0).setScale(.3),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const b=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);b.on("pointerdown",()=>{this.scene.start("Scene4_13",{music:this.music}),this.clicks++},this),b.y=b.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new st(this,-60,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene4_11")},this),z.y=z.y-40,new it(this)}}class zi extends Phaser.Scene{constructor(){super("Scene4_13")}init(b){this.music=b.music}preload(){this.load.video("vid4-4","assets/Videos/4_Level2/vid4-4.mp4"),this.load.image("textBG4-13","assets/Images/General/text-card.png")}create(){const b=this.add.video(0,0,"vid4-4");b.setOrigin(0),b.play(),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,275,150,32),this.titleText=this.add.text(55,75,"Security",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),this.add.sprite(1360,840,"textBG4-13").setOrigin(.5).setAlpha(.9).setScale(1.1),this.text=this.add.text(1360,840,`At the concert, security is there to protect
you and the performers. Before entering,
you have to go through a security check-
point.`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",()=>{this.scene.start("Scene4_14",{music:this.music}),this.clicks++},this),z.y=z.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new st(this,-60,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene4_12")},this),V.y=V.y-40,new it(this)}}class Xi extends Phaser.Scene{constructor(){super("Scene4_14")}init(b){this.music=b.music}preload(){this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("textBG4-12","assets/Images/General/text-card.png"),this.load.image("bg4-13","assets/Images/4_Level2/securityBG.jpg")}create(){this.add.sprite(0,0,"bg4-13").setOrigin(0),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,275,150,32),this.titleText=this.add.text(55,75,"Security",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),this.add.sprite(1360,840,"textBG4-12").setOrigin(.5).setAlpha(.9).setScale(1),this.text=this.add.text(1360,840,`You notice that they are confiscating
many things including - alcohol, vape
pens, and laser pointers.`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const b=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);b.on("pointerdown",()=>{this.music.stop(),this.scene.start("Scene4_15")},this),b.y=b.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new st(this,-60,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene4_13")},this),z.y=z.y-40,new it(this)}}class Vi extends Phaser.Scene{constructor(){super("Scene4_15")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("textBG4-14","assets/Images/General/text-card3.png"),this.load.image("bg4-14","assets/Images/4_Level2/securityBG.jpg")}create(){this.add.sprite(0,0,"bg4-14").setOrigin(0),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,1250,150,32),this.titleText=this.add.rexBBCodeText(55,75,"Why would they be confiscating vape pens? [b]Click on all that apply.[/b]",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),this.add.sprite(960,540,"textBG4-14").setOrigin(.5).setAlpha(.9).setScale(2),this.formUtil=new At({scene:this}),this.formUtil.showElement("m4-checkboxes"),this.formUtil.scaleToGameW("m4-checkboxes",.4),this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new vt(this,960-130,1080-60-60,"Submit",this.nextBtnAudio).on("pointerdown",function(){this.formUtil.hideElement("m4-checkboxes");const V=document.getElementById("m4-checkbox-1").checked,K=document.getElementById("m4-checkbox-2").checked,Z=document.getElementById("m4-checkbox-3").checked,p=document.getElementById("m4-checkbox-4").checked;V&&K&&Z&&p?this.scene.start("Scene4_15_correct"):this.scene.start("Scene4_15_incorrect")},this),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new st(this,-60,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene4_14")},this),z.y=z.y-40,new it(this)}}class Ui extends Phaser.Scene{constructor(){super("Scene4_15_correct")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.audio("success-4-15",["assets/Audio/SFX/4_Level2/success.mp3"]),this.load.image("textBG4-15","assets/Images/General/text-card3.png"),this.load.image("bg4-15B","assets/Images/4_Level2/securityBG-blurred.jpg"),this.load.image("correct4-15","assets/Images/4_Level2/correct2.png")}create(){this.successAudio=this.sound.add("success-4-15",{loop:!1}),this.successAudio.play(),this.add.sprite(0,0,"bg4-15B").setOrigin(0),this.add.rectangle(960,540,1920,1080,16777215).setAlpha(.8),this.formUtil=new At({scene:this}),this.formUtil.hideElement("m4-checkboxes"),this.add.sprite(960,540,"textBG4-15").setOrigin(.5).setAlpha(.9).setScale(2),this.text=this.add.rexBBCodeText(960,540,`[b]Correct![/b]
            
            Excellent, yes vape pens are usually not allowed
inside concert venues for all of those reasons.`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.add.sprite(1375,300,"correct4-15").setOrigin(0),this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new vt(this,1920-260-80,1080-60-60,"Continue",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene4_16",{music:this.music})},this)}}class Yi extends Phaser.Scene{constructor(){super("Scene4_15_incorrect")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("fail-4-9",["assets/Audio/SFX/4_Level2/fail.mp3"]),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("textBG4-15","assets/Images/General/text-card3.png"),this.load.image("bg4-15B","assets/Images/4_Level2/securityBG-blurred.jpg"),this.load.image("incorrect4-15","assets/Images/4_Level2/incorrect.png")}create(){this.failAudio=this.sound.add("fail-4-9",{loop:!1}),this.failAudio.play(),this.add.sprite(0,0,"bg4-15B").setOrigin(0),this.add.rectangle(960,540,1920,1080,16777215).setAlpha(.6),this.formUtil=new At({scene:this}),this.formUtil.hideElement("m4-checkboxes"),this.add.sprite(960,540,"textBG4-15").setOrigin(.5).setAlpha(.9).setScale(2),this.text=this.add.rexBBCodeText(960,540,`[b]Not quite![/b]
            
Think about all the options and try again.`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.add.sprite(1500,300,"incorrect4-15").setOrigin(0),this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new vt(this,1920-260-80,1080-60-60,"Try again",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene4_16",{music:this.music})},this)}}class Wi extends Phaser.Scene{constructor(){super("Scene4_16")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("bg4-16","assets/Images/4_Level2/notepad.jpg")}create(){this.add.sprite(0,0,"bg4-16").setOrigin(0),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,1050,150,32),this.titleText=this.add.rexBBCodeText(55,75,"[b]So what do you know about vaping and vape pens?[/b]",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),this.formUtil=new At({scene:this}),this.formUtil.showElement("m4-notepad"),this.formUtil.scaleToGameW("m4-notepad",.4);const b=this.add.graphics();b.fillStyle(48,.55).fillRect(0,0,1920,1080);const z=this.add.image(300,280,"disappointed-person").setOrigin(0),V=this.add.image(1050,330,"text-bubble").setScale(.7);this.textInBubble=this.add.rexBBCodeText(230,135,`Please fill in your answer 
before continuing.`,{fontFamily:"Arial",fontSize:"80px",color:"#000000",align:"center"}).setOrigin(.5,1).setScale(.5),this.textInBubble.copyPosition(V);const K=this.add.image(1050,300,"light-bulb").setScale(.15).setOrigin(-1.48,2.55);K.setAngle(15),K.copyPosition(V);const Z=this.add.image(0,0,"glow-effect").setScale(1).setOrigin(.05,1.1);Z.copyPosition(K),this.noAnswerCtnr=this.add.container(0,0,[b,Z,z,V,this.textInBubble,K,tryAgainBtn]),this.noAnswerCtnr.setAlpha(0),this.failedBell=this.sound.add("failed-bell",{loop:!1}),this.failedBell.setVolume(.4),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const p=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);p.on("pointerdown",()=>{document.getElementById("m4-notepad").value.length===0?(this.formUtil.hideElement("m4-notepad"),this.noAnswerCtnr.setAlpha(1),p.disableInteractive(),S.disableInteractive(),tryAgainBtn.setAlpha(1),this.time.addEvent({delay:500,callback:()=>{this.failedBell.play()},loop:!1})):(this.formUtil.hideElement("m4-notepad"),this.scene.start("Scene4_17",{music:this.music}))},this),p.y=p.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const S=new st(this,-60,540,"next-arrow",this.nextBtnAudio);S.on("pointerdown",function(){this.formUtil.hideElement("m4-notepad"),this.scene.start("Scene4_15")},this),S.y=S.y-40,new it(this)}}class Hi extends Phaser.Scene{constructor(){super("Scene4_17")}preload(){this.load.video("vid4-5","assets/Videos/4_Level2/vid4-5.mp4"),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.audio("cheering-4-17",["assets/Audio/SFX/4_Level2/cheer.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("textBG4-17","assets/Images/General/text-card3.png")}create(){this.cheer=this.sound.add("cheering-4-17",{loop:!1}),this.cheer.play();const b=this.add.video(0,0,"vid4-5");b.setOrigin(0),b.play(),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,350,150,32),this.titleText=this.add.text(55,75,"At the Show",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),this.add.sprite(1460,240,"textBG4-17").setOrigin(.5).setAlpha(.9).setScale(1.1),this.text=this.add.text(1460,240,`At the show you notice some
people snuck in their vapes.`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",()=>{this.scene.start("Scene4_18",{cheer:this.cheer})},this),z.y=z.y-40,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new st(this,-60,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene4_16")},this),V.y=V.y-40,new it(this)}}class Ki extends Phaser.Scene{constructor(){super("Scene4_18")}init(b){this.cheer=b.cheer}preload(){this.load.video("vid4-6","assets/Videos/4_Level2/vid4-6.mp4"),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("textBG4-18","assets/Images/General/text-card3.png")}create(){const b=this.add.video(0,0,"vid4-6");b.setOrigin(0),b.play(),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,350,150,32),this.titleText=this.add.text(55,75,"At the Show",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),this.add.sprite(1460,240,"textBG4-18").setOrigin(.5).setAlpha(.9).setScale(1.1),this.text=this.add.text(1460,240,"So What Exactly is Vaping?",{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",()=>{this.cheer.stop(),this.scene.start("Scene4_19")},this),z.y=z.y-40;const V=new st(this,-60,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene4_17")},this),V.y=V.y-40,new it(this)}}class Zi extends Phaser.Scene{constructor(){super("Scene4_19")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.video("vid4-7","assets/Videos/4_Level2/vid4-7.mp4"),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("textBG4-19","assets/Images/General/text-card3.png")}create(){var b=1;this.cameras.main.setBackgroundColor("#959fe4"),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,580,150,32),this.titleText=this.add.text(55,75,"So What Exactly is Vaping?",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),this.add.sprite(600,540,"textBG4-19").setOrigin(.5).setAlpha(.9).setScale(1.5),this.text=this.add.rexBBCodeText(600,540,`A "vape", or electric cigarette, is a
device that [b]heats up liquid into a
vapor[/b] that can be inhaled. Some
types of vaping devices include pens,
e-cigarettes, and hookahs.`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.text,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",()=>{b==1?this.text.setText(`A liquid substance (commonly called
e-liquid) is [b]converted to an aerosol[/b]
through the process of heating the
liquid into steam`):b==2?this.text.setText(`[b]Vape pens contain nicotine[/b],
hundreds of harmful [b]chemicals and
metals, fake flavoring[/b], and
sometimes THC (weed), or may
even contain fentanyl
(a potentially deadly opioid).`):b==3&&this.scene.start("Scene4_20"),b++},this),z.y=z.y-40;const V=new st(this,-60,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.scene.start("Scene4_18")},this),V.y=V.y-40,new it(this)}}class Ji extends Phaser.Scene{constructor(){super("Scene4_20")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.video("vid4-7","assets/Videos/4_Level2/vid4-7.mp4"),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("textBG4-20","assets/Images/General/text-card2.png")}create(){var b=1;this.cameras.main.setBackgroundColor("#959fe4"),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,250,150,32),this.titleText=this.add.text(55,75,"Nicotine",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]);var z=this.add.sprite(600,540,"textBG4-20").setOrigin(.5).setAlpha(.9).setScale(.9);z.setAlpha(0),this.text=this.add.rexBBCodeText(600,540,"",{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.text,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",()=>{b==1?(z.setAlpha(1),this.text.setText(`Nicotine is a stimulant that
can [b]harm the developing
brain[/b], which [b]continues to
grow until 25 years old[/b]. It
is found in many e-cigarettes
and vapes, though it may
not be labelled.`)):b==2&&this.scene.start("Scene4_21"),b++},this),V.y=V.y-40;const K=new st(this,-60,540,"next-arrow",this.nextBtnAudio);K.on("pointerdown",function(){this.scene.start("Scene4_19")},this),K.y=K.y-40,new it(this)}}class Qi extends Phaser.Scene{constructor(){super("Scene4_21")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.video("vid4-7","assets/Videos/4_Level2/vid4-7.mp4"),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("textBG4-21","assets/Images/General/text-card.png")}create(){this.cameras.main.setBackgroundColor("#959fe4"),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,620,150,32),this.titleText=this.add.text(55,75,"So What's In a Vape or E-cig?",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),this.add.sprite(600,540,"textBG4-21").setOrigin(.5).setAlpha(.9).setScale(1.2),this.text=this.add.rexBBCodeText(600,540,`Vape pens and e-cigs [b]contain chemicals
and metals[/b]. These are just a few of
thousands of [b]harmful and deadly
chemicals[/b] found in vapes and e-cigs:`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.text,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const b=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);b.on("pointerdown",()=>{this.scene.start("Scene4_22")},this),b.y=b.y-40;const z=new st(this,-60,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene4_20")},this),z.y=z.y-40,new it(this)}}class ji extends Phaser.Scene{constructor(){super("Scene4_22")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.video("vid4-7","assets/Videos/4_Level2/vid4-7.mp4"),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("textBG4-22","assets/Images/General/text-card4.png")}create(){this.cameras.main.setBackgroundColor("#959fe4"),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,700,150,32),this.titleText=this.add.text(55,75,"Diacetyl chemical = Popcorn Lung",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),this.add.sprite(600,640,"textBG4-22").setOrigin(.5).setAlpha(.9).setScale(1.7),this.text=this.add.rexBBCodeText(600,640,`A Harvard study found that most
nicotine in e-cigarettes contains a
[b]chemical called dactyl[/b], which [b]can
cause scarring of the air sacs[/b] in the
lungs. This causes airways to thicken
and become narrow, [b]making it harder
to breathe[/b]. This can lead to a disease
called "popcorn lung".

Remember [b]Breathing is the Most
Important Thig We Do As Humans[/b].

[b]Move the slider[/b] to learn more
about normal and a popcorn lung.`,{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.text,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const b=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);b.on("pointerdown",()=>{this.scene.start("Scene4_23")},this),b.y=b.y-40;const z=new st(this,-60,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene4_21")},this),z.y=z.y-40,new it(this)}}class $i extends Phaser.Scene{constructor(){super("Scene4_23")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("speech-bubble-right","assets/Images/4_Level2/speech-bubble-right.png"),this.load.image("bulb","assets/Images/4_Level2/bulb"),this.load.image("char-4-23","assets/Images/4_Level2/alt-effects.png")}create(){this.cameras.main.setBackgroundColor("#959fe4"),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,650,150,32),this.titleText=this.add.text(55,75,"Alternative effects from vaping",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),this.add.sprite(650,900,"char-4-23").setOrigin(.5).setAlpha(.9).setScale(1.3),this.add.sprite(1200,440,"speech-bubble-right").setOrigin(.5).setAlpha(.9).setScale(1.3),this.text=this.add.rexBBCodeText(1200,410,`Let's explore other effects
from vaping. Click on the
next button to continue.`,{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.text,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const b=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);b.on("pointerdown",()=>{this.scene.start("Scene4_24")},this),b.y=b.y-40;const z=new st(this,-60,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene4_22")},this),z.y=z.y-40,new it(this)}}class ki extends Phaser.Scene{constructor(){super("Scene4_24")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.video("vid4-7","assets/Videos/4_Level2/vid4-7.mp4"),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("textBG4-19","assets/Images/General/text-card3.png")}create(){this.cameras.main.setBackgroundColor("#959fe4"),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,580,150,32),this.titleText=this.add.text(55,75,"[b]Click on the buttons below[/b] to explore the alternative effects from vaping",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.titleText.scale=.5,this.titleTextCtnr=this.add.container(0,55,[this.textBg,this.titleText]),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const b=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);b.on("pointerdown",()=>{this.scene.start("Scene4_25")},this),b.y=b.y-40;const z=new st(this,-60,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.scene.start("Scene4_23")},this),z.y=z.y-40,new it(this)}}class qi extends Phaser.Scene{constructor(){super("Scene5_1")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("city-bg","assets/Images/5_Level3/city-bg.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("text-card1","assets/Images/General/text-card2.png")}create(){var b=this.add.sprite(0,0,"city-bg").setOrigin(0);b.displayWidth=this.sys.canvas.width+200,b.displayHeight=this.sys.canvas.height,this.tweens.add({targets:b,ease:"Sine.easeInOut",duration:1e3,x:-200});var z=this.add.sprite(0,0,"text-card1").setOrigin(0);z.x=this.sys.canvas.width/2-z.width/2,z.y=this.sys.canvas.height/2-z.height/2,z.scale=.9,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-530,0,500,150,32),this.tweens.add({targets:z,ease:"Expo.easeIn",alpha:{getStart:()=>0,getEnd:()=>.9},duration:1e3,repeat:0,onComplete:()=>{this.contentText=this.add.rexBBCodeText(z.x+z.width/2,z.y+z.height/2,`
                    Chicago, Illinois is a major center
                    for music, where distinctive forms
                    of jazz, blues, and other genres
                    like electronic dance music (EDM)
                    were developed.
                    `,{fontFamily:"Arial",fontSize:"65px",color:"#000000",align:"center"}).setOrigin(.7,.625),this.contentText.scale=.5,this.tweens.add({targets:this.textBg,x:500,duration:250}),this.instructionText=this.add.text(55,75,"Welcome to Chicago!",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.instructionText.scale=.5,this.instructionTextCtnr=this.add.container(0,55,[this.textBg,this.instructionText])}}),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.nextBtnAudio.play(),this.scene.start("Scene5_2",{})},this),V.y=V.y-40,new wt(5)}}class _i extends Phaser.Scene{constructor(){super("Scene5_2")}preload(){this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.video("vid5-1","assets/Videos/5_Level3/scene5-vid1.mp4"),this.load.image("text-card1","assets/Images/General/text-card2.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png")}create(){const b=this.add.video(0,0,"vid5-1").setOrigin(0);b.width=this.sys.canvas.width,b.height=this.sys.canvas.height,b.play();var z=this.add.sprite(0,0,"text-card1").setOrigin(0);z.x=this.sys.canvas.width/2-z.width/2,z.y=this.sys.canvas.height/2-z.height/2,z.scale=.9,this.tweens.add({targets:z,ease:"Expo.easeIn",alpha:{getStart:()=>0,getEnd:()=>.9},duration:4e3,repeat:0,onComplete:()=>{this.contentText=this.add.rexBBCodeText(z.x+z.width/2,z.y+z.height/2,`
                    Chicago also has many nicknames
                    including "Second City", which refers
                    to the rebuilding effort following the
                    Great Chicago Fire of 1871 that
                    destroyed much of the city.
                    `,{fontFamily:"Arial",fontSize:"65px",color:"#000000",align:"center"}).setOrigin(.7,.625),this.contentText.scale=.5}}),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.nextBtnAudio.play(),this.scene.start("Scene5_3",{})},this),V.y=V.y-40;const K=new st(this,-60,540,"next-arrow",this.nextBtnAudio);K.on("pointerdown",function(){this.nextBtnAudio.play(),this.scene.start("Scene5_1",{})},this),K.y=K.y-40}}class ts extends Phaser.Scene{constructor(){super("Scene5_3")}preload(){this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.video("vid5-2","assets/Videos/5_Level3/scene5-vid2.mp4"),this.load.image("text-card1","assets/Images/General/text-card2.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png")}create(){const b=this.add.video(0,0,"vid5-2").setOrigin(0);b.width=this.sys.canvas.width,b.height=this.sys.canvas.height,b.play();var z=this.add.sprite(0,0,"text-card1").setOrigin(0);z.x=this.sys.canvas.width/2-z.width/2,z.y=this.sys.canvas.height/2-z.height/2,z.scale=.9,z.alpha=.9,this.contentText=this.add.rexBBCodeText(z.x+z.width/2,z.y+z.height/2,`
            Some other names for Chicago include:

            • Chi-Town
            • The Windy City
            • The City by the Lake (Lake Michigan)
            • The Jewel of the Midwest
            • The City Beautiful
            `,{fontFamily:"Arial",fontSize:"65px",color:"#000000",align:"center"}).setOrigin(.65,.6),this.contentText.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.nextBtnAudio.play(),this.scene.start("Scene5_4",{})},this),V.y=V.y-40;const K=new st(this,-60,540,"next-arrow",this.nextBtnAudio);K.on("pointerdown",function(){this.nextBtnAudio.play(),this.scene.start("Scene5_2",{})},this),K.y=K.y-40}}class es extends Phaser.Scene{constructor(){super("Scene5_4")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("wood-bg","assets/Images/5_Level3/letter-scene/wood-bg.png"),this.load.image("envelope","assets/Images/5_Level3/letter-scene/envelope.png"),this.load.image("tick","assets/Images/General/tick.png"),this.load.image("stamp1","assets/Images/5_Level3/letter-scene/stamp1.png"),this.load.image("stamp2","assets/Images/5_Level3/letter-scene/stamp2.png"),this.load.image("stamp3","assets/Images/5_Level3/letter-scene/stamp3.png"),this.load.image("stamp4","assets/Images/5_Level3/letter-scene/stamp4.png"),this.load.image("stamp5","assets/Images/5_Level3/letter-scene/stamp5.png"),this.load.image("stamp6","assets/Images/5_Level3/letter-scene/stamp6.png"),this.load.image("stamp7","assets/Images/5_Level3/letter-scene/stamp7.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("text-card1","assets/Images/General/text-card2.png")}create(){const b=this.add.sprite(0,0,"wood-bg").setOrigin(0);b.width=this.sys.canvas.width,b.height=this.sys.canvas.height,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,500,150,32),this.instructionText=this.add.text(55,75,"Facts about Chicago",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.instructionText.scale=.5,this.instructionTextCtnr=this.add.container(0,55,[this.textBg,this.instructionText]);var z=this.add.sprite(900,40,"text-card1").setOrigin(0);z.scale=.9,z.scaleY=.45,z.alpha=.9,this.contentText=this.add.rexBBCodeText(z.x,z.y,`
            Chicago is famous for many
            things. [b]Click on the 7 stamps[/b] to
            learn more.
            `,{fontFamily:"Arial",fontSize:"65px",color:"#000000",align:"center"}).setOrigin(0,-.1),this.contentText.scale=.5;var V=this.add.sprite(0,0,"envelope").setOrigin(.5);V.x=this.cameras.main.width/2,V.y=this.cameras.main.height/2+100,V.setScale(.9),this.addressText=this.add.rexBBCodeText(950,650,`
            Ms. Haley Whites
            Summer Palm
            Main Street 97
            `,{fontFamily:"Comic Sans MS",fontSize:"65px",color:"#000000",align:"center"}).setOrigin(0,-.1),this.addressText.scale=.5;const K=this.add.sprite(375,350,"stamp1").setOrigin(0);K.setScale(.65),K.angle=5,K.setInteractive({useHandCursor:!0}),K.on("pointerdown",()=>{localStorage.setItem("stamp1","true"),this.scene.start("Scene5_4A")});const Z=this.add.sprite(600,350,"stamp2").setOrigin(0);Z.setScale(.65),Z.angle=1,Z.setInteractive({useHandCursor:!0}),Z.on("pointerdown",()=>{localStorage.setItem("stamp2","true"),this.scene.start("Scene5_4B")});const p=this.add.sprite(775,365,"stamp3").setOrigin(0);p.setScale(.65),p.angle=-3,p.setInteractive({useHandCursor:!0}),p.on("pointerdown",()=>{localStorage.setItem("stamp3","true"),this.scene.start("Scene5_4C")});const S=this.add.sprite(940,350,"stamp4").setOrigin(0);S.setScale(.65),S.angle=1,S.setInteractive({useHandCursor:!0}),S.on("pointerdown",()=>{localStorage.setItem("stamp4","true"),this.scene.start("Scene5_4D")});const t=this.add.sprite(1150,330,"stamp5").setOrigin(0);t.setScale(.65),t.angle=1,t.setInteractive({useHandCursor:!0}),t.on("pointerdown",()=>{localStorage.setItem("stamp5","true"),this.scene.start("Scene5_4E")});const d=this.add.sprite(1100,500,"stamp6").setOrigin(0);d.setScale(.65),d.angle=1,d.setInteractive({useHandCursor:!0}),d.on("pointerdown",()=>{localStorage.setItem("stamp6","true"),this.scene.start("Scene5_4F")});const v=this.add.sprite(1325,350,"stamp7").setOrigin(0);v.setScale(.65),v.angle=-4,v.setInteractive({useHandCursor:!0}),v.on("pointerdown",()=>{localStorage.setItem("stamp7","true"),this.scene.start("Scene5_4G")});const o=this.add.circle(535,530,20,109634);var r=this.add.sprite(535,530,"tick").setOrigin(.5).setScale(.6);localStorage.getItem("stamp1")!="true"&&(o.setAlpha(0),r.setAlpha(0));const n=this.add.circle(610,360,20,109634);var e=this.add.sprite(610,360,"tick").setOrigin(.5).setScale(.6);localStorage.getItem("stamp2")!="true"&&(n.setAlpha(0),e.setAlpha(0));const s=this.add.circle(790,515,20,109634);var h=this.add.sprite(790,515,"tick").setOrigin(.5).setScale(.6);localStorage.getItem("stamp3")!="true"&&(s.setAlpha(0),h.setAlpha(0));const i=this.add.circle(1060,365,20,109634);var a=this.add.sprite(1060,365,"tick").setOrigin(.5).setScale(.6);localStorage.getItem("stamp4")!="true"&&(i.setAlpha(0),a.setAlpha(0));const u=this.add.circle(1150,425,20,109634);var l=this.add.sprite(1150,425,"tick").setOrigin(.5).setScale(.6);localStorage.getItem("stamp5")!="true"&&(u.setAlpha(0),l.setAlpha(0));const f=this.add.circle(1240,620,20,109634);var c=this.add.sprite(1240,620,"tick").setOrigin(.5).setScale(.6);localStorage.getItem("stamp6")!="true"&&(f.setAlpha(0),c.setAlpha(0));const m=this.add.circle(1490,365,20,109634);var x=this.add.sprite(1490,365,"tick").setOrigin(.5).setScale(.6);localStorage.getItem("stamp7")!="true"&&(m.setAlpha(0),x.setAlpha(0)),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const g=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);g.on("pointerdown",function(){this.nextBtnAudio.play(),this.scene.start("Scene5_5",{})},this),g.y=g.y-40;const y=new st(this,-60,540,"next-arrow",this.nextBtnAudio);y.on("pointerdown",function(){this.nextBtnAudio.play(),this.scene.start("Scene5_3",{})},this),y.y=y.y-40,new it(this)}}class is extends Phaser.Scene{constructor(){super("Scene5_4A")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("wood-bg","assets/Images/5_Level3/letter-scene/wood-bg.png"),this.load.image("envelope2","assets/Images/5_Level3/letter-scene/envelope2.png"),this.load.image("city-decal","assets/Images/5_Level3/letter-scene/city-decal.png"),this.load.image("heading-border","assets/Images/5_Level3/letter-scene/heading-border.png"),this.load.image("x-mark","assets/Images/General/x-mark.png")}create(){this.add.sprite(0,0,"wood-bg").setOrigin(0);var b=this.add.sprite(960,540,"envelope2").setOrigin(.5);b.scale=1.4,this.add.sprite(300,300,"city-decal").setOrigin(0),this.add.sprite(1325,325,"heading-border").setOrigin(.5),this.heading=this.add.rexBBCodeText(1325,350,"[b]FACT 1[/b]",{fontFamily:"Arial",fontSize:"84px",color:"#6E260E",align:"center"}).setOrigin(.5),this.heading.scale=.5,this.text=this.add.text(1250,600,`
            Chicago has 28 miles
            of lakefront with 24
            beaches, and more than
            600 parks.`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new xt(this,1920-80,70,"x-mark",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene5_4")},this)}}class ss extends Phaser.Scene{constructor(){super("Scene5_4B")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("wood-bg","assets/Images/5_Level3/letter-scene/wood-bg.png"),this.load.image("envelope2","assets/Images/5_Level3/letter-scene/envelope2.png"),this.load.image("heading-border","assets/Images/5_Level3/letter-scene/heading-border.png"),this.load.image("x-mark","assets/Images/General/x-mark.png"),this.load.image("no-smoking","assets/Images/5_Level3/letter-scene/no-smoking.png"),this.load.image("wavy","assets/Images/5_Level3/letter-scene/wavy.png")}create(){this.add.sprite(0,0,"wood-bg").setOrigin(0);var b=this.add.sprite(960,540,"envelope2").setOrigin(.5);b.scale=1.4,this.add.sprite(950,275,"heading-border").setOrigin(.5),this.add.sprite(1400,250,"wavy").setOrigin(.5),this.heading=this.add.rexBBCodeText(950,300,"[b]FACT 2[/b]",{fontFamily:"Arial",fontSize:"84px",color:"#6E260E",align:"center"}).setOrigin(.5),this.heading.scale=.5,this.subheading1=this.add.rexBBCodeText(950,400,"[b]Smoking indoors was banned[/b]",{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.subheading1.scale=.5,this.add.sprite(950,550,"no-smoking").setOrigin(.5).setScale(.65),this.text=this.add.rexBBCodeText(900,750,`
            Chicago has had its own [b]Clean Indoor Air Ordinance[/b] since 1988, and in 2014,
            the Chicago Clean Indoor Air Act was updated to include e-cigarettes and vapes
            in the law.
            `,{fontFamily:"Arial",fontSize:"76px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.text2=this.add.text(900,860,`
            Fines start at $250 and can reach $2,500 per offense for repeat offenders.
            `,{fontFamily:"Arial",fontSize:"76px",color:"#000000",align:"center",fontStyle:"bold"}).setOrigin(.5),this.text2.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new xt(this,1920-80,70,"x-mark",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene5_4")},this)}}class ns extends Phaser.Scene{constructor(){super("Scene5_4C")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("wood-bg","assets/Images/5_Level3/letter-scene/wood-bg.png"),this.load.image("envelope2","assets/Images/5_Level3/letter-scene/envelope2.png"),this.load.image("heading-border","assets/Images/5_Level3/letter-scene/heading-border.png"),this.load.image("x-mark","assets/Images/General/x-mark.png"),this.load.image("pizza","assets/Images/5_Level3/letter-scene/pizza.png"),this.load.image("wavy","assets/Images/5_Level3/letter-scene/wavy.png")}create(){this.add.sprite(0,0,"wood-bg").setOrigin(0);var b=this.add.sprite(960,540,"envelope2").setOrigin(.5);b.scale=1.4,this.add.sprite(900,275,"heading-border").setOrigin(.5),this.add.sprite(1400,250,"wavy").setOrigin(.5),this.add.sprite(550,650,"pizza").setOrigin(.5).setScale(.6),this.heading=this.add.rexBBCodeText(900,300,"[b]FACT 3[/b]",{fontFamily:"Arial",fontSize:"84px",color:"#6E260E",align:"center"}).setOrigin(.5),this.heading.scale=.5,this.subheading=this.add.rexBBCodeText(900,385,"[b]Chicago Style pizza is world famous too![/b]",{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.subheading.scale=.5,this.text=this.add.rexBBCodeText(1150,650,`
            Chicago style pizza is widely referred to
            simply as [b]deep dish pizza[/b] due to the pan in
            which it is baked.

            Chicago-style pizza may be prepared in deep
            dish style and as a stuffed pizza.

            [b]So do you like the NYC (thin) or Chicago
            (deep dish) style pizza better?[/b]
            `,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new xt(this,1920-80,70,"x-mark",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene5_4")},this)}}class rs extends Phaser.Scene{constructor(){super("Scene5_4D")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("wood-bg","assets/Images/5_Level3/letter-scene/wood-bg.png"),this.load.image("envelope2","assets/Images/5_Level3/letter-scene/envelope2.png"),this.load.image("city-decal","assets/Images/5_Level3/letter-scene/city-decal.png"),this.load.image("heading-border","assets/Images/5_Level3/letter-scene/heading-border.png"),this.load.image("x-mark","assets/Images/General/x-mark.png"),this.load.image("obama","assets/Images/5_Level3/letter-scene/obama.png"),this.load.image("wavy","assets/Images/5_Level3/letter-scene/wavy.png")}create(){this.add.sprite(0,0,"wood-bg").setOrigin(0);var b=this.add.sprite(960,540,"envelope2").setOrigin(.5);b.scale=1.4,this.add.sprite(900,325,"heading-border").setOrigin(.5),this.add.sprite(1500,250,"wavy").setOrigin(.5),this.add.sprite(900,665,"obama").setOrigin(.5).setScale(.9),this.heading=this.add.rexBBCodeText(900,350,"[b]FACT 4[/b]",{fontFamily:"Arial",fontSize:"84px",color:"#6E260E",align:"center"}).setOrigin(.5),this.heading.scale=.5,this.text=this.add.text(1250,590,`
            Barack Obama
            was previously an
            Illinois State
            Senator who lived
            in Chicago.
            `,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new xt(this,1920-80,70,"x-mark",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene5_4")},this)}}class as extends Phaser.Scene{constructor(){super("Scene5_4E")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("wood-bg","assets/Images/5_Level3/letter-scene/wood-bg.png"),this.load.image("envelope2","assets/Images/5_Level3/letter-scene/envelope2.png"),this.load.image("city-decal","assets/Images/5_Level3/letter-scene/city-decal.png"),this.load.image("heading-border","assets/Images/5_Level3/letter-scene/heading-border.png"),this.load.image("x-mark","assets/Images/General/x-mark.png"),this.load.image("brownie","assets/Images/5_Level3/letter-scene/brownie.png"),this.load.image("wavy","assets/Images/5_Level3/letter-scene/wavy.png")}create(){this.add.sprite(0,0,"wood-bg").setOrigin(0);var b=this.add.sprite(960,540,"envelope2").setOrigin(.5);b.scale=1.4,this.add.sprite(950,275,"heading-border").setOrigin(.5),this.add.sprite(1400,260,"wavy").setOrigin(.5),this.add.sprite(625,650,"brownie").setOrigin(.5).setScale(.45),this.heading=this.add.rexBBCodeText(950,300,"[b]FACT 5[/b]",{fontFamily:"Arial",fontSize:"84px",color:"#6E260E",align:"center"}).setOrigin(.5),this.heading.scale=.5,this.subheading=this.add.rexBBCodeText(925,400,"[b]The Brownie and the Twinkie were invented in Chicago[/b]",{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.subheading.scale=.5,this.text=this.add.rexBBCodeText(1200,675,`
            The Brownie was created by a pastry chef
            who wanted to make it easier to eat than pie,
            smaller than cake and easily served in boxed
            lunches.
            The Twinkie was originall filled with banana
            cream, but bananas were scarce during
            WWII, so vanilla cream was substituted.

            [b]What would you rather have,
            a brownie or a twinkie?[/b]
            `,{fontFamily:"Arial",fontSize:"76px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new xt(this,1920-80,70,"x-mark",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene5_4")},this)}}class os extends Phaser.Scene{constructor(){super("Scene5_4F")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("wood-bg","assets/Images/5_Level3/letter-scene/wood-bg.png"),this.load.image("envelope2","assets/Images/5_Level3/letter-scene/envelope2.png"),this.load.image("city-decal","assets/Images/5_Level3/letter-scene/city-decal.png"),this.load.image("heading-border","assets/Images/5_Level3/letter-scene/heading-border.png"),this.load.image("x-mark","assets/Images/General/x-mark.png"),this.load.image("sport","assets/Images/5_Level3/letter-scene/sport.png"),this.load.image("wavy","assets/Images/5_Level3/letter-scene/wavy.png")}create(){this.add.sprite(0,0,"wood-bg").setOrigin(0);var b=this.add.sprite(960,540,"envelope2").setOrigin(.5);b.scale=1.4,this.add.sprite(950,325,"heading-border").setOrigin(.5),this.add.sprite(1500,250,"wavy").setOrigin(.5),this.add.sprite(950,675,"sport").setOrigin(.5).setScale(.75),this.heading=this.add.rexBBCodeText(950,350,"[b]FACT 6[/b]",{fontFamily:"Arial",fontSize:"84px",color:"#6E260E",align:"center"}).setOrigin(.5),this.heading.scale=.5,this.text=this.add.text(900,450,`
            Eight major league sports teams
            `,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new xt(this,1920-80,70,"x-mark",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene5_4")},this)}}class hs extends Phaser.Scene{constructor(){super("Scene5_4G")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("wood-bg","assets/Images/5_Level3/letter-scene/wood-bg.png"),this.load.image("envelope2","assets/Images/5_Level3/letter-scene/envelope2.png"),this.load.image("heading-border","assets/Images/5_Level3/letter-scene/heading-border.png"),this.load.image("x-mark","assets/Images/General/x-mark.png"),this.load.image("curtain","assets/Images/5_Level3/letter-scene/curtain.png"),this.load.image("wavy","assets/Images/5_Level3/letter-scene/wavy.png")}create(){this.add.sprite(0,0,"wood-bg").setOrigin(0);var b=this.add.sprite(960,540,"envelope2").setOrigin(.5);b.scale=1.4,this.add.sprite(950,275,"heading-border").setOrigin(.5),this.add.sprite(1400,250,"wavy").setOrigin(.5),this.add.sprite(950,575,"curtain").setOrigin(.5).setScale(.65),this.heading=this.add.rexBBCodeText(950,300,"[b]FACT 7[/b]",{fontFamily:"Arial",fontSize:"84px",color:"#6E260E",align:"center"}).setOrigin(.5),this.heading.scale=.5,this.text=this.add.text(900,800,`
            Chicago has more than 200 theatres, 250 live music venues,
            and 200 professional dance companies.`,{fontFamily:"Arial",fontSize:"84px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new xt(this,1920-80,70,"x-mark",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene5_4")},this)}}class ls extends Phaser.Scene{constructor(){super("Scene5_5")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("text-card1","assets/Images/General/text-card2.png"),this.load.video("bg","assets/Videos/5_Level3/buildings.mp4")}create(){const b=this.add.video(0,0,"bg").setOrigin(0);b.width=this.sys.canvas.width,b.height=this.sys.canvas.height,b.play();var z=this.add.sprite(0,0,"text-card1").setOrigin(0);z.x=this.sys.canvas.width/2-z.width/2,z.y=this.sys.canvas.height/2-z.height/2,this.contentText=this.add.rexBBCodeText(z.x+z.width/2,z.y+z.height/2,`
            You have landed in Chicago and have 5
            hours to see parts of the city.
            [b]What would you do with that time?[/b]

            Would you go to some of the classic spots?
            [b]Click next[/b] to explore them.
            `,{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(.6,.6),this.contentText.scale=.5,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,500,150,32),this.instructionText=this.add.text(55,75,"What Would YOU Do?",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.instructionText.scale=.5,this.instructionTextCtnr=this.add.container(0,55,[this.textBg,this.instructionText]),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.nextBtnAudio.play(),this.scene.start("Scene5_6",{})},this),V.y=V.y-40;const K=new st(this,-60,540,"next-arrow",this.nextBtnAudio);K.on("pointerdown",function(){this.nextBtnAudio.play(),this.scene.start("Scene5_4",{})},this),K.y=K.y-40,new wt(5)}}class us extends Phaser.Scene{constructor(){super("Scene5_6")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("text-card1","assets/Images/General/text-card2.png"),this.load.video("bg2","assets/Videos/5_Level3/skate-tablet.mp4")}create(){const b=this.add.video(0,0,"bg2").setOrigin(0);b.width=this.sys.canvas.width,b.height=this.sys.canvas.height,b.play(),this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,500,150,32),this.instructionText=this.add.text(55,75,"What Would YOU Do?",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.instructionText.scale=.5,this.instructionTextCtnr=this.add.container(0,55,[this.textBg,this.instructionText]),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.nextBtnAudio.play(),this.scene.start("Scene5_7",{})},this),z.y=z.y-40;const V=new st(this,-60,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.nextBtnAudio.play(),this.scene.start("Scene5_5",{})},this),V.y=V.y-40,new wt(5)}}class ds extends Phaser.Scene{constructor(){super("Scene5_7")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("text-card1","assets/Images/General/text-card2.png"),this.load.image("bg","assets/Images/5_Level3/zoom-buildings.png")}create(){const b=this.add.sprite(0,0,"bg").setOrigin(0);b.width=this.sys.canvas.width,b.height=this.sys.canvas.height;var z=this.add.sprite(0,0,"text-card1").setOrigin(0);z.x=this.sys.canvas.width/2-z.width/2,z.y=this.sys.canvas.height/2-z.height/2,this.contentText=this.add.rexBBCodeText(z.x+z.width/2,z.y+z.height/2,`
            You have landed in Chicago and have 5
            hours to see parts of the city.
            [b]What would you do with that time?[/b]

            Would you go to some of the classic spots?
            [b]Click next[/b] to explore them.
            `,{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(.6,.6),this.contentText.scale=.5,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,750,150,32),this.instructionText=this.add.text(55,75,"OR... go to some other Chicago sights?",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.instructionText.scale=.5,this.instructionTextCtnr=this.add.container(0,55,[this.textBg,this.instructionText]),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.nextBtnAudio.play(),this.scene.start("Scene5_8",{})},this),V.y=V.y-40;const K=new st(this,-60,540,"next-arrow",this.nextBtnAudio);K.on("pointerdown",function(){this.nextBtnAudio.play(),this.scene.start("Scene5_6",{})},this),K.y=K.y-40,new wt(5)}}class fs extends Phaser.Scene{constructor(){super("Scene5_8")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("text-card1","assets/Images/General/text-card2.png"),this.load.image("bg3","assets/Images/5_Level3/hold-tablet.png")}create(){console.log("5-8");const b=this.add.image(0,0,"bg3").setOrigin(0);b.width=this.sys.canvas.width,b.height=this.sys.canvas.height;var z=this.add.sprite(0,0,"text-card1").setOrigin(0);z.x=this.sys.canvas.width/2-z.width/2,z.y=this.sys.canvas.height/2-z.height/2,this.contentText=this.add.rexBBCodeText(z.x+z.width/2,z.y+z.height/2,`
            You have landed in Chicago and have 5
            hours to see parts of the city.
            [b]What would you do with that time?[/b]

            Would you go to some of the classic spots?
            [b]Click next[/b] to explore them.
            `,{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(.6,.6),this.contentText.scale=.5,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,750,150,32),this.instructionText=this.add.rexBBCodeText(-100,75,`
            Let's Get to the Concert!
            [b]How would you travel around Chicago?[/b]
            `,{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.instructionText.scale=.5,this.instructionTextCtnr=this.add.container(0,55,[this.textBg,this.instructionText]),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.nextBtnAudio.play(),this.scene.start("Scene5_9",{})},this),V.y=V.y-40;const K=new st(this,-60,540,"next-arrow",this.nextBtnAudio);K.on("pointerdown",function(){this.nextBtnAudio.play(),this.scene.start("Scene5_7",{})},this),K.y=K.y-40,new wt(5)}}class cs extends Phaser.Scene{constructor(){super("Scene5_9")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("text-card1","assets/Images/General/text-card2.png"),this.load.image("concert-unlit","assets/Images/5_Level3/concert-unlit.png"),this.load.image("concert-lit","assets/Images/5_Level3/concert-lit.png")}create(){const b=this.add.sprite(0,0,"concert-unlit").setOrigin(0);b.width=this.sys.canvas.width,b.height=this.sys.canvas.height;const z=this.add.sprite(0,0,"concert-lit").setOrigin(0);z.width=this.sys.canvas.width,z.height=this.sys.canvas.height,z.alpha=0,this.tweens.add({targets:z,ease:"Sine.easeI",duration:1e3,alpha:1});var V=this.add.sprite(0,0,"text-card1").setOrigin(0);V.x=this.sys.canvas.width/2-V.width/2,V.y=this.sys.canvas.height/2-V.height/2,this.contentText=this.add.rexBBCodeText(V.x+V.width/2,V.y+V.height/2,`
            This famous arena can host Chicago Bulls
            basketball and Chicago Blackhawks hockey. But
            nothing beats the concerts, with star power like
            Rihanna, Lady Gaga, and the Weeknd drawing
            thousands of fans!
            `,{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(.6,.6),this.contentText.scale=.5,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,750,150,32),this.instructionText=this.add.text(55,75,"Welcome to Chicago's United Center!",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.instructionText.scale=.5,this.instructionTextCtnr=this.add.container(0,55,[this.textBg,this.instructionText]),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const K=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);K.on("pointerdown",function(){this.nextBtnAudio.play(),this.scene.start("Scene5_10",{})},this),K.y=K.y-40;const Z=new st(this,-60,540,"next-arrow",this.nextBtnAudio);Z.on("pointerdown",function(){this.nextBtnAudio.play(),this.scene.start("Scene5_8",{})},this),Z.y=Z.y-40,new wt(5)}}class vs extends Phaser.Scene{constructor(){super("Scene5_10")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("text-card1","assets/Images/General/text-card2.png"),this.load.image("concert-lit","assets/Images/5_Level3/concert-lit.png")}create(){this.background=this.add.sprite(0,0,"concert-lit").setOrigin(0),this.background.width=this.sys.canvas.width,this.background.height=this.sys.canvas.height;var b=this.add.sprite(0,0,"text-card1").setOrigin(0);b.x=this.sys.canvas.width/2-b.width/2,b.y=this.sys.canvas.height/2-b.height/2,this.contentText=this.add.rexBBCodeText(b.x+b.width/2,b.y+b.height/2,`
            Tonight you have the option to see a few
            performers who are unique and aren't afraid
            to show it.

            [b]Who do you want to see?[/b]
            `,{fontFamily:"Arial",fontSize:"72px",color:"#000000",align:"center"}).setOrigin(.6,.6),this.contentText.scale=.5,this.textBg=this.add.graphics(),this.textBg.fillStyle(16777215,1),this.textBg.fillRoundedRect(-30,0,750,150,32),this.instructionText=this.add.text(55,75,"Welcome to Chicago's United Center!",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.instructionText.scale=.5,this.instructionTextCtnr=this.add.container(0,55,[this.textBg,this.instructionText]),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const z=new nt(this,1920-90,540,"next-arrow",this.nextBtnAudio);z.on("pointerdown",function(){this.nextBtnAudio.play(),this.scene.start("Scene5_11",{})},this),z.y=z.y-40;const V=new st(this,-60,540,"next-arrow",this.nextBtnAudio);V.on("pointerdown",function(){this.nextBtnAudio.play(),this.scene.start("Scene5_9",{})},this),V.y=V.y-40,new wt(5)}}class ps extends Phaser.Scene{constructor(){super("Scene6OnTheWay")}preload(){var b=this.add.graphics(),z=this.add.graphics();z.fillStyle(2236962,.8),z.fillRect(240,270,320,50);var V=this.cameras.main.width,K=this.cameras.main.height,Z=this.make.text({x:V/2,y:K/2-50,text:"Loading...",style:{font:"20px monospace",fill:"#ffffff"}});Z.setOrigin(.5,.5);var p=this.make.text({x:V/2,y:K/2-5,text:"0%",style:{font:"18px monospace",fill:"#ffffff"}});p.setOrigin(.5,.5),this.load.on("progress",function(S){p.setText(parseInt(S*100)+"%"),b.clear(),b.fillStyle(16777215,1),b.fillRect(250,280,300*S,30)}),this.load.on("complete",function(){b.destroy(),z.destroy(),Z.destroy(),p.destroy()})}create(){new UnlockModule(6)}}class gs extends Phaser.Scene{constructor(){super("Scene7_1")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("text-bg","/assets/Images/7_Level4/sprite/text-bg.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("las-vegas-sign","/assets/Images/7_Level4/sprite/las-vegas-sign.png"),this.load.image("star","/assets/Images/7_Level4/sprite/star.png")}create(){this.cameras.main.setBackgroundColor("#f9f2e8");var b=this.add.sprite(50,230,"las-vegas-sign").setOrigin(0);b.setScale(1.4,1.3);var z=this.add.sprite(175,363,"star").setOrigin(0);z.setScale(.5),this.tileBg=this.add.graphics(),this.tileBg.fillStyle(16777215,1),this.tileBg.fillRoundedRect(-30,0,535,150,32),this.tileText=this.add.text(75,75,"Welcome to Las Vegas!",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.tileText.scale=.5,this.tileCtnr=this.add.container(0,55,[this.tileBg,this.tileText]),this.instructionTextBg=this.add.sprite(1190,18,"text-bg").setOrigin(.2,-.1).setScale(.8,1.8),this.instructionText=this.add.rexBBCodeText(1220,20,`Las Vegas, Nevada is known 
as one of the greatest 
entertainment hotspots in the 
world.
            
             

In Vegas you can choose 
between watching chart-
topping musical acts, world 
class dance acts, massive light 
shows and mind-bending magic 
shows!
            `,{fontFamily:"Arial",fontSize:"70px",color:"#000000",align:"center"}).setOrigin(.17,-.4),this.instructionText.scale=.5,this.instructionTextBg.alpha=0,this.instructionText.alpha=0,this.tweens.chain({tweens:[{targets:[this.instructionTextBg],alpha:1,delay:200,duration:1e3,repeat:0},{targets:[this.instructionText],alpha:1,duration:100,repeat:0}]}),this.tweens.chain({tweens:[{targets:z,alpha:0,repeat:0,duration:1e3},{targets:z,alpha:1,repeat:0,duration:1e3},{targets:z,alpha:0,repeat:0,duration:1e3},{targets:z,alpha:1,repeat:0,duration:1e3}]}),this.clicks=0,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const V=new nt(this,1920-90,500,"next-arrow",this.nextBtnAudio),K=new st(this,-60,500,"next-arrow",this.nextBtnAudio);K.on("pointerdown",function(){this.clicks==1&&(K.alpha=1,this.instructionText.setText(`Las Vegas, Nevada is known 
as one of the greatest 
entertainment hotspots in the 
world.
            
             

In Vegas you can choose 
between watching chart-
topping musical acts, world 
class dance acts, massive light 
shows and mind-bending magic 
shows!
            `),this.instructionText.setY(20),this.instructionText.setX(1220),this.instructionText.setOrigin(.17,-.4),this.instructionText.setStyle({fontFamily:"Arial",fontSize:"70px",color:"#000000",align:"center"}),this.instructionTextBg.setScale(.8,1.8),this.instructionTextBg.setY(-.2),this.instructionText.alpha=0,this.instructionTextBg.alpha=0,this.tweens.chain({tweens:[{targets:[this.instructionTextBg],alpha:1,delay:200,duration:1e3,repeat:0},{targets:[this.instructionText],alpha:1,duration:100,repeat:0}]}),this.clicks=0)},this),K.alpha=0,V.on("pointerdown",function(){this.instructionText.alpha=1,this.clicks==0?(K.alpha=1,this.instructionText.setText(`Many of the world's biggest starts 
have had high profile shows 
in Las Vegas.

 From golden age stars of the past 
like Elvis Presley and Frank 
 Sinatra or more modern crowd-
pleasers such as Harry Styles, J
-Lo, Adele, Usher, Drake, Bruno 
 Mars, and even America's Got 
Talent, it's clear Vegas is a great 
place to catch top talent from the 
entertainment world.`),this.instructionText.setY(130),this.instructionText.setX(1195),this.instructionText.setStyle({fontFamily:"Arial",fontSize:"70px",color:"#000000",align:"center"}),this.instructionTextBg.setScale(.8,1.6),this.instructionTextBg.setY(60),this.instructionText.alpha=0,this.instructionTextBg.alpha=0,this.tweens.chain({tweens:[{targets:[this.tileText],alpha:1,repeat:0,duration:500},{targets:[this.instructionTextBg],alpha:1,delay:200,duration:1e3,repeat:0},{targets:[this.instructionText],alpha:1,duration:100,repeat:0}]})):this.clicks==1&&this.scene.start("Scene7_2"),this.clicks++},this),new it(this)}}class ms extends Phaser.Scene{constructor(){super("Scene7_2")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("text-bg","/assets/Images/7_Level4/sprite/text-bg.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("bg-7-2","assets/Images/7_Level4/Backgrounds/background-3.jpg")}create(){this.add.sprite(0,0,"bg-7-2").setOrigin(0),this.instructionTextBg=this.add.sprite(630,210,"text-bg").setOrigin(.2,-.2).setScale(1.3,.91),this.instructionText=this.add.rexBBCodeText(537,430,`With hundreds of live acts a week, including 
musicians, magicians, dancers, acrobats, 
comedians, impersonators, stunt people, aerial 
acts, light shows and even dog shows, ranging 
from free to over $1000 a show there is 
something for almost everyone.`,{fontFamily:"Arial",fontSize:"75px",color:"#000000",align:"center"}).setOrigin(0,0),this.instructionText.scale=.5,this.instructionTextBg.alpha=0,this.instructionText.alpha=0,this.tileBg=this.add.graphics(),this.tileBg.fillStyle(16777215,1),this.tileBg.fillRoundedRect(-30,0,500,150,32),this.tileText=this.add.text(75,75,"Other Vegas Facts",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.tileText.scale=.5,this.tileCtnr=this.add.container(0,55,[this.tileBg,this.tileText]),this.tweens.chain({tweens:[{targets:[this.textBg],x:200,ease:"power3",repeat:0,duration:500},{targets:[this.tileText],alpha:1,repeat:0,duration:500},{targets:[this.instructionTextBg],alpha:1,delay:200,duration:1e3,repeat:0},{targets:[this.instructionText],alpha:1,duration:100,repeat:0}]}),this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new nt(this,1920-90,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_3",{music:this.music})},this),new st(this,-60,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_1")},this),new it(this)}}class xs extends Phaser.Scene{constructor(){super("Scene7_3")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("text-bg","/assets/Images/7_Level4/sprite/text-bg.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("bg-7-3","assets/Images/7_Level4/Backgrounds/background-4.jpg"),this.load.image("envelope","/assets/Images/7_Level4/sprite/envelope/envelope.png"),this.load.image("stamp-1","/assets/Images/7_Level4/sprite/envelope/stamp1.png"),this.load.image("stamp-2","/assets/Images/7_Level4/sprite/envelope/stamp2.png"),this.load.image("stamp-3","/assets/Images/7_Level4/sprite/envelope/stamp3.png"),this.load.image("tick","assets/Images/General/tick.png"),this.load.image("letter-address","assets/Images/7_Level4/sprite/envelope/letter-info.png")}create(){this.add.sprite(0,0,"bg-7-3").setOrigin(0),this.instructionTextBg=this.add.sprite(910,40,"text-bg").setOrigin(0).setScale(.97,.5),this.instructionTextBg.alpha=1,this.instructionText=this.add.rexBBCodeText(989,110,`Las Vegas is famous for many 
 things. Click on the 3 stamps to 
learn more.`,{fontFamily:"Arial",fontSize:"78px",color:"#000000",align:"center"}).setOrigin(0),this.instructionText.scale=.5,this.envelop=this.add.sprite(370,350,"envelope").setOrigin(0).setScale(.7),this.letterAddress=this.add.sprite(997,703,"letter-address").setOrigin(0).setScale(1),this.tileBg=this.add.graphics(),this.tileBg.fillStyle(16777215,1),this.tileBg.fillRoundedRect(-30,0,500,150,32),this.tileText=this.add.text(75,75,"Other Vegas Facts",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.tileText.scale=.5,this.tileCtnr=this.add.container(0,55,[this.tileBg,this.tileText]),this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new nt(this,1920-90,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){localStorage.removeItem("stamp1"),localStorage.removeItem("stamp2"),localStorage.removeItem("stamp3"),this.scene.start("Scene7_4",{music:this.music})},this),new st(this,-60,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){localStorage.removeItem("stamp1"),localStorage.removeItem("stamp2"),localStorage.removeItem("stamp3"),this.scene.start("Scene7_2")},this);var V=this.add.sprite(730,395,"stamp-1").setOrigin(0);V.angle=0,V.setScale(.48,.45),V.setInteractive({useHandCursor:!0}),V.on("pointerdown",()=>{this.nextBtnAudio.play(),localStorage.setItem("stamp1","true"),this.scene.start("Scene7_3A")});var K=this.add.sprite(997,460,"stamp-2").setOrigin(0);K.setScale(.5),K.angle=0,K.setInteractive({useHandCursor:!0}),K.on("pointerdown",()=>{this.nextBtnAudio.play(),localStorage.setItem("stamp2","true"),this.scene.start("Scene7_3B")});var Z=this.add.sprite(1220,440,"stamp-3").setOrigin(0);Z.setScale(.58,.52),Z.angle=5,Z.setInteractive({useHandCursor:!0}),Z.on("pointerdown",()=>{this.nextBtnAudio.play(),localStorage.setItem("stamp3","true"),this.scene.start("Scene7_3C")});const p=this.add.circle(930+40,380+40,30,109634);var S=this.add.sprite(930+40,380+40,"tick").setOrigin(.5);localStorage.getItem("stamp1")!=="true"&&(p.setAlpha(0),S.setAlpha(0));const t=this.add.circle(1300-285,510+180,30,109634);var d=this.add.sprite(1300-285,510+180,"tick").setOrigin(.5);localStorage.getItem("stamp2")!=="true"&&(t.setAlpha(0),d.setAlpha(0));const v=this.add.circle(1480-240,400+44,30,109634);var o=this.add.sprite(1480-240,400+44,"tick").setOrigin(.5);localStorage.getItem("stamp3")!=="true"&&(v.setAlpha(0),o.setAlpha(0)),new it(this)}}class ys extends Phaser.Scene{constructor(){super("Scene7_3A")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("wood-bg","/assets/Images/7_Level4/Backgrounds/background-4.jpg"),this.load.image("x-mark","assets/Images/General/x-mark.png"),this.load.image("wave","assets/Images/7_Level4/sprite/envelope/wave.png"),this.load.image("text-bg-4-4","assets/Images/General/text-card.png"),this.load.image("rabbit-in-hat","assets/Images/7_Level4/sprite/envelope/rabbit-in-hat.png"),this.load.image("tile-border","assets/Images/7_Level4/sprite/envelope/tile-border.png"),this.load.image("blank-envelope","assets/Images/4_Level2/stamps/envelope2.png")}create(){this.cameras.main.setBackgroundColor("#000000");var b=this.add.sprite(0,0,"wood-bg").setOrigin(0);b.alpha=.2;var z=this.add.sprite(960,540,"blank-envelope").setOrigin(.5);z.scale=1.4;var V=this.add.sprite(960,240,"tile-border").setOrigin(.5);V.setScale(1.05,.78),this.heading=this.add.rexBBCodeText(960,265,"[b]FACT 1[/b]",{fontFamily:"Arial",fontSize:"78px",color:"#964B00",align:"center"}).setOrigin(.5),this.heading.scale=.5,this.add.sprite(1540,255,"wave").setOrigin(.5);var K=this.add.sprite(495,540,"rabbit-in-hat").setOrigin(.5);K.scale=.6,this.text=this.add.text(1260,630,`World famous magic and comedy 
duo, Penn & Teller. 

The Penn and Teller Show in Las 
Vegas is one of the longest 
running shows in Vegas.`,{fontFamily:"Arial",fontSize:"85px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new xt(this,1920-80,70+10,"x-mark",this.nextBtnAudio).on("pointerdown",function(){localStorage.setItem("stamp1","true"),this.scene.start("Scene7_3")},this)}}class Ts extends Phaser.Scene{constructor(){super("Scene7_3B")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("wood-bg","/assets/Images/7_Level4/Backgrounds/background-4.jpg"),this.load.image("x-mark","assets/Images/General/x-mark.png"),this.load.image("wave","assets/Images/7_Level4/sprite/envelope/wave.png"),this.load.image("text-bg-4-4","assets/Images/General/text-card.png"),this.load.image("circus","assets/Images/7_Level4/sprite/envelope/circus.png"),this.load.image("tile-border","assets/Images/7_Level4/sprite/envelope/tile-border.png"),this.load.image("blank-envelope","assets/Images/4_Level2/stamps/envelope2.png")}create(){this.cameras.main.setBackgroundColor("#000000");var b=this.add.sprite(0,0,"wood-bg").setOrigin(0);b.alpha=.2;var z=this.add.sprite(960,540,"blank-envelope").setOrigin(.5);z.scale=1.4;var V=this.add.sprite(960,240,"tile-border").setOrigin(.5);V.setScale(1.05,.78),this.heading=this.add.rexBBCodeText(960,265,"[b]FACT 2[/b]",{fontFamily:"Arial",fontSize:"78px",color:"#964B00",align:"center"}).setOrigin(.5),this.heading.scale=.5,this.subTile=this.add.rexBBCodeText(1260,395,"[b]Cirque du Soleil[/b]",{fontFamily:"Arial",fontSize:"50px",color:"#000000",align:"center"}).setOrigin(.5),this.heading.scale=.5,this.add.sprite(1540,255,"wave").setOrigin(.5);var K=this.add.sprite(495+19,541,"circus").setOrigin(.5);K.scale=.5,this.text=this.add.text(1260,630,`Or French for "Circus of the Sun", has grown to 
over 300 cities and 6 continents! This surreal 
art, music, magic, and circus mashup has been 
 a crowd favorite around the world. 

These shows in Las Vegas play to more than 
9000 people a night, adding to the over 100 
million people who have seen Cirque du soleil 
productions worldwide.`,{fontFamily:"Arial",fontSize:"65px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new xt(this,1920-80,70+10,"x-mark",this.nextBtnAudio).on("pointerdown",function(){localStorage.setItem("stamp2","true"),this.scene.start("Scene7_3")},this)}}class Ss extends Phaser.Scene{constructor(){super("Scene7_3C")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("wood-bg","/assets/Images/7_Level4/Backgrounds/background-4.jpg"),this.load.image("x-mark","assets/Images/General/x-mark.png"),this.load.image("wave","assets/Images/7_Level4/sprite/envelope/wave.png"),this.load.image("text-bg-4-4","assets/Images/General/text-card.png"),this.load.image("3blue-man","assets/Images/7_Level4/sprite/envelope/3blue-man.png"),this.load.image("tile-border","assets/Images/7_Level4/sprite/envelope/tile-border.png"),this.load.image("blank-envelope","assets/Images/4_Level2/stamps/envelope2.png")}create(){this.cameras.main.setBackgroundColor("#000000");var b=this.add.sprite(0,0,"wood-bg").setOrigin(0);b.alpha=.2;var z=this.add.sprite(960,540,"blank-envelope").setOrigin(.5);z.scale=1.4;var V=this.add.sprite(960,240,"tile-border").setOrigin(.5);V.setScale(1.05,.78),this.heading=this.add.rexBBCodeText(960,265,"[b]FACT 3[/b]",{fontFamily:"Arial",fontSize:"78px",color:"#964B00",align:"center"}).setOrigin(.5),this.heading.scale=.5,this.subTile=this.add.rexBBCodeText(960,345,"[b]Blue Man Group[/b]",{fontFamily:"Arial",fontSize:"45px",color:"#000000",align:"center"}).setOrigin(.5),this.heading.scale=.5,this.add.sprite(1390,255,"wave").setOrigin(.5);var K=this.add.sprite(640,640,"3blue-man").setOrigin(.5);K.scale=.45,this.text=this.add.text(1280,730,`Whether you've heard of 
them or not, it's exactly 
 what it sounds 
like...almost. 
Yes, they are blue and
 yes they are a men in a 
group, but their
 performance is very 
dynamic.`,{fontFamily:"Arial",fontSize:"75px",color:"#000000",align:"center"}).setOrigin(.5),this.text.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new xt(this,1920-80,70+10,"x-mark",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_3")},this)}}class Cs extends Phaser.Scene{constructor(){super("Scene7_4")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("text-bg","/assets/Images/7_Level4/sprite/text-bg.png"),this.load.image("person","/assets/Images/7_Level4/sprite/senses/person-eat-apple.png"),this.load.image("sight","/assets/Images/7_Level4/sprite/senses/sightSprite/sight.png"),this.load.image("sight-connect-line","/assets/Images/7_Level4/sprite/senses/sightSprite/sightLine.png"),this.load.image("hearing","/assets/Images/7_Level4/sprite/senses/hearingSprite/hearing.png"),this.load.image("hearing-connect-line","/assets/Images/7_Level4/sprite/senses/hearingSprite/hearingLine.png"),this.load.image("taste","/assets/Images/7_Level4/sprite/senses/tasteSprite/taste.png"),this.load.image("taste-connect-line","/assets/Images/7_Level4/sprite/senses/tasteSprite/taste-connect-line.png"),this.load.image("smell","/assets/Images/7_Level4/sprite/senses/smellSprite/smell.png"),this.load.image("smell-connect-line","/assets/Images/7_Level4/sprite/senses/smellSprite/smell-connect-line.png"),this.load.image("touch","/assets/Images/7_Level4/sprite/senses/touchSprite/touch.png"),this.load.image("touch-connect-line","/assets/Images/7_Level4/sprite/senses/touchSprite/touch-connect-line.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png")}create(){this.cameras.main.setBackgroundColor("#f9f2e8"),this.tileBg=this.add.graphics(),this.tileBg.fillStyle(16777215,1),this.tileBg.fillRoundedRect(-30,0,290,150,32),this.tileText=this.add.text(75,75,"Senses",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.tileText.scale=.5,this.tileCtnr=this.add.container(0,55,[this.tileBg,this.tileText]),this.instructionTextBg=this.add.sprite(1e3,-500,"text-bg").setOrigin(.2,-.2).setScale(1.8,1.38),this.instructionText=this.add.rexBBCodeText(878,53,`You are most likely familiar with the [b]main 5 senses -[/b] 
Hearing, Seeing, Taste, Touch and Smell. 
They are extremly beneficial for our daily lives and 
also just like the brain or the body, 
 they too can get [b]can get tired or overloaded.[/b]`,{fontFamily:"Arial",fontSize:"80px",color:"#000000",align:"center"}).setOrigin(0).setScale(1.3,1),this.instructionText.scale=.5,this.sightConnectLine=this.add.sprite(0,0,"sight-connect-line").setOrigin(-.25,-1.088).setScale(.5),this.sight=this.add.sprite(420,180,"sight").setOrigin(0).setScale(.5),this.sightConnectLine.copyPosition(this.sight),this.sightText=this.add.text(55,75,"Sight",{fontFamily:"Arial",fontSize:"42px",color:"#000000"}).setOrigin(-1.18,-5.45),this.sightText.copyPosition(this.sight),this.SightCtnr=this.add.container(0,100,[this.sight,this.sightConnectLine,this.sightText]),this.hearingConnectLine=this.add.sprite(0,0,"hearing-connect-line").setOrigin(-.18,-1.48).setScale(.5),this.hearing=this.add.sprite(175,380,"hearing").setOrigin(0).setScale(.5),this.hearingConnectLine.copyPosition(this.hearing),this.hearingText=this.add.text(55,75,"Hearing",{fontFamily:"Arial",fontSize:"42px",color:"#000000"}).setOrigin(-1.18,-5),this.hearingText.copyPosition(this.hearing),this.hearingCtnr=this.add.container(0,100,[this.hearing,this.hearingConnectLine,this.hearingText]),this.tasteConnectLine=this.add.sprite(0,0,"taste-connect-line").setOrigin(-.51,.37).setScale(.5),this.taste=this.add.sprite(375,699,"taste").setOrigin(0).setScale(.5),this.tasteConnectLine.copyPosition(this.taste),this.tasteText=this.add.text(55,75,"Taste",{fontFamily:"Arial",fontSize:"42px",color:"#000000"}).setOrigin(-2.35,-1.45),this.tasteText.copyPosition(this.taste),this.tasteCtnr=this.add.container(-13,100,[this.taste,this.tasteConnectLine,this.tasteText]),this.person=this.add.sprite(770,500,"person").setOrigin(0).setScale(.8),this.smellConnectLine=this.add.sprite(0,0,"smell-connect-line").setOrigin(1,-.85).setScale(.5),this.smell=this.add.sprite(1375,250,"smell").setOrigin(0).setScale(.5),this.smellConnectLine.copyPosition(this.smell),this.smellText=this.add.text(55,75,"Smell",{fontFamily:"Arial",fontSize:"42px",color:"#000000"}).setOrigin(1.3,-1.45),this.smellText.copyPosition(this.smell),this.smellCtnr=this.add.container(93,238,[this.smell,this.smellConnectLine,this.smellText]),this.touchConnectLine=this.add.sprite(0,0,"touch-connect-line").setOrigin(1,.25).setScale(.5),this.touch=this.add.sprite(1375,550,"touch").setOrigin(0).setScale(.5),this.touchConnectLine.copyPosition(this.touch),this.touchText=this.add.text(55,75,"Touch",{fontFamily:"Arial",fontSize:"42px",color:"#000000"}).setOrigin(1.3,-1),this.touchText.copyPosition(this.touch),this.touchCtnr=this.add.container(3,258,[this.touch,this.touchConnectLine,this.touchText]),this.person=this.add.sprite(770,500,"person").setOrigin(0).setScale(.8),this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new nt(this,1920-90,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_5",{music:this.music})},this),new st(this,-60,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_3")},this),new SaveProgress(this)}}class As extends Phaser.Scene{constructor(){super("Scene7_5")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.video("vid7_5","/assets/Videos/7_Level4/Scene7_5-vid.mp4"),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png")}create(){this.cameras.main.setBackgroundColor("#000000"),this.vid=this.add.video(0,0,"vid7_5"),this.vid.setOrigin(0),this.vid.play(),this.tileBg=this.add.graphics(),this.tileBg.fillStyle(16777215,1),this.tileBg.fillRoundedRect(-30,0,600,150,32),this.tileText=this.add.text(75,75,"What is Sensory Overload?",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.tileText.scale=.5,this.tileCtnr=this.add.container(0,55,[this.tileBg,this.tileText]),this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new nt(this,1920-90,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_6",{music:this.music})},this),new st(this,-60,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_4")},this),new it(this),this.progressBar=this.add.graphics()}update(){this.progressBar.clear();const b=1920;this.progressBar.fillStyle(19117),this.progressBar.fillRect(0,1080-10,b*this.vid.getProgress(),10)}}class Es extends Phaser.Scene{constructor(){super("Scene7_6")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.audio("circle-click",["assets/Audio/SFX/7_Level4/chime-sound.mp3"]),this.load.image("bg-7-6","assets/Images/7_Level4/Backgrounds/background-5.jpg"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("text-bg","assets/Images/7_Level4/sprite/text-bg.png"),this.load.image("pointer","assets/Images/7_Level4/sprite/sensory-overload/yellow-pointer.png"),this.load.image("cir1-pic","assets/Images/7_Level4/sprite/sensory-overload/hot-chili.png"),this.load.image("cir2-pic","assets/Images/7_Level4/sprite/sensory-overload/touch-iron.png"),this.load.image("cir3-pic","assets/Images/7_Level4/sprite/sensory-overload/foumart.png")}create(){this.add.sprite(0,0,"bg-7-6").setOrigin(0),this.circleClickAudio=this.sound.add("circle-click",{loop:!1}),this.instructionTextBg=this.add.sprite(670,-180,"text-bg").setOrigin(0).setScale(1.91,1.1),this.instructionText=this.add.rexBBCodeText(837,80,`There is a wide spectrum of how it affects people. 
Can you think of other examples of sensoru overload? 
Flip the cards to see examples of the other possible 
sensory overload.`,{fontFamily:"Arial",fontSize:"80px",color:"#000000",align:"center"}).setOrigin(0,0),this.instructionText.scale=.5,this.tileBg=this.add.graphics(),this.tileBg.fillStyle(16777215,1),this.tileBg.fillRoundedRect(-30,0,600,150,32),this.tileText=this.add.text(75,75,"What is Sensory Overload?",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.tileText.scale=.5,this.tileCtnr=this.add.container(0,55,[this.tileBg,this.tileText]),this.pointer=this.add.sprite(670,380,"pointer").setScale(.3);const b=this.add.circle(340,760,80,4294967295);b.setStrokeStyle(1.8,3097418),b.setScale(2.9),this.cir1Text=this.add.rexBBCodeText(b.x,b.y,"Taste",{fontFamily:"Arial",fontSize:"110px",color:"#000000",align:"center"}).setOrigin(.5),this.cir1Text.scale=.5,b.setInteractive({useHandCursor:!0}),this.cir1Pic=this.add.sprite(b.x,b.y,"cir1-pic").setOrigin(.5).setScale(.8),this.cir1Pic.alpha=0;var z=!1;b.on("pointerdown",()=>{z=!z,this.circleClickAudio.play(),z?(this.cir1Text.alpha=0,this.cir1Pic.alpha=1):(this.cir1Text.alpha=1,this.cir1Pic.alpha=0)});const V=this.add.circle(940,760,80,4294967295);V.setStrokeStyle(1.8,3097418),V.setScale(2.9),this.cir2Text=this.add.rexBBCodeText(V.x,V.y,"Touch",{fontFamily:"Arial",fontSize:"110px",color:"#000000",align:"center"}).setOrigin(.5),this.cir2Text.scale=.5,V.setInteractive({useHandCursor:!0}),this.cir2Pic=this.add.sprite(V.x,V.y,"cir2-pic").setOrigin(.5).setScale(.663),this.cir2Pic.alpha=0;var K=!1;V.on("pointerdown",()=>{K=!K,this.circleClickAudio.play(),K?(this.cir2Text.alpha=0,this.cir2Pic.alpha=1):(this.cir2Text.alpha=1,this.cir2Pic.alpha=0)});const Z=this.add.circle(1540,760,80,4294967295);Z.setStrokeStyle(1.8,3097418),Z.setScale(2.9),this.cir3Text=this.add.rexBBCodeText(Z.x,Z.y,"Smell",{fontFamily:"Arial",fontSize:"110px",color:"#000000",align:"center"}).setOrigin(.5),this.cir3Text.scale=.5,Z.setInteractive({useHandCursor:!0}),this.cir3Pic=this.add.sprite(Z.x,Z.y,"cir3-pic").setOrigin(.5).setScale(.16),this.cir3Pic.alpha=0;var p=!1;Z.on("pointerdown",()=>{p=!p,this.circleClickAudio.play(),p?(this.cir3Text.alpha=0,this.cir3Pic.alpha=1):(this.cir3Text.alpha=1,this.cir3Pic.alpha=0)}),this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new nt(this,1920-90,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_7",{music:this.music})},this),new st(this,-60,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_5")},this),new it(this)}}class Et extends Phaser.GameObjects.Container{constructor(b,z,V,K,Z,p,S,t,d,v){super(b),this.scene=b,this.x=z,this.y=V;const o=this.scene.add.graphics();o.fillStyle(19117,1).fillRoundedRect(0,0,K,Z,8).lineStyle(7,16777215,1).strokeRoundedRect(0,0,K,Z,8);const r=this.scene.add.text(0,0,p,{fontFamily:"Arial",fontSize:`${S}px`,fontStyle:"bold"}).setOrigin(t,d);r.scale=.5,this.add(o),this.add(r),this.setInteractive(new Phaser.Geom.Rectangle(0,0,K,Z),Phaser.Geom.Rectangle.Contains),this.on("pointerover",function(){o.clear().fillStyle(24800,1).fillRoundedRect(0,0,K,Z,8).lineStyle(7,16777215,2).strokeRoundedRect(0,0,K,Z,8),this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="pointer"}),this.on("pointerout",function(){o.clear().fillStyle(19117,1).fillRoundedRect(0,0,K,Z,8).lineStyle(7,16777215,2).strokeRoundedRect(0,0,K,Z,8),this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.style.cursor="default"}),this.on("pointerdown",()=>{v.play()}),this.scene.add.existing(this)}}class Ot extends Phaser.GameObjects.Container{constructor(b,z,V,K,Z,p,S,t,d,v,o){super(b),this.scene=b,this.x=z,this.y=V;const r=this.scene.add.graphics();r.fillStyle(16777215,1),r.fillRoundedRect(0,0,K,Z,p);const n=this.scene.add.text(0,0,S,{fontFamily:"Arial",fontSize:`${t}px`,fontStyle:"",align:"center",color:"#000000"}).setOrigin(d,v);switch(n.scale=.5,o){case"top-left":var e=Phaser.Geom.Triangle.BuildRight(-25,63,60,60);e=Phaser.Geom.Triangle.Rotate(e,120.17),r.fillTriangleShape(e);break;case"middle-left":var e=Phaser.Geom.Triangle.BuildRight(-25,Z/2,60,60);e=Phaser.Geom.Triangle.Rotate(e,120.17),r.fillTriangleShape(e);break;case"bottom-left":var e=Phaser.Geom.Triangle.BuildRight(-25,Z-36,60,60);e=Phaser.Geom.Triangle.Rotate(e,120.17),r.fillTriangleShape(e);break;default:r.fillTriangle(3,10,3,88,-38,39);break}this.add(r),this.add(n),this.scene.add.existing(this)}}class ws extends Phaser.Scene{constructor(){super("Scene7_7")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("bg-7-7","assets/Images/7_Level4/Backgrounds/background-5.jpg"),this.load.image("text-bg","/assets/Images/7_Level4/sprite/text-bg.png"),this.load.image("tick","assets/Images/General/tick.png"),this.load.image("portrait-circle","assets/Images/7_Level4/sprite/portrait-circle.png")}create(){this.add.sprite(0,0,"bg-7-7").setOrigin(0),this.tileBg=this.add.graphics(),this.tileBg.fillStyle(16777215,1),this.tileBg.fillRoundedRect(-30,0,600,150,32),this.tileText=this.add.text(75,75,"Sensory Overload Effects",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.tileText.scale=.5,this.tileCtnr=this.add.container(0,55,[this.tileBg,this.tileText]),this.instructionTextBg=this.add.sprite(870,-180,"text-bg").setOrigin(0).setScale(1.65,.89),this.instructionText=this.add.rexBBCodeText(1060,88,`When we experience sensory overload the 
body and mind may have various results. 
Click on the effects.`,{fontFamily:"Arial",fontSize:"80px",color:"#000000",align:"center"}).setOrigin(0,0),this.instructionText.scale=.5,this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const b=new Et(this,220,340,430,77,"Difficulty focusing",75,-.155,-.45,this.nextBtnAudio),z=this.add.circle(0,0,30,109634);var V=this.add.sprite(0,0,"tick").setOrigin(.5);V.copyPosition(b).setAlpha(0),z.copyPosition(b).setAlpha(0);const K=new Ot(this,220+500,340,600,350,17,`The brain has difficulty 
focusing due to competing 
sensory input and is unable to 
organize and process too 
many pieces of information.`,75,-.09,-.34,"top-left");K.alpha=0,this.currentVisibleBubble=K,this.currentVisibleBubble.alpha=0,b.on("pointerdown",()=>{V.setAlpha(1),z.setAlpha(1),this.currentVisibleBubble.alpha=0,this.currentVisibleBubble=K,this.currentVisibleBubble.alpha=1});const Z=new Et(this,220,460,430,77,"Irritability",75,-.75,-.45,this.nextBtnAudio),p=this.add.circle(0,0,30,109634);var S=this.add.sprite(0,0,"tick").setOrigin(.5);S.copyPosition(Z).setAlpha(0),p.copyPosition(Z).setAlpha(0);const t=new Ot(this,220+500,340,600,350,17,`Extreme irritability, 
restlessness and discomfort 
may occur when experiencing 
sensory inputs that they are 
oversensitive to.`,75,-.09,-.34,"middle-left");t.alpha=0,Z.on("pointerdown",()=>{S.setAlpha(1),p.setAlpha(1),this.currentVisibleBubble.alpha=0,this.currentVisibleBubble=t,this.currentVisibleBubble.alpha=1});const d=new Et(this,220,580,430,77,"Increased Emotions",75,-.1,-.45,this.nextBtnAudio),v=this.add.circle(0,0,30,109634);var o=this.add.sprite(0,0,"tick").setOrigin(.5);o.copyPosition(d).setAlpha(0),v.copyPosition(d).setAlpha(0);const r=new Ot(this,220+500,455,600,350,17,`Increased stress, fear, or 
anxiety about your 
surroundings may occur from 
certain sensory inputs or 
carrying out specific activities.`,75,-.09,-.34,"middle-left");r.alpha=0,d.on("pointerdown",()=>{o.setAlpha(1),v.setAlpha(1),this.currentVisibleBubble.alpha=0,this.currentVisibleBubble=r,this.currentVisibleBubble.alpha=1});const n=new Et(this,220,700,430,77,"Fatigue",75,-1.11,-.45,this.nextBtnAudio),e=this.add.circle(0,0,30,109634);var s=this.add.sprite(0,0,"tick").setOrigin(.5);s.copyPosition(n).setAlpha(0),e.copyPosition(n).setAlpha(0);const h=new Ot(this,220+500,565,600,350,17,`Overstimulation and sensory 
overload can directly cause 
fatigue, tiredness, or 
exhaustion. 

Do you ever feel tired after 
certain interactions?`,75,-.14,-.14,"middle-left");h.alpha=0,n.on("pointerdown",()=>{s.setAlpha(1),e.setAlpha(1),this.currentVisibleBubble.alpha=0,this.currentVisibleBubble=h,this.currentVisibleBubble.alpha=1});const i=new Et(this,220,820,430,77,"Overwhelmed",75,-.42,-.45,this.nextBtnAudio),a=this.add.circle(0,0,30,109634);var u=this.add.sprite(0,0,"tick").setOrigin(.5);u.copyPosition(i).setAlpha(0),a.copyPosition(i).setAlpha(0);const l=new Ot(this,220+500,565,600,350,17,`If you feel an urge to hide in 
the closet or take a two-year 
vacation from the word, then 
you might be overwhelmed 
 from sensory overload.`,75,-.14,-.38,"bottom-left");l.alpha=0,i.on("pointerdown",()=>{u.setAlpha(1),a.setAlpha(1),this.currentVisibleBubble.alpha=0,this.currentVisibleBubble=l,this.currentVisibleBubble.alpha=1}),this.avatarCircle=this.add.sprite(1400,599,"portrait-circle").setOrigin(0),this.avatarCircle.scale=.66,new nt(this,1920-90,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_8",{music:this.music})},this),new st(this,-60,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_6")},this),new it(this)}}class Fs extends Phaser.Scene{constructor(){super("Scene7_8")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.video("vid7_8","/assets/Videos/7_Level4/Scene7_8-vid.mp4"),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png")}create(){this.cameras.main.setBackgroundColor("#000000"),this.vid=this.add.video(0,0,"vid7_8"),this.vid.setOrigin(0),this.vid.play(),this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new nt(this,1920-90,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_9",{music:this.music})},this),new st(this,-60,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_7")},this),new it(this),this.progressBar=this.add.graphics()}update(){this.progressBar.clear();const b=1920;this.progressBar.fillStyle(19117),this.progressBar.fillRect(0,1080-10,b*this.vid.getProgress(),10)}}class Ps extends Phaser.Scene{constructor(){super("Scene7_9")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.video("vid7_9","/assets/Videos/7_Level4/Scene7_9-vid.mp4"),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png")}create(){this.cameras.main.setBackgroundColor("#000000"),this.vid=this.add.video(0,0,"vid7_9"),this.vid.setOrigin(0),this.vid.play(),this.tileBg=this.add.graphics(),this.tileBg.fillStyle(16777215,1),this.tileBg.fillRoundedRect(-30,0,675,150,32),this.tileText=this.add.text(75,75,"The Feel Good Chemical",{fontFamily:"Arial",fontSize:"75px",color:"#000000"}).setOrigin(0,.5),this.tileText.scale=.5,this.tileCtnr=this.add.container(0,55,[this.tileBg,this.tileText]),this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new nt(this,1920-90,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_10",{music:this.music})},this),new st(this,-60,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_8")},this),new it(this),this.progressBar=this.add.graphics()}update(){this.progressBar.clear();const b=1920;this.progressBar.fillStyle(19117),this.progressBar.fillRect(0,1080-10,b*this.vid.getProgress(),10)}}class Bs extends Phaser.Scene{constructor(){super("Scene7_10")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.audio("failed-bell",["assets/Audio/SFX/7_Level4/failed-bell.mp3"]),this.load.image("text-bg-shadow","assets/Images/7_Level4/sprite/answer-note-book/text-bg-shadow.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("bg-7-10","assets/Images/7_Level4/Backgrounds/background-6.jpg"),this.load.image("disappointed-person","assets/Images/7_Level4/sprite/answer-note-book/disappointed-person.png"),this.load.image("text-bubble","assets/Images/7_Level4/sprite/answer-note-book/text-bubble.png"),this.load.image("light-bulb","assets/Images/7_Level4/sprite/answer-note-book/light-bulb.png"),this.load.image("glow-effect","assets/Images/7_Level4/sprite/answer-note-book/glow-effect.png")}create(){this.add.sprite(0,0,"bg-7-10").setOrigin(0),this.instructionTextBg=this.add.sprite(105,-5,"text-bg-shadow").setOrigin(0).setScale(.97,1.1),this.instructionText=this.add.rexBBCodeText(230,135,`So, while dopamine can be used in 
a positive way, if overused it can 
lead to many issues including 
addictions, depression, and a 'blah' 
attitude. What else do you think it 
can affect? 
Discuss with a group or write some 
possible answers down.`,{fontFamily:"Arial",fontSize:"80px",color:"#000000",align:"center"}).setOrigin(0,0),this.instructionText.scale=.5,this.formUtil=new At({scene:this,cols:40,rows:40,height:1920,width:1080}),this.formUtil.showElement("scene7_10-book"),this.formUtil.scaleToGameW("scene7_10-book",.4);const b=this.add.graphics();b.fillStyle(48,.55).fillRect(0,0,1920,1080);const z=this.add.image(300,280,"disappointed-person").setOrigin(0),V=this.add.image(1050,330,"text-bubble").setScale(.7);this.textInBubble=this.add.rexBBCodeText(230,135,`Please fill in your answer 
before continuing.`,{fontFamily:"Arial",fontSize:"80px",color:"#000000",align:"center"}).setOrigin(.5,1).setScale(.5),this.textInBubble.copyPosition(V);const K=this.add.image(1050,300,"light-bulb").setScale(.15).setOrigin(-1.48,2.55);K.setAngle(15),K.copyPosition(V);const Z=this.add.image(0,0,"glow-effect").setScale(1).setOrigin(.05,1.1);Z.copyPosition(K),this.clickSound=this.sound.add("next-button",{loop:!1});const p=new Et(this,1342,970,280,65,"Try again",75,-.35,-.2,this.clickSound);p.setAlpha(0),this.noAnswerCtnr=this.add.container(0,0,[b,Z,z,V,this.textInBubble,K,p]),this.noAnswerCtnr.setAlpha(0),p.on("pointerdown",()=>{console.log("pointer Down"),this.noAnswerCtnr.setAlpha(0),this.formUtil.showElement("scene7_10-book"),S.setInteractive(),t.setInteractive()}),this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),this.failedBell=this.sound.add("failed-bell",{loop:!1}),this.failedBell.setVolume(.4);const S=new nt(this,1920-90,500,"next-arrow",this.nextBtnAudio);S.on("pointerdown",function(){document.getElementById("scene7_10-book").value.length===0?(this.formUtil.hideElement("scene7_10-book"),this.noAnswerCtnr.setAlpha(1),S.disableInteractive(),t.disableInteractive(),p.setAlpha(1),this.time.addEvent({delay:500,callback:()=>{this.failedBell.play()},loop:!1})):(this.formUtil.hideElement("scene7_10-book"),this.scene.start("Scene7_11",{music:this.music}))},this);const t=new st(this,-60,500,"next-arrow",this.nextBtnAudio);t.on("pointerdown",function(){this.formUtil.hideElement("scene7_10-book"),this.scene.start("Scene7_9")},this),new it(this)}}class Rs extends Phaser.Scene{constructor(){super("Scene7_11")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.video("vid7_11","/assets/Videos/7_Level4/Scene7_11-vid.mp4"),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png")}create(){this.cameras.main.setBackgroundColor("#000000"),this.vid=this.add.video(0,0,"vid7_11"),this.vid.setOrigin(0),this.vid.play(),this.tileBg=this.add.graphics(),this.tileBg.fillStyle(16777215,1),this.tileBg.fillRoundedRect(-30,0,625,150,32),this.tileText=this.add.text(75,75,"The Feel Good Chemical",{fontFamily:"Arial",fontSize:"75px",color:"#000000"}).setOrigin(0,.5),this.tileText.scale=.5,this.tileCtnr=this.add.container(0,55,[this.tileBg,this.tileText]),this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new nt(this,1920-90,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_12",{music:this.music})},this),new st(this,-60,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_10")},this),new it(this),this.progressBar=this.add.graphics()}update(){this.progressBar.clear();const b=1920;this.progressBar.fillStyle(19117),this.progressBar.fillRect(0,1080-10,b*this.vid.getProgress(),10)}}class Ms extends Phaser.Scene{constructor(){super("Scene7_12")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("text-bg","/assets/Images/7_Level4/sprite/text-bg.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("bg-7-12","assets/Images/7_Level4/Backgrounds/background-7.jpg")}create(){this.add.sprite(0,0,"bg-7-12").setOrigin(0),this.instructionTextBg=this.add.sprite(1210,180,"text-bg").setOrigin(0,0).setScale(.69,1.21),this.instructionText=this.add.rexBBCodeText(0,0,`As a society, [b]there are 
multiple outlets 
competing for your 
attention.[/b] 
Think about how many 
ads, brands, signs and 
other types of influential 
ways that gain our 
attention and senses 
throughout the day.`,{fontFamily:"Arial",fontSize:"75px",color:"#000000",align:"center"}).setOrigin(-.2,-.3),this.instructionText.scale=.5,this.instructionText.copyPosition(this.instructionTextBg),this.tileBg=this.add.graphics(),this.tileBg.fillStyle(16777215,1),this.tileBg.fillRoundedRect(-30,0,720,150,32),this.tileText=this.add.text(75,75,"So...What Else Affects Dopamine?",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.tileText.scale=.5,this.tileCtnr=this.add.container(0,55,[this.tileBg,this.tileText]),this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new nt(this,1920-90,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_13",{music:this.music})},this),new st(this,-60,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_11")},this),new it(this)}}class Os extends Phaser.Scene{constructor(){super("Scene7_13")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.video("vid7_13-tip1","assets/Videos/7_Level4/Scene7_13-tip-1-vid.mp4"),this.load.video("vid7_13-tip3","assets/Videos/7_Level4/Scene7_13-tip-3-vid.mp4"),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.audio("suction-cup-pull",["assets/Audio/SFX/7_Level4/suction-cup-pull.mp3"]),this.load.image("bg-7-13","assets/Images/7_Level4/Backgrounds/background-7-blur.jpg"),this.load.image("text-bg","/assets/Images/7_Level4/sprite/text-bg.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("x-mark","assets/Images/General/x-mark.png"),this.load.image("tip1-light-off","assets/Images/7_Level4/sprite/tip-circles/tip1-light-off.png"),this.load.image("tip1-light-on","assets/Images/7_Level4/sprite/tip-circles/tip1-light-on.png"),this.load.image("tip2-light-off","assets/Images/7_Level4/sprite/tip-circles/tip2-light-off.png"),this.load.image("tip2-light-on","assets/Images/7_Level4/sprite/tip-circles/tip2-light-on.png"),this.load.image("normal-person","assets/Images/7_Level4/sprite/tip-circles/tip2-popup/normal-person.png"),this.load.image("sad-emoji","assets/Images/7_Level4/sprite/tip-circles/tip2-popup/sad.png"),this.load.image("happy-emoji","assets/Images/7_Level4/sprite/tip-circles/tip2-popup/happy.png"),this.load.image("love-emoji","assets/Images/7_Level4/sprite/tip-circles/tip2-popup/love.png"),this.load.image("bored-emoji","assets/Images/7_Level4/sprite/tip-circles/tip2-popup/bored.png"),this.load.image("angry-emoji","assets/Images/7_Level4/sprite/tip-circles/tip2-popup/angry.png"),this.load.image("cry-emoji","assets/Images/7_Level4/sprite/tip-circles/tip2-popup/cry.png"),this.load.image("tip3-light-off","assets/Images/7_Level4/sprite/tip-circles/tip3-light-off.png"),this.load.image("tip3-light-on","assets/Images/7_Level4/sprite/tip-circles/tip3-light-on.png")}create(){this.add.sprite(0,0,"bg-7-13").setOrigin(0),this.tileBg=this.add.graphics(),this.tileBg.fillStyle(16777215,1),this.tileBg.fillRoundedRect(-30,0,720,150,32),this.tileText=this.add.text(75,75,"So...What Else Affects Dopamine?",{fontFamily:"Arial",fontSize:"72px",color:"#000000"}).setOrigin(0,.5),this.tileText.scale=.5,this.tileCtnr=this.add.container(0,55,[this.tileBg,this.tileText]),this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),this.circleClick=this.sound.add("suction-cup-pull",{loop:!1}),this.instructionTextBg=this.add.sprite(1140,50,"text-bg").setOrigin(0,0).setScale(.87,.5),this.instructionText=this.add.rexBBCodeText(0,0,`Click on the images below to 
explore more on how can we 
naturally lower and regulate 
our dopamine levels.`,{fontFamily:"Arial",fontSize:"75px",color:"#000000",align:"center"}).setOrigin(-.2,-.3),this.instructionText.scale=.5,this.instructionText.copyPosition(this.instructionTextBg);const b=this.add.circle(450,625,160,4294967295);b.setStrokeStyle(2.3,0),b.setInteractive({useHandCursor:!0});const z=this.add.sprite(b.x,b.y,"tip1-light-off").setOrigin(.5).setScale(.68),V=this.add.sprite(b.x,b.y,"tip1-light-on").setOrigin(.5).setScale(.68);V.setAlpha(0),this.popup1Graphics=this.add.graphics(),this.popup1Graphics.fillStyle(16777215,1),this.popup1Graphics.fillRoundedRect(132,340,1650,620,42),this.popup1Graphics.lineStyle(4,19117,1),this.popup1Graphics.strokeRoundedRect(132,340,1650,620,42);const K=new xt(this,1700,400,"x-mark",this.nextBtnAudio);K.setScale(.7),this.tip1vid=this.add.video(650,640,"vid7_13-tip1"),this.tip1vid.setScale(.85),this.tip1vid.play(),this.tip1Text=this.add.rexBBCodeText(0,0,`First, understand that 
addictive qualities apply to 
almost everyone, and thus 
we should begin by gaining 
a self-awareness of our 
own out-of-balance 
tendencies.`,{fontFamily:"Arial",fontSize:"75px",color:"#000000",align:"center"}).setOrigin(1.15,-.5),this.tip1Text.scale=.5,this.tip1Text.copyPosition(K);const Z=this.add.circle(950,625,160,4294967295);Z.setStrokeStyle(2.3,0),Z.setInteractive({useHandCursor:!0});const p=this.add.sprite(Z.x,Z.y,"tip2-light-off").setOrigin(.5).setScale(.68),S=this.add.sprite(Z.x,Z.y,"tip2-light-on").setOrigin(.5).setScale(.68);S.setAlpha(0),this.popup2Graphics=this.add.graphics(),this.popup2Graphics.fillStyle(16777215,1),this.popup2Graphics.fillRoundedRect(132,340,1650,620,42),this.popup2Graphics.lineStyle(4,19117,1),this.popup2Graphics.strokeRoundedRect(132,340,1650,620,42);const t=new xt(this,1700,400,"x-mark",this.nextBtnAudio);t.setScale(.7),this.tip2normalPerson=this.add.sprite(550,710,"normal-person"),this.tip2normalPerson.setScale(.6),this.sadEmo=this.add.sprite(0,0,"sad-emoji").setOrigin(3,-.8).setScale(.2),this.sadEmo.copyPosition(this.tip2normalPerson),this.happyEmo=this.add.sprite(0,0,"happy-emoji").setOrigin(3.2,1).setScale(.2),this.happyEmo.copyPosition(this.tip2normalPerson),this.loveEmo=this.add.sprite(0,0,"love-emoji").setOrigin(2.5,2.5).setScale(.24),this.loveEmo.copyPosition(this.tip2normalPerson),this.boredEmo=this.add.sprite(0,0,"bored-emoji").setOrigin(-1.6,2.7).setScale(.1),this.boredEmo.copyPosition(this.tip2normalPerson),this.angryEmo=this.add.sprite(0,0,"angry-emoji").setOrigin(-2.2,1.1).setScale(.22),this.angryEmo.copyPosition(this.tip2normalPerson),this.cryEmo=this.add.sprite(0,0,"cry-emoji").setOrigin(-2.1,-.5).setScale(.22),this.cryEmo.copyPosition(this.tip2normalPerson),this.tip2Text=this.add.rexBBCodeText(0,0,`Practicing mindfulness can help 
us face our feelings of 
discomfort and pain rather than 
turning to distractions. 
With more intentional and 
mindful living, we can then 
begin to implement impulsivity 
control in all areas of our life. `,{fontFamily:"Arial",fontSize:"75px",color:"#000000",align:"left"}).setOrigin(1.15,-.3),this.tip2Text.scale=.5,this.tip2Text.copyPosition(t);const d=this.add.circle(1450,625,160,4294967295);d.setStrokeStyle(2.3,0),d.setInteractive({useHandCursor:!0});const v=this.add.sprite(d.x,d.y,"tip3-light-off").setOrigin(.5).setScale(.68),o=this.add.sprite(d.x,d.y,"tip3-light-on").setOrigin(.5).setScale(.68);o.setAlpha(0),this.popup3Graphics=this.add.graphics(),this.popup3Graphics.fillStyle(16777215,1),this.popup3Graphics.fillRoundedRect(132,340,1650,620,42),this.popup3Graphics.lineStyle(4,19117,1),this.popup3Graphics.strokeRoundedRect(132,340,1650,620,42);const r=new xt(this,1700,400,"x-mark",this.nextBtnAudio);K.setScale(.7),this.tip3vid=this.add.video(650,640,"vid7_13-tip3"),this.tip3vid.setScale(.85),this.tip3vid.play();const n=this.add.rectangle(this.tip3vid.x,this.tip3vid.y,823,456);n.setStrokeStyle(6,0),this.tip3Text=this.add.rexBBCodeText(0,0,`Regularly take time 
away from technology, 
or other addictive 
activities, whether they 
are scheduled or 
unscheduled.`,{fontFamily:"Arial",fontSize:"75px",color:"#000000",align:"center"}).setOrigin(1.15,-.5),this.tip3Text.scale=.5,this.tip3Text.copyPosition(K),this.popup1Container=this.add.container(0,0,[this.popup1Graphics,this.tip1vid,K,this.tip1Text]),this.popup1Container.setAlpha(0),b.on("pointerdown",()=>{z.setAlpha(0),V.setAlpha(1),this.circleClick.play(),this.tip1vid.play(),this.popup1Container.setAlpha(1),b.disableInteractive(),Z.disableInteractive()}),K.on("pointerdown",()=>{b.setInteractive(),Z.setInteractive(),this.popup1Container.setAlpha(0)}),this.popup2Container=this.add.container(0,0,[this.popup2Graphics,this.tip2normalPerson,this.sadEmo,this.happyEmo,this.loveEmo,this.boredEmo,this.angryEmo,this.cryEmo,t,this.tip2Text]),this.popup2Container.setAlpha(0),Z.on("pointerdown",()=>{p.setAlpha(0),S.setAlpha(1),this.circleClick.play(),this.popup2Container.setAlpha(1),b.disableInteractive(),Z.disableInteractive()}),t.on("pointerdown",()=>{b.setInteractive(),Z.setInteractive(),this.popup2Container.setAlpha(0)}),this.popup3Container=this.add.container(0,0,[this.popup3Graphics,this.tip3vid,n,r,this.tip3Text]),this.popup3Container.setAlpha(0),d.on("pointerdown",()=>{v.setAlpha(0),o.setAlpha(1),this.circleClick.play(),this.tip3vid.play(),this.popup3Container.setAlpha(1),b.disableInteractive(),Z.disableInteractive(),d.disableInteractive()}),r.on("pointerdown",()=>{b.setInteractive(),Z.setInteractive(),d.setInteractive(),this.popup3Container.setAlpha(0)}),new nt(this,1920-90,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_14",{music:this.music})},this),new st(this,-60,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_12")},this),new it(this)}}class Ls extends Phaser.Scene{constructor(){super("Scene7_14")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.audio("failed-bell",["assets/Audio/SFX/7_Level4/failed-bell.mp3"]),this.load.image("text-bg","/assets/Images/7_Level4/sprite/text-bg.png"),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("text-book","assets/Images/7_Level4/sprite/text-book.png"),this.load.image("person-with-speaker","assets/Images/7_Level4/sprite/person-with-speaker.jpg"),this.load.image("light-bulb","assets/Images/7_Level4/sprite/answer-note-book/light-bulb.png"),this.load.image("glow-effect","assets/Images/7_Level4/sprite/answer-note-book/glow-effect.png"),this.load.image("text-bubble","assets/Images/7_Level4/sprite/answer-note-book/text-bubble.png"),this.load.image("disappointed-person","assets/Images/7_Level4/sprite/answer-note-book/disappointed-person.png")}create(){this.cameras.main.setBackgroundColor("#f8f4f4"),this.add.sprite(0,0,"text-book").setOrigin(-.1,.003),this.add.sprite(300,430,"person-with-speaker").setOrigin(0).setScale(.5),this.formUtil=new At({scene:this}),this.formUtil.showElement("scene7_14-book"),this.formUtil.scaleToGameW("scene7_14-book",.8),this.instructionText=this.add.rexBBCodeText(235,100,`What are some ads, brands, signs or 

other types of influential outlets you 

see throughout your day?`,{fontFamily:"Arial",fontSize:"75px",color:"#000000",align:"left"}).setOrigin(0,0),this.instructionText.setScale(.5,.49);const z=this.add.graphics();z.fillStyle(48,.55).fillRect(0,0,1920,1080);const V=this.add.image(300,280,"disappointed-person").setOrigin(0),K=this.add.image(1050,330,"text-bubble").setScale(.7);this.textInBubble=this.add.rexBBCodeText(230,135,`Please fill in your answer 
before continuing.`,{fontFamily:"Arial",fontSize:"80px",color:"#000000",align:"center"}).setOrigin(.5,1).setScale(.5),this.textInBubble.copyPosition(K);const Z=this.add.image(1050,300,"light-bulb").setScale(.15).setOrigin(-1.48,2.55);Z.setAngle(15),Z.copyPosition(K);const p=this.add.image(0,0,"glow-effect").setScale(1).setOrigin(.05,1.1);p.copyPosition(Z),this.clickSound=this.sound.add("next-button",{loop:!1});const S=new Et(this,1342,970,280,65,"Try again",75,-.35,-.2,this.clickSound);S.setAlpha(0),this.noAnswerCtnr=this.add.container(0,0,[z,p,V,K,this.textInBubble,Z,S]),this.noAnswerCtnr.setAlpha(0),S.on("pointerdown",()=>{console.log("pointer Down"),this.noAnswerCtnr.setAlpha(0),this.formUtil.showElement("scene7_14-book"),t.setInteractive(),d.setInteractive()}),this.failedBell=this.sound.add("failed-bell",{loop:!1}),this.failedBell.setVolume(.4),this.nextBtnAudio=this.sound.add("next-button",{loop:!1});const t=new nt(this,1920-90,500,"next-arrow",this.nextBtnAudio);t.on("pointerdown",function(){document.getElementById("scene7_14-book").value.length===0?(this.formUtil.hideElement("scene7_14-book"),this.noAnswerCtnr.setAlpha(1),t.disableInteractive(),d.disableInteractive(),S.setAlpha(1),this.time.addEvent({delay:500,callback:()=>{this.failedBell.play()},loop:!1})):(this.formUtil.hideElement("scene7_14-book"),this.scene.start("Scene7_15",{music:this.music}))},this);const d=new st(this,-60,500,"next-arrow",this.nextBtnAudio);d.on("pointerdown",function(){this.formUtil.hideElement("scene7_14-book"),this.scene.start("Scene7_13")},this),new it(this)}}class bs extends Phaser.Scene{constructor(){super("Scene7_15")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.video("vid7_15","/assets/Videos/7_Level4/Scene7_15-vid.mp4"),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png")}create(){this.cameras.main.setBackgroundColor("#000000"),this.vid=this.add.video(0,0,"vid7_15"),this.vid.setOrigin(0),this.vid.play(),this.tileBg=this.add.graphics(),this.tileBg.fillStyle(16777215,1),this.tileBg.fillRoundedRect(-30,0,625,150,32),this.tileText=this.add.text(75,75,"Marketing and Advertising",{fontFamily:"Arial",fontSize:"75px",color:"#000000"}).setOrigin(0,.5),this.tileText.scale=.5,this.tileCtnr=this.add.container(0,55,[this.tileBg,this.tileText]),this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),new nt(this,1920-90,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_16",{music:this.music})},this),new st(this,-60,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_14")},this),new it(this),this.progressBar=this.add.graphics()}update(){this.progressBar.clear();const b=1920;this.progressBar.fillStyle(19117),this.progressBar.fillRect(0,1080-10,b*this.vid.getProgress(),10)}}class Is extends Phaser.Scene{constructor(){super("Scene7_16")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("bg-7-16","assets/Images/7_Level4/Backgrounds/background-5.jpg"),this.load.image("text-bg","/assets/Images/7_Level4/sprite/text-bg.png"),this.load.image("tick","assets/Images/General/tick.png")}create(){this.add.sprite(0,0,"bg-7-16").setOrigin(0),this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),this.tileBg=this.add.graphics(),this.tileBg.fillStyle(16777215,1),this.tileBg.fillRoundedRect(-30,0,625,150,32),this.tileText=this.add.text(75,75,"Marketing and Advertising",{fontFamily:"Arial",fontSize:"75px",color:"#000000"}).setOrigin(0,.5),this.tileText.scale=.5,this.tileCtnr=this.add.container(0,55,[this.tileBg,this.tileText]),this.instructionTextBg=this.add.sprite(870,-240,"text-bg").setOrigin(0).setScale(1.65,1.18),this.instructionText=this.add.rexBBCodeText(1060,88,`There are some other methods you may, or 
may not, be aware of. 

[b]Click on the buttons below to learn more.[/b]`,{fontFamily:"Arial",fontSize:"80px",color:"#000000",align:"center"}).setOrigin(0,0),this.instructionText.scale=.5;const b=new Et(this,270,500,330,270,`Hidden 
Marketing`,85,-.31,-.79,this.nextBtnAudio,60),z=this.add.circle(b.x+320,b.y+15,30,109634);var V=this.add.sprite(0,0,"tick").setOrigin(.5);z.setAlpha(0),V.copyPosition(z).setAlpha(0);const K=new Et(this,770,500,330,270,`Product 
Placement`,85,-.31,-.79,this.nextBtnAudio,60),Z=this.add.circle(K.x+320,K.y+15,30,109634);var p=this.add.sprite(0,0,"tick").setOrigin(.5);Z.setAlpha(0),p.copyPosition(Z).setAlpha(0);const S=new Et(this,1270,500,330,270,`Subliminal 
Marketing`,85,-.26,-.79,this.nextBtnAudio,60),t=this.add.circle(S.x+320,S.y+15,30,109634);var d=this.add.sprite(0,0,"tick").setOrigin(.5);t.setAlpha(0),d.copyPosition(t).setAlpha(0),b.on("pointerdown",()=>{V.setAlpha(1),z.setAlpha(1),this.time.addEvent({delay:300,callback:()=>{this.scene.start("Scene7_16_A1",{music:this.music})},loop:!1})}),K.on("pointerdown",()=>{p.setAlpha(1),Z.setAlpha(1)}),S.on("pointerdown",()=>{d.setAlpha(1),t.setAlpha(1)}),new nt(this,1920-90,500,"next-arrow",this.nextBtnAudio,!0).on("pointerdown",function(){this.scene.start("Scene7_17",{music:this.music})},this),new st(this,-60,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_16")},this),new it(this)}}class Ds extends Phaser.Scene{constructor(){super("Scene7_16_A1")}preload(){this.load.plugin("rexbbcodetextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbbcodetextplugin.min.js",!0),this.load.audio("next-button",["assets/Audio/SFX/General/next-button.mp3"]),this.load.image("next-arrow","assets/Images/General/next-arrow.png"),this.load.image("bg-7-16A1","assets/Images/7_Level4/Backgrounds/background-5.jpg"),this.load.image("text-bg","/assets/Images/7_Level4/sprite/text-bg.png"),this.load.image("tick","assets/Images/General/tick.png")}create(){this.add.sprite(0,0,"bg-7-16A1").setOrigin(0),this.nextBtnAudio=this.sound.add("next-button",{loop:!1}),this.tileBg=this.add.graphics(),this.tileBg.fillStyle(16777215,1),this.tileBg.fillRoundedRect(-30,0,625,150,32),this.tileText=this.add.text(75,75,"1. Hidden Marketing",{fontFamily:"Arial",fontSize:"75px",color:"#000000"}).setOrigin(0,.5),this.tileText.scale=.5,this.tileCtnr=this.add.container(0,55,[this.tileBg,this.tileText]),this.instructionTextBg=this.add.sprite(870,-240,"text-bg").setOrigin(0).setScale(1.65,1.18),this.instructionText=this.add.rexBBCodeText(1060,88,`Can you find the hidden messages and 
meanings in the following logo examples? [b]Click 
on each tab to see the logo.[/b]`,{fontFamily:"Arial",fontSize:"80px",color:"#000000",align:"center"}).setOrigin(0,0),this.instructionText.scale=.5,new nt(this,1920-90,500,"next-arrow",this.nextBtnAudio,!0).on("pointerdown",function(){this.scene.start("Scene7_17",{music:this.music})},this),new st(this,-60,500,"next-arrow",this.nextBtnAudio).on("pointerdown",function(){this.scene.start("Scene7_16")},this),new it(this)}}var Lt=[qt,_t,te,ie,se,ne,re,ae,oe,he,le,ue,de,fe,ce,ve,pe,ge,me,xe,ye,Te,Se,Ce,Ae,Ee,we,Fe,Pe,Be,Re,Me,Oe,Le,be,Ie,De,Ge,Ne,ze,Xe,Ve,Ue,Ye,We,He,Ke,Ze,Je,Qe,je,$e,ke,qe,_e,ti,ei,ii,si,ni,ri,ai,oi,hi,li,ui,di,fi,ci,vi,pi,gi,mi,xi,yi,Ti,Si,Ci,Ai,Ei,wi,Fi,Pi,Bi,Ri,Mi,Oi,Li,bi,Ii,Di,Gi,Ni,zi,Xi,Vi,Ui,Yi,Wi,Hi,Ki,Zi,Ji,Qi,ji,$i,ki,qi,_i,ts,es,is,ss,ns,rs,as,os,hs,ls,us,ds,fs,cs,vs,ps,gs,ms,xs,ys,Ts,Ss,Cs,As,Es,ws,Fs,Ps,Bs,Rs,Ms,Os,Ls,bs,Is,Ds],Gs=window.location.href,Ns=new URL(Gs),Nt=Ns.searchParams.get("resume");if(Nt!="scene1_1")for(let j=0;j<Lt.length;j++){var zs=new Lt[j];Nt==zs.sys.config.toLowerCase()&&Lt.unshift(Lt.splice(j,1)[0])}function Xs(){return new kt.Game({type:Phaser.CANVAS,width:1920,height:1080,backgroundColor:"#000000",scale:{mode:Phaser.Scale.FIT},audio:{disableWebAudio:!0},parent:"game",scene:Lt})}function Vs(){var j={},b=null,z=/Android|iPhone|iPad|iPod|IEMobile|Opera Mini/i.test(navigator.userAgent),V=!1,K={startOnPageLoad:!0,onHide:function(){},onShow:function(){},forcePortrait:!1,message:"Please Rotate Your Device",subMessage:"",allowClickBypass:!1,onlyMobile:!0,zIndex:1e3,iconNode:null},Z=["#pleaserotate-graphic { margin-left: 50px; width: 200px; animation: pleaserotateframes ease 2s; animation-iteration-count: infinite; transform-origin: 50% 50%; -webkit-animation: pleaserotateframes ease 2s; -webkit-animation-iteration-count: infinite; -webkit-transform-origin: 50% 50%; -moz-animation: pleaserotateframes ease 2s; -moz-animation-iteration-count: infinite; -moz-transform-origin: 50% 50%; -ms-animation: pleaserotateframes ease 2s; -ms-animation-iteration-count: infinite; -ms-transform-origin: 50% 50%; }","#pleaserotate-backdrop { background-color: white; top: 0; left: 0; position: fixed; width: 100%; height: 100%; }","#pleaserotate-container { width: 300px; position: absolute; top: 50%; left: 50%; margin-right: -50%; transform: translate(-50%, -50%); -webkit-transform: translate(-50%, -50%); }","#pleaserotate-message { margin-top: 20px; font-size: 1.3em; text-align: center; font-family: Verdana, Geneva, sans-serif; text-transform: uppercase }","#pleaserotate-message small { opacity: .5; display: block; font-size: .6em}"],p=["pleaserotateframes{ 0% { transform:  rotate(0deg) ; -moz-transform:  rotate(0deg) ;-webkit-transform:  rotate(0deg) ;-ms-transform:  rotate(0deg) ;} 49% { transform:  rotate(-90deg) ;-moz-transform:  rotate(-90deg) ;-webkit-transform:  rotate(-90deg) ; -ms-transform:  rotate(-90deg) ;  } 100% { transform:  rotate(90deg) ;-moz-transform:  rotate(-90deg) ;-webkit-transform:  rotate(-90deg) ; -ms-transform:  rotate(-90deg) ;  } }"];function S(i){var a;for(var a in i)K[a]=i[a]}function t(i){document.documentElement&&(document.documentElement.className=document.documentElement.className.replace(/(?:^|\s)pleaserotate-\S*/g,""),document.documentElement.className+=" pleaserotate-"+i)}function d(i){var a;for(a=0;a<Z.length;a++)i.insertRule(Z[a],0);for(i.insertRule("#pleaserotate-backdrop { z-index: "+K.zIndex+"}",0),K.allowClickBypass&&i.insertRule("#pleaserotate-backdrop { cursor: pointer }",0),K.forcePortrait&&i.insertRule("#pleaserotate-backdrop { -webkit-transform-origin: 50% }",0),a=0;a<p.length;a++)CSSRule.WEBKIT_KEYFRAMES_RULE?i.insertRule("@-webkit-keyframes "+p[a],0):CSSRule.MOZ_KEYFRAMES_RULE?i.insertRule("@-moz-keyframes "+p[a],0):CSSRule.KEYFRAMES_RULE&&i.insertRule("@keyframes "+p[a],0)}function v(){var i=document.createElement("style");i.appendChild(document.createTextNode("")),document.head.insertBefore(i,document.head.firstChild),d(i.sheet)}function o(){var i=document.createElement("div"),a=document.createElement("div"),u=document.createElement("div"),l=document.createElement("small");i.setAttribute("id","pleaserotate-backdrop"),a.setAttribute("id","pleaserotate-container"),u.setAttribute("id","pleaserotate-message"),i.appendChild(a),K.iconNode!==null?a.appendChild(K.iconNode):a.appendChild(r()),a.appendChild(u),u.appendChild(document.createTextNode(K.message)),l.appendChild(document.createTextNode(K.subMessage)),u.appendChild(l),document.body.appendChild(i)}function r(){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),i.setAttribute("id","pleaserotate-graphic"),i.setAttribute("viewBox","0 0 250 250");var a=document.createElementNS("http://www.w3.org/2000/svg","g");a.setAttribute("id","pleaserotate-graphic-path"),K.forcePortrait&&a.setAttribute("transform","rotate(-90 125 125)");var u=document.createElementNS("http://www.w3.org/2000/svg","path");return u.setAttribute("d","M190.5,221.3c0,8.3-6.8,15-15,15H80.2c-8.3,0-15-6.8-15-15V28.7c0-8.3,6.8-15,15-15h95.3c8.3,0,15,6.8,15,15V221.3zM74.4,33.5l-0.1,139.2c0,8.3,0,17.9,0,21.5c0,3.6,0,6.9,0,7.3c0,0.5,0.2,0.8,0.4,0.8s7.2,0,15.4,0h75.6c8.3,0,15.1,0,15.2,0s0.2-6.8,0.2-15V33.5c0-2.6-1-5-2.6-6.5c-1.3-1.3-3-2.1-4.9-2.1H81.9c-2.7,0-5,1.6-6.3,4C74.9,30.2,74.4,31.8,74.4,33.5zM127.7,207c-5.4,0-9.8,5.1-9.8,11.3s4.4,11.3,9.8,11.3s9.8-5.1,9.8-11.3S133.2,207,127.7,207z"),i.appendChild(a),a.appendChild(u),i}function n(i){var a=document.getElementById("pleaserotate-backdrop");i?a&&(a.style.display="block"):a&&(a.style.display="none")}function e(){var i=b&&!K.forcePortrait||!b&&K.forcePortrait,a;i?(a=K.onShow(),t("showing")):(a=K.onHide(),t("hiding")),!(a!==void 0&&!a)&&(j.Showing=i,n(i))}function s(){return window.innerWidth<window.innerHeight}function h(){if(!z&&K.onlyMobile){V||(V=!0,n(!1),t("hiding"),K.onHide());return}b!==s()&&(b=s(),e())}j.start=function(i){if(!document.body){window.addEventListener("load",j.start.bind(null,i),!1);return}i&&S(i),v(),o(),h(),window.addEventListener("resize",h,!1),K.allowClickBypass&&document.getElementById("pleaserotate-backdrop").addEventListener("click",function(){var a=K.onHide();t("hiding"),j.Showing=!1,(a===void 0||a)&&n(!1)})},j.stop=function(){window.removeEventListener("resize",onWindowResize,!1)},j.onShow=function(i){K.onShow=i,V&&(V=!1,b=null,h())},j.onHide=function(i){K.onHide=i,V&&(b=null,V=!1,h())},j.Showing=!1,typeof define=="function"&&define.amd?(t("initialized"),define(["PleaseRotate"],function(){return j})):typeof exports=="object"?(t("initialized"),module.exports=j):(t("initialized"),window.PleaseRotate=j,S(window.PleaseRotateOptions),K.startOnPageLoad&&j.start())}const Us={id:"game"},Ys={__name:"PhaserContainer",setup(j){const b=Vt(!0);function z(){b.value=!1,Xs(),Vs()}return(V,K)=>(bt(),Dt("div",Us,[b.value?(bt(),Dt("button",{key:0,onClick:z,class:"btn btn-light"},"Start")):Ut("",!0)]))}},Ws=zt(Ys,[["__scopeId","data-v-a9a43639"]]);const Hs=j=>(Jt("data-v-e123a022"),j=j(),Qt(),j),Ks=Hs(()=>jt("div",{class:"placeholder"}," Downloading ... ",-1)),Zs=Kt('<div style="font-family:&#39;Open Sans&#39;;position:absolute;left:-1000px;visibility:hidden;" data-v-e123a022>.</div><input style="display:none;" type="text" placeholder="Type your first name here" id="student-name" class="text-input" data-v-e123a022><textarea rows="10" style="display:none;" type="text" placeholder="Type your talents here:" id="talents" data-v-e123a022></textarea><div style="display:none;" id="m4-checkboxes" class="checkboxes" data-v-e123a022><div style="margin-left:20%;" data-v-e123a022><p class="form-check mb-2" data-v-e123a022><input class="form-check-input" type="checkbox" value="" id="m4-checkbox-1" data-v-e123a022><label class="form-check-label" for="defaultCheck1" data-v-e123a022> Pens can malfunction and actually burst </label></p><p class="form-check mb-2" data-v-e123a022><input class="form-check-input" type="checkbox" value="" id="m4-checkbox-2" data-v-e123a022><label class="form-check-label" for="defaultCheck1" data-v-e123a022> They have chemical fluids in them </label></p><p class="form-check mb-2" data-v-e123a022><input class="form-check-input" type="checkbox" value="" id="m4-checkbox-3" data-v-e123a022><label class="form-check-label" for="defaultCheck1" data-v-e123a022> The vape pen could have weed or fentanyl in it </label></p><p class="form-check" data-v-e123a022><input class="form-check-input" type="checkbox" value="" id="m4-checkbox-4" data-v-e123a022><label class="form-check-label" for="defaultCheck1" data-v-e123a022> Even vaping produces harmful second hand health issues </label></p></div></div><textarea rows="10" style="display:none;" type="text" placeholder="Write down your answer here:" id="m4-notepad" data-v-e123a022></textarea><textarea rows="15" style="display:none;" type="text" placeholder="Type your answer here:" id="scene7_10-book" data-v-e123a022></textarea><textarea rows="20" style="display:none;" type="text" placeholder="Type your answer here:" id="scene7_14-book" data-v-e123a022></textarea>',7),Js={__name:"GameView",setup(j){return(b,z)=>(bt(),Dt(Ht,null,[(bt(),Yt(Wt,null,{fallback:Gt(()=>[Ks]),default:Gt(()=>[Zt(Ws)]),_:1})),Zs],64))}},_s=zt(Js,[["__scopeId","data-v-e123a022"]]);export{_s as default};
