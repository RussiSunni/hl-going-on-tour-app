import{_ as p,r as u,o as _,c as m,a as e,w as l,v as d,p as g,b as h,d as f,e as v}from"./main-d9d71f0d.js";const w="/images/sign-in-with-clever-full.png";const b={data(){return{username:null,password:null,cleverRedirectUrl:"https://edupc.org/oauth/clever"}},mounted(){let s=document.createElement("script");s.setAttribute("src","https://accounts.google.com/gsi/client"),document.head.appendChild(s);var t=document.getElementById("username"),n=document.getElementById("password");t.addEventListener("keypress",a=>{a.key==="Enter"&&(a.preventDefault(),this.LoginAttempt())}),n.addEventListener("keypress",a=>{a.key==="Enter"&&(a.preventDefault(),this.LoginAttempt())})},methods:{LoginAttempt(){const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})};var t="/api/login-attempt";fetch(t,s).then(function(n){return n.json()}).then(function(n){n.account=="authorized"?u.push({name:"home"}):n.account=="wrong-password"?alert("wrong password"):alert("no account")})}}},o=s=>(g("data-v-1b8ad304"),s=s(),h(),s),y={class:"login-page"},x={class:"form-signin my-1"},L=o(()=>e("img",{class:"mb-4 logo",src:f,alt:"",width:"200",height:"200"},null,-1)),k=["href"],E=o(()=>e("img",{class:"clever-button",src:w,alt:"Log in with Clever"},null,-1)),S=[E],I=o(()=>e("div",{id:"g_id_onload","data-client_id":"309231279221-r46j4e6utpo00t2292rlpgmeifu3foob.apps.googleusercontent.com","data-context":"signin","data-ux_mode":"popup","data-login_uri":"/api/google-login-attempt","data-auto_prompt":"false"},null,-1)),U=o(()=>e("div",{class:"g_id_signin","data-type":"standard","data-shape":"rectangular","data-theme":"filled_blue","data-text":"signin_with","data-size":"large","data-logo_alignment":"left"},null,-1)),V={class:"mb-3 mt-3 text-start"},A=o(()=>e("label",{for:"username",class:"form-label"},"Username",-1)),B={class:"mb-3 text-start"},C=o(()=>e("label",{for:"password",class:"form-label"},"Password",-1)),D=o(()=>e("p",null,"Â ",-1)),T=o(()=>e("p",{class:"text-center"},[v("Don't have an account? "),e("a",{href:"create-account"},"Sign up")],-1));function j(s,t,n,a,r,c){return _(),m("div",y,[e("div",x,[L,e("a",{href:`https://clever.com/oauth/authorize?response_type=code&redirect_uri=${r.cleverRedirectUrl}&client_id=8bf56a5a145bbee01612`},S,8,k),I,U,e("div",V,[A,l(e("input",{id:"username",type:"text","onUpdate:modelValue":t[0]||(t[0]=i=>r.username=i),placeholder:"Username",class:"form-control",required:""},null,512),[[d,r.username]])]),e("div",B,[C,l(e("input",{id:"password",type:"password","onUpdate:modelValue":t[1]||(t[1]=i=>r.password=i),placeholder:"Password",class:"form-control",required:""},null,512),[[d,r.password]])]),e("button",{type:"submit",onClick:t[2]||(t[2]=i=>c.LoginAttempt()),class:"btn btn-dark"},"Login"),D,T])])}const z=p(b,[["render",j],["__scopeId","data-v-1b8ad304"]]);export{z as default};
