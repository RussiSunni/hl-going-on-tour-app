import{_ as u,u as m,o as d,c as p,a as e,w as i,v as o,p as _,d as c}from"./main-efae0c11.js";const f={setup(){return{usersStore:m()}},data(){return{userId:this.$route.params.id,user:{}}},created(){this.getUser()},methods:{getUser(){fetch("/users/api/"+this.userId).then(function(a){return a.json()}).then(a=>this.user=a)},ValidateForm(){this.user.first_name==""||this.user.first_name==null?alert("Please add a first name."):this.user.last_name==""||this.user.last_name==null?alert("Please add a last name."):this.user.username==""||this.user.username==null?alert("Please add a username."):this.user.email==""||this.user.email==null?alert("Please add an email address."):this.Submit()},ValidateEmail(){/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(this.user.email)||alert("Please enter a valid email address")},Submit(){const a={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstname:this.user.first_name,lastname:this.user.last_name,username:this.user.username,email:this.user.email,password:this.user.password})};var s="/users/api/"+this.userId+"/edit";fetch(s,a).then(()=>{this.usersStore.getUsers(),this.$router.push("/")})}}},l=a=>(_("data-v-a0e9ab50"),a=a(),c(),a),h={class:"container user-form mt-3"},b=l(()=>e("h1",null,"Edit User",-1)),v={class:"mb-3"},w=l(()=>e("label",{for:"firstname",class:"form-label"},"First name",-1)),U={class:"mb-3"},V=l(()=>e("label",{for:"lastname",class:"form-label"},"Last name",-1)),S={class:"mb-3"},y=l(()=>e("label",{class:"form-label"},"Username",-1)),x={class:"mb-3"},E=l(()=>e("label",{class:"form-label"},"Email address",-1)),I={class:"mb-3"},P=l(()=>e("label",{class:"form-label"},"Password",-1));function g(a,s,k,B,r,n){return d(),p("div",h,[b,e("div",v,[w,i(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>r.user.first_name=t),type:"text",class:"form-control"},null,512),[[o,r.user.first_name]])]),e("div",U,[V,i(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>r.user.last_name=t),type:"text",class:"form-control"},null,512),[[o,r.user.last_name]])]),e("div",S,[y,i(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>r.user.username=t),type:"text",class:"form-control"},null,512),[[o,r.user.username]])]),e("div",x,[E,i(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>r.user.email=t),type:"email",class:"form-control",onBlur:s[4]||(s[4]=(...t)=>n.ValidateEmail&&n.ValidateEmail(...t))},null,544),[[o,r.user.email]])]),e("div",I,[P,i(e("input",{"onUpdate:modelValue":s[5]||(s[5]=t=>r.user.password=t),type:"text",class:"form-control"},null,512),[[o,r.user.password]])]),e("button",{class:"btn btn-dark",onClick:s[6]||(s[6]=t=>n.ValidateForm())},"Submit")])}const T=u(f,[["render",g],["__scopeId","data-v-a0e9ab50"]]);export{T as default};
